/*! For license information please see main.8d52983b.js.LICENSE.txt */
!function(){var t={821:function(e){self,e.exports=function(){var e={4593:function(e,t){var r,n,i,o,l,u=function(e){for(var t=[],r=0;r<e.length;++r){var n=e.charCodeAt(r);n<128?t.push(n):n<2048?(t.push(192|n>>6),t.push(128|63&n)):n<65536?(t.push(224|n>>12),t.push(128|63&n>>6),t.push(128|63&n)):(t.push(240|n>>18),t.push(128|63&n>>12),t.push(128|63&n>>6),t.push(128|63&n))}return t},c=function(e){for(var t=[],r=0;r<e.length;){var n=e[r++];n<128||(n<224?(n=(31&n)<<6,n|=63&e[r++]):n<240?(n=(15&n)<<12,n|=(63&e[r++])<<6,n|=63&e[r++]):(n=(7&n)<<18,n|=(63&e[r++])<<12,n|=(63&e[r++])<<6,n|=63&e[r++])),t.push(String.fromCharCode(n))}return t.join("")},d={};r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=function(e){for(var t=0,n=[],i=0|e.length/3;0<i--;){var o=(e[t]<<16)+(e[t+1]<<8)+e[t+2];t+=3,n.push(r.charAt(63&o>>18)),n.push(r.charAt(63&o>>12)),n.push(r.charAt(63&o>>6)),n.push(r.charAt(63&o))}return 2==e.length-t?(o=(e[t]<<16)+(e[t+1]<<8),n.push(r.charAt(63&o>>18)),n.push(r.charAt(63&o>>12)),n.push(r.charAt(63&o>>6)),n.push("=")):1==e.length-t&&(o=e[t]<<16,n.push(r.charAt(63&o>>18)),n.push(r.charAt(63&o>>12)),n.push("==")),n.join("")},i=function(){for(var e=[],t=0;t<r.length;++t)e[r.charCodeAt(t)]=t;return e["=".charCodeAt(0)]=0,e}(),o=function(e){for(var t=0,r=[],n=0|e.length/4;0<n--;){var o=(i[e.charCodeAt(t)]<<18)+(i[e.charCodeAt(t+1)]<<12)+(i[e.charCodeAt(t+2)]<<6)+i[e.charCodeAt(t+3)];r.push(255&o>>16),r.push(255&o>>8),r.push(255&o),t+=4}return r&&("="==e.charAt(t-2)?(r.pop(),r.pop()):"="==e.charAt(t-1)&&r.pop()),r},l={encode:function(e){for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t},decode:function(e){for(var t=0;t<s.length;++t)a[t]=String.fromCharCode(a[t]);return a.join("")}},d.decodeArray=function(e){var t=o(e);return new Uint8Array(t)},d.encodeASCII=function(e){var t=l.encode(e);return n(t)},d.decodeASCII=function(e){var t=o(e);return l.decode(t)},d.encode=function(e){var t=u(e);return n(t)},d.decode=function(e){var t=o(e);return c(t)},t.decode=d.decode,t.decodeArray=d.decodeArray,t.encode=d.encode,t.encodeASCII=d.encodeASCII},452:function(e,t){!function(e){"use strict";var t={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},r=function(e){var r=e;return t.hasOwnProperty(e)&&(r=t[e]),String.fromCharCode(r)},n=15,i=32,o={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},a={17:2,18:4,21:6,22:8,23:10,19:13,20:15},s={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},l={25:2,26:4,29:6,30:8,31:10,27:13,28:15},u=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],c={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(e){this.time=e},log:function(e,t){var r=this.verboseFilter[e];this.verboseLevel>=r&&console.log(this.time+" ["+e+"] "+t)}},d=function(e){for(var t=[],r=0;r<e.length;r++)t.push(e[r].toString(16));return t},f=function(e,t,r,n,i){this.foreground=e||"white",this.underline=t||!1,this.italics=r||!1,this.background=n||"black",this.flash=i||!1};f.prototype={reset:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},setStyles:function(e){for(var t=["foreground","underline","italics","background","flash"],r=0;r<t.length;r++){var n=t[r];e.hasOwnProperty(n)&&(this[n]=e[n])}},isDefault:function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},equals:function(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash},copy:function(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash},toString:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}};var h=function(e,t,r,n,i,o){this.uchar=e||" ",this.penState=new f(t,r,n,i,o)};h.prototype={reset:function(){this.uchar=" ",this.penState.reset()},setChar:function(e,t){this.uchar=e,this.penState.copy(t)},setPenState:function(e){this.penState.copy(e)},equals:function(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)},copy:function(e){this.uchar=e.uchar,this.penState.copy(e.penState)},isEmpty:function(){return" "===this.uchar&&this.penState.isDefault()}};var p=function(){this.chars=[];for(var e=0;e<i;e++)this.chars.push(new h);this.pos=0,this.currPenState=new f};p.prototype={equals:function(e){for(var t=!0,r=0;r<i;r++)if(!this.chars[r].equals(e.chars[r])){t=!1;break}return t},copy:function(e){for(var t=0;t<i;t++)this.chars[t].copy(e.chars[t])},isEmpty:function(){for(var e=!0,t=0;t<i;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e},setCursor:function(e){this.pos!==e&&(this.pos=e),this.pos<0?(c.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>i&&(c.log("ERROR","Too large cursor position "+this.pos),this.pos=i)},moveCursor:function(e){var t=this.pos+e;if(e>1)for(var r=this.pos+1;r<t+1;r++)this.chars[r].setPenState(this.currPenState);this.setCursor(t)},backSpace:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},insertChar:function(e){e>=144&&this.backSpace();var t=r(e);this.pos>=i?c.log("ERROR","Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(t,this.currPenState),this.moveCursor(1))},clearFromPos:function(e){var t;for(t=e;t<i;t++)this.chars[t].reset()},clear:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},clearToEndOfRow:function(){this.clearFromPos(this.pos)},getTextString:function(){for(var e=[],t=!0,r=0;r<i;r++){var n=this.chars[r].uchar;" "!==n&&(t=!1),e.push(n)}return t?"":e.join("")},setPenStyles:function(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)}};var m=function(){this.rows=[];for(var e=0;e<n;e++)this.rows.push(new p);this.currRow=14,this.nrRollUpRows=null,this.reset()};m.prototype={reset:function(){for(var e=0;e<n;e++)this.rows[e].clear();this.currRow=14},equals:function(e){for(var t=!0,r=0;r<n;r++)if(!this.rows[r].equals(e.rows[r])){t=!1;break}return t},copy:function(e){for(var t=0;t<n;t++)this.rows[t].copy(e.rows[t])},isEmpty:function(){for(var e=!0,t=0;t<n;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e},backSpace:function(){this.rows[this.currRow].backSpace()},clearToEndOfRow:function(){this.rows[this.currRow].clearToEndOfRow()},insertChar:function(e){this.rows[this.currRow].insertChar(e)},setPen:function(e){this.rows[this.currRow].setPenStyles(e)},moveCursor:function(e){this.rows[this.currRow].moveCursor(e)},setCursor:function(e){c.log("INFO","setCursor: "+e),this.rows[this.currRow].setCursor(e)},setPAC:function(e){c.log("INFO","pacData = "+JSON.stringify(e));var t=e.row-1;this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.currRow=t;var r=this.rows[this.currRow];if(null!==e.indent){var n=e.indent,i=Math.max(n-1,0);r.setCursor(e.indent),e.color=r.chars[i].penState.foreground}var o={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(o)},setBkgData:function(e){c.log("INFO","bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)},setRollUpRows:function(e){this.nrRollUpRows=e},rollUp:function(){if(null!==this.nrRollUpRows){c.log("TEXT",this.getDisplayText());var e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),c.log("INFO","Rolling up")}else c.log("DEBUG","roll_up but nrRollUpRows not set yet")},getDisplayText:function(e){e=e||!1;for(var t=[],r="",i=-1,o=0;o<n;o++){var a=this.rows[o].getTextString();a&&(i=o+1,e?t.push("Row "+i+': "'+a+'"'):t.push(a.trim()))}return t.length>0&&(r=e?"["+t.join(" | ")+"]":t.join("\n")),r},getTextAndFormat:function(){return this.rows}};var g=function(e,t){this.chNr=e,this.outputFilter=t,this.mode=null,this.verbose=0,this.displayedMemory=new m,this.nonDisplayedMemory=new m,this.lastOutputScreen=new m,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null};g.prototype={modes:["MODE_ROLL-UP","MODE_POP-ON","MODE_PAINT-ON","MODE_TEXT"],reset:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},getHandler:function(){return this.outputFilter},setHandler:function(e){this.outputFilter=e},setPAC:function(e){this.writeScreen.setPAC(e)},setBkgData:function(e){this.writeScreen.setBkgData(e)},setMode:function(e){e!==this.mode&&(this.mode=e,c.log("INFO","MODE="+e),"MODE_POP-ON"==this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)},insertChars:function(e){for(var t=0;t<e.length;t++)this.writeScreen.insertChar(e[t]);var r=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";c.log("INFO",r+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(c.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},cc_RCL:function(){c.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},cc_BS:function(){c.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},cc_AOF:function(){},cc_AON:function(){},cc_DER:function(){c.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},cc_RU:function(e){c.log("INFO","RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)},cc_FON:function(){c.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},cc_RDC:function(){c.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},cc_TR:function(){c.log("INFO","TR"),this.setMode("MODE_TEXT")},cc_RTD:function(){c.log("INFO","RTD"),this.setMode("MODE_TEXT")},cc_EDM:function(){c.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()},cc_CR:function(){c.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()},cc_ENM:function(){c.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},cc_EOC:function(){if(c.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,c.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()},cc_TO:function(e){c.log("INFO","TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)},cc_MIDROW:function(e){var t={flash:!1};if(t.underline=e%2==1,t.italics=e>=46,t.italics)t.foreground="white";else{var r=Math.floor(e/2)-16;t.foreground=["white","green","blue","cyan","red","yellow","magenta"][r]}c.log("INFO","MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)},outputDataUpdate:function(){var e=c.time;null!==e&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(e,this.displayedMemory),null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))},cueSplitAtTime:function(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}};var y=function(e,t,r){this.field=e||1,this.outputs=[t,r],this.channels=[new g(1,t),new g(2,r)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}};y.prototype={getHandler:function(e){return this.channels[e].getHandler()},setHandler:function(e,t){this.channels[e].setHandler(t)},addData:function(e,t){var r,n,i,o=!1;this.lastTime=e,c.setTime(e);for(var a=0;a<t.length;a+=2)n=127&t[a],i=127&t[a+1],n>=16&&n<=31&&n===this.lastCmdA&&i===this.lastCmdB?(this.lastCmdA=null,this.lastCmdB=null,c.log("DEBUG","Repeated command ("+d([n,i])+") is dropped")):0!==n||0!==i?(c.log("DATA","["+d([t[a],t[a+1]])+"] -> ("+d([n,i])+")"),(r=this.parseCmd(n,i))||(r=this.parseMidrow(n,i)),r||(r=this.parsePAC(n,i)),r||(r=this.parseBackgroundAttributes(n,i)),r||(o=this.parseChars(n,i))&&(this.currChNr&&this.currChNr>=0?this.channels[this.currChNr-1].insertChars(o):c.log("WARNING","No channel found yet. TEXT-MODE?")),r?this.dataCounters.cmd+=2:o?this.dataCounters.char+=2:(this.dataCounters.other+=2,c.log("WARNING","Couldn't parse cleaned data "+d([n,i])+" orig: "+d([t[a],t[a+1]])))):this.dataCounters.padding+=2},parseCmd:function(e,t){var r;if(!((20===e||21===e||28===e||29===e)&&32<=t&&t<=47||(23===e||31===e)&&33<=t&&t<=35))return!1;r=20===e||21===e||23===e?1:2;var n=this.channels[r-1];return 20===e||21===e||28===e||29===e?32===t?n.cc_RCL():33===t?n.cc_BS():34===t?n.cc_AOF():35===t?n.cc_AON():36===t?n.cc_DER():37===t?n.cc_RU(2):38===t?n.cc_RU(3):39===t?n.cc_RU(4):40===t?n.cc_FON():41===t?n.cc_RDC():42===t?n.cc_TR():43===t?n.cc_RTD():44===t?n.cc_EDM():45===t?n.cc_CR():46===t?n.cc_ENM():47===t&&n.cc_EOC():n.cc_TO(t-32),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=r,!0},parseMidrow:function(e,t){var r=null;if((17===e||25===e)&&32<=t&&t<=47){if((r=17===e?1:2)!==this.currChNr)return c.log("ERROR","Mismatch channel in midrow parsing"),!1;var n=this.channels[r-1];return n.insertChars([32]),n.cc_MIDROW(t),c.log("DEBUG","MIDROW ("+d([e,t])+")"),this.lastCmdA=e,this.lastCmdB=t,!0}return!1},parsePAC:function(e,t){var r,n;if(!((17<=e&&e<=23||25<=e&&e<=31)&&64<=t&&t<=127||(16===e||24===e)&&64<=t&&t<=95))return!1;r=e<=23?1:2,n=64<=t&&t<=95?1===r?o[e]:s[e]:1===r?a[e]:l[e];var i=this.interpretPAC(n,t);return this.channels[r-1].setPAC(i),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=r,!0},interpretPAC:function(e,t){var r,n={color:null,italics:!1,indent:null,underline:!1,row:e};return r=t>95?t-96:t-64,n.underline=1==(1&r),r<=13?n.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(r/2)]:r<=15?(n.italics=!0,n.color="white"):n.indent=4*Math.floor((r-16)/2),n},parseChars:function(e,t){var n,i=null,o=null,a=null;if(e>=25?(i=2,a=e-8):(i=1,a=e),17<=a&&a<=19?(n=17===a?t+80:18===a?t+112:t+144,c.log("INFO","Special char '"+r(n)+"' in channel "+i),o=[n],this.lastCmdA=e,this.lastCmdB=t):32<=e&&e<=127&&(o=0===t?[e]:[e,t],this.lastCmdA=null,this.lastCmdB=null),o){var s=d(o);c.log("DEBUG","Char codes =  "+s.join(","))}return o},parseBackgroundAttributes:function(e,t){var r,n,i;return((16===e||24===e)&&32<=t&&t<=47||(23===e||31===e)&&45<=t&&t<=47)&&(r={},16===e||24===e?(n=Math.floor((t-32)/2),r.background=u[n],t%2==1&&(r.background=r.background+"_semi")):45===t?r.background="transparent":(r.foreground="black",47===t&&(r.underline=!0)),i=e<24?1:2,this.channels[i-1].setBkgData(r),this.lastCmdA=e,this.lastCmdB=t,!0)},reset:function(){for(var e=0;e<this.channels.length;e++)this.channels[e]&&this.channels[e].reset();this.lastCmdA=null,this.lastCmdB=null},cueSplitAtTime:function(e){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].cueSplitAtTime(e)}},e.logger=c,e.PenState=f,e.CaptionScreen=m,e.Cea608Parser=y,e.findCea608Nalus=function(e,t,r){for(var n=0,i=t,o=[],a=function(e,t,r,n){if(4!==e||t<8)return null;var i=r.getUint8(n),o=r.getUint16(n+1),a=r.getUint32(n+3),s=r.getUint8(n+7);return 181==i&&49==o&&1195456820==a&&3==s};i<t+r;){if(n=e.getUint32(i),6==(31&e.getUint8(i+4)))for(var s=i+5,l=-1;s<i+4+n-1;){l=0;for(var u=255;255===u;)l+=u=e.getUint8(s),s++;var c=0;for(u=255;255===u;)c+=u=e.getUint8(s),s++;a(l,c,e,s)&&o.push([s,c]),s+=c}i+=n+4}return o},e.extractCea608DataFromRange=function(e,t){var r=t[0],n=[[],[]];r+=8;var i=31&e.getUint8(r);r+=2;for(var o=0;o<i;o++){var a=e.getUint8(r),s=4&a,l=3&a;r++;var u=e.getUint8(r);r++;var c=e.getUint8(r);r++,s&&(127&u)+(127&c)!=0&&(0===l?(n[0].push(u),n[0].push(c)):1===l&&(n[1].push(u),n[1].push(c)))}return n}}(t)},8416:function(e,t,r){"use strict";var n=r(7688),i=r(5448),o=r(6398),a=r(2032),s=(r(5530),"undefined"!=typeof window&&window||r.g),l=s.dashjs;l||(l=s.dashjs={}),l.MediaPlayer=n.Z,l.FactoryMaker=i.Z,l.Debug=o.Z,l.Version=(0,a.e)()},6398:function(e,t,r){"use strict";var n=r(5595),i=r(8512),o=r(5448),a=1,s=2,l=3,u=4,c=5;function d(e){e=e||{};var t,r,o,d,f=this.context,h=(0,n.Z)(f).getInstance(),p=e.settings,m=[];function g(e){return e&&e.bind?e.bind(window.console):window.console.log.bind(window.console)}function y(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];E.apply(void 0,[a,this].concat(t))}function v(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];E.apply(void 0,[s,this].concat(t))}function b(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];E.apply(void 0,[l,this].concat(t))}function _(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];E.apply(void 0,[u,this].concat(t))}function w(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];E.apply(void 0,[c,this].concat(t))}function E(e,t){var n="",a=null;r&&(a=(new Date).getTime(),n+="["+(a-d)+"]"),o&&t&&t.getClassName&&(n+="["+t.getClassName()+"]",t.getType&&(n+="["+t.getType()+"]")),n.length>0&&(n+=" ");for(var s=arguments.length,l=new Array(s>2?s-2:0),u=2;u<s;u++)l[u-2]=arguments[u];Array.apply(null,l).forEach((function(e){n+=e+" "})),m[e]&&p&&p.get().debug.logLevel>=e&&m[e](n),p&&p.get().debug.dispatchEvent&&h.trigger(i.Z.LOG,{message:n,level:e})}return t={getLogger:function(e){return{fatal:y.bind(e),error:v.bind(e),warn:b.bind(e),info:_.bind(e),debug:w.bind(e)}},setLogTimestampVisible:function(e){r=e},setCalleeNameVisible:function(e){o=e}},r=!0,o=!0,d=(new Date).getTime(),"undefined"!=typeof window&&window.console&&(m[a]=g(window.console.error),m[s]=g(window.console.error),m[l]=g(window.console.warn),m[u]=g(window.console.info),m[c]=g(window.console.debug)),t}d.__dashjs_factory_name="Debug";var f=o.Z.getSingletonFactory(d);f.LOG_LEVEL_NONE=0,f.LOG_LEVEL_FATAL=a,f.LOG_LEVEL_ERROR=s,f.LOG_LEVEL_WARNING=l,f.LOG_LEVEL_INFO=u,f.LOG_LEVEL_DEBUG=c,o.Z.updateSingletonFactory(d.__dashjs_factory_name,f),t.Z=f},5595:function(e,t,r){"use strict";var n=r(5448),i=r(8825);function o(){var e={};function t(t,r,n){var i=-1;return e[t]?(e[t].some((function(e,t){if(e&&e.callback===r&&(!n||n===e.scope))return i=t,!0})),i):i}var r={on:function(r,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!r)throw new Error("event type cannot be null or undefined");if(!n||"function"!=typeof n)throw new Error("listener must be a function: "+n);var a=o.priority||0;if(!(t(r,n,i)>=0)){e[r]=e[r]||[];var s={callback:n,scope:i,priority:a};i&&i.getStreamId&&(s.streamId=i.getStreamId()),i&&i.getType&&(s.mediaType=i.getType()),o&&o.mode&&(s.mode=o.mode);var l=e[r].some((function(t,n){if(t&&a>t.priority)return e[r].splice(n,0,s),!0}));l||e[r].push(s)}},off:function(r,n,i){if(r&&n&&e[r]){var o=t(r,n,i);o<0||(e[r][o]=null)}},trigger:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t&&e[t]){if((r=r||{}).hasOwnProperty("type"))throw new Error("'type' is a reserved word for event dispatching");r.type=t,n.streamId&&(r.streamId=n.streamId),n.mediaType&&(r.mediaType=n.mediaType),e[t].filter((function(e){return!(!e||n.streamId&&e.streamId&&e.streamId!==n.streamId||n.mediaType&&e.mediaType&&e.mediaType!==n.mediaType||n.mode&&e.mode&&e.mode!==n.mode||!e.mode&&n.mode&&n.mode===i.Z.EVENT_MODE_ON_RECEIVE)})).forEach((function(e){return e&&e.callback.call(e.scope,r)}))}},reset:function(){e={}}};return r}o.__dashjs_factory_name="EventBus";var a=n.Z.getSingletonFactory(o);a.EVENT_PRIORITY_LOW=0,a.EVENT_PRIORITY_HIGH=5e3,n.Z.updateSingletonFactory(o.__dashjs_factory_name,a),t.Z=a},5448:function(e,t){"use strict";var r=function(){var e,t=[],r={},n={};function i(e,r){for(var n in t){var i=t[n];if(i.context===e&&i.name===r)return i.instance}return null}function o(e,t){return t[e]}function a(e,t,r){e in r&&(r[e]=t)}function s(t,r,n){var i,o=t.__dashjs_factory_name,a=r[o];if(a){var s=a.instance;if(!a.override)return s.apply({context:r,factory:e},n);for(var l in i=t.apply({context:r},n),s=s.apply({context:r,factory:e,parent:i},n))i.hasOwnProperty(l)&&(i[l]=s[l])}else i=t.apply({context:r},n);return i.getClassName=function(){return o},i}return e={extend:function(e,t,r,n){!n[e]&&t&&(n[e]={instance:t,override:r})},getSingletonInstance:i,setSingletonInstance:function(e,r,n){for(var i in t){var o=t[i];if(o.context===e&&o.name===r)return void(t[i].instance=n)}t.push({name:r,context:e,instance:n})},deleteSingletonInstances:function(e){t=t.filter((function(t){return t.context!==e}))},getSingletonFactory:function(e){var n=o(e.__dashjs_factory_name,r);return n||(n=function(r){var n;return void 0===r&&(r={}),{getInstance:function(){return n||(n=i(r,e.__dashjs_factory_name)),n||(n=s(e,r,arguments),t.push({name:e.__dashjs_factory_name,context:r,instance:n})),n}}},r[e.__dashjs_factory_name]=n),n},getSingletonFactoryByName:function(e){return o(e,r)},updateSingletonFactory:function(e,t){a(e,t,r)},getClassFactory:function(e){var t=o(e.__dashjs_factory_name,n);return t||(t=function(t){return void 0===t&&(t={}),{create:function(){return s(e,t,arguments)}}},n[e.__dashjs_factory_name]=t),t},getClassFactoryByName:function(e){return o(e,n)},updateClassFactory:function(e,t){a(e,t,n)}},e}();t.Z=r},1264:function(e,t,r){"use strict";var n=r(5448),i=r(703),o=r(6398),a=r(3393),s=r(7855),l=r(5595),u=r(8512);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(){var e,t,r=this.context,n=(0,l.Z)(r).getInstance(),f={"streaming.delay.liveDelay":u.Z.SETTING_UPDATED_LIVE_DELAY,"streaming.delay.liveDelayFragmentCount":u.Z.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,"streaming.liveCatchup.enabled":u.Z.SETTING_UPDATED_CATCHUP_ENABLED,"streaming.liveCatchup.playbackRate.min":u.Z.SETTING_UPDATED_PLAYBACK_RATE_MIN,"streaming.liveCatchup.playbackRate.max":u.Z.SETTING_UPDATED_PLAYBACK_RATE_MAX},h={debug:{logLevel:o.Z.LOG_LEVEL_WARNING,dispatchEvent:!1},streaming:{abandonLoadTimeout:1e4,wallclockTimeUpdateInterval:100,manifestUpdateRetryInterval:100,cacheInitSegments:!1,applyServiceDescription:!0,applyProducerReferenceTime:!0,applyContentSteering:!0,eventControllerRefreshDelay:100,enableManifestDurationMismatchFix:!0,parseInbandPrft:!1,enableManifestTimescaleMismatchFix:!1,capabilities:{filterUnsupportedEssentialProperties:!0,useMediaCapabilitiesApi:!1},timeShiftBuffer:{calcFromSegmentTimeline:!1,fallbackToSegmentTimeline:!0},metrics:{maxListDepth:100},delay:{liveDelayFragmentCount:NaN,liveDelay:NaN,useSuggestedPresentationDelay:!0},protection:{keepProtectionMediaKeys:!1,ignoreEmeEncryptedEvent:!1,detectPlayreadyMessageFormat:!0},buffer:{enableSeekDecorrelationFix:!1,fastSwitchEnabled:!0,flushBufferAtTrackSwitch:!1,reuseExistingSourceBuffers:!0,bufferPruningInterval:10,bufferToKeep:20,bufferTimeAtTopQuality:30,bufferTimeAtTopQualityLongForm:60,initialBufferLevel:NaN,stableBufferTime:12,longFormContentDurationThreshold:600,stallThreshold:.3,useAppendWindow:!0,setStallState:!0,avoidCurrentTimeRangePruning:!1,useChangeTypeForTrackSwitch:!0,mediaSourceDurationInfinity:!0,resetSourceBuffersForTrackSwitch:!1},gaps:{jumpGaps:!0,jumpLargeGaps:!0,smallGapLimit:1.5,threshold:.3,enableSeekFix:!0,enableStallFix:!1,stallSeek:.1},utcSynchronization:{enabled:!0,useManifestDateHeaderTimeSource:!0,backgroundAttempts:2,timeBetweenSyncAttempts:30,maximumTimeBetweenSyncAttempts:600,minimumTimeBetweenSyncAttempts:2,timeBetweenSyncAttemptsAdjustmentFactor:2,maximumAllowedDrift:100,enableBackgroundSyncAfterSegmentDownloadError:!0,defaultTimingSource:{scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"https://time.akamai.com/?iso&ms"}},scheduling:{defaultTimeout:500,lowLatencyTimeout:0,scheduleWhilePaused:!0},text:{defaultEnabled:!0,extendSegmentedCues:!0,webvtt:{customRenderingEnabled:!1}},liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN},playbackBufferMin:.5,enabled:null,mode:a.Z.LIVE_CATCHUP_MODE_DEFAULT},lastBitrateCachingInfo:{enabled:!0,ttl:36e4},lastMediaSettingsCachingInfo:{enabled:!0,ttl:36e4},saveLastMediaSettingsForCurrentStreamingSession:!0,cacheLoadThresholds:{video:50,audio:5},trackSwitchMode:{audio:a.Z.TRACK_SWITCH_MODE_ALWAYS_REPLACE,video:a.Z.TRACK_SWITCH_MODE_NEVER_REPLACE},selectionModeForInitialTrack:a.Z.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY,fragmentRequestTimeout:2e4,fragmentRequestProgressTimeout:-1,manifestRequestTimeout:1e4,retryIntervals:(e={},d(e,s.w.MPD_TYPE,500),d(e,s.w.XLINK_EXPANSION_TYPE,500),d(e,s.w.MEDIA_SEGMENT_TYPE,1e3),d(e,s.w.INIT_SEGMENT_TYPE,1e3),d(e,s.w.BITSTREAM_SWITCHING_SEGMENT_TYPE,1e3),d(e,s.w.INDEX_SEGMENT_TYPE,1e3),d(e,s.w.MSS_FRAGMENT_INFO_SEGMENT_TYPE,1e3),d(e,s.w.LICENSE,1e3),d(e,s.w.OTHER_TYPE,1e3),d(e,"lowLatencyReductionFactor",10),e),retryAttempts:(t={},d(t,s.w.MPD_TYPE,3),d(t,s.w.XLINK_EXPANSION_TYPE,1),d(t,s.w.MEDIA_SEGMENT_TYPE,3),d(t,s.w.INIT_SEGMENT_TYPE,3),d(t,s.w.BITSTREAM_SWITCHING_SEGMENT_TYPE,3),d(t,s.w.INDEX_SEGMENT_TYPE,3),d(t,s.w.MSS_FRAGMENT_INFO_SEGMENT_TYPE,3),d(t,s.w.LICENSE,3),d(t,s.w.OTHER_TYPE,3),d(t,"lowLatencyMultiplyFactor",5),t),abr:{movingAverageMethod:a.Z.MOVING_AVERAGE_SLIDING_WINDOW,ABRStrategy:a.Z.ABR_STRATEGY_DYNAMIC,additionalAbrRules:{insufficientBufferRule:!0,switchHistoryRule:!0,droppedFramesRule:!0,abandonRequestsRule:!0},abrRulesParameters:{abandonRequestsRule:{graceTimeThreshold:500,abandonMultiplier:1.8,minLengthToAverage:5}},bandwidthSafetyFactor:.9,useDefaultABRRules:!0,useDeadTimeLatency:!0,limitBitrateByPortal:!1,usePixelRatioInLimitBitrateByPortal:!1,maxBitrate:{audio:-1,video:-1},minBitrate:{audio:-1,video:-1},maxRepresentationRatio:{audio:1,video:1},initialBitrate:{audio:-1,video:-1},initialRepresentationRatio:{audio:-1,video:-1},autoSwitchBitrate:{audio:!0,video:!0},fetchThroughputCalculationMode:a.Z.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING},cmcd:{enabled:!1,sid:null,cid:null,rtp:null,rtpSafetyFactor:5,mode:a.Z.CMCD_MODE_QUERY,enabledKeys:["br","d","ot","tb","bl","dl","mtp","nor","nrr","su","bs","rtp","cid","pr","sf","sid","st","v"]},cmsd:{enabled:!1,abr:{applyMb:!1,etpWeightRatio:0}}},errors:{recoverAttempts:{mediaErrorDecode:5}}},p=i.Z.clone(h);function m(e,t,r){for(var o in e)e.hasOwnProperty(o)&&(t.hasOwnProperty(o)?"object"!==c(e[o])||e[o]instanceof Array||null===e[o]?(t[o]=i.Z.clone(e[o]),f[r+o]&&n.trigger(f[r+o])):m(e[o],t[o],r.slice()+o+"."):console.error("Settings parameter "+r+o+" is not supported"))}return{get:function(){return p},update:function(e){"object"===c(e)&&m(e,p,"")},reset:function(){p=i.Z.clone(h)}}}f.__dashjs_factory_name="Settings";var h=n.Z.getSingletonFactory(f);t.Z=h},703:function(e,t,r){"use strict";var n=r(3875),i=r.n(n),o=r(1067);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t;return t=[{key:"mixin",value:function(t,r,n){var i,o={};if(t)for(var s in r)r.hasOwnProperty(s)&&(i=r[s],s in t&&(t[s]===i||s in o&&o[s]===i)||("object"===a(t[s])&&null!==t[s]?t[s]=e.mixin(t[s],i,n):t[s]=n(i)));return t}},{key:"clone",value:function(t){if(!t||"object"!==a(t))return t;var r;if(t instanceof Array){r=[];for(var n=0,i=t.length;n<i;++n)n in t&&r.push(e.clone(t[n]))}else r={};return e.mixin(r,t,e.clone)}},{key:"addAditionalQueryParameterToUrl",value:function(e,t){try{if(!t||0===t.length)return e;var r=new URL(e);return t.forEach((function(e){e.key&&e.value&&r.searchParams.set(e.key,e.value)})),r.href}catch(t){return e}}},{key:"parseHttpHeaders",value:function(e){var t={};if(!e)return t;for(var r=e.trim().split("\r\n"),n=0,i=r.length;n<i;n++){var o=r[n],a=o.indexOf(": ");a>0&&(t[o.substring(0,a)]=o.substring(a+2))}return t}},{key:"generateUuid",value:function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var r=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?r:3&r|8).toString(16)}))}},{key:"generateHashCode",value:function(e){var t=0;if(0===e.length)return t;for(var r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return t}},{key:"getRelativeUrl",value:function(e,t){try{var r=new URL(e),n=new URL(t);if(r.protocol=n.protocol,r.origin!==n.origin)return t;var o=i().relative(r.pathname.substr(0,r.pathname.lastIndexOf("/")),n.pathname.substr(0,n.pathname.lastIndexOf("/"))),a=0===o.length?1:0;return o+=n.pathname.substr(n.pathname.lastIndexOf("/")+a,n.pathname.length-1),n.pathname.length<o.length?n.pathname:o}catch(e){return t}}},{key:"parseUserAgent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var t=null===e&&"undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"";return(0,o.UAParser)(t)}catch(e){return{}}}},{key:"stringHasProtocol",value:function(e){return/(http(s?)):\/\//i.test(e)}}],t&&s(e,t),e}();t.Z=l},2032:function(e,t,r){"use strict";function n(){return"4.7.3"}r.d(t,{e:function(){return n}})},2230:function(e,t){"use strict";function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t;return(t=[{key:"extend",value:function(e,t){if(e){var r=!!t&&t.override,n=!!t&&t.publicOnly;for(var i in e)!e.hasOwnProperty(i)||this[i]&&!r||n&&-1===e[i].indexOf("public_")||(this[i]=e[i])}}}])&&r(e.prototype,t),e}();t.Z=n},4351:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function o(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}var s=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(s,e);var t,r,n=(t=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=a(t);if(r){var i=a(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return o(this,e)});function s(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(e=n.call(this)).ATTEMPT_BACKGROUND_SYNC="attemptBackgroundSync",e.BUFFERING_COMPLETED="bufferingCompleted",e.BUFFER_CLEARED="bufferCleared",e.BYTES_APPENDED_END_FRAGMENT="bytesAppendedEndFragment",e.BUFFER_REPLACEMENT_STARTED="bufferReplacementStarted",e.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted",e.CMSD_STATIC_HEADER="cmsdStaticHeader",e.CURRENT_TRACK_CHANGED="currentTrackChanged",e.DATA_UPDATE_COMPLETED="dataUpdateCompleted",e.INBAND_EVENTS="inbandEvents",e.INITIAL_STREAM_SWITCH="initialStreamSwitch",e.INIT_FRAGMENT_LOADED="initFragmentLoaded",e.INIT_FRAGMENT_NEEDED="initFragmentNeeded",e.INTERNAL_MANIFEST_LOADED="internalManifestLoaded",e.ORIGINAL_MANIFEST_LOADED="originalManifestLoaded",e.LOADING_COMPLETED="loadingCompleted",e.LOADING_PROGRESS="loadingProgress",e.LOADING_DATA_PROGRESS="loadingDataProgress",e.LOADING_ABANDONED="loadingAborted",e.MANIFEST_UPDATED="manifestUpdated",e.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded",e.MEDIA_FRAGMENT_NEEDED="mediaFragmentNeeded",e.QUOTA_EXCEEDED="quotaExceeded",e.SEGMENT_LOCATION_BLACKLIST_ADD="segmentLocationBlacklistAdd",e.SEGMENT_LOCATION_BLACKLIST_CHANGED="segmentLocationBlacklistChanged",e.SERVICE_LOCATION_BASE_URL_BLACKLIST_ADD="serviceLocationBlacklistAdd",e.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED="serviceLocationBlacklistChanged",e.SERVICE_LOCATION_LOCATION_BLACKLIST_ADD="serviceLocationLocationBlacklistAdd",e.SERVICE_LOCATION_LOCATION_BLACKLIST_CHANGED="serviceLocationLocationBlacklistChanged",e.SET_FRAGMENTED_TEXT_AFTER_DISABLED="setFragmentedTextAfterDisabled",e.SET_NON_FRAGMENTED_TEXT="setNonFragmentedText",e.SOURCE_BUFFER_ERROR="sourceBufferError",e.STREAMS_COMPOSED="streamsComposed",e.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted",e.STREAM_REQUESTING_COMPLETED="streamRequestingCompleted",e.TEXT_TRACKS_QUEUE_INITIALIZED="textTracksQueueInitialized",e.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete",e.UPDATE_TIME_SYNC_OFFSET="updateTimeSyncOffset",e.URL_RESOLUTION_FAILED="urlResolutionFailed",e.VIDEO_CHUNK_RECEIVED="videoChunkReceived",e.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated",e.XLINK_ELEMENT_LOADED="xlinkElementLoaded",e.XLINK_READY="xlinkReady",e.SEEK_TARGET="seekTarget",e.SETTING_UPDATED_LIVE_DELAY="settingUpdatedLiveDelay",e.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT="settingUpdatedLiveDelayFragmentCount",e.SETTING_UPDATED_CATCHUP_ENABLED="settingUpdatedCatchupEnabled",e.SETTING_UPDATED_PLAYBACK_RATE_MIN="settingUpdatedPlaybackRateMin",e.SETTING_UPDATED_PLAYBACK_RATE_MAX="settingUpdatedPlaybackRateMax",e}return s}(r(8342).Z);t.Z=s},8512:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}function a(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}var l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(l,e);var t,r,n=(t=l,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=s(t);if(r){var i=s(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return a(this,e)});function l(){return i(this,l),n.apply(this,arguments)}return l}(r(4351).Z),u=new l;t.Z=u},8342:function(e,t){"use strict";function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t;return(t=[{key:"extend",value:function(e,t){if(e){var r=!!t&&t.override,n=!!t&&t.publicOnly;for(var i in e)!e.hasOwnProperty(i)||this[i]&&!r||n&&-1===e[i].indexOf("public_")||(this[i]=e[i])}}}])&&r(e.prototype,t),e}();t.Z=n},9326:function(e,t,r){"use strict";var n=r(3186),i=r(7855),o=r(5448),a=r(8825),s=r(7387),l=r(1553);function u(e){var t,r,o,u,c,d=(e=e||{}).eventBus,f=e.debug,h=e.urlUtils,p=e.type,m=e.streamInfo,g=e.segmentsController,y=e.timelineConverter,v=e.baseURLController;function b(){return p}function _(){o=null}function w(e,t,r){var n,i,o=v.resolve(r.path),a={};return o&&t!==o.url&&h.isRelative(t)?(n=o.url,i=o.serviceLocation,a=o.queryParams,t&&(n=h.resolve(t,n))):n=t,!h.isRelative(n)&&(e.url=n,e.serviceLocation=i,e.queryParams=a,!0)}function E(e,t){if(null==t)return null;var r=new n.Z,o=t.representation,a=o.adaptation.period.mpd.manifest.Period_asArray[o.adaptation.period.index].AdaptationSet_asArray[o.adaptation.index].Representation_asArray[o.index].bandwidth,l=t.media;return l=(0,s.vi)(l,"Number",t.replacementNumber),l=(0,s.vi)(l,"Time",t.replacementTime),l=(0,s.vi)(l,"Bandwidth",a),l=(0,s.Aj)(l,o.id),l=(0,s.eR)(l),r.mediaType=b(),r.type=i.w.MEDIA_SEGMENT_TYPE,r.range=t.mediaRange,r.startTime=t.presentationStartTime,r.mediaStartTime=t.mediaStartTime,r.duration=t.duration,r.timescale=o.timescale,r.availabilityStartTime=t.availabilityStartTime,r.availabilityEndTime=t.availabilityEndTime,r.availabilityTimeComplete=o.availabilityTimeComplete,r.wallStartTime=t.wallStartTime,r.quality=o.index,r.index=t.index,r.mediaInfo=e,r.adaptationIndex=o.adaptation.index,r.representationId=o.id,w(r,l,o)?r:void 0}function x(e,t,n){var i=null;if(!t||!t.segmentInfoType)return i;var a=g.getSegmentByTime(t,n);return a&&(o=a,r.debug("Index for time "+n+" is "+a.index),i=E(e,a)),i}function S(e,t,n){var i=null,a=g.getSegmentByIndex(t,n,o?o.mediaStartTime:-1);if(a)i=E(e,a),o=a;else{if(u&&!c)return r.debug(b()+" No segment found at index: "+n+". Wait for next loop"),null;c=!0}return i}function T(){r.debug("Dynamic stream complete"),c=!0}return t={getCurrentIndex:function(){return o?o.index:-1},getInitRequest:function(e,t){return t?function(e,t,r){var o=new n.Z,a=t.adaptation.period,l=a.start;if(o.mediaType=r,o.type=i.w.INIT_SEGMENT_TYPE,o.range=t.range,o.availabilityStartTime=y.calcAvailabilityStartTimeFromPresentationTime(l,t,u),o.availabilityEndTime=y.calcAvailabilityEndTimeFromPresentationTime(l+a.duration,t,u),o.quality=t.index,o.mediaInfo=e,o.representationId=t.id,w(o,t.initialization,t))return o.url=(0,s.vi)(o.url,"Bandwidth",t.bandwidth),o}(e,t,b()):null},getNextSegmentRequest:function(e,t){return t&&t.segmentInfoType?S(e,t,o?o.index+1:0):null},getNextSegmentRequestIdempotent:function(e,t){var r=o?o.index+1:0,n=g.getSegmentByIndex(t,r,o?o.mediaStartTime:-1);return n?E(e,n):null},getSegmentRequestForTime:x,getStreamId:function(){return m.id},getStreamInfo:function(){return m},getType:b,getValidTimeAheadOfTargetTime:function(e,t,r,n){try{if(isNaN(e)||!t||!r)return NaN;if(e<0&&(e=0),isNaN(n)&&(n=.5),x(t,r,e))return e;if(r.adaptation.period.start+r.adaptation.period.duration<e)return NaN;for(var i=isFinite(r.adaptation.period.duration)?r.adaptation.period.start+r.adaptation.period.duration:e+30,o=Math.min(e+n,i),a=NaN,s=null;o<=i;){var l=null;if(o<=i&&(l=x(t,r,o)),l){a=o,s=l;break}o+=n}if(s){var u=s.startTime+s.duration;return e>s.startTime&&u-e>n?e:!isNaN(s.startTime)&&e<s.startTime&&a>s.startTime?s.startTime+.001:Math.min(u-n,a)}return a}catch(e){return NaN}},initialize:function(e){u=e,c=!1,g.initialize(e)},isLastSegmentRequested:function(e,t){if(!e||!o)return!1;if(c)return!0;if(!isFinite(e.adaptation.period.duration))return!1;if(o.presentationStartTime+o.duration>t)return!1;if(e.mediaFinishedInformation&&!isNaN(e.mediaFinishedInformation.numberOfSegments)&&!isNaN(o.index)&&o.index>=e.mediaFinishedInformation.numberOfSegments-1){if(!u||e.segmentInfoType===l.Z.SEGMENT_TEMPLATE)return!0;if(u&&e.segmentInfoType===l.Z.SEGMENT_LIST&&e.adaptation.period.nextPeriodId)return!0}return!!(u&&e.adaptation.period.nextPeriodId&&e.segmentInfoType===l.Z.SEGMENT_TIMELINE&&e.mediaFinishedInformation&&!isNaN(e.mediaFinishedInformation.mediaTimeOfLastSignaledSegment)&&o&&!isNaN(o.mediaStartTime)&&!isNaN(o.duration)&&o.mediaStartTime+o.duration>=e.mediaFinishedInformation.mediaTimeOfLastSignaledSegment-.05)},repeatSegmentRequest:function(e,t){return t&&t.segmentInfoType?S(e,t,o?o.index:0):null},reset:function(){_(),d.off(a.Z.DYNAMIC_TO_STATIC,T,t)}},r=f.getLogger(t),_(),d.on(a.Z.DYNAMIC_TO_STATIC,T,t),t}u.__dashjs_factory_name="DashHandler",t.Z=o.Z.getClassFactory(u)},1553:function(e,t){"use strict";function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var n=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.init()}var t;return(t=[{key:"init",value:function(){this.BASE_URL="BaseURL",this.SEGMENT_BASE="SegmentBase",this.SEGMENT_TEMPLATE="SegmentTemplate",this.SEGMENT_LIST="SegmentList",this.SEGMENT_URL="SegmentURL",this.SEGMENT_TIMELINE="SegmentTimeline",this.SEGMENT_PROFILES="segmentProfiles",this.ADAPTATION_SET="AdaptationSet",this.REPRESENTATION="Representation",this.REPRESENTATION_INDEX="RepresentationIndex",this.SUB_REPRESENTATION="SubRepresentation",this.INITIALIZATION="Initialization",this.INITIALIZATION_MINUS="initialization",this.MPD="MPD",this.PERIOD="Period",this.ASSET_IDENTIFIER="AssetIdentifier",this.EVENT_STREAM="EventStream",this.ID="id",this.PROFILES="profiles",this.SERVICE_LOCATION="serviceLocation",this.RANGE="range",this.INDEX="index",this.MEDIA="media",this.BYTE_RANGE="byteRange",this.INDEX_RANGE="indexRange",this.MEDIA_RANGE="mediaRange",this.VALUE="value",this.CONTENT_TYPE="contentType",this.MIME_TYPE="mimeType",this.BITSTREAM_SWITCHING="BitstreamSwitching",this.BITSTREAM_SWITCHING_MINUS="bitstreamSwitching",this.CODECS="codecs",this.DEPENDENCY_ID="dependencyId",this.MEDIA_STREAM_STRUCTURE_ID="mediaStreamStructureId",this.METRICS="Metrics",this.METRICS_MINUS="metrics",this.REPORTING="Reporting",this.WIDTH="width",this.HEIGHT="height",this.SAR="sar",this.FRAMERATE="frameRate",this.AUDIO_SAMPLING_RATE="audioSamplingRate",this.MAXIMUM_SAP_PERIOD="maximumSAPPeriod",this.START_WITH_SAP="startWithSAP",this.MAX_PLAYOUT_RATE="maxPlayoutRate",this.CODING_DEPENDENCY="codingDependency",this.SCAN_TYPE="scanType",this.FRAME_PACKING="FramePacking",this.AUDIO_CHANNEL_CONFIGURATION="AudioChannelConfiguration",this.CONTENT_PROTECTION="ContentProtection",this.ESSENTIAL_PROPERTY="EssentialProperty",this.SUPPLEMENTAL_PROPERTY="SupplementalProperty",this.SUPPLEMENTAL_PROPERTY_ASARRAY="SupplementalProperty_asArray",this.INBAND_EVENT_STREAM="InbandEventStream",this.PRODUCER_REFERENCE_TIME="ProducerReferenceTime",this.INBAND="inband",this.TYPE="type",this.ACCESSIBILITY="Accessibility",this.ROLE="Role",this.RATING="Rating",this.CONTENT_COMPONENT="ContentComponent",this.SUBSET="Subset",this.LANG="lang",this.VIEWPOINT="Viewpoint",this.VIEWPOINT_ASARRAY="Viewpoint_asArray",this.ROLE_ASARRAY="Role_asArray",this.REPRESENTATION_ASARRAY="Representation_asArray",this.PRODUCERREFERENCETIME_ASARRAY="ProducerReferenceTime_asArray",this.ACCESSIBILITY_ASARRAY="Accessibility_asArray",this.AUDIOCHANNELCONFIGURATION_ASARRAY="AudioChannelConfiguration_asArray",this.CONTENTPROTECTION_ASARRAY="ContentProtection_asArray",this.MAIN="main",this.DYNAMIC="dynamic",this.STATIC="static",this.MEDIA_PRESENTATION_DURATION="mediaPresentationDuration",this.MINIMUM_UPDATE_PERIOD="minimumUpdatePeriod",this.CODEC_PRIVATE_DATA="codecPrivateData",this.BANDWITH="bandwidth",this.SOURCE_URL="sourceURL",this.TIMESCALE="timescale",this.DURATION="duration",this.START_NUMBER="startNumber",this.PRESENTATION_TIME_OFFSET="presentationTimeOffset",this.AVAILABILITY_START_TIME="availabilityStartTime",this.AVAILABILITY_END_TIME="availabilityEndTime",this.TIMESHIFT_BUFFER_DEPTH="timeShiftBufferDepth",this.MAX_SEGMENT_DURATION="maxSegmentDuration",this.PRESENTATION_TIME="presentationTime",this.MIN_BUFFER_TIME="minBufferTime",this.MAX_SUBSEGMENT_DURATION="maxSubsegmentDuration",this.START="start",this.AVAILABILITY_TIME_OFFSET="availabilityTimeOffset",this.AVAILABILITY_TIME_COMPLETE="availabilityTimeComplete",this.CENC_DEFAULT_KID="cenc:default_KID",this.DVB_PRIORITY="dvb:priority",this.DVB_WEIGHT="dvb:weight",this.SUGGESTED_PRESENTATION_DELAY="suggestedPresentationDelay",this.SERVICE_DESCRIPTION="ServiceDescription",this.SERVICE_DESCRIPTION_SCOPE="Scope",this.SERVICE_DESCRIPTION_LATENCY="Latency",this.SERVICE_DESCRIPTION_PLAYBACK_RATE="PlaybackRate",this.SERVICE_DESCRIPTION_OPERATING_QUALITY="OperatingQuality",this.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH="OperatingBandwidth",this.PATCH_LOCATION="PatchLocation",this.PATCH_LOCATION_AS_ARRAY="PatchLocation_asArray",this.LOCATION="Location",this.LOCATION_AS_ARRAY="Location_asArray",this.PUBLISH_TIME="publishTime",this.ORIGINAL_PUBLISH_TIME="originalPublishTime",this.ORIGINAL_MPD_ID="mpdId",this.WALL_CLOCK_TIME="wallClockTime",this.PRESENTATION_TIME="presentationTime",this.LABEL="Label",this.GROUP_LABEL="GroupLabel",this.CONTENT_STEERING="ContentSteering",this.CONTENT_STEERING_AS_ARRAY="ContentSteering_asArray",this.DEFAULT_SERVICE_LOCATION="defaultServiceLocation",this.QUERY_BEFORE_START="queryBeforeStart",this.CLIENT_REQUIREMENT="clientRequirement",this.TTL="ttl",this.CONTENT_STEERING_RESPONSE={VERSION:"VERSION",TTL:"TTL",RELOAD_URI:"RELOAD-URI",PATHWAY_PRIORITY:"PATHWAY-PRIORITY",PATHWAY_CLONES:"PATHWAY-CLONES",BASE_ID:"BASE-ID",ID:"ID",URI_REPLACEMENT:"URI-REPLACEMENT",HOST:"HOST",PARAMS:"PARAMS"},this.PRODUCER_REFERENCE_TIME_TYPE={ENCODER:"encoder",CAPTURED:"captured",APPLICATION:"application"},this.SEGMENT_ALIGNMENT="segmentAlignment",this.SUB_SEGMENT_ALIGNMENT="subsegmentAlignment"}}])&&r(e.prototype,t),e}());t.Z=n},7802:function(e,t,r){"use strict";var n=r(5448),i=r(1724),o=r(3636),a=r(1736),s=r(5246);function l(e){e=e||{};var t,r,n=this.context,l=e.dashConstants,u=e.type,c=e.segmentBaseController;function d(e){return e?e.segments?r[l.SEGMENT_BASE]:r[e.segmentInfoType]:null}return t={initialize:function(t){r[l.SEGMENT_TIMELINE]=(0,i.Z)(n).create(e,t),r[l.SEGMENT_TEMPLATE]=(0,o.Z)(n).create(e,t),r[l.SEGMENT_LIST]=(0,a.Z)(n).create(e,t),r[l.SEGMENT_BASE]=(0,s.Z)(n).create(e,t)},updateInitData:function(e,t){return t?Promise.resolve():c.getSegmentBaseInitSegment({representation:e,mediaType:u})},updateSegmentData:function(e,t){return t?Promise.resolve():c.getSegmentList({mimeType:e.mimeType,representation:e,mediaType:u})},getSegmentByIndex:function(e,t,r){var n=d(e);return n?n.getSegmentByIndex(e,t,r):null},getSegmentByTime:function(e,t){var r=d(e);return r?r.getSegmentByTime(e,t):null},getMediaFinishedInformation:function(e){var t=d(e);return t?t.getMediaFinishedInformation(e):{numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN}}},r={},t}l.__dashjs_factory_name="SegmentsController";var u=n.Z.getClassFactory(l);t.Z=u},1736:function(e,t,r){"use strict";var n=r(5448),i=r(3393),o=r(7387);function a(e,t){var r=(e=e||{}).timelineConverter;function n(){if(!r||!r.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(i.Z.MISSING_CONFIG_ERROR)}function a(e,i){if(n(),!e)return null;var a=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentList,s=a.SegmentURL_asArray.length,l=e&&!isNaN(e.startNumber)?e.startNumber:1,u=Math.max(l-1,0),c=Math.max(i-u,0),d=null;if(c<s){var f=a.SegmentURL_asArray[c];(d=(0,o.NF)(r,t,e,i))&&(d.replacementTime=(l+i-1)*e.segmentDuration,d.media=f.media?f.media:"",d.mediaRange=f.mediaRange,d.indexRange=f.indexRange)}return d}return{getSegmentByIndex:a,getSegmentByTime:function(e,t){if(n(),!e)return null;var i=e.segmentDuration;if(isNaN(i))return null;var o=r.calcPeriodRelativeTimeFromMpdRelativeTime(e,t);return a(e,Math.floor(o/i))},getMediaFinishedInformation:function(e){var t={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!e)return t;var r=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentList,n=e&&!isNaN(e.startNumber)?e.startNumber:1,i=Math.max(n-1,0);return t.numberOfSegments=i+r.SegmentURL_asArray.length,t}}}a.__dashjs_factory_name="ListSegmentsGetter";var s=n.Z.getClassFactory(a);t.Z=s},5246:function(e,t,r){"use strict";var n=r(5448),i=r(3393);function o(e){var t=(e=e||{}).timelineConverter;function r(){if(!t||!t.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(i.Z.MISSING_CONFIG_ERROR)}function n(e,t){if(r(),!e)return null;var n,i=e.segments?e.segments.length:-1;if(t<i&&(n=e.segments[t])&&n.index===t)return n;for(var o=0;o<i;o++)if((n=e.segments[o])&&n.index===t)return n;return null}return{getSegmentByIndex:n,getSegmentByTime:function(e,t){r();var i=function(e,t){if(!e)return-1;var r,n,i,o,a,s=e.segments,l=s?s.length:null,u=-1;if(s&&l>0)for(a=0;a<l;a++)if(i=(n=s[a]).presentationStartTime,t+(r=(o=n.duration)/2)>=i&&t-r<i+o){u=n.index;break}return u}(e,t);return n(e,i)},getMediaFinishedInformation:function(e){var t={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};return e&&e.segments?(t.numberOfSegments=e.segments.length,t):t}}}o.__dashjs_factory_name="SegmentBaseGetter";var a=n.Z.getClassFactory(o);t.Z=a},7387:function(e,t,r){"use strict";r.d(t,{Aj:function(){return a},NF:function(){return c},TJ:function(){return d},eR:function(){return o},vi:function(){return s}});var n=r(2011);function i(e,t){for(;e.length<t;)e="0"+e;return e}function o(e){return e?e.split("$$").join("$"):e}function a(e,t){if(!t||!e||-1===e.indexOf("$RepresentationID$"))return e;var r=t.toString();return e.split("$RepresentationID$").join(r)}function s(e,t,r){var n,o,a,s,l,u,c=t.length,d=2;if(!e)return e;for(;;){if((n=e.indexOf("$"+t))<0)return e;if((o=e.indexOf("$",n+c))<0)return e;if((a=e.indexOf("%0",n+c))>n&&a<o)switch(s=e.charAt(o-1),l=parseInt(e.substring(a+d,o-1),10),s){case"d":case"i":case"u":u=i(r.toString(),l);break;case"x":u=i(r.toString(16),l);break;case"X":u=i(r.toString(16),l).toUpperCase();break;case"o":u=i(r.toString(8),l);break;default:return e}else u=r;e=e.substring(0,n)+u+e.substring(o+1)}}function l(e,t,r,i,o,a,s,l){var u,c=new n.Z;return c.representation=e,c.duration=t,c.presentationStartTime=r,c.mediaStartTime=i,c.availabilityStartTime=o.calcAvailabilityStartTimeFromPresentationTime(a,e,s),c.availabilityEndTime=o.calcAvailabilityEndTimeFromPresentationTime(a+t,e,s),c.wallStartTime=o.calcWallTimeForSegment(c,s),c.replacementNumber=(u=l,c.representation.startNumber+u),c.index=l,c}function u(e,t,r,n){var i=t.adaptation.period;if(isFinite(i.duration)&&i.start+i.duration<=r.presentationStartTime)return!1;if(n){if("INF"===t.availabilityTimeOffset)return!0;var o=e.getClientReferenceTime();return r.availabilityStartTime.getTime()<=o&&(!isFinite(r.availabilityEndTime)||r.availabilityEndTime.getTime()>=o)}return!0}function c(e,t,r,n){var i,o,a;i=r.segmentDuration,isNaN(i)&&(i=r.adaptation.period.duration),o=parseFloat((r.adaptation.period.start+n*i).toFixed(5)),a=parseFloat((o+i).toFixed(5));var s=l(r,i,o,e.calcMediaTimeFromPresentationTime(o,r),e,a,t,n);return u(e,r,s,t)?s:null}function d(e,t,r,n,i,o,a,c,d,f){var h,p,m=n/o,g=i/o;return h=e.calcPresentationTimeFromMediaTime(m,r),u(e,r,p=l(r,g,h,m,e,h+g,t,d),t)?(p.replacementTime=f||n,a=s(a,"Number",p.replacementNumber),a=s(a,"Time",p.replacementTime),p.media=a,p.mediaRange=c,p):null}},3636:function(e,t,r){"use strict";var n=r(5448),i=r(3393),o=r(7387);function a(e,t){var r=(e=e||{}).timelineConverter;function n(){if(!r||!r.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(i.Z.MISSING_CONFIG_ERROR)}function a(e,i){if(n(),!e)return null;var a=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentTemplate;i=Math.max(i,0);var s=(0,o.NF)(r,t,e,i);if(s){s.replacementTime=Math.round((i-1)*e.segmentDuration*e.timescale,10);var l=a.media;l=(0,o.vi)(l,"Number",s.replacementNumber),l=(0,o.vi)(l,"Time",s.replacementTime),s.media=l}return s}return{getSegmentByIndex:a,getSegmentByTime:function(e,t){if(n(),!e)return null;var i=e.segmentDuration;if(isNaN(i))return null;var o=r.calcPeriodRelativeTimeFromMpdRelativeTime(e,t);return a(e,Math.floor(o/i))},getMediaFinishedInformation:function(e){var t={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!e)return t;var r=e.segmentDuration;return isNaN(r)?t.numberOfSegments=1:t.numberOfSegments=Math.ceil(e.adaptation.period.duration/r),t}}}a.__dashjs_factory_name="TemplateSegmentsGetter";var s=n.Z.getClassFactory(a);t.Z=s},1724:function(e,t,r){"use strict";var n=r(5448),i=r(3393),o=r(7387);function a(e,t){var r=(e=e||{}).timelineConverter,n=e.dashMetrics;function a(){if(!r)throw new Error(i.Z.MISSING_CONFIG_ERROR)}function s(e,t){var r,n,i,o,a,s,u,c=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentTemplate||e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentList,d=c.SegmentTimeline,f=c.SegmentURL_asArray,h=0,p=-1;u=e.timescale;var m=!1;for(i=0,o=(r=d.S_asArray).length;i<o&&!m;i++)for(s=0,(n=r[i]).hasOwnProperty("r")&&(s=n.r),n.hasOwnProperty("t")&&(h=n.t),s<0&&(s=l(e,r[i+1],n,u,h/u)),a=0;a<=s&&!m;a++)(m=t(h,c,f,n,u,++p,i))&&(e.segmentDuration=n.d/u),h+=n.d}function l(e,t,i,o,a){var s;if(t&&t.hasOwnProperty("t"))s=t.t/o;else try{var l=0;if(isNaN(e.adaptation.period.start)||isNaN(e.adaptation.period.duration)||!isFinite(e.adaptation.period.duration)){var u=n.getCurrentDVRInfo();l=isNaN(u.end)?0:u.end}else l=e.adaptation.period.start+e.adaptation.period.duration;s=r.calcMediaTimeFromPresentationTime(l,e),e.segmentDuration=i.d/o}catch(e){s=0}return Math.max(Math.ceil((s-a)/(i.d/o))-1,0)}return{getSegmentByIndex:function(e,n,i){if(a(),!e)return null;var l=null,u=!1;return s(e,(function(n,a,s,c,d,f,h){if(u||i<0){var p=a.media,m=c.mediaRange;return s&&(p=s[h].media||"",m=s[h].mediaRange),l=(0,o.TJ)(r,t,e,n,c.d,d,p,m,f,c.tManifest),!0}return n>=i*d-.5*c.d&&(u=!0),!1})),l},getSegmentByTime:function(e,n){if(a(),!e)return null;void 0===n&&(n=null);var i=null,l=r.calcMediaTimeFromPresentationTime(n,e);return s(e,(function(n,a,s,u,c,d,f){var h=parseFloat((l*c).toPrecision(15));if(h<n+u.d&&h>=n){var p=a.media,m=u.mediaRange;return s&&(p=s[f].media||"",m=s[f].mediaRange),i=(0,o.TJ)(r,t,e,n,u.d,c,p,m,d,u.tManifest),!0}return!1})),i},getMediaFinishedInformation:function(e){if(!e)return 0;var t,r,n,i,o,a,s,u=(e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentTemplate||e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentList).SegmentTimeline,c=0,d=0,f=0;for(s=e.timescale,i=(t=u.S_asArray).length,n=0;n<i;n++)for(a=0,(r=t[n]).hasOwnProperty("r")&&(a=r.r),r.hasOwnProperty("t")&&(d=(c=r.t)/s),a<0&&(a=l(e,t[n+1],r,s,d)),o=0;o<=a;o++)f++,d=(c+=r.d)/s;return{numberOfSegments:f,mediaTimeOfLastSignaledSegment:d}}}}a.__dashjs_factory_name="TimelineSegmentsGetter";var s=n.Z.getClassFactory(a);t.Z=s},2011:function(e,t){"use strict";t.Z=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.indexRange=null,this.index=null,this.mediaRange=null,this.media=null,this.duration=NaN,this.replacementTime=null,this.replacementNumber=NaN,this.mediaStartTime=NaN,this.presentationStartTime=NaN,this.availabilityStartTime=NaN,this.availabilityEndTime=NaN,this.wallStartTime=NaN,this.representation=null}},2610:function(e,t){"use strict";t.Z=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.schemeIdUri="",this.value=""}},7688:function(e,t,r){"use strict";r.d(t,{Z:function(){return Wo}});var n=r(452),i=r.n(n),o=r(3393),a=r(1553),s=r(3860),l=r(5595),u=r(8512),c=r(5448),d=r(6398),f=r(8825);function h(){var e,t,r,n,i,a,c,h,p,m,g,y,v,b,_,w,E,x,S,T,A,M,R,C,I=this.context,k=(0,l.Z)(I).getInstance();function P(){L(),b=!1,m=0,g=0,w=0,M=!1,E=!0,x=!1,R=!1,S=NaN,c&&(k.off(u.Z.DATA_UPDATE_COMPLETED,Q,e),k.off(u.Z.LOADING_PROGRESS,ye,e),k.off(u.Z.MANIFEST_UPDATED,we,e),k.off(u.Z.STREAMS_COMPOSED,Ee,e),k.off(f.Z.PLAYBACK_ENDED,pe,e),k.off(f.Z.STREAM_INITIALIZING,be,e),k.off(f.Z.REPRESENTATION_SWITCH,_e,e),k.off(f.Z.BUFFER_LEVEL_STATE_CHANGED,ee,e),K(),c.removeEventListener("canplay",$),c.removeEventListener("canplaythrough",J),c.removeEventListener("play",te),c.removeEventListener("waiting",re),c.removeEventListener("playing",ne),c.removeEventListener("pause",ie),c.removeEventListener("error",me),c.removeEventListener("seeking",oe),c.removeEventListener("seeked",ae),c.removeEventListener("timeupdate",se),c.removeEventListener("progress",le),c.removeEventListener("ratechange",ue),c.removeEventListener("loadedmetadata",ce),c.removeEventListener("loadeddata",de),c.removeEventListener("stalled",ve),c.removeEventListener("ended",fe),c.removeEventListener("volumechange",he)),p=null,c=null,y=null,v=null}function O(){return parseFloat((j(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)-B()).toFixed(5))}function j(e){var t=e||y;return t.start+t.duration}function N(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];y&&c&&c.getElement()?(e&&v&&U(B()),c.play()):b=!0}function L(){y&&c&&c.pause()}function D(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];y&&c&&c.getElement()&&e!==(isNaN(S)?c.getTime():S)&&((T=!0===n)||(S=e),t.info("Requesting seek to time: "+e+(T?" (internal)":"")),v&&i&&U(e),c.setCurrentTime(e,r))}function F(){if(y&&c&&v){var e=r&&r.hasVideoTrack()?o.Z.VIDEO:o.Z.AUDIO,t=i.getCurrentDVRInfo(e);return t&&t.range?t.range.end:0}}function U(e){var t=new Date(h.getClientReferenceTime()),r=a.getRegularPeriods()[0],n=h.calcPresentationTimeFromWallTime(t,r);m=n-e}function B(){return y&&c?c.getTime():null}function G(){return y&&c?c.isPaused():null}function z(){return y&&c?c.isSeeking():null}function V(){return y&&c?c.isStalled():null}function H(){return y&&c?c.getPlaybackRate():null}function W(){return y&&c?c.getEnded():null}function Z(){return v}function q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!G()&&v&&0!==c.getReadyState()&&!z()&&!M){e||(e=r.hasVideoTrack()?o.Z.VIDEO:o.Z.AUDIO);var n=B(),i=Y(n,e);!isNaN(i)&&i!==n&&!z()&&(V()||A||1===c.getReadyState())&&(t.debug("UpdateCurrentTime: Seek to actual time: ".concat(i," from currentTime: ").concat(n)),D(i,!1,!1))}}function Y(e,t){var r=i.getCurrentDVRInfo(t),n=r?r.range:null;return n?e>n.end?Math.max(n.end-m,n.start):e>0&&e+.25<n.start&&Math.abs(e-n.start)<31536e4?x?Math.max(n.end-m,n.start):n.start:e:NaN}function X(){null===p&&(p=setInterval((function(){var e;k.trigger(u.Z.WALLCLOCK_TIME_UPDATED,{isDynamic:v,time:new Date}),Z()&&(r.addDVRMetric(),G()?(e=Date.now(),(!_||e>_+500)&&(_=e,se())):q())}),C.get().streaming.wallclockTimeUpdateInterval))}function K(){clearInterval(p),p=null}function Q(e){var t=a.convertRepresentationToRepresentationInfo(e.currentRepresentation),r=t?t.mediaInfo.streamInfo:null;null!==r&&y.id===r.id&&(y=r)}function $(){k.trigger(u.Z.CAN_PLAY)}function J(){k.trigger(u.Z.CAN_PLAY_THROUGH)}function ee(e){e.streamId===r.getActiveStreamInfo().id&&(A=e.state===s.Z.BUFFER_EMPTY,C.get().streaming.buffer.setStallState&&c.setStallState(e.mediaType,e.state===s.Z.BUFFER_EMPTY))}function te(){t.info("Native video element event: play"),q(),X(),k.trigger(u.Z.PLAYBACK_STARTED,{startTime:B()})}function re(){t.info("Native video element event: waiting"),k.trigger(u.Z.PLAYBACK_WAITING,{playingTime:B()})}function ne(){t.info("Native video element event: playing"),T=!1,k.trigger(u.Z.PLAYBACK_PLAYING,{playingTime:B()})}function ie(){t.info("Native video element event: pause"),k.trigger(u.Z.PLAYBACK_PAUSED,{ended:W()})}function oe(){if(!T){var e=B();isNaN(S)||S===e||(e=S),S=NaN,t.info("Seeking to: "+e),X(),k.trigger(u.Z.PLAYBACK_SEEKING,{seekTime:e,streamId:y.id})}}function ae(){t.info("Native video element event: seeked"),T=!1,k.trigger(u.Z.PLAYBACK_SEEKED)}function se(){y&&k.trigger(u.Z.PLAYBACK_TIME_UPDATED,{timeToEnd:O(),time:B(),streamId:y.id})}function le(){k.trigger(u.Z.PLAYBACK_PROGRESS,{streamId:y.id})}function ue(){var e=H();t.info("Native video element event: ratechange: ",e),k.trigger(u.Z.PLAYBACK_RATE_CHANGED,{playbackRate:e})}function ce(){t.info("Native video element event: loadedmetadata"),k.trigger(u.Z.PLAYBACK_METADATA_LOADED),X()}function de(){t.info("Native video element event: loadeddata"),k.trigger(u.Z.PLAYBACK_LOADED_DATA)}function fe(){t.info("Native video element event: ended"),L(),K();var e=r?r.getActiveStreamInfo():null;e&&k.trigger(u.Z.PLAYBACK_ENDED,{isLast:e.isLast})}function he(){k.trigger(u.Z.PLAYBACK_VOLUME_CHANGED)}function pe(e){if(p&&e.isLast){t.info("onPlaybackEnded -- PLAYBACK_ENDED but native video element didn't fire ended");var r=e.seekTime?e.seekTime:j();c.setCurrentTime(r),L(),K()}}function me(e){var t=e.target||e.srcElement;k.trigger(u.Z.PLAYBACK_ERROR,{error:t.error})}function ge(){v=!1}function ye(e){if(!1===e.stream&&x&&!isNaN(e.request.duration)){var r=1.2*e.request.duration;r>m&&(t.warn("Browser does not support fetch API with StreamReader. Increasing live delay to be 20% higher than segment duration:",r.toFixed(2)),m=r,g=r)}}function ve(e){k.trigger(u.Z.PLAYBACK_STALLED,{e:e})}function be(e){var r;(r=e.mediaInfo)&&r.supplementalProperties&&"true"===r.supplementalProperties[o.Z.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME]&&(t.debug("Low Latency critical SupplementalProperty set: Enabling low Latency"),x=!0)}function _e(e){var t=r.getActiveStreamInfo();e&&t&&e.currentRepresentation&&e.streamId&&e.streamId===t.id&&e.mediaType&&(e.mediaType===o.Z.VIDEO||e.mediaType===o.Z.AUDIO)&&(E=e.currentRepresentation.availabilityTimeComplete,(x=!E)&&!R&&(R=!0))}function we(){M=!0}function Ee(){M=!1}return e={initialize:function(t,r){y=t,!0!==r&&(c.addEventListener("canplay",$),c.addEventListener("canplaythrough",J),c.addEventListener("play",te),c.addEventListener("waiting",re),c.addEventListener("playing",ne),c.addEventListener("pause",ie),c.addEventListener("error",me),c.addEventListener("seeking",oe),c.addEventListener("seeked",ae),c.addEventListener("timeupdate",se),c.addEventListener("progress",le),c.addEventListener("ratechange",ue),c.addEventListener("loadedmetadata",ce),c.addEventListener("loadeddata",de),c.addEventListener("stalled",ve),c.addEventListener("ended",fe),c.addEventListener("volumechange",he),v=y.manifestInfo.isDynamic,A=!1,T=!1,k.on(u.Z.DATA_UPDATE_COMPLETED,Q,e),k.on(u.Z.LOADING_PROGRESS,ye,e),k.on(u.Z.MANIFEST_UPDATED,we,e),k.on(u.Z.STREAMS_COMPOSED,Ee,e),k.on(f.Z.PLAYBACK_ENDED,pe,e,{priority:l.Z.EVENT_PRIORITY_HIGH}),k.on(f.Z.STREAM_INITIALIZING,be,e),k.on(f.Z.REPRESENTATION_SWITCH,_e,e),k.on(f.Z.BUFFER_LEVEL_STATE_CHANGED,ee,e),k.on(f.Z.DYNAMIC_TO_STATIC,ge,e),b&&(b=!1,N()))},setConfig:function(e){e&&(e.streamController&&(r=e.streamController),e.serviceDescriptionController&&(n=e.serviceDescriptionController),e.dashMetrics&&(i=e.dashMetrics),e.adapter&&(a=e.adapter),e.videoModel&&(c=e.videoModel),e.timelineConverter&&(h=e.timelineConverter),e.settings&&(C=e.settings))},getTimeToStreamEnd:O,getBufferLevel:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=null;return r.getActiveStreamProcessors().forEach((function(r){if(!e||0===e.length||-1===e.indexOf(r.getType())){var n=r.getBufferLevel();t=null===t?n:Math.min(t,n)}})),t},getPlaybackStalled:function(){return A},getTime:B,getLowLatencyModeEnabled:function(){return x},getInitialCatchupModeActivated:function(){return R},getIsManifestUpdateInProgress:function(){return M},getPlaybackRate:H,getPlayedRanges:function(){return y&&c?c.getPlayedRanges():null},getEnded:W,getIsDynamic:Z,getStreamController:function(){return r},computeAndSetLiveDelay:function(e,t){var r,i,o,s=!isNaN(e)&&isFinite(e)?e:NaN,l=a.getSuggestedPresentationDelay(),u=n.getServiceDescriptionSettings();return r=isNaN(C.get().streaming.delay.liveDelay)?null===C.get().streaming.delay.liveDelayFragmentCount||isNaN(C.get().streaming.delay.liveDelayFragmentCount)||isNaN(s)?u&&!isNaN(u.liveDelay)&&u.liveDelay>0?u.liveDelay:!0===C.get().streaming.delay.useSuggestedPresentationDelay&&null!==l&&!isNaN(l)&&l>0?l:isNaN(s)?t&&!isNaN(t.minBufferTime)?4*t.minBufferTime:4*y.manifestInfo.minBufferTime:4*s:s*C.get().streaming.delay.liveDelayFragmentCount:C.get().streaming.delay.liveDelay,null!==(o=a.getAvailabilityStartTime())&&(w=o),i=t&&t.dvrWindowSize>0?Math.min(r,t.dvrWindowSize):r,m=i,g=i,i},getLiveDelay:function(){return m},getOriginalLiveDelay:function(){return g},getCurrentLiveLatency:function(){if(!v||isNaN(w))return NaN;var e=B();if(isNaN(e)||0===e)return 0;var t=(new Date).getTime()+1e3*h.getClientTimeOffset();return Math.max(((t-w-1e3*e)/1e3).toFixed(3),0)},play:N,isPaused:G,isStalled:V,pause:L,isSeeking:z,getStreamEndTime:j,seek:D,seekToOriginalLive:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=F();0!==n&&D(n-(m=g),e,t,r)},seekToCurrentLive:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=F();0!==n&&D(n-m,e,t,r)},reset:P,updateCurrentTime:q,getAvailabilityStartTime:function(){return w}},t=(0,d.Z)(I).getInstance().getLogger(e),P(),e}h.__dashjs_factory_name="PlaybackController";var p=c.Z.getSingletonFactory(h),m=r(3186),g="loading",y="executed",v="failed";function b(e){var t,r,n,i,o=(e=e||{}).eventBus,a=e.events,s=e.dashMetrics,l=e.fragmentLoader,u=e.debug,c=e.streamInfo,d=e.type;function f(e){var t;return!!e&&(t=!1,n.some((function(r){if(n=e,i=r,!isNaN(n.index)&&n.startTime===i.startTime&&n.adaptationIndex===i.adaptationIndex&&n.type===i.type||function(e,t){return isNaN(e.index)&&isNaN(t.index)&&e.quality===t.quality}(e,r)||function(e,t){return e.action===m.Z.ACTION_COMPLETE&&e.action===t.action}(e,r))return t=!0;var n,i})),t)}function h(e){return isNaN(e.duration)?.25:Math.min(e.duration/8,.5)}function p(e){n=n.filter((function(t){var r=h(t);return isNaN(t.startTime)||void 0!==e&&t.startTime>=e-r}))}function b(e,t){t<=e+.5||(n=n.filter((function(r){var n=h(r);return isNaN(r.startTime)||r.startTime>=t-n||isNaN(r.duration)||r.startTime+r.duration<=e+n})))}function _(e,t,r){for(var n=e.length-1;n>=0;n--){var i=e[n],o=i.startTime,a=o+i.duration;if(r=isNaN(r)?h(i):r,!isNaN(o)&&!isNaN(a)&&t+r>=o&&t-r<a||isNaN(o)&&isNaN(t))return i}return null}function w(e,t){s.addSchedulingInfo(e,t),s.addRequestsQueue(e.mediaType,i,n)}function E(e){e.sender===l&&(i.splice(i.indexOf(e.request),1),e.response&&!e.error&&n.push(e.request),w(e.request,e.error?v:y),o.trigger(a.FRAGMENT_LOADING_COMPLETED,{request:e.request,response:e.response,error:e.error,sender:this},{streamId:c.id,mediaType:d}))}function x(e){e.sender===l&&o.trigger(a.FRAGMENT_LOADING_PROGRESS,{request:e.request,response:e.response,error:e.error,sender:this},{streamId:c.id,mediaType:d})}function S(e){e.sender===l&&o.trigger(a.FRAGMENT_LOADING_ABANDONED,{request:e.request},{streamId:c.id,mediaType:d})}function T(){n=[],i=[]}return t={getStreamId:function(){return c.id},getType:function(){return d},getRequests:function(e){var t=e?e.state instanceof Array?e.state:[e.state]:[],r=[];return t.forEach((function(t){var o=function(e){var t;switch(e){case g:t=i;break;case y:t=n;break;default:t=[]}return t}(t);r=r.concat(function(e,t){return t.hasOwnProperty("time")?[_(e,t.time,t.threshold)]:e.filter((function(e){for(var r in t)if("state"!==r&&t.hasOwnProperty(r)&&e[r]!=t[r])return!1;return!0}))}(o,e))})),r},isFragmentLoaded:f,isFragmentLoadedOrPending:function(e){var t,r=!1,n=0;if(!(r=f(e)))for(n=0;n<i.length;n++)t=i[n],e.url===t.url&&e.startTime===t.startTime&&(r=!0);return r},removeExecutedRequestsBeforeTime:p,removeExecutedRequestsAfterTime:function(e){n=n.filter((function(t){return isNaN(t.startTime)||void 0!==e&&t.startTime<e}))},syncExecutedRequestsWithBufferedRange:function(e,t){if(e&&0!==e.length){for(var r=0,n=0,i=e.length;n<i;n++)b(r,e.start(n)),r=e.end(n);t>0&&b(r,t)}else p()},abortRequests:function(){r.debug("abort requests"),l.abort(),i=[]},executeRequest:function(e){e.action===m.Z.ACTION_DOWNLOAD?(w(e,g),i.push(e),function(e){o.trigger(a.FRAGMENT_LOADING_STARTED,{request:e},{streamId:c.id,mediaType:d}),l.load(e)}(e)):r.warn("Unknown request action.")},reset:function(){o.off(a.LOADING_COMPLETED,E,this),o.off(a.LOADING_DATA_PROGRESS,x,this),o.off(a.LOADING_ABANDONED,S,this),l&&l.reset(),T()},resetInitialSettings:T,addExecutedRequest:function(e){n.push(e)}},r=u.getLogger(t),T(),o.on(a.LOADING_COMPLETED,E,t),o.on(a.LOADING_DATA_PROGRESS,x,t),o.on(a.LOADING_ABANDONED,S,t),t}b.__dashjs_factory_name="FragmentModel";var _=c.Z.getClassFactory(b);_.FRAGMENT_MODEL_LOADING=g,_.FRAGMENT_MODEL_EXECUTED=y,_.FRAGMENT_MODEL_CANCELED="canceled",_.FRAGMENT_MODEL_FAILED=v,c.Z.updateClassFactory(b.__dashjs_factory_name,_);var w=_,E=r(5459);function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function S(e,t){return S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},S(e,t)}function T(e,t){return!t||"object"!==x(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}var M=new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(i,e);var t,r,n=(t=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=A(t);if(r){var i=A(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return T(this,e)});function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=n.call(this)).MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE=10,e.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE=11,e.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE=12,e.SEGMENT_BASE_LOADER_ERROR_CODE=15,e.TIME_SYNC_FAILED_ERROR_CODE=16,e.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE=17,e.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE=18,e.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=19,e.APPEND_ERROR_CODE=20,e.REMOVE_ERROR_CODE=21,e.DATA_UPDATE_FAILED_ERROR_CODE=22,e.CAPABILITY_MEDIASOURCE_ERROR_CODE=23,e.CAPABILITY_MEDIAKEYS_ERROR_CODE=24,e.DOWNLOAD_ERROR_ID_MANIFEST_CODE=25,e.DOWNLOAD_ERROR_ID_SIDX_CODE=26,e.DOWNLOAD_ERROR_ID_CONTENT_CODE=27,e.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE=28,e.DOWNLOAD_ERROR_ID_XLINK_CODE=29,e.MANIFEST_ERROR_ID_PARSE_CODE=31,e.MANIFEST_ERROR_ID_NOSTREAMS_CODE=32,e.TIMED_TEXT_ERROR_ID_PARSE_CODE=33,e.MANIFEST_ERROR_ID_MULTIPLEXED_CODE=34,e.MEDIASOURCE_TYPE_UNSUPPORTED_CODE=35,e.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE="parsing failed for ",e.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading manifest: ",e.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading Xlink element: ",e.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE="Segments update failed",e.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE="no segments are available yet",e.SEGMENT_BASE_LOADER_ERROR_MESSAGE="error loading segment ranges from sidx",e.TIME_SYNC_FAILED_ERROR_MESSAGE="Failed to synchronize client and server time",e.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE="request is null",e.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE="Failed to resolve a valid URL",e.APPEND_ERROR_MESSAGE="chunk is not defined",e.REMOVE_ERROR_MESSAGE="Removing data from the SourceBuffer",e.DATA_UPDATE_FAILED_ERROR_MESSAGE="Data update failed",e.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE="mediasource is not supported",e.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE="mediakeys is not supported",e.TIMED_TEXT_ERROR_MESSAGE_PARSE="parsing error :",e.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE="Error creating source buffer of type : ",e}return i}(r(2230).Z)),R=r(1264),C=r(7855);function I(e){var t,r,n,i,a,s,l=this.context,c=(0,R.Z)(l).getInstance(),f=e.textController,h=e.eventBus,p=[],m=[],g=!1,y=e.mediaSource,v=null;function b(e){return new Promise((function(t){P((function(){i.changeType&&i.changeType(e),t()}))}))}function _(e){return i=f.getTextSourceBuffer(e),Promise.resolve()}function w(){if("function"==typeof i.addEventListener)try{i.addEventListener("updateend",I,!1),i.addEventListener("error",k,!1),i.addEventListener("abort",k,!1)}catch(e){s=setInterval(I,50)}else s=setInterval(I,50)}function x(e){return new Promise((function(t){i&&c.get().streaming.buffer.useAppendWindow?P((function(){try{if(!i)return void t();var r=y.duration,o=0;e&&!isNaN(e.start)&&!isNaN(e.duration)&&isFinite(e.duration)&&(r=e.start+e.duration),e&&!isNaN(e.start)&&(o=e.start),i.appendWindowEnd===r&&i.appendWindowStart===o||(i.appendWindowStart=0,i.appendWindowEnd=r+.01,i.appendWindowStart=Math.max(o-.1,0),n.debug("Updated append window for ".concat(a.type,". Set start to ").concat(i.appendWindowStart," and end to ").concat(i.appendWindowEnd))),t()}catch(e){n.warn("Failed to set append window"),t()}})):t()}))}function S(e){return new Promise((function(t){i?P((function(){try{i.timestampOffset===e||isNaN(e)||(i.timestampOffset=e,n.debug("Set MSE timestamp offset to ".concat(e))),t()}catch(e){t()}})):t()}))}function T(){if(!g&&m.length>0){g=!0;var e=m[0];m.splice(0,1);var t=function(){g=!1,m.length>0&&T.call(this),e&&e.data&&e.data.segmentType&&e.data.segmentType!==C.w.INIT_SEGMENT_TYPE&&delete e.data.bytes,e.promise.resolve({chunk:e.data})};try{v=e.request,0===e.data.bytes.byteLength?t.call(this):(i.appendBuffer?i.appendBuffer(e.data.bytes):i.append(e.data.bytes,e.data),P(t.bind(this)))}catch(t){n.fatal('SourceBuffer append failed "'+t+'"'),m.length>0?T():g=!1,delete e.data.bytes,e.promise.reject({chunk:e.data,error:new E.Z(t.code,t.message)})}}}function A(){p.length>0&&(i.updating||(p.shift()(),A()))}function I(){i.updating||A()}function k(e){var t,n,i=e.target||{};t=u.Z.SOURCE_BUFFER_ERROR,n={error:i,lastRequestAppended:v}||{},h.trigger(t,n,{streamId:a.streamInfo.id,mediaType:r})}function P(e){p.push(e),i.updating||A()}return t={getType:function(){return r},getAllBufferRanges:function(){try{return i.buffered}catch(e){return n.error("getAllBufferRanges exception: "+e.message),null}},getBuffer:function(){return i},append:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise((function(n,i){e?(m.push({data:e,promise:{resolve:n,reject:i},request:r}),P(T.bind(t))):i({chunk:e,error:new E.Z(M.APPEND_ERROR_CODE,M.APPEND_ERROR_MESSAGE)})}))},remove:function(e){return new Promise((function(t,r){var n=e.start,o=e.end;n>=0&&o>n?P((function(){try{i.remove(n,o),P((function(){t({from:n,to:o,unintended:!1}),e.resolve&&e.resolve()}))}catch(t){r({from:n,to:o,unintended:!1,error:new E.Z(M.REMOVE_ERROR_CODE,M.REMOVE_ERROR_MESSAGE)}),e.reject&&e.reject(t)}})):t()}))},abort:function(){return new Promise((function(e){try{m=[],"open"===y.readyState?P((function(){try{i&&i.abort(),e()}catch(t){e()}})):i&&i.setTextTrack&&"ended"===y.readyState?(i.abort(),e()):e()}catch(t){e()}}))},reset:function(){if(i){try{p=[],function(){try{"function"==typeof i.removeEventListener&&(i.removeEventListener("updateend",I,!1),i.removeEventListener("error",k,!1),i.removeEventListener("abort",k,!1)),clearInterval(s)}catch(e){n.error(e)}}(),g=!1,m=[],i.getClassName&&"TextSourceBuffer"===i.getClassName()||(n.debug("Removing sourcebuffer from media source"),y.removeSourceBuffer(i))}catch(e){}i=null}v=null},updateTimestampOffset:S,initializeForStreamSwitch:function(e,t,n){r=(a=e).type;var o=a.codec;!function(e){i=e.getBuffer()}(n),w();var s=[];return s.push(new Promise((function(e){P((function(){var t=i.appendWindowStart,r=i.appendWindowEnd;i&&(i.abort(),i.appendWindowStart=t,i.appendWindowEnd=r),e()}))}))),s.push(x(a.streamInfo)),c.get().streaming.buffer.useChangeTypeForTrackSwitch&&s.push(b(o)),t&&void 0!==t.MSETimeOffset&&s.push(S(t.MSETimeOffset)),Promise.all(s)},initializeForFirstUse:function(e,t,n){r=(a=t).type;var s=a.codec;try{if(s.match(/application\/mp4;\s*codecs="(stpp|wvtt).*"/i))return _(e);i=y.addSourceBuffer(s),w();var l=[];return l.push(x(a.streamInfo)),n&&void 0!==n.MSETimeOffset&&l.push(S(n.MSETimeOffset)),Promise.all(l)}catch(t){return a.type==o.Z.TEXT&&!a.isFragmented||-1!==s.indexOf('codecs="stpp')||-1!==s.indexOf('codecs="vtt')||-1!==s.indexOf("text/vtt")?_(e):Promise.reject(t)}},updateAppendWindow:x,changeType:b},n=(0,d.Z)(l).getInstance().getLogger(t),t}I.__dashjs_factory_name="SourceBufferSink";var k=c.Z.getClassFactory(I);function P(e){var t,r,n,i=this.context,o=[],a=e;function s(e,t){return o=o.filter((function(r){return!((isNaN(t)||r.start<t)&&(isNaN(e)||r.end>e))})),Promise.resolve()}return t={getAllBufferRanges:function(){for(var e=[],t=0;t<o.length;t++){var r=o[t];0===e.length||r.start>e[e.length-1].end?e.push({start:r.start,end:r.end}):e[e.length-1].end=r.end}var n={start:function(t){return e[t].start},end:function(t){return e[t].end}};return Object.defineProperty(n,"length",{get:function(){return e.length}}),n},append:function(e){return"InitializationSegment"!==e.segmentType?(o.push(e),o.sort((function(e,t){return e.start-t.start})),n=null):n=e,r.debug("PreBufferSink appended chunk s: "+e.start+"; e: "+e.end),a&&a({chunk:e}),Promise.resolve()},remove:s,abort:function(){return Promise.resolve()},discharge:function(e,t){var r=function(e,t){return o.filter((function(r){return(isNaN(t)||r.start<t)&&(isNaN(e)||r.end>e)}))}(e,t);return n&&(r.push(n),n=null),s(e,t),r},reset:function(){o=[],n=null,a=null},updateTimestampOffset:function(){return Promise.resolve()},waitForUpdateEnd:function(e){e()},getBuffer:function(){return this}},r=(0,d.Z)(i).getInstance().getLogger(t),t}P.__dashjs_factory_name="PreBufferSink";var O=c.Z.getClassFactory(P);function j(){var e={};return{save:function(t){var r=t.streamId,n=t.representationId;e[r]=e[r]||{},e[r][n]=t},extract:function(t,r){return e&&e[t]&&e[t][r]?e[t][r]:null},reset:function(){e={}}}}j.__dashjs_factory_name="InitCache";var N=c.Z.getSingletonFactory(j),L=.01,D="BufferController";function F(e){e=e||{};var t,r,n,i,a,c,h,p,m,g,y,v,b,_,x,S,T,A,R,I,P,j=this.context,F=(0,l.Z)(j).getInstance(),U=e.errHandler,B=e.fragmentModel,G=e.representationController,z=e.adapter,V=e.textController,H=e.abrController,W=e.playbackController,Z=e.streamInfo,q=e.type,Y=e.settings;function X(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise((function(r,n){c=e,m&&t&&"function"==typeof m.discharge?(g=m,Q(t).then((function(){r()})).catch((function(e){n(e)}))):r()}))}function K(e){return z.convertRepresentationToRepresentationInfo(G.getRepresentationForQuality(e))}function Q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new Promise((function(r,n){A&&e?c?(y=!1,J(e,t).then((function(e){r(e)})).catch((function(e){n(e)}))):(y=!0,$().then((function(e){r(e)})).catch((function(e){n(e)}))):r(null)}))}function $(){var e=this;return new Promise((function(t,r){var n=H.getQualityFor(q,Z.id);m=O(j).create(ie.bind(e)),_e(K(n)).then((function(){t(m)})).catch((function(){r()}))}))}function J(e,t){return new Promise((function(n,i){var a=H.getQualityFor(q,Z.id);m=k(j).create({mediaSource:c,textController:V,eventBus:F}),function(e,t,r){var n=K(r);return t&&t[q]&&(q===o.Z.VIDEO||q===o.Z.AUDIO)?m.initializeForStreamSwitch(e,n,t[q]):m.initializeForFirstUse(Z,e,n)}(e,t,a).then((function(){return _e(K(a))})).then((function(){n(m)})).catch((function(e){r.fatal("Caught error on create SourceBuffer: "+e),U.error(new E.Z(M.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,M.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+q)),i(e)}))}))}function ee(e){Y.get().streaming.cacheInitSegments&&(r.info("Init fragment finished loading saving to",q+"'s init cache"),A.save(e.chunk)),r.debug("Append Init fragment",q," with representationId:",e.chunk.representationId," and quality:",e.chunk.quality,", data size:",e.chunk.bytes.byteLength),re(e.chunk)}function te(e){re(e.chunk,e.request)}function re(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;m&&(m.append(e,t).then((function(e){ie(e)})).catch((function(e){ie(e)})),e.mediaInfo.type===o.Z.VIDEO&&Re(u.Z.VIDEO_CHUNK_RECEIVED,{chunk:e}))}function ne(e){if(e&&e.length>0)for(var t=0,n=e.length;t<n;t++)r.debug("Buffered range: "+e.start(t)+" - "+e.end(t)+", currentTime = ",W.getTime())}function ie(e){if(e.error)return 22===e.error.code&&function(){if(T=!0,a=.8*Te(),r.warn("Quota exceeded, Critical Buffer: "+a),a>0){var e=Math.max(.2*a,1),t=a-e,n=Math.min(Y.get().streaming.buffer.bufferTimeAtTopQuality,.9*t),i=Math.min(Y.get().streaming.buffer.bufferTimeAtTopQualityLongForm,.9*t),o={streaming:{buffer:{bufferToKeep:parseFloat(e.toFixed(5)),bufferTimeAtTopQuality:parseFloat(n.toFixed(5)),bufferTimeAtTopQualityLongForm:parseFloat(i.toFixed(5))}}};Y.update(o)}}(),void(22!==e.error.code&&Me()||(r.warn("Clearing playback buffer to overcome quota exceed situation"),Re(u.Z.QUOTA_EXCEEDED,{criticalBufferLevel:a,quotaExceededTime:e.chunk.start}),ye(ge())));if(m&&(de(),T=!1,(_=e.chunk)&&_.endFragment)){_&&!isNaN(_.index)&&(h=Math.max(_.index,h),fe());var t=m.getAllBufferRanges();_.segmentType===C.w.MEDIA_SEGMENT_TYPE&&(ne(t),se(),function(){if(!isNaN(P)&&!y)if(q===o.Z.AUDIO||q===o.Z.VIDEO){var e=W.getTime(),t=ce(e,0),r=ce(P,0);if(t&&r&&t.start===r.start)P=NaN;else{var n=G.getCurrentRepresentation().segmentDuration,i=ce(P,n);i&&(Y.get().streaming.buffer.enableSeekDecorrelationFix&&Math.abs(e-P)>n?P<=i.end&&W.seek(Math.max(P,i.start),!1,!0):e<i.start&&W.seek(i.start,!1,!0))}}else P=NaN}());var n=!1;v&&(v.indexOf(_)>0&&(n=!0),v=null),_&&!n&&Re(u.Z.BYTES_APPENDED_END_FRAGMENT,{quality:_.quality,startTime:_.start,index:_.index,bufferedRanges:t,segmentType:_.segmentType,mediaType:q})}}function oe(){return new Promise((function(e,t){var r=ae();if(!r||0===r.length)return se(),void e();ye(r).then((function(){e()})).catch((function(e){t(e)}))}))}function ae(e){var t=[],n=m.getAllBufferRanges();if(!n||0===n.length)return t;if(!e&&0!==e||isNaN(e))t.push({start:n.start(0),end:n.end(n.length-1)+.5});else{var i=function(e,t){var r=Y.get().streaming.buffer.bufferToKeep,n=t.start(0);if(e-n>r){var i=Math.max(0,e-r),o=B.getRequests({state:w.FRAGMENT_MODEL_EXECUTED,time:e,threshold:L})[0];if(o&&(i=Math.min(o.startTime,i)),i>0)return{start:n,end:i}}return null}(e,n),o=function(e,t){var n=t.end(t.length-1)+.5,i=Ae(e),o=Z.manifestInfo.duration>=Y.get().streaming.buffer.longFormContentDurationThreshold?Y.get().streaming.buffer.bufferTimeAtTopQualityLongForm:Y.get().streaming.buffer.bufferTimeAtTopQuality,a=isNaN(i)?e:Math.min(i,e+o);if(a>=t.end(t.length-1))return null;var s=B.getRequests({state:w.FRAGMENT_MODEL_EXECUTED,time:e,threshold:L})[0];if(s&&(a=Math.max(s.startTime+s.duration,a)),Y.get().streaming.buffer.avoidCurrentTimeRangePruning)for(var l=0;l<t.length;l++)if(t.start(l)<=e&&e<=t.end(l)&&t.start(l)<=a&&a<=t.end(l)){var u=a;a=l+1<t.length?t.start(l+1):t.end(l)+1,r.debug("Buffered range ["+t.start(l)+", "+t.end(l)+"] overlaps with targetTime "+e+" and range to be pruned ["+u+", "+n+"], using ["+a+", "+n+"] instead"+(a<n?"":" (no actual pruning)"));break}return a<t.end(t.length-1)?{start:a,end:n}:null}(e,n);i&&t.push(i),o&&t.push(o)}return t}function se(){(!I||q===o.Z.TEXT&&V.isTextEnabled())&&de()}function le(){he()}function ue(){he(),P=NaN}function ce(e,t){if(!m)return null;var r,n,i=m.getAllBufferRanges(),o=0,a=0,s=null,l=null,u=0,c=isNaN(t)?.15:t;if(null!=i){for(n=0,r=i.length;n<r;n++)if(o=i.start(n),a=i.end(n),null===s)u=Math.abs(o-e),(e>=o&&e<a||u<=c)&&(s=o,l=a);else{if(!((u=o-l)<=c))break;l=a}if(null!==s)return{start:s,end:l}}return null}function de(){if(W){var e=W.getTime()||0;y&&(e=isNaN(P)?0:P);var t=Y.get().streaming.gaps.jumpGaps&&!isNaN(Y.get().streaming.gaps.smallGapLimit)?Y.get().streaming.gaps.smallGapLimit:NaN;i=Math.max(function(e,t){var r;return Y.get().streaming.gaps.jumpGaps&&(t=Y.get().streaming.gaps.smallGapLimit),null===(r=ce(e,t))?0:r.end-e}(e,t),0),Re(u.Z.BUFFER_LEVEL_UPDATED,{mediaType:q,bufferLevel:i}),he()}}function fe(){var e=h>=p-1,t=W.getTimeToStreamEnd(Z)-i<1e-5;!e&&!t||n||(Se(!0),r.debug("checkIfBufferingCompleted trigger BUFFERING_COMPLETED for stream id ".concat(Z.id," and type ").concat(q)))}function he(){q!==o.Z.AUDIO&&q!==o.Z.VIDEO||((!W.getLowLatencyModeEnabled()&&i<Y.get().streaming.buffer.stallThreshold||0===i)&&!n?pe(s.Z.BUFFER_EMPTY):(n||i>=Y.get().streaming.buffer.stallThreshold||W.getLowLatencyModeEnabled()&&i>0)&&pe(s.Z.BUFFER_LOADED))}function pe(e){b===e||e===s.Z.BUFFER_EMPTY&&0===W.getTime()||q===o.Z.TEXT&&!V.isTextEnabled()||(b=e,Re(u.Z.BUFFER_LEVEL_STATE_CHANGED,{state:e}),Re(e===s.Z.BUFFER_LOADED?u.Z.BUFFER_LOADED:u.Z.BUFFER_EMPTY),r.debug(e===s.Z.BUFFER_LOADED?"Got enough buffer to start":"Waiting for more buffer before starting playback"))}function me(){m&&q!==o.Z.TEXT&&(n||ye(ge()))}function ge(){var e=[],t=m.getAllBufferRanges();if(!t||0===t.length)return e;var r=W.getTime(),n=Math.max(0,r-Y.get().streaming.buffer.bufferToKeep),i=B.getRequests({state:w.FRAGMENT_MODEL_EXECUTED,time:r,threshold:L})[0];if(i)n=Math.min(i.startTime,n);else if(0===r&&W.getIsDynamic())return[];if(t.start(0)<=n){for(var o={start:0,end:n},a=0;a<t.length&&t.end(a)<=n;a++)o.end=t.end(a);o.start<o.end&&e.push(o)}return e}function ye(e){return new Promise((function(t,r){if(e&&m&&0!==e.length){var n=[];e.forEach((function(e){n.push(function(e){return new Promise((function(t,r){e.resolve=t,e.reject=r,R.push(e)}))}(e))})),S||ve(),Promise.all(n).then((function(){t()})).catch((function(e){r(e)}))}else t()}))}function ve(){try{if(0===R.length||!m)return r.debug("Nothing to prune, halt pruning"),R=[],void(S=!1);var e=m.getBuffer();if(!e||!e.buffered||0===e.buffered.length)return r.debug("SourceBuffer is empty (or does not exist), halt pruning"),R=[],void(S=!1);var t=R.shift();r.debug("".concat(q,": Removing buffer from: ").concat(t.start," to ").concat(t.end)),S=!0,W.getTime()<t.end&&Se(!1),m.remove(t).then((function(e){be(e)})).catch((function(e){be(e)}))}catch(e){S=!1}}function be(e){r.debug("onRemoved buffer from:",e.from,"to",e.to),m&&(ne(m.getAllBufferRanges()),0===R.length&&(S=!1,de()),e.unintended&&(r.warn("Detected unintended removal from:",e.from,"to",e.to,"setting streamprocessor time to",e.from),Re(u.Z.SEEK_TARGET,{time:e.from})),S?ve():(I?I=!1:de(),Re(u.Z.BUFFER_CLEARED,{from:e.from,to:e.to,unintended:e.unintended,hasEnoughSpaceToAppend:Me(),quotaExceeded:T})))}function _e(e){return new Promise((function(t){e&&void 0!==e.MSETimeOffset&&m&&m.updateTimestampOffset?m.updateTimestampOffset(e.MSETimeOffset).then((function(){t()})).catch((function(){t()})):t()}))}function we(){return m&&!n?m.updateAppendWindow(Z):Promise.resolve()}function Ee(){++x*(Y.get().streaming.wallclockTimeUpdateInterval/1e3)>=Y.get().streaming.buffer.bufferPruningInterval&&(x=0,me())}function xe(){he()}function Se(e){(n=e)?Re(u.Z.BUFFERING_COMPLETED):p=Number.POSITIVE_INFINITY}function Te(){try{var e,t,r=m.getAllBufferRanges(),n=0;if(!r)return n;for(t=0,e=r.length;t<e;t++)n+=r.end(t)-r.start(t);return n}catch(e){return 0}}function Ae(e){try{var t=e,r=m.getAllBufferRanges();if(!r||0===r.length)return NaN;for(var n=0;t===e&&n<r.length;){var i=r.start(n),o=r.end(n);t>=i&&t<=o&&(t=o),n+=1}return t===e?NaN:t}catch(e){}}function Me(){var e=Te();return isNaN(e)||e<a}function Re(e,t){var r=t||{};F.trigger(e,r,{streamId:Z.id,mediaType:q})}function Ce(e,t){if(a=Number.POSITIVE_INFINITY,b=void 0,p=Number.POSITIVE_INFINITY,h=0,_=null,n=!1,S=!1,T=!1,i=0,x=0,R=[],P=NaN,y=!1,m){var r=m;m=null,e||t||r.abort().then((function(){r.reset(t),r=null}))}I=!1}return t={initialize:function(e){X(e),F.on(u.Z.INIT_FRAGMENT_LOADED,ee,t),F.on(u.Z.MEDIA_FRAGMENT_LOADED,te,t),F.on(u.Z.WALLCLOCK_TIME_UPDATED,Ee,t),F.on(f.Z.PLAYBACK_PLAYING,ue,t),F.on(f.Z.PLAYBACK_PROGRESS,se,t),F.on(f.Z.PLAYBACK_TIME_UPDATED,se,t),F.on(f.Z.PLAYBACK_RATE_CHANGED,xe,t),F.on(f.Z.PLAYBACK_STALLED,le,t)},getStreamId:function(){return Z.id},getType:function(){return q},getBufferControllerType:function(){return D},createBufferSink:Q,dischargePreBuffer:function(){if(m&&g&&"function"==typeof g.discharge){var e=g.getAllBufferRanges();if(e.length>0){for(var t="Beginning "+q+"PreBuffer discharge, adding buffer for:",n=0;n<e.length;n++)t+=" start: "+e.start(n)+", end: "+e.end(n)+";";r.debug(t)}else r.debug("PreBuffer discharge requested, but there were no media segments in the PreBuffer.");v=[];for(var i=g.discharge(),o=null,a=0;a<i.length;a++){var s=i[a];if(s.segmentType!==C.w.INIT_SEGMENT_TYPE){var l=A.extract(s.streamId,s.representationId);l&&o!==l&&(v.push(l),m.append(l),o=l)}v.push(s),m.append(s)}g.reset(),g=null}},getBuffer:function(){return m},getBufferLevel:function(){return i},getRangeAt:ce,hasBufferAtTime:function(e){try{var t=m.getAllBufferRanges();if(!t||0===t.length)return!1;for(var n=0;n<t.length;){var i=t.start(n),o=t.end(n);if(e>=i&&e<=o)return!0;n+=1}return!1}catch(e){return r.error(e),!1}},pruneBuffer:me,setMediaSource:X,getMediaSource:function(){return c},appendInitSegmentFromCache:function(e){var t=A.extract(Z.id,e);return!!t&&(r.info("Append Init fragment",q," with representationId:",t.representationId," and quality:",t.quality,", data size:",t.bytes.byteLength),re(t),!0)},getIsBufferingCompleted:function(){return n},setIsBufferingCompleted:Se,getIsPruningInProgress:function(){return S},reset:function(e,t){F.off(u.Z.INIT_FRAGMENT_LOADED,ee,this),F.off(u.Z.MEDIA_FRAGMENT_LOADED,te,this),F.off(u.Z.WALLCLOCK_TIME_UPDATED,Ee,this),F.off(f.Z.PLAYBACK_PLAYING,ue,this),F.off(f.Z.PLAYBACK_PROGRESS,se,this),F.off(f.Z.PLAYBACK_TIME_UPDATED,se,this),F.off(f.Z.PLAYBACK_RATE_CHANGED,xe,this),F.off(f.Z.PLAYBACK_STALLED,le,this),Ce(e,t)},prepareForPlaybackSeek:function(){return n&&Se(!1),m.abort()},prepareForReplacementTrackSwitch:function(e){return new Promise((function(t,r){m.abort().then((function(){return we()})).then((function(){return Y.get().streaming.buffer.useChangeTypeForTrackSwitch?m.changeType(e):Promise.resolve()})).then((function(){return oe()})).then((function(){Se(!1),t()})).catch((function(e){r(e)}))}))},prepareForNonReplacementTrackSwitch:function(e){return new Promise((function(t,r){we().then((function(){return Y.get().streaming.buffer.useChangeTypeForTrackSwitch?m.changeType(e):Promise.resolve()})).then((function(){t()})).catch((function(e){r(e)}))}))},prepareForForceReplacementQualitySwitch:function(e){return new Promise((function(t,r){m.abort().then((function(){return we()})).then((function(){return oe()})).then((function(){return _e(e)})).then((function(){Se(!1),t()})).catch((function(e){r(e)}))}))},updateAppendWindow:we,getAllRangesWithSafetyFactor:ae,getContinuousBufferTimeForTargetTime:Ae,clearBuffers:ye,pruneAllSafely:oe,updateBufferTimestampOffset:_e,setSeekTarget:function(e){P=e},segmentRequestingCompleted:function(e){isNaN(e)||(p=e,fe())}},r=(0,d.Z)(j).getInstance().getLogger(t),A=N(j).getInstance(),Ce(),t}F.__dashjs_factory_name=D;var U=c.Z.getClassFactory(F),B="NotFragmentedTextBufferController";function G(e){e=e||{};var t,r,n,i,o,a,s=this.context,c=(0,l.Z)(s).getInstance(),d=e.textController,f=e.errHandler,h=e.streamInfo,p=e.type;function m(e){i=e}function g(e){var t,n;r!==e&&(r=e)&&(t=u.Z.BUFFERING_COMPLETED,n={},c.trigger(t,n,{streamId:h.id,mediaType:p}))}function y(e){e.chunk.bytes&&!r&&(a.save(e.chunk),o.append(e.chunk),g(!0))}return t={initialize:function(e){m(e)},getStreamId:function(){return h.id},getType:function(){return p},getBufferControllerType:function(){return B},createBufferSink:function(e){return new Promise((function(t,r){try{(o=k(s).create({mediaSource:i,textController:d,eventBus:c})).initializeForFirstUse(h,e),n||(o.getBuffer()&&"function"==typeof o.getBuffer().initialize&&o.getBuffer().initialize(),n=!0),t(o)}catch(e){f.error(new E.Z(M.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,M.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+p)),r(e)}}))},dischargePreBuffer:function(){},getBuffer:function(){return o},getBufferLevel:function(){return 0},getRangeAt:function(){return null},pruneBuffer:function(){},hasBufferAtTime:function(){return!0},getAllRangesWithSafetyFactor:function(){return[]},getContinuousBufferTimeForTargetTime:function(){return Number.POSITIVE_INFINITY},setMediaSource:m,getMediaSource:function(){return i},appendInitSegmentFromCache:function(e){return null!==a.extract(h.id,e)},getIsBufferingCompleted:function(){return r},setIsBufferingCompleted:g,getIsPruningInProgress:function(){return!1},reset:function(e){c.off(u.Z.INIT_FRAGMENT_LOADED,y,t),!e&&o&&(o.abort(),o.reset(),o=null)},clearBuffers:function(){return Promise.resolve()},prepareForPlaybackSeek:function(){return Promise.resolve()},prepareForReplacementTrackSwitch:function(){return r=!1,Promise.resolve()},setSeekTarget:function(){},updateAppendWindow:function(){return Promise.resolve()},pruneAllSafely:function(){return Promise.resolve()},updateBufferTimestampOffset:function(){return Promise.resolve()},segmentRequestingCompleted:function(){}},n=!1,i=null,r=!1,a=N(s).getInstance(),c.on(u.Z.INIT_FRAGMENT_LOADED,y,t),t}G.__dashjs_factory_name=B;var z=c.Z.getClassFactory(G);function V(e){e=e||{};var t,r,n,i,a,c,h,p,m,g,y,v,b,_=this.context,E=(0,l.Z)(_).getInstance(),x=e.dashMetrics,S=e.mediaPlayerModel,T=e.fragmentModel,A=e.abrController,M=e.playbackController,R=e.textController,C=e.type,I=e.bufferController,k=e.representationController,P=e.settings;function O(){v=!0}function j(){v=!1}function N(e){if(!I.getIsBufferingCompleted()){L();var t=isNaN(e)?0:e;a=setTimeout(D,t)}}function L(){a&&(clearTimeout(a),a=null)}function D(){try{if(function(){try{return C===o.Z.TEXT&&!R.isTextEnabled()||M.isPaused()&&(!M.getStreamController().getInitialPlayback()||!M.getStreamController().getAutoPlay())&&!P.get().streaming.scheduling.scheduleWhilePaused}catch(e){return!1}}())return void L();if(function(){try{return!!v&&k.getCurrentRepresentationInfo()&&(isNaN(m)||g||(e=r.id,t=A.getMaxAllowedIndexFor(C,e),!(!isNaN(p)&&p==t||(n.info("Top quality "+C+" index has changed from "+p+" to "+t),p=t,0)))||function(){var e=k.getCurrentRepresentationInfo();return!C||!e||x.getCurrentBufferLevel(C)<F()}())}catch(e){return!1}var e,t}()){var e=!1;b&&(e=A.checkPlaybackQuality(C,r.id)),e||(i=k.getCurrentRepresentationInfo(),y||i.quality!==m||g?(g?(n.debug("Switch track for "+C+", representation id = "+i.id),g=!1):n.debug("Quality has changed, get init request for representationid = "+i.id),E.trigger(u.Z.INIT_FRAGMENT_NEEDED,{representationId:i.id,sender:t},{streamId:r.id,mediaType:C}),b=!1,y=!1):(n.debug("Media segment needed for ".concat(C," and stream id ").concat(r.id)),E.trigger(u.Z.MEDIA_FRAGMENT_NEEDED,{},{streamId:r.id,mediaType:C}),b=!0))}else N(M.getLowLatencyModeEnabled()?P.get().streaming.scheduling.lowLatencyTimeout:P.get().streaming.scheduling.defaultTimeout)}catch(e){N(M.getLowLatencyModeEnabled()?P.get().streaming.scheduling.lowLatencyTimeout:P.get().streaming.scheduling.defaultTimeout)}var i}function F(){var e=NaN,t=k.getCurrentRepresentationInfo();return C&&t?(e=C===o.Z.TEXT?function(){try{if(R.isTextEnabled()){var e=k.getCurrentRepresentationInfo();if(isNaN(e.fragmentDuration)){var t=x.getCurrentSchedulingInfo(s.Z.SCHEDULING_INFO);return t?t.duration:0}return e.fragmentDuration}return 0}catch(e){return 0}}():C===o.Z.AUDIO&&c?function(){try{var e=x.getCurrentBufferLevel(o.Z.VIDEO),t=k.getCurrentRepresentationInfo();return isNaN(t.fragmentDuration)?e+1:Math.max(e+1,t.fragmentDuration)}catch(e){return 0}}():function(){try{var e=k.getCurrentRepresentationInfo().mediaInfo.streamInfo;return A.isPlayingAtTopQuality(e)?e.manifestInfo.duration>=P.get().streaming.buffer.longFormContentDurationThreshold?P.get().streaming.buffer.bufferTimeAtTopQualityLongForm:P.get().streaming.buffer.bufferTimeAtTopQuality:S.getStableBufferTime()}catch(e){return S.getStableBufferTime()}}(),e):e}function U(){B(!0)}function B(e){if(M&&T){var t=T.getRequests({state:w.FRAGMENT_MODEL_EXECUTED,time:M.getTime(),threshold:0})[0];t&&M.getTime()>=t.startTime&&((!h.mediaInfo||t.mediaInfo.type===h.mediaInfo.type&&t.mediaInfo.index!==h.mediaInfo.index)&&e&&E.trigger(u.Z.TRACK_CHANGE_RENDERED,{mediaType:C,oldMediaInfo:h.mediaInfo,newMediaInfo:t.mediaInfo,streamId:r.id}),t.quality===h.quality&&t.adaptationIndex===h.adaptationIndex||!e||(n.debug("Quality change rendered for streamId ".concat(r.id," and type ").concat(C)),E.trigger(u.Z.QUALITY_CHANGE_RENDERED,{mediaType:C,oldQuality:h.quality,newQuality:t.quality,streamId:r.id})),h={mediaInfo:t.mediaInfo,quality:t.quality,adaptationIndex:t.adaptationIndex})}}function G(){T.abortRequests(),L()}function z(){P.get().streaming.scheduling.scheduleWhilePaused||N()}function V(e){x.updatePlayListTraceMetrics({playbackspeed:e.playbackRate.toString()})}function H(){b=!0,i=0,m=NaN,h={mediaInfo:void 0,quality:NaN,adaptationIndex:NaN},p=NaN,g=!1,y=!1,v=!0}return t={initialize:function(e){c=e,E.on(u.Z.URL_RESOLUTION_FAILED,G,t),E.on(f.Z.PLAYBACK_STARTED,z,t),E.on(f.Z.PLAYBACK_RATE_CHANGED,V,t),E.on(f.Z.PLAYBACK_TIME_UPDATED,U,t),E.on(f.Z.MANAGED_MEDIA_SOURCE_START_STREAMING,O,t),E.on(f.Z.MANAGED_MEDIA_SOURCE_END_STREAMING,j,t)},getType:function(){return C},getStreamId:function(){return r.id},setTimeToLoadDelay:function(e){i=e},getTimeToLoadDelay:function(){return i},setSwitchTrack:function(e){g=e},getSwitchTrack:function(){return g},startScheduleTimer:N,clearScheduleTimer:L,reset:function(){E.off(u.Z.URL_RESOLUTION_FAILED,G,t),E.off(f.Z.PLAYBACK_STARTED,z,t),E.off(f.Z.PLAYBACK_RATE_CHANGED,V,t),E.off(f.Z.PLAYBACK_TIME_UPDATED,U,t),E.off(f.Z.MANAGED_MEDIA_SOURCE_START_STREAMING,O,t),E.off(f.Z.MANAGED_MEDIA_SOURCE_END_STREAMING,j,t),L(),B(!1),H(),r=null},getBufferTarget:F,getPlaybackController:function(){return M},setCheckPlaybackQuality:function(e){b=e},setInitSegmentRequired:function(e){y=e},setLastInitializedQuality:function(e){m=e}},n=(0,d.Z)(_).getInstance().getLogger(t),H(),r=e.streamInfo,t}V.__dashjs_factory_name="ScheduleController";var H=c.Z.getClassFactory(V),W=r(7387);function Z(e){var t,r,n,i,a,s,l=(e=e||{}).eventBus,u=e.events,c=e.abrController,d=e.dashMetrics,h=e.playbackController,p=e.timelineConverter,m=e.type,g=e.streamInfo,y=e.dashConstants,v=e.segmentsController,b=e.isDynamic,_=e.adapter;function w(){return m}function E(){return n}function x(){return s}function S(){r=null,n=!0,i=[],a=null}function T(e){return new Promise((function(t,r){var n=e.hasInitialization(),o=e.hasSegments(),a=[];a.push(v.updateInitData(e,n)),a.push(v.updateSegmentData(e,o)),Promise.all(a).then((function(r){var n;r[0]&&!r[0].error&&(e=function(e,t){return t&&!t.error&&t.representation?t.representation:e}(e,r[0])),r[1]&&!r[1].error&&(e=function(e,t){if(t&&!t.error){var r,n,i,o,a=t.segments,s=[],l=0;for(r=0,n=a?a.length:0;r<n;r++)i=a[r],(o=(0,W.TJ)(p,b,e,i.startTime,i.duration,i.timescale,i.media,i.mediaRange,l))&&(s.push(o),o=null,l++);return s.length>0&&(e.segments=s),e}}(e,r[1])),(n=e).mediaFinishedInformation=v.getMediaFinishedInformation(n),function(e){if(E()){var t,r,n=d.getCurrentManifestUpdate(),o=!1;if(n){for(var a=0;a<n.representationInfo.length;a++)if((t=n.representationInfo[a]).index===e.index&&t.mediaType===w()){o=!0;break}o||d.addManifestUpdateRepresentationInfo(e,w())}if(function(){for(var e=0,t=i.length;e<t;e++){var r=i[e].segmentInfoType;if(!i[e].hasInitialization()||(r===y.SEGMENT_BASE||r===y.BASE_URL)&&!i[e].segments)return!1}return!0}()){c.setPlaybackQuality(m,g,(r=s,i.indexOf(r)));var l=d.getCurrentDVRInfo(m);l&&d.updateManifestUpdateInfo({latency:l.range.end-h.getTime()}),d.getCurrentRepresentationSwitch(x().adaptation.type)||A(),R()}}}(e),t()})).catch((function(e){r(e)}))}))}function A(){!function(){if(!(c&&d&&h&&p))throw new Error(o.Z.MISSING_CONFIG_ERROR)}();var e=new Date,t=x(),r=1e3*h.getTime();t&&d.addRepresentationSwitch(t.adaptation.type,e,r,t.id),l.trigger(f.Z.REPRESENTATION_SWITCH,{mediaType:m,streamId:g.id,currentRepresentation:t,numberOfRepresentations:i.length},{streamId:g.id,mediaType:m})}function M(e){return null==e||e>=i.length?null:i[e]}function R(e){n=!1,l.trigger(u.DATA_UPDATE_COMPLETED,{data:r,currentRepresentation:s,error:e},{streamId:g.id,mediaType:m})}function C(e){s=e,a=_.convertRepresentationToRepresentationInfo(s)}function I(e){if(e.newDuration){var t=x();t&&t.adaptation.period&&(t.adaptation.period.duration=e.newDuration)}}return t={getStreamId:function(){return g.id},getType:w,getData:function(){return r},isUpdating:E,updateData:function(e,t,a,s,l){return new Promise((function(u,c){if(n=!0,i=t,r=e,C(M(l)),a!==o.Z.VIDEO&&a!==o.Z.AUDIO&&(a!==o.Z.TEXT||!s))return R(),void u();for(var d=[],f=0,h=i.length;f<h;f++){var p=i[f];d.push(T(p))}Promise.all(d).then((function(){C(M(l)),u()})).catch((function(e){c(e)}))}))},getCurrentRepresentation:x,getCurrentRepresentationInfo:function(){return a},getRepresentationForQuality:M,prepareQualityChange:function(e){C(M(e)),A()},reset:function(){l.off(f.Z.MANIFEST_VALIDITY_CHANGED,I,t),S()}},S(),l.on(f.Z.MANIFEST_VALIDITY_CHANGED,I,t),t}Z.__dashjs_factory_name="RepresentationController";var q=c.Z.getClassFactory(Z),Y=r(3106),X=r(9326),K=r(7473),Q=r(2594);function $(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var J=function e(){$(this,e),this.start=null,this.mstart=null,this.starttype=null,this.trace=[]};J.INITIAL_PLAYOUT_START_REASON="initial_playout",J.SEEK_START_REASON="seek",J.RESUME_FROM_PAUSE_START_REASON="resume",J.METRICS_COLLECTION_START_REASON="metrics_collection_start";var ee=function e(){$(this,e),this.representationid=null,this.subreplevel=null,this.start=null,this.mstart=null,this.duration=null,this.playbackspeed=null,this.stopreason=null};ee.REPRESENTATION_SWITCH_STOP_REASON="representation_switch",ee.REBUFFERING_REASON="rebuffering",ee.USER_REQUEST_STOP_REASON="user_request",ee.END_OF_PERIOD_STOP_REASON="end_of_period",ee.END_OF_CONTENT_STOP_REASON="end_of_content",ee.METRICS_COLLECTION_STOP_REASON="metrics_collection_end",ee.FAILURE_STOP_REASON="failure";var te=r(7802);function re(){return{ntpToUTC:function(e){var t=new Date(Date.UTC(1900,0,1,0,0,0));return new Date(t.getTime()+e).getTime()}}}re.__dashjs_factory_name="TimeUtils";var ne=c.Z.getSingletonFactory(re);function ie(e){e=e||{};var t,r,n,i,c,h,p,m,g,y,v,b,_,x,S,T=this.context,A=(0,l.Z)(T).getInstance(),R=e.streamInfo,I=e.type,k=e.errHandler,P=e.mimeType,O=e.timelineConverter,j=e.adapter,N=e.manifestModel,L=e.mediaPlayerModel,D=e.fragmentModel,F=e.abrController,B=e.playbackController,G=e.mediaController,V=e.textController,W=e.dashMetrics,Z=e.settings,$=e.boxParser,J=e.segmentBlacklistController;function re(){return R.id}function ie(){return I}function oe(){return j.getIsTextTrack(m.getData())}function ae(){c=[],i=null,x=0,g=!1,y=!1,v=!1,S=null}function se(e){return!isNaN(e)&&!isNaN(R.duration)&&isFinite(R.duration)&&e>=R.start+R.duration}function le(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.sender)if(B.getIsManifestUpdateInProgress())he();else if((!oe()||V.isTextEnabled())&&h&&e.representationId&&!h.appendInitSegmentFromCache(e.representationId)){var r=m.getCurrentRepresentation();if(0===r.range)return void ue();var n=b?b.getInitRequest(i,r):null;n?D.executeRequest(n):t&&(p.setInitSegmentRequired(!0),he())}}function ue(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(B.getIsManifestUpdateInProgress()||h.getIsPruningInProgress())he();else{var r=fe();r?(g=!1,y=!1,ce(r)):de(t)}}function ce(e){isNaN(e.startTime+e.duration)||(x=e.startTime+e.duration),e.delayLoadingTime=(new Date).getTime()+p.getTimeToLoadDelay(),p.setTimeToLoadDelay(0),function(e){var t=e.url;return e.range&&(t=t.concat("_",e.range)),J.contains(t)}(e)?(r.warn("Fragment request url ".concat(e.url," for stream id ").concat(R.id," and media type ").concat(I," is on the ignore list and will be skipped")),he()):(r.debug("Next fragment request url for stream id ".concat(R.id," and media type ").concat(I," is ").concat(e.url)),D.executeRequest(e))}function de(e){var t,o=m.getCurrentRepresentation();if(!Z.get().streaming.gaps.enableSeekFix||!g&&0!==B.getTime()||(n?n&&o.segmentInfoType===a.Z.SEGMENT_TIMELINE&&(t=b.getValidTimeAheadOfTargetTime(x,i,o,Z.get().streaming.gaps.threshold)):t=b.getValidTimeAheadOfTargetTime(x,i,o,Z.get().streaming.gaps.threshold),isNaN(t)||t===x)){if(b.isLastSegmentRequested(o,x)){var s=b.getCurrentIndex();return r.debug("Segment requesting for stream ".concat(R.id," has finished")),A.trigger(u.Z.STREAM_REQUESTING_COMPLETED,{segmentIndex:s},{streamId:R.id,mediaType:I}),h.segmentRequestingCompleted(s),void p.clearScheduleTimer()}e&&he()}else B.isSeeking()||0===B.getTime()?(r.warn("Adjusting playback time ".concat(t," because of gap in the manifest. Seeking by ").concat(t-x)),B.seek(t,!1,!1)):(r.warn("Adjusting buffering time ".concat(t," because of gap in the manifest. Adjusting time by ").concat(t-x)),Ne(t),e&&he())}function fe(){var e,t=Re();if(isNaN(x)||ie()===o.Z.TEXT&&!V.isTextEnabled())return null;if(b){var r=m&&t?m.getRepresentationForQuality(t.quality):null;e=g?b.getSegmentRequestForTime(i,r,x):y?b.repeatSegmentRequest(i,r):b.getNextSegmentRequest(i,r)}return e}function he(){p.startScheduleTimer(B.getLowLatencyModeEnabled()?Z.get().streaming.scheduling.lowLatencyTimeout:Z.get().streaming.scheduling.defaultTimeout)}function pe(e){e.error||h.getIsBufferingCompleted()||h.updateBufferTimestampOffset(e.currentRepresentation)}function me(e){W.addBufferState(I,e.state,p.getBufferTarget()),e.state!==s.Z.BUFFER_EMPTY||B.isSeeking()||(r.info("Buffer is empty! Stalling!"),W.pushPlayListTraceMetrics(new Date,ee.REBUFFERING_REASON))}function ge(e){D.syncExecutedRequestsWithBufferedRange(h.getBuffer().getAllBufferRanges(),R.duration),e.quotaExceeded&&e.from>B.getTime()&&Ne(e.from),e.hasEnoughSpaceToAppend&&e.quotaExceeded&&p.startScheduleTimer()}function ye(e){if(e&&e.lastRequestAppended&&e.lastRequestAppended.url){var t=e.lastRequestAppended.url;e.lastRequestAppended.range&&(t=t.concat("_",e.lastRequestAppended.range)),r.warn("Blacklisting segment with url ".concat(t)),J.add(t)}}function ve(e){if(r.debug("Appended bytes for ".concat(e.mediaType," and stream id ").concat(e.streamId)),e.segmentType===C.w.INIT_SEGMENT_TYPE){var t=e.quality;p.setLastInitializedQuality(t),r.info("["+I+"] lastInitializedRepresentationInfo changed to "+e.quality)}S?be(S):p.startScheduleTimer(0)}function be(e){var t=D.getRequests({state:w.FRAGMENT_MODEL_LOADING});if(t&&t.length>0)return r.debug("Preparing for default quality switch: Waiting for ongoing segment request to be finished before applying switch."),void(S=e);h.updateBufferTimestampOffset(e).then((function(){p.setCheckPlaybackQuality(!1),i.segmentAlignment||i.subSegmentAlignment?p.startScheduleTimer():Oe(),S=null,v=!1})).catch((function(){S=null,v=!1}))}function _e(e){r.info("onFragmentLoadingAbandoned request: "+e.request.url+" has been aborted"),B.isSeeking()||p.getSwitchTrack()||v||(r.info("onFragmentLoadingAbandoned request: "+e.request.url+" has to be downloaded again, origin is not seeking process or switch track call"),e.request&&e.request.isInitializationRequest()?p.setInitSegmentRequired(!0):Ne(e.request.startTime+e.request.duration/2),p.startScheduleTimer(0))}function we(e){r.info("OnFragmentLoadingCompleted for stream id "+R.id+" and media type "+I+" - Url:",e.request?e.request.url:"undefined",e.request.range?", Range:"+e.request.range:""),oe()&&p.startScheduleTimer(0),e.error&&e.request.serviceLocation&&function(e){r.info("Fragment loading completed with an error"),e&&e.request&&e.request.type&&(e.request.type===C.w.INIT_SEGMENT_TYPE?le({representationId:e.request.representationId,sender:{}},!1):e.request.type===C.w.MEDIA_SEGMENT_TYPE&&(Ne(e.request.startTime+e.request.duration/2),ue({},!1)))}(e)}function Ee(){Ne(B.getTime()),Me().startScheduleTimer()}function xe(e){var t=e.currentTrackInfo;if(t){var r=c.find((function(e){return e.index===t.index&&e.lang===t.lang}));r&&Ae(r).then((function(){h.setIsBufferingCompleted(!1),Ne(B.getTime()),p.setInitSegmentRequired(!0),p.startScheduleTimer()}))}}function Se(e){Ne(e.quotaExceededTime),p.clearScheduleTimer()}function Te(){return h?h.getBuffer():null}function Ae(e){e===i||e&&i&&e.type!==i.type||(i=e);var t=j.getRealAdaptation(R,i),r=j.getVoRepresentations(i);if(m){var a,s=m.getData(),l=F.getMaxAllowedIndexFor(I,R.id),u=F.getMinAllowedIndexFor(I,R.id),c=null;return null!==s&&s.id===t.id||I===o.Z.TEXT?a=F.getQualityFor(I,R.id):(c=F.getThroughputHistory().getAverageThroughput(I,n)||F.getInitialBitrateFor(I,R.id),a=F.getQualityForBitrate(i,c,R.id)),void 0!==u&&a<u&&(a=u),a>l&&(a=l),m.updateData(t,r,I,i.isFragmented,a)}return Promise.resolve()}function Me(){return p}function Re(e){var t;return void 0!==e?((0,Y.SE)(e),t=m?m.getRepresentationForQuality(e):null):t=m?m.getCurrentRepresentation():null,j.convertRepresentationToRepresentationInfo(t)}function Ce(){return!!h&&h.getIsBufferingCompleted()}function Ie(e){if(Z.get().streaming.enableManifestTimescaleMismatchFix){var t=e.chunk,r=t.bytes,n=Re(t.quality),i=m&&n?m.getRepresentationForQuality(n.quality):null;n&&i&&(i.timescale=$.getMediaTimescaleFromMoov(r))}}function ke(e){var t=e.chunk,r=t.bytes,n=t.quality,i=Re(n),o=m&&i?m.getRepresentationForQuality(i.quality):null;if(i&&o){var s;if(Z.get().streaming.parseInbandPrft&&e.request.type===C.w.MEDIA_SEGMENT_TYPE){var l=function(e,t){var r=e.getBoxes("prft"),n=[];return r.forEach((function(e){n.push(function(e,t){var r="unknown";switch(e.flags){case 0:r=a.Z.PRODUCER_REFERENCE_TIME_TYPE.ENCODER;break;case 16:r=a.Z.PRODUCER_REFERENCE_TIME_TYPE.APPLICATION;break;case 24:r=a.Z.PRODUCER_REFERENCE_TIME_TYPE.CAPTURED}var n=1e3*e.ntp_timestamp_sec+e.ntp_timestamp_frac/Math.pow(2,32)*1e3;return{type:r,ntpTimestamp:n=ne(T).getInstance().ntpToUTC(n),mediaTime:e.media_time/t}}(e,t))})),n}(s=s||$.parse(r),o.timescale);l&&l.length&&A.trigger(f.Z.INBAND_PRFT,{data:l},{streamId:R.id,mediaType:I})}var c=j.getEventsFor(i.mediaInfo,null,R),d=j.getEventsFor(i,o,R);if(c&&c.length>0||d&&d.length>0){var h=D.getRequests({state:w.FRAGMENT_MODEL_EXECUTED,quality:n,index:t.index})[0],p=function(e,t,r,n){try{for(var i={},o=[],a=r.concat(n),s=0,l=a.length;s<l;s++)i[a[s].schemeIdUri+"/"+a[s].value]=a[s];var u=e.getBoxes("emsg");if(!u||0===u.length)return o;for(var c=e.getBox("sidx"),d=!c||isNaN(c.earliest_presentation_time)||isNaN(c.timescale)?t&&!isNaN(t.mediaStartTime)?t.mediaStartTime:0:c.earliest_presentation_time/c.timescale,f=Math.max(d,0),h=m.getCurrentRepresentation(),p=0,g=u.length;p<g;p++){var y=j.getEvent(u[p],i,f,h);y&&o.push(y)}return o}catch(e){return[]}}(s=s||$.parse(r),h,c,d);A.trigger(u.Z.INBAND_EVENTS,{events:p},{streamId:R.id})}}}function Pe(){var e=B.getTime();Z.get().streaming.buffer.flushBufferAtTrackSwitch&&B.seek(e+.001,!1,!0),Ne(e),h.setSeekTarget(e),p.startScheduleTimer()}function Oe(){var e=B.getTime(),t=h.getContinuousBufferTimeForTargetTime(e);Ne(isNaN(t)?e:t),p.startScheduleTimer()}function je(e){e&&!isNaN(e.time)&&(Ne(e.time),h.setSeekTarget(e.time))}function Ne(e){x=e,g=!0}return t={initialize:function(r,i,s){_=(0,te.Z)(T).create({events:u.Z,eventBus:A,streamInfo:R,timelineConverter:O,dashConstants:a.Z,segmentBaseController:e.segmentBaseController,type:I}),b=(0,X.Z)(T).create({streamInfo:R,type:I,timelineConverter:O,dashMetrics:W,mediaPlayerModel:L,baseURLController:e.baseURLController,errHandler:k,segmentsController:_,settings:Z,boxParser:$,events:u.Z,eventBus:A,errors:M,debug:(0,d.Z)(T).getInstance(),requestModifier:(0,K.Z)(T).getInstance(),dashConstants:a.Z,constants:o.Z,urlUtils:(0,Q.Z)(T).getInstance()}),n=R.manifestInfo.isDynamic,b.initialize(n),F.registerStreamType(I,t),m=q(T).create({streamInfo:R,type:I,abrController:F,dashMetrics:W,playbackController:B,timelineConverter:O,dashConstants:a.Z,events:u.Z,eventBus:A,errors:M,isDynamic:n,adapter:j,segmentsController:_}),h=function(e,t){return e?e!==o.Z.TEXT||t?U(T).create({streamInfo:R,type:e,mediaPlayerModel:L,manifestModel:N,fragmentModel:D,errHandler:k,mediaController:G,representationController:m,adapter:j,textController:V,abrController:F,playbackController:B,settings:Z}):z(T).create({streamInfo:R,type:e,mimeType:P,fragmentModel:D,textController:V,errHandler:k,settings:Z}):(k.error(new E.Z(M.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,M.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+"not properly defined")),null)}(I,s),h&&h.initialize(r),(p=H(T).create({streamInfo:R,type:I,mimeType:P,adapter:j,dashMetrics:W,mediaPlayerModel:L,fragmentModel:D,abrController:F,playbackController:B,textController:V,mediaController:G,bufferController:h,representationController:m,settings:Z})).initialize(i),x=0,g=!1,y=!1},getStreamId:re,getType:ie,isUpdating:function(){return!!m&&m.isUpdating()},getBufferController:function(){return h},dischargePreBuffer:function(){h.dischargePreBuffer()},getFragmentModel:function(){return D},getScheduleController:Me,getRepresentationController:function(){return m},getRepresentationInfo:Re,getBufferLevel:function(){return h?h.getBufferLevel():0},isBufferingCompleted:Ce,createBufferSinks:function(e){var t=Te();return t?Promise.resolve(t):h?h.createBufferSink(i,e):Promise.resolve(null)},updateStreamInfo:function(e){return R=e,Ce()?Promise.resolve():h.updateAppendWindow()},getStreamInfo:function(){return R},selectMediaInfo:Ae,clearMediaInfoArray:function(){c=[]},addMediaInfo:function(e){-1===c.indexOf(e)&&c.push(e)},prepareTrackSwitch:function(){return new Promise((function(e){r.debug("Preparing track switch for type ".concat(I));var t=I===o.Z.TEXT||Z.get().streaming.trackSwitchMode[I]===o.Z.TRACK_SWITCH_MODE_ALWAYS_REPLACE&&B.getTimeToStreamEnd(R)>Z.get().streaming.buffer.stallThreshold;if(h.getIsBufferingCompleted()&&!t)return h.prepareForNonReplacementTrackSwitch(i.codec).then((function(){A.trigger(u.Z.BUFFERING_COMPLETED,{},{streamId:R.id,mediaType:I})})).catch((function(){A.trigger(u.Z.BUFFERING_COMPLETED,{},{streamId:R.id,mediaType:I})})),void e();p.clearScheduleTimer(),p.setSwitchTrack(!0),t?(A.trigger(u.Z.BUFFER_REPLACEMENT_STARTED,{mediaType:I,streamId:R.id},{mediaType:I,streamId:R.id}),D.abortRequests(),h.prepareForReplacementTrackSwitch(i.codec).then((function(){var e=Re();return h.updateBufferTimestampOffset(e)})).then((function(){Pe(),e()})).catch((function(){Pe(),e()}))):h.prepareForNonReplacementTrackSwitch(i.codec).then((function(){Oe(),e()})).catch((function(){Oe(),e()}))}))},prepareQualityChange:function(e){S&&r.warning("Canceling queued representation switch to ".concat(S.quality," for ").concat(I)),r.debug("Preparing quality switch for type ".concat(I));var t=e.newQuality;v=!0,p.clearScheduleTimer(),m.prepareQualityChange(t);var n=Re(t);e.reason&&e.reason.forceReplace?function(e){D.abortRequests(),A.trigger(u.Z.BUFFER_REPLACEMENT_STARTED,{mediaType:I,streamId:R.id},{mediaType:I,streamId:R.id}),p.setCheckPlaybackQuality(!1),h.prepareForForceReplacementQualitySwitch(e).then((function(){Pe(),S=null,v=!1})).catch((function(){Pe(),S=null,v=!1}))}(n):e&&e.reason&&e.reason.forceAbandon?function(e){h.updateBufferTimestampOffset(e).then((function(){D.abortRequests(),y=!0,p.setCheckPlaybackQuality(!1),p.startScheduleTimer(),v=!1,S=null})).catch((function(){S=null,v=!1}))}(n):Z.get().streaming.buffer.fastSwitchEnabled?function(e){var t=B.getTime(),r=1.5*(isNaN(e.fragmentDuration)?1:e.fragmentDuration),n=D.getRequests({state:w.FRAGMENT_MODEL_EXECUTED,time:t+r,threshold:0})[0];if(n&&!oe()){var i=h.getBufferLevel(),o=F.getAbandonmentStateFor(R.id,I);n.quality<e.quality&&i>=r&&o!==s.Z.ABANDON_LOAD?h.updateBufferTimestampOffset(e).then((function(){D.abortRequests(),Ne(t+r),p.setCheckPlaybackQuality(!1),p.startScheduleTimer(),v=!1})).catch((function(){v=!1})):be(e)}else be(e)}(n):be(n),W.pushPlayListTraceMetrics(new Date,ee.REPRESENTATION_SWITCH_STOP_REASON),W.createPlaylistTraceMetrics(n.id,1e3*B.getTime(),B.getPlaybackRate())},getMediaInfo:function(){return i},getMediaSource:function(){return h.getMediaSource()},setMediaSource:function(e){return h.setMediaSource(e,i)},getBuffer:Te,setExplicitBufferingTime:Ne,finalisePlayList:function(e,t){W.pushPlayListTraceMetrics(e,t)},probeNextRequest:function(){var e=Re(),t=m&&e?m.getRepresentationForQuality(e.quality):null;return b.getNextSegmentRequestIdempotent(i,t)},prepareInnerPeriodPlaybackSeeking:function(e){return new Promise((function(t){if(h.hasBufferAtTime(e.seekTime))return h.pruneBuffer(),se(h.getContinuousBufferTimeForTargetTime(e.seekTime))&&h.setIsBufferingCompleted(!0),void t();p.clearScheduleTimer(),D.abortRequests(),h.prepareForPlaybackSeek().then((function(){var t=h.getAllRangesWithSafetyFactor(e.seekTime);return h.clearBuffers(t)})).then((function(){var r=h.getContinuousBufferTimeForTargetTime(e.seekTime);if(se(r))h.setIsBufferingCompleted(!0),t();else{var n=isNaN(r)?e.seekTime:r;Ne(n),h.setSeekTarget(n);var i=[];i.push(h.updateAppendWindow());var o=Re();i.push(h.updateBufferTimestampOffset(o)),Promise.all(i).then((function(){p.setInitSegmentRequired(!0),p.setCheckPlaybackQuality(!1),p.startScheduleTimer(),t()}))}})).catch((function(e){r.error(e)}))}))},prepareOuterPeriodPlaybackSeeking:function(){return new Promise((function(e,t){try{p.clearScheduleTimer(),D.abortRequests(),h.prepareForPlaybackSeek().then((function(){return h.pruneAllSafely()})).then((function(){e()}))}catch(e){t(e)}}))},reset:function(e,r){b&&b.reset(),h&&(h.reset(e,r),h=null),p&&(p.reset(),p=null),m&&(m.reset(),m=null),_&&(_=null),F&&F.unRegisterStreamType(re(),I),A.off(u.Z.DATA_UPDATE_COMPLETED,pe,t),A.off(u.Z.INIT_FRAGMENT_NEEDED,le,t),A.off(u.Z.MEDIA_FRAGMENT_NEEDED,ue,t),A.off(u.Z.INIT_FRAGMENT_LOADED,Ie,t),A.off(u.Z.MEDIA_FRAGMENT_LOADED,ke,t),A.off(u.Z.BUFFER_LEVEL_STATE_CHANGED,me,t),A.off(u.Z.BUFFER_CLEARED,ge,t),A.off(u.Z.SEEK_TARGET,je,t),A.off(u.Z.FRAGMENT_LOADING_ABANDONED,_e,t),A.off(u.Z.FRAGMENT_LOADING_COMPLETED,we,t),A.off(u.Z.SET_FRAGMENTED_TEXT_AFTER_DISABLED,Ee,t),A.off(u.Z.SET_NON_FRAGMENTED_TEXT,xe,t),A.off(u.Z.QUOTA_EXCEEDED,Se,t),A.off(u.Z.SOURCE_BUFFER_ERROR,ye,t),A.off(u.Z.BYTES_APPENDED_END_FRAGMENT,ve,t),ae(),I=null,R=null}},r=(0,d.Z)(T).getInstance().getLogger(t),ae(),A.on(u.Z.DATA_UPDATE_COMPLETED,pe,t,{priority:l.Z.EVENT_PRIORITY_HIGH}),A.on(u.Z.INIT_FRAGMENT_NEEDED,le,t),A.on(u.Z.MEDIA_FRAGMENT_NEEDED,ue,t),A.on(u.Z.INIT_FRAGMENT_LOADED,Ie,t),A.on(u.Z.MEDIA_FRAGMENT_LOADED,ke,t),A.on(u.Z.BUFFER_LEVEL_STATE_CHANGED,me,t),A.on(u.Z.BUFFER_CLEARED,ge,t),A.on(u.Z.SEEK_TARGET,je,t),A.on(u.Z.FRAGMENT_LOADING_ABANDONED,_e,t),A.on(u.Z.FRAGMENT_LOADING_COMPLETED,we,t),A.on(u.Z.QUOTA_EXCEEDED,Se,t),A.on(u.Z.SET_FRAGMENTED_TEXT_AFTER_DISABLED,Ee,t),A.on(u.Z.SET_NON_FRAGMENTED_TEXT,xe,t),A.on(u.Z.SOURCE_BUFFER_ERROR,ye,t),A.on(u.Z.BYTES_APPENDED_END_FRAGMENT,ve,t),t}ie.__dashjs_factory_name="StreamProcessor";var oe=c.Z.getClassFactory(ie),ae=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.streamId=null,this.mediaInfo=null,this.segmentType=null,this.quality=NaN,this.index=NaN,this.bytes=null,this.start=NaN,this.end=NaN,this.duration=NaN,this.representationId=null,this.endFragment=null},se=r(9032);function le(e,t){if(e){if("string"==typeof e)return ue(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ue(e,t):void 0}}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ce(e){e=e||{};var t,r,n=this.context,i=e.requestModifier,a=e.lowLatencyThroughputModel,s=e.boxParser,l=(0,R.Z)(n).getInstance();function u(e){var t,n=new Date,u=e.request,f=new Headers;if(u.range&&f.append("Range","bytes="+u.range),e.headers)for(var h in e.headers){var p=e.headers[h];p&&f.append(h,p)}u.requestStartDate||(u.requestStartDate=n),i&&i.modifyRequestHeader&&i.modifyRequestHeader({setRequestHeader:function(e,t){f.append(e,t)}},{url:e.url}),"function"==typeof window.AbortController&&(t=new AbortController,e.abortController=t,t.signal.onabort=e.onabort);var m={method:e.method,headers:f,credentials:e.withCredentials?"include":void 0,signal:t?t.signal:void 0},g=l.get().streaming.abr.fetchThroughputCalculationMode,y=Date.now(),v=0;new Promise((function(e){if(g===o.Z.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&a&&(v=a.getThroughputCapacityDelayMS(u,1e3*r.getCurrentBufferLevel(u.mediaType))))return setTimeout(e,v);e()})).then((function(){var t=Date.now();fetch(e.url,m).then((function(n){e.response||(e.response={}),e.response.status=n.status,e.response.statusText=n.statusText,e.response.responseURL=n.url,n.ok||e.onerror();var i,l="",f=function(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=le(e))){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}(n.headers.keys());try{for(f.s();!(i=f.n()).done;){var h=i.value;l+=h+": "+n.headers.get(h)+"\r\n"}}catch(e){f.e(e)}finally{f.f()}if(e.response.responseHeaders=l,!n.body)return n.arrayBuffer().then((function(t){e.response.response=t;var r={loaded:t.byteLength,total:t.byteLength,stream:!1};e.progress(r),e.onload(),e.onend()}));var p,m,b,_,w=parseInt(n.headers.get("Content-Length"),10),E=0,x=!1,S=new Uint8Array,T=0;if(g===o.Z.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&a){var A=t,M=0,R=(_=2,function(e){if(Array.isArray(e))return e}(b=n.body.tee())||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(b,_)||le(b,_)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),C=R[0],I=R[1];p=C.getReader(),m=[],p.read().then((function n(i){var o=i.value,s=i.done;if(M=Date.now(),o&&o.length){var c=M-A,d=o.length;m.push({chunkDownloadTimeRelativeMS:M-t,chunkDownloadDurationMS:c,chunkBytes:d,kbps:Math.round(8*d/(c/1e3)),bufferLevel:r.getCurrentBufferLevel(u.mediaType)})}if(s){var f=M-t,h=m.reduce((function(e,t){return e+t.chunkBytes}),0);return a.addMeasurement(u,f,m,y,v,l),void e.progress({loaded:h,total:h,lengthComputable:!0,time:a.getEstimatedDownloadDurationMS(u),stream:!0})}return A=Date.now(),p.read().then(n)})),e.reader=I.getReader()}else e.reader=n.body.getReader();var k=[],P=[],O=[],j=!0;c(e,(function t(r){var n=r.value;if(r.done){if(S){if(g!==o.Z.ABR_FETCH_THROUGHPUT_CALCULATION_AAST){var i=null,a=null;g===o.Z.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING?(i=function(e,t){try{var r,n;r=e.filter((function(t,r){return r<e.length-1})),n=t.filter((function(e,r){return r<t.length-1}));var i=[];if(r.length>1){for(var o=0,a=0,s=0;s<r.length;s++)if(r[s]&&n[s]){var l=n[s].ts-r[s].ts;if(l>1)i.push(8*n[s].bytes/l),a=0;else{0===a&&(a=r[s].ts,o=0);var u=n[s].ts-a;u>1?(o+=n[s].bytes,i.push(8*o/u),a=0):o+=n[s].bytes}}if(i.length>0)return i.reduce((function(e,t){return e+t}),0)/i.length}return null}catch(e){return null}}(P,O),i&&(a=8*E/i)):g===o.Z.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA&&(a=d(k,E)),e.progress({loaded:E,total:isNaN(w)?E:w,lengthComputable:!0,time:a,stream:!0})}e.response.response=S.buffer}return e.onload(),void e.onend()}if(n&&n.length>0){S=function(e,t){if(0===e.length)return t;var r=new Uint8Array(e.length+t.length);return r.set(e),r.set(t,e.length),r}(S,n),E+=n.length,k.push({ts:Date.now(),bytes:n.length}),g===o.Z.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING&&j&&s.findLastTopIsoBoxCompleted(["moof"],S,T).found&&(j=!1,P.push({ts:performance.now(),bytes:n.length}));var l=s.findLastTopIsoBoxCompleted(["moov","mdat"],S,T);if(l.found){var u,f=l.lastCompletedOffset+l.size;g!==o.Z.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING||j||(j=!0,O.push({ts:performance.now(),bytes:S.length})),f===S.length?(u=S,S=new Uint8Array):(u=new Uint8Array(S.subarray(0,f)),S=S.subarray(f)),e.progress({data:u.buffer,lengthComputable:!1,noTrace:!0}),T=0}else T=l.lastCompletedOffset,x||(e.progress({lengthComputable:!1,noTrace:!0}),x=!0)}c(e,t)}))})).catch((function(t){e.onerror&&e.onerror(t)}))}))}function c(e,t){e.reader.read().then(t).catch((function(t){e.onerror&&200===e.response.status&&e.onerror(t)}))}function d(e,t){try{if((e=e.filter((function(r){return r.bytes>t/4/e.length}))).length>1){var r=0,n=(e[e.length-1].ts-e[0].ts)/e.length;return e.forEach((function(t,i){var o=e[i+1];if(o){var a=o.ts-t.ts;r+=a<n?a:0}})),r}return null}catch(e){return null}}return t={load:function(e){i&&i.modifyRequest?(0,K.k)(e,i).then((function(){return u(e)})):u(e)},abort:function(e){if(e.abortController)e.abortController.abort();else if(e.reader)try{e.reader.cancel(),e.onabort()}catch(e){}},calculateDownloadedTime:d,setup:function(e){r=e.dashMetrics}},t}ce.__dashjs_factory_name="FetchLoader";var de=c.Z.getClassFactory(ce),fe=r(1180);function he(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var pe=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=null,this.index=-1,this.adaptation=null,this.segmentInfoType=null,this.initialization=null,this.codecs=null,this.mimeType=null,this.codecPrivateData=null,this.segmentDuration=NaN,this.timescale=1,this.startNumber=1,this.indexRange=null,this.range=null,this.presentationTimeOffset=0,this.MSETimeOffset=NaN,this.mediaFinishedInformation={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN},this.bandwidth=NaN,this.width=NaN,this.height=NaN,this.scanType=null,this.maxPlayoutRate=NaN,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0,this.frameRate=null}var t;return(t=[{key:"hasInitialization",value:function(){return null!==this.initialization||null!==this.range}},{key:"hasSegments",value:function(){return this.segmentInfoType!==a.Z.BASE_URL&&this.segmentInfoType!==a.Z.SEGMENT_BASE&&!this.indexRange}}])&&he(e.prototype,t),e}(),me=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.period=null,this.index=-1,this.type=null},ge=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=null,this.index=-1,this.duration=NaN,this.start=NaN,this.mpd=null,this.nextPeriodId=null};ge.DEFAULT_ID="defaultId";var ye=ge,ve=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.manifest=null,this.suggestedPresentationDelay=0,this.availabilityStartTime=null,this.availabilityEndTime=Number.POSITIVE_INFINITY,this.timeShiftBufferDepth=Number.POSITIVE_INFINITY,this.maxSegmentDuration=Number.POSITIVE_INFINITY,this.publishTime=null,this.minimumUpdatePeriod=NaN,this.mediaPresentationDuration=NaN},be=r(2610),_e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type="",this.duration=NaN,this.presentationTime=NaN,this.id=NaN,this.messageData="",this.eventStream=null,this.presentationTimeDelta=NaN},we=function e(t,r,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.url=t||"",this.serviceLocation=r||t||"",this.dvb_priority=n||1,this.dvb_weight=i||1,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0,this.queryParams={}};we.DEFAULT_DVB_PRIORITY=1,we.DEFAULT_DVB_WEIGHT=1;var Ee=we,xe=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.adaptionSet=null,this.representation=null,this.period=null,this.timescale=1,this.value="",this.schemeIdUri="",this.presentationTimeOffset=0},Se=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=null,this.inband=!1,this.type="encoder",this.applicationScheme=null,this.wallClockTime=null,this.presentationTime=NaN,this.UTCTiming=null},Te=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.defaultServiceLocation=null,this.defaultServiceLocationArray=[],this.queryBeforeStart=!1,this.serverUrl=null,this.clientRequirement=!0};function Ae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Me=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.schemeIdUri=null,this.value=null,this.id=null}var t;return(t=[{key:"init",value:function(e){return e&&(this.schemeIdUri=e.schemeIdUri?e.schemeIdUri:null,this.value=e.value?e.value:null,this.id=e.id?e.id:null),this}}])&&Ae(e.prototype,t),e}(),Re=r(3101),Ce=r.n(Re);function Ie(){return{areEqual:function(e,t){return Ce()(e,t)}}}Ie.__dashjs_factory_name="ObjectUtils";var ke=c.Z.getSingletonFactory(Ie),Pe=r(7803),Oe=function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.url=t||"",this.serviceLocation=r||null,this.queryParams={}},je=function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.url=t||"",this.serviceLocation=r||null,this.ttl=n||NaN,this.queryParams={}};function Ne(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=Le(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function Le(e,t){if(e){if("string"==typeof e)return De(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?De(e,t):void 0}}function De(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Fe(){var e,t,r,n,i=this.context,s=(0,Q.Z)(i).getInstance(),l=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e};function u(e,t){if(!e)throw new Error("adaptation is not defined");if(!t)throw new Error("type is not defined");if(e.Representation_asArray&&e.Representation_asArray.length){var r=b(e.Representation_asArray[0]);if(r&&r.length>0&&Pe.Y.indexOf(r[0].schemeIdUri)>=0)return t===o.Z.IMAGE}if(e.ContentComponent_asArray&&e.ContentComponent_asArray.length>0){if(e.ContentComponent_asArray.length>1)return t===o.Z.MUXED;if(e.ContentComponent_asArray[0].contentType===t)return!0}var n=t===o.Z.TEXT?new RegExp("(ttml|vtt|wvtt|stpp)"):new RegExp(t);if(e.Representation_asArray&&e.Representation_asArray.length){var i=e.Representation_asArray[0].codecs;if(n.test(i))return!0}if(e.hasOwnProperty(a.Z.MIME_TYPE))return n.test(e.mimeType);if(e.Representation_asArray)for(var s,l=0;l<e.Representation_asArray.length;l++)if((s=e.Representation_asArray[l]).hasOwnProperty(a.Z.MIME_TYPE))return n.test(s.mimeType);return!1}function c(e){if(!e)throw new Error("adaptation is not defined");if(e.hasOwnProperty(a.Z.SEGMENT_TEMPLATE)||e.hasOwnProperty(a.Z.SEGMENT_TIMELINE)||e.hasOwnProperty(a.Z.SEGMENT_LIST)||e.hasOwnProperty(a.Z.SEGMENT_BASE))return!0;if(e.Representation_asArray&&e.Representation_asArray.length>0){var t=e.Representation_asArray[0];if(t.hasOwnProperty(a.Z.SEGMENT_TEMPLATE)||t.hasOwnProperty(a.Z.SEGMENT_TIMELINE)||t.hasOwnProperty(a.Z.SEGMENT_LIST)||t.hasOwnProperty(a.Z.SEGMENT_BASE))return!0}return!1}function f(e){return u(e,o.Z.VIDEO)}function h(e){return u(e,o.Z.TEXT)}function p(e){return u(e,o.Z.IMAGE)}function m(e){return e&&Array.isArray(e.Representation_asArray)&&e.Representation_asArray.sort((function(e,t){return e.bandwidth-t.bandwidth})),e}function g(e,t){return e&&e.Period_asArray&&l(t)&&e.Period_asArray[t]?e.Period_asArray[t].AdaptationSet_asArray:[]}function y(e){return e&&e.Period_asArray?e.Period_asArray:[]}function v(e){var t=!1;return e&&e.hasOwnProperty("type")&&(t=e.type===a.Z.DYNAMIC),t}function b(e){return e&&e.EssentialProperty_asArray&&e.EssentialProperty_asArray.length?e.EssentialProperty_asArray.map((function(e){return{schemeIdUri:e.schemeIdUri,value:e.value}})):null}function _(e){if(!e||!e.S_asArray)return NaN;var t=e.S_asArray[0],r=e.S_asArray[1];return t.hasOwnProperty("d")?t.d:r.t-t.t}function w(e,t){if(!e)throw new Error("Period cannot be null or undefined");var r=ye.DEFAULT_ID+"_"+t;return e.hasOwnProperty(a.Z.ID)&&e.id.length>0&&"__proto__"!==e.id&&(r=e.id),r}function x(e,t,r){var n,i=[];if(!e)return i;for(n=0;n<e.length;n++){var s=new xe;if(s.timescale=1,s.representation=t,!e[n].hasOwnProperty(o.Z.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");s.schemeIdUri=e[n].schemeIdUri,e[n].hasOwnProperty(a.Z.TIMESCALE)&&(s.timescale=e[n].timescale),e[n].hasOwnProperty(a.Z.VALUE)&&(s.value=e[n].value),i.push(s),s.period=r}return i}function S(e){var t=[],r=e.BaseURL_asArray||[e.baseUri],n=!1;return r.some((function(r){if(r){var i=new Ee,o=r.__text||r;return s.isRelative(o)&&(n=!0,e.baseUri&&(o=s.resolve(o,e.baseUri))),i.url=o,r.hasOwnProperty(a.Z.SERVICE_LOCATION)&&r.serviceLocation.length?i.serviceLocation=r.serviceLocation:i.serviceLocation=o,r.hasOwnProperty(a.Z.DVB_PRIORITY)&&(i.dvb_priority=r[a.Z.DVB_PRIORITY]),r.hasOwnProperty(a.Z.DVB_WEIGHT)&&(i.dvb_weight=r[a.Z.DVB_WEIGHT]),r.hasOwnProperty(a.Z.AVAILABILITY_TIME_OFFSET)&&(i.availabilityTimeOffset=r[a.Z.AVAILABILITY_TIME_OFFSET]),r.hasOwnProperty(a.Z.AVAILABILITY_TIME_COMPLETE)&&(i.availabilityTimeComplete="false"!==r[a.Z.AVAILABILITY_TIME_COMPLETE]),t.push(i),n}})),t}function T(e){var t=new Te;return t.serverUrl=e.__text,e.hasOwnProperty(a.Z.DEFAULT_SERVICE_LOCATION)&&(t.defaultServiceLocation=e[a.Z.DEFAULT_SERVICE_LOCATION],t.defaultServiceLocationArray=t.defaultServiceLocation.split(" ")),e.hasOwnProperty(a.Z.QUERY_BEFORE_START)&&(t.queryBeforeStart="true"===e[a.Z.QUERY_BEFORE_START].toLowerCase()),e.hasOwnProperty(a.Z.CLIENT_REQUIREMENT)&&(t.clientRequirement="false"!==e[a.Z.CLIENT_REQUIREMENT].toLowerCase()),t}return e={getIsTypeOf:u,getIsText:h,getIsFragmented:c,getProducerReferenceTimesForAdaptation:function(e){var t=e&&e.hasOwnProperty(a.Z.PRODUCERREFERENCETIME_ASARRAY)?e[a.Z.PRODUCERREFERENCETIME_ASARRAY]:[];(e&&e.hasOwnProperty(a.Z.REPRESENTATION_ASARRAY)?e[a.Z.REPRESENTATION_ASARRAY]:[]).forEach((function(e){var r;e.hasOwnProperty(a.Z.PRODUCERREFERENCETIME_ASARRAY)&&t.push.apply(t,function(e){if(Array.isArray(e))return De(e)}(r=e[a.Z.PRODUCERREFERENCETIME_ASARRAY])||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(r)||Le(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}));var r=[];return t.forEach((function(e){var t=new Se;e.hasOwnProperty(a.Z.ID)&&(t[a.Z.ID]=e[a.Z.ID],e.hasOwnProperty(a.Z.WALL_CLOCK_TIME)&&(t[a.Z.WALL_CLOCK_TIME]=e[a.Z.WALL_CLOCK_TIME],e.hasOwnProperty(a.Z.PRESENTATION_TIME)&&(t[a.Z.PRESENTATION_TIME]=e[a.Z.PRESENTATION_TIME],e.hasOwnProperty(a.Z.INBAND)&&(t[a.Z.INBAND]="false"!==e[a.Z.INBAND]),e.hasOwnProperty(a.Z.TYPE)&&(t[a.Z.TYPE]=e[a.Z.TYPE]),r.push(t))))})),r},getLanguageForAdaptation:function(e){var t="";return e&&e.hasOwnProperty(a.Z.LANG)&&(t=e.lang),t},getViewpointForAdaptation:function(e){return e&&e.hasOwnProperty(a.Z.VIEWPOINT_ASARRAY)&&e[a.Z.VIEWPOINT_ASARRAY].length?e[a.Z.VIEWPOINT_ASARRAY].map((function(e){return(new Me).init(e)})):[]},getRolesForAdaptation:function(e){return e&&e.hasOwnProperty(a.Z.ROLE_ASARRAY)&&e[a.Z.ROLE_ASARRAY].length?e[a.Z.ROLE_ASARRAY].map((function(e){return(new Me).init(e)})):[]},getAccessibilityForAdaptation:function(e){return e&&e.hasOwnProperty(a.Z.ACCESSIBILITY_ASARRAY)&&e[a.Z.ACCESSIBILITY_ASARRAY].length?e[a.Z.ACCESSIBILITY_ASARRAY].map((function(e){return(new Me).init(e)})):[]},getAudioChannelConfigurationForAdaptation:function(e){return e&&e.hasOwnProperty(a.Z.AUDIOCHANNELCONFIGURATION_ASARRAY)&&e[a.Z.AUDIOCHANNELCONFIGURATION_ASARRAY].length?e[a.Z.AUDIOCHANNELCONFIGURATION_ASARRAY].map((function(e){return(new Me).init(e)})):[]},getAudioChannelConfigurationForRepresentation:function(e){return e&&e.hasOwnProperty(a.Z.AUDIOCHANNELCONFIGURATION_ASARRAY)&&e[a.Z.AUDIOCHANNELCONFIGURATION_ASARRAY].length?e[a.Z.AUDIOCHANNELCONFIGURATION_ASARRAY].map((function(e){return(new Me).init(e)})):[]},getAdaptationForIndex:function(e,t,r){var n=g(t,r);return n.length>0&&l(e)?n[e]:null},getIndexForAdaptation:function(e,t,r){if(!e)return-1;for(var n=g(t,r),o=0;o<n.length;o++)if(ke(i).getInstance().areEqual(n[o],e))return o;return-1},getAdaptationForId:function(e,t,r){var n,i,o=g(t,r);for(n=0,i=o.length;n<i;n++)if(o[n].hasOwnProperty(a.Z.ID)&&o[n].id===e)return o[n];return null},getAdaptationsForType:function(e,t,r){var n,i,o=g(e,t),a=[];for(n=0,i=o.length;n<i;n++)u(o[n],r)&&a.push(m(o[n]));return a},getRealPeriods:y,getRealPeriodForIndex:function(e,t){var r=y(t);return r.length>0&&l(e)?r[e]:null},getCodec:function(e,t,r){var n=null;if(e&&e.Representation_asArray&&e.Representation_asArray.length>0){var i=l(t)&&t>=0&&t<e.Representation_asArray.length?e.Representation_asArray[t]:e.Representation_asArray[0];i&&(n=i.mimeType+';codecs="'+i.codecs+'"',r&&void 0!==i.width&&(n+=';width="'+i.width+'";height="'+i.height+'"'))}return n&&(n=n.replace(/\sprofiles=[^;]*/g,"")),n},getSelectionPriority:function(e){try{var t=e&&void 0!==e.selectionPriority?parseInt(e.selectionPriority):1;return isNaN(t)?1:t}catch(e){return 1}},getMimeType:function(e){return e&&e.Representation_asArray&&e.Representation_asArray.length>0?e.Representation_asArray[0].mimeType:null},getKID:function(e){return e&&e.hasOwnProperty(a.Z.CENC_DEFAULT_KID)?e[a.Z.CENC_DEFAULT_KID]:null},getLabelsForAdaptation:function(e){if(!e||!Array.isArray(e.Label_asArray))return[];for(var t=[],r=0;r<e.Label_asArray.length;r++)t.push({lang:e.Label_asArray[r].lang,text:e.Label_asArray[r].__text||e.Label_asArray[r]});return t},getContentProtectionData:function(e){return e&&e.hasOwnProperty(a.Z.CONTENTPROTECTION_ASARRAY)&&0!==e.ContentProtection_asArray.length?e.ContentProtection_asArray:null},getIsDynamic:v,getId:function(e){return e&&e[a.Z.ID]||null},hasProfile:function(e,t){var r=!1;return e&&e.profiles&&e.profiles.length>0&&(r=-1!==e.profiles.indexOf(t)),r},getDuration:function(e){return e&&e.hasOwnProperty(a.Z.MEDIA_PRESENTATION_DURATION)?e.mediaPresentationDuration:e&&"dynamic"==e.type?Number.POSITIVE_INFINITY:Number.MAX_SAFE_INTEGER||Number.MAX_VALUE},getBandwidth:function(e){return e&&e.bandwidth?e.bandwidth:NaN},getManifestUpdatePeriod:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=NaN;return e&&e.hasOwnProperty(a.Z.MINIMUM_UPDATE_PERIOD)&&(r=e.minimumUpdatePeriod),isNaN(r)?r:Math.max(r-t,1)},getPublishTime:function(e){return e&&e.hasOwnProperty(a.Z.PUBLISH_TIME)?new Date(e[a.Z.PUBLISH_TIME]):null},getRepresentationCount:function(e){return e&&Array.isArray(e.Representation_asArray)?e.Representation_asArray.length:0},getBitrateListForAdaptation:function(e){var t=m(e);return(t&&Array.isArray(t.Representation_asArray)?t.Representation_asArray:[]).map((function(e){return{bandwidth:e.bandwidth,width:e.width||0,height:e.height||0,scanType:e.scanType||null,id:e.id||null}}))},getRepresentationFor:function(e,t){return t&&t.Representation_asArray&&t.Representation_asArray.length>0&&l(e)?t.Representation_asArray[e]:null},getRepresentationsForAdaptation:function(e){var t,r,n,i,o=[],s=function(e){if(e&&e.period&&l(e.period.index)){var t=e.period.mpd.manifest.Period_asArray[e.period.index];if(t&&t.AdaptationSet_asArray&&l(e.index))return m(t.AdaptationSet_asArray[e.index])}}(e);if(s&&s.Representation_asArray){if(e&&e.period&&l(e.period.index)){var u=S(e.period.mpd.manifest);u&&(r=u[0])}for(var d=0,f=s.Representation_asArray.length;d<f;++d){var p=s.Representation_asArray[d],g=new pe;if(g.index=d,g.adaptation=e,p.hasOwnProperty(a.Z.ID)&&(g.id=p.id),p.hasOwnProperty(a.Z.CODECS)&&(g.codecs=p.codecs),p.hasOwnProperty(a.Z.MIME_TYPE)&&(g.mimeType=p[a.Z.MIME_TYPE]),p.hasOwnProperty(a.Z.CODEC_PRIVATE_DATA)&&(g.codecPrivateData=p.codecPrivateData),p.hasOwnProperty(a.Z.BANDWITH)&&(g.bandwidth=p.bandwidth),p.hasOwnProperty(a.Z.WIDTH)&&(g.width=p.width),p.hasOwnProperty(a.Z.HEIGHT)&&(g.height=p.height),p.hasOwnProperty(a.Z.SCAN_TYPE)&&(g.scanType=p.scanType),p.hasOwnProperty(a.Z.MAX_PLAYOUT_RATE)&&(g.maxPlayoutRate=p.maxPlayoutRate),p.hasOwnProperty(a.Z.SEGMENT_BASE)?(t=p.SegmentBase,g.segmentInfoType=a.Z.SEGMENT_BASE):p.hasOwnProperty(a.Z.SEGMENT_LIST)?(t=p.SegmentList).hasOwnProperty(a.Z.SEGMENT_TIMELINE)?g.segmentInfoType=a.Z.SEGMENT_TIMELINE:g.segmentInfoType=a.Z.SEGMENT_LIST:p.hasOwnProperty(a.Z.SEGMENT_TEMPLATE)?((t=p.SegmentTemplate).hasOwnProperty(a.Z.SEGMENT_TIMELINE)?g.segmentInfoType=a.Z.SEGMENT_TIMELINE:g.segmentInfoType=a.Z.SEGMENT_TEMPLATE,t.hasOwnProperty(a.Z.INITIALIZATION_MINUS)&&(g.initialization=t.initialization.split("$Bandwidth$").join(p.bandwidth).split("$RepresentationID$").join(p.id))):g.segmentInfoType=a.Z.BASE_URL,g.essentialProperties=b(p),t){if(t.hasOwnProperty(a.Z.INITIALIZATION)){var y=t.Initialization;y.hasOwnProperty(a.Z.SOURCE_URL)&&(g.initialization=y.sourceURL),y.hasOwnProperty(a.Z.RANGE)&&(g.range=y.range)}else h(s)&&c(s)&&s.mimeType&&-1===s.mimeType.indexOf("application/mp4")&&(g.range=0);t.hasOwnProperty(a.Z.TIMESCALE)&&(g.timescale=t.timescale),t.hasOwnProperty(a.Z.DURATION)?g.segmentDuration=t.duration/g.timescale:p.hasOwnProperty(a.Z.SEGMENT_TEMPLATE)&&(t=p.SegmentTemplate).hasOwnProperty(a.Z.SEGMENT_TIMELINE)&&(g.segmentDuration=_(t.SegmentTimeline)/g.timescale),t.hasOwnProperty(a.Z.MEDIA)&&(g.media=t.media),t.hasOwnProperty(a.Z.START_NUMBER)&&(g.startNumber=t.startNumber),t.hasOwnProperty(a.Z.INDEX_RANGE)&&(g.indexRange=t.indexRange),t.hasOwnProperty(a.Z.PRESENTATION_TIME_OFFSET)&&(g.presentationTimeOffset=t.presentationTimeOffset/g.timescale),t.hasOwnProperty(a.Z.AVAILABILITY_TIME_OFFSET)?g.availabilityTimeOffset=t.availabilityTimeOffset:r&&void 0!==r.availabilityTimeOffset&&(g.availabilityTimeOffset=r.availabilityTimeOffset),t.hasOwnProperty(a.Z.AVAILABILITY_TIME_COMPLETE)?g.availabilityTimeComplete="false"!==t.availabilityTimeComplete:r&&void 0!==r.availabilityTimeComplete&&(g.availabilityTimeComplete=r.availabilityTimeComplete)}g.MSETimeOffset=(i=(n=g).presentationTimeOffset,n.adaptation.period.start-i),g.path=[e.period.index,e.index,d],o.push(g)}}return o},getAdaptationsForPeriod:function(e){var r,n,i,s=e&&l(e.index)?e.mpd.manifest.Period_asArray[e.index]:null,c=[];if(s&&s.AdaptationSet_asArray)for(i=0;i<s.AdaptationSet_asArray.length;i++)n=s.AdaptationSet_asArray[i],r=new me,n.hasOwnProperty(a.Z.ID)&&(r.id=n.id),r.index=i,r.period=e,u(n,o.Z.MUXED)?r.type=o.Z.MUXED:u(n,o.Z.AUDIO)?r.type=o.Z.AUDIO:f(n)?r.type=o.Z.VIDEO:h(n)?r.type=o.Z.TEXT:p(n)?r.type=o.Z.IMAGE:t.warn("Unknown Adaptation stream type"),c.push(r);return c},getRegularPeriods:function(e){var n,i,s=!!e&&v(e.manifest),l=[],u=null,c=null,d=null,f=null;for(i=0,n=e&&e.manifest&&e.manifest.Period_asArray?e.manifest.Period_asArray.length:0;i<n;i++)(c=e.manifest.Period_asArray[i]).hasOwnProperty(a.Z.START)?(f=new ye).start=c.start:null!==u&&u.hasOwnProperty(a.Z.DURATION)&&null!==d?(f=new ye).start=parseFloat((d.start+d.duration).toFixed(5)):0!==i||s||((f=new ye).start=0),null!==d&&isNaN(d.duration)&&(null!==f?d.duration=parseFloat((f.start-d.start).toFixed(5)):t.warn("First period duration could not be calculated because lack of start and duration period properties. This will cause timing issues during playback")),null!==f&&(f.id=w(c,i),f.index=i,f.mpd=e,c.hasOwnProperty(a.Z.DURATION)&&(f.duration=c.duration),d&&(d.nextPeriodId=f.id),l.push(f),u=c,d=f),c=null,f=null;return 0===l.length||null!==d&&isNaN(d.duration)&&(d.duration=parseFloat((function(e){!function(){if(!r||!r.hasOwnProperty("error"))throw new Error(o.Z.MISSING_CONFIG_ERROR)}();var t,n=v(e.mpd.manifest);return e.mpd.manifest.mediaPresentationDuration?t=e.mpd.manifest.mediaPresentationDuration:e.duration?t=e.duration:n?t=Number.POSITIVE_INFINITY:r.error(new E.Z(M.MANIFEST_ERROR_ID_PARSE_CODE,"Must have @mediaPresentationDuration on MPD or an explicit @duration on the last period.",e)),t}(d)-d.start).toFixed(5))),l},getMpd:function(e){var t=new ve;return e&&(t.manifest=e,e.hasOwnProperty(a.Z.AVAILABILITY_START_TIME)?t.availabilityStartTime=new Date(e.availabilityStartTime.getTime()):e.loadedTime&&(t.availabilityStartTime=new Date(e.loadedTime.getTime())),e.hasOwnProperty(a.Z.AVAILABILITY_END_TIME)&&(t.availabilityEndTime=new Date(e.availabilityEndTime.getTime())),e.hasOwnProperty(a.Z.MINIMUM_UPDATE_PERIOD)&&(t.minimumUpdatePeriod=e.minimumUpdatePeriod),e.hasOwnProperty(a.Z.MEDIA_PRESENTATION_DURATION)&&(t.mediaPresentationDuration=e.mediaPresentationDuration),e.hasOwnProperty(a.Z.SUGGESTED_PRESENTATION_DELAY)&&(t.suggestedPresentationDelay=e.suggestedPresentationDelay),e.hasOwnProperty(a.Z.TIMESHIFT_BUFFER_DEPTH)&&(t.timeShiftBufferDepth=e.timeShiftBufferDepth),e.hasOwnProperty(a.Z.MAX_SEGMENT_DURATION)&&(t.maxSegmentDuration=e.maxSegmentDuration),e.hasOwnProperty(a.Z.PUBLISH_TIME)&&(t.publishTime=new Date(e.publishTime))),t},getEventsForPeriod:function(e){var t,r,i=e&&e.mpd&&e.mpd.manifest?e.mpd.manifest:null,s=i?i.Period_asArray:null,u=s&&e&&l(e.index)?s[e.index].EventStream_asArray:null,c=[];if(u)for(t=0;t<u.length;t++){var d=new xe;if(d.period=e,d.timescale=1,!u[t].hasOwnProperty(o.Z.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");for(d.schemeIdUri=u[t][o.Z.SCHEME_ID_URI],u[t].hasOwnProperty(a.Z.TIMESCALE)&&(d.timescale=u[t][a.Z.TIMESCALE]),u[t].hasOwnProperty(a.Z.VALUE)&&(d.value=u[t][a.Z.VALUE]),u[t].hasOwnProperty(a.Z.PRESENTATION_TIME_OFFSET)&&(d.presentationTimeOffset=u[t][a.Z.PRESENTATION_TIME_OFFSET]),r=0;u[t].Event_asArray&&r<u[t].Event_asArray.length;r++){var f=u[t].Event_asArray[r],h=new _e;h.presentationTime=0,h.eventStream=d,f.hasOwnProperty(a.Z.PRESENTATION_TIME)&&(h.presentationTime=f.presentationTime);var p=d.presentationTimeOffset?d.presentationTimeOffset/d.timescale:0;h.calculatedPresentationTime=h.presentationTime/d.timescale+e.start-p,f.hasOwnProperty(a.Z.DURATION)&&(h.duration=f.duration/d.timescale),f.hasOwnProperty(a.Z.ID)?h.id=f.id:h.id=null,f.Signal&&f.Signal.Binary?h.messageData=n.decodeArray(f.Signal.Binary.toString()):h.messageData=f.messageData||f.__cdata||f.__text,c.push(h)}}return c},getEssentialPropertiesForRepresentation:b,getEventStreamForAdaptationSet:function(e,t,r){var n,i,o;return e&&e.Period_asArray&&t&&t.period&&l(t.period.index)&&(i=e.Period_asArray[t.period.index])&&i.AdaptationSet_asArray&&l(t.index)&&(o=i.AdaptationSet_asArray[t.index])&&(n=o.InbandEventStream_asArray),x(n,null,r)},getEventStreamForRepresentation:function(e,t,r){var n,i,o,a;return e&&e.Period_asArray&&t&&t.adaptation&&t.adaptation.period&&l(t.adaptation.period.index)&&(i=e.Period_asArray[t.adaptation.period.index])&&i.AdaptationSet_asArray&&l(t.adaptation.index)&&(o=i.AdaptationSet_asArray[t.adaptation.index])&&o.Representation_asArray&&l(t.index)&&(a=o.Representation_asArray[t.index])&&(n=a.InbandEventStream_asArray),x(n,t,r)},getUTCTimingSources:function(e){var t=v(e),r=!!e&&e.hasOwnProperty(a.Z.AVAILABILITY_START_TIME),n=e?e.UTCTiming_asArray:null,i=[];return(t||r)&&n&&n.forEach((function(e){var t=new be.Z;e.hasOwnProperty(o.Z.SCHEME_ID_URI)&&(t.schemeIdUri=e.schemeIdUri,e.hasOwnProperty(a.Z.VALUE)&&(t.value=e.value.toString(),i.push(t)))})),i},getBaseURLsFromElement:S,getRepresentationSortFunction:function(){return function(e,t){return e.bandwidth-t.bandwidth}},getContentSteering:function(e){if(e&&e.hasOwnProperty(a.Z.CONTENT_STEERING_AS_ARRAY))return T(e[a.Z.CONTENT_STEERING_AS_ARRAY][0])},getLocation:function(e){return e&&e.hasOwnProperty(a.Z.LOCATION_AS_ARRAY)?e[a.Z.LOCATION_AS_ARRAY].map((function(e){var t=e.__text||e,r=e.hasOwnProperty(a.Z.SERVICE_LOCATION)?e[a.Z.SERVICE_LOCATION]:null;return new Oe(t,r)})):[]},getPatchLocation:function(e){return e&&e.hasOwnProperty(a.Z.PATCH_LOCATION_AS_ARRAY)?e[a.Z.PATCH_LOCATION_AS_ARRAY].map((function(e){var t=e.__text||e,r=e.hasOwnProperty(a.Z.SERVICE_LOCATION)?e[a.Z.SERVICE_LOCATION]:null,n=e.hasOwnProperty(a.Z.TTL)?1e3*parseFloat(e[a.Z.TTL]):NaN;return new je(t,r,n)})):[]},getSuggestedPresentationDelay:function(e){return e&&e.hasOwnProperty(a.Z.SUGGESTED_PRESENTATION_DELAY)?e.suggestedPresentationDelay:null},getAvailabilityStartTime:function(e){return e&&e.hasOwnProperty(a.Z.AVAILABILITY_START_TIME)&&null!==e.availabilityStartTime?e.availabilityStartTime.getTime():null},getServiceDescriptions:function(e){var t=[];if(e&&e.hasOwnProperty(a.Z.SERVICE_DESCRIPTION)){var r,n=Ne(e.ServiceDescription_asArray);try{for(n.s();!(r=n.n()).done;){var i=r.value,o=null,s=null,l=null,u=null,c=null,d=null,f=null;for(var h in i)i.hasOwnProperty(h)&&(h===a.Z.ID?o=i[h]:h===a.Z.SERVICE_DESCRIPTION_SCOPE?s=i[h].schemeIdUri:h===a.Z.SERVICE_DESCRIPTION_LATENCY?l={target:parseInt(i[h].target),max:parseInt(i[h].max),min:parseInt(i[h].min),referenceId:parseInt(i[h].referenceId)}:h===a.Z.SERVICE_DESCRIPTION_PLAYBACK_RATE?u={max:parseFloat(i[h].max),min:parseFloat(i[h].min)}:h===a.Z.SERVICE_DESCRIPTION_OPERATING_QUALITY?c={mediaType:i[h].mediaType,max:parseInt(i[h].max),min:parseInt(i[h].min),target:parseInt(i[h].target),type:i[h].type,maxQualityDifference:parseInt(i[h].maxQualityDifference)}:h===a.Z.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH?d={mediaType:i[h].mediaType,max:parseInt(i[h].max),min:parseInt(i[h].min),target:parseInt(i[h].target)}:h===a.Z.CONTENT_STEERING&&(f=T(i[h])));t.push({id:o,schemeIdUri:s,latency:l,playbackRate:u,operatingQuality:c,operatingBandwidth:d,contentSteering:f})}}catch(e){n.e(e)}finally{n.f()}}return t},getSegmentAlignment:function(e){return!(!e||!e.hasOwnProperty(a.Z.SEGMENT_ALIGNMENT))&&"true"===e[a.Z.SEGMENT_ALIGNMENT]},getSubSegmentAlignment:function(e){return!(!e||!e.hasOwnProperty(a.Z.SUB_SEGMENT_ALIGNMENT))&&"true"===e[a.Z.SUB_SEGMENT_ALIGNMENT]},getSupplementalPropertiesForAdaptation:function(e){var t={};if(e&&e.hasOwnProperty(a.Z.SUPPLEMENTAL_PROPERTY_ASARRAY)){var r,n=Ne(e.SupplementalProperty_asArray);try{for(n.s();!(r=n.n()).done;){var i=r.value;i.hasOwnProperty(o.Z.SCHEME_ID_URI)&&i.hasOwnProperty(a.Z.VALUE)&&(t[i[o.Z.SCHEME_ID_URI]]=i[a.Z.VALUE])}}catch(e){n.e(e)}finally{n.f()}}return t},getSupplementalPropertiesAsArrayForAdaptation:function(e){return e&&e.hasOwnProperty(a.Z.SUPPLEMENTAL_PROPERTY_ASARRAY)&&e.SupplementalProperty_asArray.length?e.SupplementalProperty_asArray.map((function(e){return(new Me).init(e)})):[]},getSupplementalPropertiesForRepresentation:function(e){var t={};if(e&&e.hasOwnProperty(a.Z.SUPPLEMENTAL_PROPERTY_ASARRAY)){var r,n=Ne(e.SupplementalProperty_asArray);try{for(n.s();!(r=n.n()).done;){var i=r.value;i.hasOwnProperty(o.Z.SCHEME_ID_URI)&&i.hasOwnProperty(a.Z.VALUE)&&(t[i[o.Z.SCHEME_ID_URI]]=i[a.Z.VALUE])}}catch(e){n.e(e)}finally{n.f()}}return t},getSupplementalPropertiesAsArrayForRepresentation:function(e){return e&&e.hasOwnProperty(a.Z.SUPPLEMENTAL_PROPERTY_ASARRAY)&&e.SupplementalProperty_asArray.length?e.SupplementalProperty_asArray.map((function(e){return(new Me).init(e)})):[]},setConfig:function(e){e&&(e.errHandler&&(r=e.errHandler),e.BASE64&&(n=e.BASE64))}},t=(0,d.Z)(i).getInstance().getLogger(e),e}Fe.__dashjs_factory_name="DashManifestModel";var Ue=c.Z.getSingletonFactory(Fe),Be=r(703);function Ge(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return ze(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ze(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ve(){var e,t,r,n,i,a,s,u,c,d,h=this.context,p=(0,l.Z)(h).getInstance(),m=(0,R.Z)(h).getInstance();function g(){r={pr:1,nor:null,st:null,sf:null,sid:"".concat(Be.Z.generateUuid()),cid:null},c={},u={},d={},v()}function y(){v()}function v(){if(a){var e=a.getStreamController();if(e&&"function"==typeof e.getActiveStream){var t=e.getActiveStream();t&&(s=t.getProcessors())}}}function b(e,t){var r,n={},i=Ge(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;e[o]&&(n[o]=e[o])}}catch(e){i.e(e)}finally{i.f()}return n}function _(e){var t=m.get().streaming.cmcd.enabledKeys;return e.filter((function(e){return t.includes(e)}))}function w(e){try{return e.type===C.w.MPD_TYPE?((l=E()).ot="m",l):e.type===C.w.MEDIA_SEGMENT_TYPE?(t=e.mediaType,d.hasOwnProperty(t)||(d[t]=!1),u.hasOwnProperty(t)||(u[t]=!1),c.hasOwnProperty(t)||(c[t]=!1),function(e){var t,l=E(),f=function(e){try{var t=e.quality,r=e.mediaInfo.bitrateList;return parseInt(r[t].bandwidth/1e3)}catch(e){return null}}(e),h=function(e){try{return isNaN(e.duration)?NaN:Math.round(1e3*e.duration)}catch(e){return null}}(e),p=function(e){try{return 100*parseInt(n.getThroughputHistory().getSafeAverageThroughput(e)/100)}catch(e){return null}}(e.mediaType),g=function(e){try{var t=r.pr,n=i.getCurrentBufferLevel(e);return isNaN(t)||isNaN(n)?null:100*parseInt(n/t*10)}catch(e){return null}}(e.mediaType),y=x(e.mediaType),v=function(e){try{var t=n.getTopBitrateInfoFor(e);return Math.round(t.bitrate/1e3)}catch(e){return null}}(e.mediaType),b=r.pr,_=function(e){if(s&&0!==s.length){var t,r=Ge(s);try{for(r.s();!(t=r.n()).done;){var n=t.value;if(n.getType()===e)return n.probeNextRequest()}}catch(e){r.e(e)}finally{r.f()}}}(e.mediaType);e.mediaType===o.Z.VIDEO&&(t="v"),e.mediaType===o.Z.AUDIO&&(t="a"),e.mediaType===o.Z.TEXT&&(t="application/mp4"===e.mediaInfo.mimeType?"tt":"c");var w=m.get().streaming.cmcd.rtp;return w||(w=function(e){try{var t=a.getPlaybackRate();t||(t=1);var r=e.quality,n=e.mediaType,i=e.mediaInfo,o=e.duration;if(!i)return NaN;var s=x(n);0===s&&(s=500);var l=i.bitrateList[r].bandwidth*o/1e3/(s/t/1e3),u=m.get().streaming.cmcd.rtpSafetyFactor&&!isNaN(m.get().streaming.cmcd.rtpSafetyFactor)?m.get().streaming.cmcd.rtpSafetyFactor:5;return 100*(parseInt(l*u/100)+1)}catch(e){return NaN}}(e)),isNaN(w)||(l.rtp=w),_&&(e.url!==_.url?l.nor=encodeURIComponent(Be.Z.getRelativeUrl(e.url,_.url)):_.range&&(l.nrr=_.range)),f&&(l.br=f),t&&(l.ot=t),isNaN(h)||(l.d=h),isNaN(p)||(l.mtp=p),isNaN(g)||(l.dl=g),isNaN(y)||(l.bl=y),isNaN(v)||(l.tb=v),isNaN(b)||1===b||(l.pr=b),c[e.mediaType]&&(l.bs=!0,c[e.mediaType]=!1),!u[e.mediaType]&&d[e.mediaType]||(l.su=!0,u[e.mediaType]=!1,d[e.mediaType]=!0),l}(e)):e.type===C.w.INIT_SEGMENT_TYPE?function(){var e=E();return e.ot="i",e.su=!0,e}():e.type===C.w.OTHER_TYPE||e.type===C.w.XLINK_EXPANSION_TYPE?function(){var e=E();return e.ot="o",e}():e.type===C.w.LICENSE?function(e){var t=E();return t.ot="k",t}():null}catch(e){return null}var t,l}function E(){var e={},t=m.get().streaming.cmcd.cid?m.get().streaming.cmcd.cid:r.cid;return e.v=1,e.sid=m.get().streaming.cmcd.sid?m.get().streaming.cmcd.sid:r.sid,e.sid="".concat(e.sid),t&&(e.cid="".concat(t)),isNaN(r.pr)||1===r.pr||null===r.pr||(e.pr=r.pr),r.st&&(e.st=r.st),r.sf&&(e.sf=r.sf),e}function x(e){try{var t=i.getCurrentBufferLevel(e);return isNaN(t)?null:100*parseInt(10*t)}catch(e){return null}}function S(e){try{r.pr=e.playbackRate}catch(e){}}function T(t){try{var n=e.getIsDynamic(t.data)?"l":"v",i=t.protocol&&"MSS"===t.protocol?"s":"d";r.st="".concat(n),r.sf="".concat(i)}catch(e){}}function A(e){try{e.state&&e.mediaType&&e.state===f.Z.BUFFER_EMPTY&&(c[e.mediaType]||(c[e.mediaType]=!0),u[e.mediaType]||(u[e.mediaType]=!0))}catch(e){}}function M(){for(var e in c)c.hasOwnProperty(e)&&(c[e]=!0);for(var t in u)u.hasOwnProperty(t)&&(u[t]=!0)}function I(e){try{if(!e)return null;var t=Object.keys(e).sort((function(e,t){return e.localeCompare(t)})),r=t.length,n=t.reduce((function(t,n,i){return"v"===n&&1===e[n]||("string"==typeof e[n]&&"ot"!==n&&"sf"!==n&&"st"!==n?t+="".concat(n,"=").concat(JSON.stringify(e[n])):t+="".concat(n,"=").concat(e[n]),i<r-1&&(t+=",")),t}),"");return(n=n.replace(/=true/g,"")).replace(/,\s*$/,"")}catch(e){return null}}return t={getQueryParameter:function(e){try{if(m.get().streaming.cmcd&&m.get().streaming.cmcd.enabled){var t=w(e),r=function(e){try{var t=m.get().streaming.cmcd.enabledKeys;return Object.keys(e).filter((function(e){return t.includes(e)})).reduce((function(t,r){return t[r]=e[r],t}),{})}catch(t){return e}}(t),n=I(r);return p.trigger(fe.Z.CMCD_DATA_GENERATED,{url:e.url,mediaType:e.mediaType,cmcdData:t,cmcdString:n}),{key:"CMCD",value:n}}return null}catch(e){return null}},getHeaderParameters:function(e){try{if(m.get().streaming.cmcd&&m.get().streaming.cmcd.enabled){var t=w(e),r=b(t,_(["br","d","ot","tb"])),n=b(t,_(["bl","dl","mtp","nor","nrr","su"])),i=b(t,_(["bs","rtp"])),o=b(t,_(["cid","pr","sf","sid","st","v"])),a={"CMCD-Object":I(r),"CMCD-Request":I(n),"CMCD-Status":I(i),"CMCD-Session":I(o)};return p.trigger(fe.Z.CMCD_DATA_GENERATED,{url:e.url,mediaType:e.mediaType,cmcdData:t,headers:a}),a}return null}catch(e){return null}},setConfig:function(e){e&&(e.abrController&&(n=e.abrController),e.dashMetrics&&(i=e.dashMetrics),e.playbackController&&(a=e.playbackController))},reset:function(){p.off(f.Z.PLAYBACK_RATE_CHANGED,S,this),p.off(f.Z.MANIFEST_LOADED,T,this),p.off(f.Z.BUFFER_LEVEL_STATE_CHANGED,A,t),p.off(f.Z.PLAYBACK_SEEKED,M,t),g()},initialize:function(){p.on(f.Z.PLAYBACK_RATE_CHANGED,S,t),p.on(f.Z.MANIFEST_LOADED,T,t),p.on(f.Z.BUFFER_LEVEL_STATE_CHANGED,A,t),p.on(f.Z.PLAYBACK_SEEKED,M,t),p.on(f.Z.PERIOD_SWITCH_COMPLETED,y,t)}},e=Ue(h).getInstance(),g(),t}Ve.__dashjs_factory_name="CmcdModel";var He=c.Z.getSingletonFactory(Ve);function We(e){return We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},We(e)}function Ze(e,t){Ze=function(e,t){return new o(e,void 0,t)};var r=Ye(RegExp),n=RegExp.prototype,i=new WeakMap;function o(e,t,n){var o=r.call(this,e,t);return i.set(o,n||i.get(e)),o}function a(e,t){var r=i.get(t);return Object.keys(r).reduce((function(t,n){return t[n]=e[r[n]],t}),Object.create(null))}return qe(o,r),o.prototype.exec=function(e){var t=n.exec.call(this,e);return t&&(t.groups=a(t,this)),t},o.prototype[Symbol.replace]=function(e,t){if("string"==typeof t){var r=i.get(this);return n[Symbol.replace].call(this,e,t.replace(/\$<([^>]+)>/g,(function(e,t){return"$"+r[t]})))}if("function"==typeof t){var o=this;return n[Symbol.replace].call(this,e,(function(){var e=[];return e.push.apply(e,arguments),"object"!==We(e[e.length-1])&&e.push(a(e,o)),t.apply(this,e)}))}return n[Symbol.replace].call(this,e,t)},Ze.apply(this,arguments)}function qe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qe(e,t)}function Ye(e){var t="function"==typeof Map?new Map:void 0;return Ye=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Xe(e,arguments,$e(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Qe(n,e)},Ye(e)}function Xe(e,t,r){return Xe=Ke()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&Qe(i,r.prototype),i},Xe.apply(null,arguments)}function Ke(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Qe(e,t){return Qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Qe(e,t)}function $e(e){return $e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},$e(e)}var Je="static",et="dynamic",tt="cmsd-",rt=tt+Je,nt=tt+et,it="stream",ot=["mb","st","sf","v"],at={video:"v",audio:"a",text:"tt",stream:it},st=/^[-0-9]/;function lt(){var e,t,r,n,i=this.context,o=(0,l.Z)(i).getInstance();function a(){r={},n={}}function s(e){e&&Object.keys(e).forEach((function(t){ot.includes(t)||delete e[t]}))}function c(e){return!e||"false"!==e.toLowerCase()&&(st.test(e)?parseInt(e,10):e.replace(/["]+/g,""))}function f(e){try{for(var r={},n=e.split(","),i=0;i<n.length;i++){var o=n[i].split("="),a=o[0],s=c(o[1]);r[a]=s}return r}catch(e){t.error("Failed to parse CMSD-Static response header value:",e)}}function h(e){try{for(var r={},n=e.split(","),i=n[n.length-1].split(";"),o=1;o<i.length;o++){var a=i[o].split("="),s=a[0],l=c(a[1]);r[s]=l}return r}catch(e){return t.error("Failed to parse CMSD-Dynamic response header value:",e),[]}}function p(e){return at[e]||"o"}function m(e,t,i){var o=e===Je?r:n,a=o[t]||{},s=o[it]||{};return a[i]||s[i]}return e={setConfig:function(){},initialize:function(){},reset:function(){a()},parseResponseHeaders:function(e,t){for(var i=null,a=null,l=e.split("\r\n"),c=l.length-1;c>=0;c--){var d=l[c].match(Ze(/^((?:(?!:)[\s\S])*):[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(.*)$/,{key:1,value:2}));if(d&&d.groups){var m=d.groups.key.toLowerCase(),g=d.groups.value;switch(m){case rt:i=f(g),o.trigger(u.Z.CMSD_STATIC_HEADER,i);break;case nt:a||(a=h(g))}}}var y=it;return i&&i.ot?y=i.ot:t&&(y=p(t)),s(r[y]),s(n[y]),i&&(r[y]=Object.assign(r[y]||{},i)),a&&(n[y]=Object.assign(n[y]||{},a)),{static:i,dynamic:a}},getMaxBitrate:function(e){var t=p(e);return m(et,t,"mb")||-1},getEstimatedThroughput:function(e){var t=p(e);return m(et,t,"etp")||null},getResponseDelay:function(e){var t=p(e);return m(et,t,"rd")||null},getRoundTripTime:function(e){var t=p(e);return m(et,t,"rtt")||null}},t=(0,d.Z)(i).getInstance().getLogger(e),a(),e}lt.__dashjs_factory_name="CmsdModel";var ut=c.Z.getSingletonFactory(lt);function ct(){var e,t,r=this.context,n={};function i(){t=(0,d.Z)(r).getInstance().getLogger(e)}function o(e){for(var t={},r=0,n=0,i=0,o=0,a=e.length,s=0;s<a;++s)r+=e[s].chunkDownloadTimeRelativeMS,n+=e[s].bufferLevel,i+=e[s].chunkDownloadTimeRelativeMS*e[s].bufferLevel,o+=e[s].chunkDownloadTimeRelativeMS*e[s].chunkDownloadTimeRelativeMS;return t.m=(i-r*n/a)/(o-r*r/a),t.b=n/a-t.m*r/a,function(e){return t.m*e+t.b}}function a(e){var t,r=!0,n=e.reduce((function(e,t){return e+t.bufferLevelAtSegmentEnd}),0)/e.length;return e.forEach((function(e){Math.abs(e.bufferLevelAtSegmentEnd/e.bufferLevelAtSegmentStart)<.95&&(r=!1),e.bufferLevelAtSegmentEnd/n<.8&&(r=!1),t?t>e.bitrate&&(r=!1):t=e.bitrate})),r}return e={setup:i,addMeasurement:function(e,t,r,i,a){e&&e.mediaType&&!n[e.mediaType]&&(n[e.mediaType]=[]);var s=e.mediaInfo.bitrateList.find((function(t){return t.id===e.representationId}));n[e.mediaType].push({index:e.index,repId:e.representationId,mediaType:e.mediaType,requestTimeMS:i,adjustedAvailabilityStartTimeMS:e.availabilityStartTime.getTime(),segDurationMS:1e3*e.duration,chunksDurationMS:r.reduce((function(e,t){return e+t.chunkDownloadDurationMS}),0),segmentBytes:r.reduce((function(e,t){return e+t.chunkBytes}),0),bitrate:s&&s.bandwidth,bitrateList:e.mediaInfo.bitrateList,chunkMeasurements:r,fetchDownloadDurationMS:t,throughputCapacityDelayMS:a,getEstimatedBufferLevel:o(r.slice(1))}),n[e.mediaType].length>10&&n[e.mediaType].shift()},getThroughputCapacityDelayMS:function(e,t){var r=n[e.mediaType]&&n[e.mediaType].slice(-3);return!r||r.length<3?0:a(r)?t/4>250?250:t/4:0},getEstimatedDownloadDurationMS:function(e){var r=n[e.mediaType].slice(-1).pop(),i=n[e.mediaType].slice(-3),o=r.chunkMeasurements.slice(-1).pop().chunkDownloadTimeRelativeMS;r.bufferLevelAtSegmentStart=r.getEstimatedBufferLevel(o/2),r.bufferLevelAtSegmentEnd=r.getEstimatedBufferLevel(o);var s=a(i),l=s?.6:.8;if(r.isBufferStable&&1.05*r.segDurationMS<r.fetchDownloadDurationMS)return r.fetchDownloadDurationMS;if(!s||r.segDurationMS<r.fetchDownloadDurationMS)return.8*r.fetchDownloadDurationMS;if(r.adjustedAvailabilityStartTimeMS<=r.requestTimeMS+r.throughputCapacityDelayMS-r.segDurationMS)return.8*r.fetchDownloadDurationMS;for(var u=r.requestTimeMS+r.throughputCapacityDelayMS-r.adjustedAvailabilityStartTimeMS,c=0,d=0,f=0,h=0;h<r.chunkMeasurements.length;h++){var p=r.chunkMeasurements[h];if(u<d+p.chunkDownloadDurationMS)break;d+=p.chunkDownloadDurationMS,c+=p.chunkBytes,f++}if(u<0&&t.warn("request time was before adjusted availibitly start time"),c&&d&&f>.2*r.chunkMeasurements.length){var m=c/d,g=r.segmentBytes/m;return r.fetchDownloadDurationMS<g?r.fetchDownloadDurationMS*l:g*l}var y=r.bitrate;return r.bitrateList.some((function(e){if(e.bandwidth>r.bitrate)return y=e.bandwidth,!0})),y===r.bitrate?r.fetchDownloadDurationMS*l:l*r.segmentBytes*8*1e3/y}},i(),e}ct.__dashjs_factory_name="LowLatencyThroughputModel";var dt=c.Z.getSingletonFactory(ct),ft=r(5717);function ht(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pt(e){e=e||{};var t,r,n,i,a,s,c,f,h,p,m,g=this.context,y=e.errHandler,v=e.dashMetrics,b=e.mediaPlayerModel,_=e.requestModifier,w=e.boxParser,x=e.errors,S=e.requestTimeout||0,T=(0,l.Z)(g).getInstance(),A=(0,R.Z)(g).getInstance();function M(e,t){var l,d=e.request,m=[],x=!0,R=!0,I=new Date,k=I,P=0,O=null,j=null;if(!_||!v||!y)throw new Error("config object is not correct or missing");var N,L=function(e){d.requestStartDate=I,d.requestEndDate=new Date,d.firstByteDate=d.firstByteDate||I,d.fileLoaderType=j;var t=l.response?l.response.responseURL:null,r=l.response?l.response.status:null,n=l.response&&l.response.getAllResponseHeaders?l.response.getAllResponseHeaders():l.response?l.response.responseHeaders:null,i=n&&A.get().streaming.cmsd&&A.get().streaming.cmsd.enabled?c.parseResponseHeaders(n,d.mediaType):null;v.addHttpRequest(d,t,r,n,e?m:null,i)},D=function(e){R=!1,L(e),d.type===C.w.MPD_TYPE&&(v.addManifestUpdate(d),T.trigger(u.Z.MANIFEST_LOADING_FINISHED,{request:d}))},F=function(){if(O&&(clearTimeout(O),O=null),-1!==r.indexOf(l)&&(r.splice(r.indexOf(l),1),R))if(D(!1),t>0){try{A.get().streaming.utcSynchronization.enableBackgroundSyncAfterSegmentDownloadError&&d.type===C.w.MEDIA_SEGMENT_TYPE&&b.getRetryAttemptsForType(C.w.MEDIA_SEGMENT_TYPE)===t&&T.trigger(u.Z.ATTEMPT_BACKGROUND_SYNC)}catch(e){}t--;var n={config:e};i.push(n),n.timeout=setTimeout((function(){-1!==i.indexOf(n)&&(i.splice(i.indexOf(n),1),M(e,t))}),b.getRetryIntervalsForType(d.type))}else{if(d.type===C.w.MSS_FRAGMENT_INFO_SEGMENT_TYPE)return;y.error(new E.Z(a[d.type],d.url+" is not available",{request:d,response:l.response})),e.error&&e.error(d,"error",l.response.statusText,l.response),e.complete&&e.complete(d,l.response.statusText)}};d.hasOwnProperty("availabilityTimeComplete")&&!1===d.availabilityTimeComplete&&window.fetch&&"arraybuffer"===d.responseType&&d.type===C.w.MEDIA_SEGMENT_TYPE?((N=de(g).create({requestModifier:_,lowLatencyThroughputModel:h,boxParser:w})).setup({dashMetrics:v}),j=o.Z.FILE_LOADER_TYPES.FETCH):(N=(0,se.Z)(g).create({requestModifier:_}),j=o.Z.FILE_LOADER_TYPES.XHR);var U=null,B=_.modifyRequestURL?_.modifyRequestURL(d.url):d.url;if(A.get().streaming.cmcd&&A.get().streaming.cmcd.enabled){var G=A.get().streaming.cmcd.mode;if(G===o.Z.CMCD_MODE_QUERY){var z=function(e){try{var t=[],r=s.getQueryParameter(e);return r&&t.push(r),t}catch(e){return[]}}(d);B=Be.Z.addAditionalQueryParameterToUrl(B,z)}else G===o.Z.CMCD_MODE_HEADER&&(U=s.getHeaderParameters(d))}var V=f.getXHRWithCredentialsForType(d.type);if(d.queryParams){var H=Object.keys(d.queryParams).map((function(e){return{key:e,value:d.queryParams[e]}}));B=Be.Z.addAditionalQueryParameterToUrl(B,H)}d.url=B,l={url:B,method:C.w.GET,withCredentials:V,request:d,onload:function(){l.response.status>=200&&l.response.status<=299&&(D(!0),e.success&&e.success(l.response.response,l.response.statusText,l.response.responseURL),e.complete&&e.complete(d,l.response.statusText))},onend:F,onerror:F,progress:function(t){var r=new Date;x&&(x=!1,(!t.lengthComputable||t.lengthComputable&&t.total!==t.loaded)&&(d.firstByteDate=r)),t.lengthComputable&&(d.bytesLoaded=t.loaded,d.bytesTotal=t.total),t.noTrace||(m.push({s:k,d:t.time?t.time:r.getTime()-k.getTime(),b:[t.loaded?t.loaded-P:0]}),k=r,P=t.loaded),O&&(clearTimeout(O),O=null),A.get().streaming.fragmentRequestProgressTimeout>0&&(O=setTimeout((function(){p.warn("Abort request "+l.url+" due to progress timeout"),l.response.onabort=null,l.loader.abort(l),F()}),A.get().streaming.fragmentRequestProgressTimeout)),e.progress&&t&&e.progress(t)},onabort:function(){L(!0),O&&(clearTimeout(O),O=null),e.abort&&e.abort(d)},ontimeout:function(e){var t;if(e.lengthComputable){var r=e.loaded/e.total*100;t="Request timeout: loaded: "+e.loaded+", out of: "+e.total+" : "+r.toFixed(3)+"% Completed"}else t="Request timeout: non-computable download size";p.warn(t)},loader:N,timeout:S,headers:U};var W=(new Date).getTime();if(isNaN(d.delayLoadingTime)||W>=d.delayLoadingTime)r.push(l),N.load(l);else{var Z={httpRequest:l};n.push(Z),Z.delayTimeout=setTimeout((function(){if(-1!==n.indexOf(Z)){n.splice(n.indexOf(Z),1);try{I=new Date,k=I,r.push(Z.httpRequest),N.load(Z.httpRequest)}catch(e){Z.httpRequest.onerror()}}}),d.delayLoadingTime-W)}}return t={load:function(e){e.request?M(e,b.getRetryAttemptsForType(e.request.type)):e.error&&e.error(e.request,"error")},abort:function(){i.forEach((function(e){clearTimeout(e.timeout),e.config.request&&e.config.abort&&e.config.abort(e.config.request)})),i=[],n.forEach((function(e){return clearTimeout(e.delayTimeout)})),n=[],r.forEach((function(e){e.request.type!==C.w.MSS_FRAGMENT_INFO_SEGMENT_TYPE&&(e.onloadend=e.onerror=e.onprogress=void 0,e.loader.abort(e))})),r=[]}},p=(0,d.Z)(g).getInstance().getLogger(t),r=[],n=[],i=[],s=He(g).getInstance(),c=ut(g).getInstance(),h=dt(g).getInstance(),f=(0,ft.Z)(g).getInstance(),ht(m={},C.w.MPD_TYPE,x.DOWNLOAD_ERROR_ID_MANIFEST_CODE),ht(m,C.w.XLINK_EXPANSION_TYPE,x.DOWNLOAD_ERROR_ID_XLINK_CODE),ht(m,C.w.INIT_SEGMENT_TYPE,x.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE),ht(m,C.w.MEDIA_SEGMENT_TYPE,x.DOWNLOAD_ERROR_ID_CONTENT_CODE),ht(m,C.w.INDEX_SEGMENT_TYPE,x.DOWNLOAD_ERROR_ID_CONTENT_CODE),ht(m,C.w.BITSTREAM_SWITCHING_SEGMENT_TYPE,x.DOWNLOAD_ERROR_ID_CONTENT_CODE),ht(m,C.w.OTHER_TYPE,x.DOWNLOAD_ERROR_ID_CONTENT_CODE),a=m,t}pt.__dashjs_factory_name="HTTPLoader";var mt=c.Z.getClassFactory(pt);function gt(){var e;function t(){e={}}function r(){t()}return r(),{getLoader:function(t){for(var r in e)if(e.hasOwnProperty(r)&&t.startsWith(r))return e[r];return mt},registerLoader:function(t,r){e[t]=r},unregisterLoader:function(t){e[t]&&delete e[t]},unregisterAllLoader:t,reset:r}}gt.__dashjs_factory_name="SchemeLoaderFactory";var yt=c.Z.getSingletonFactory(gt);function vt(e){e=e||{};var t,r,n=this.context;return t=yt(n).getInstance(),{load:function(i){if(!r){var o=t.getLoader(i&&i.request?i.request.url:null);r=o(n).create({errHandler:e.errHandler,mediaPlayerModel:e.mediaPlayerModel,requestModifier:e.requestModifier,dashMetrics:e.dashMetrics,boxParser:e.boxParser?e.boxParser:null,constants:e.constants?e.constants:null,dashConstants:e.dashConstants?e.dashConstants:null,urlUtils:e.urlUtils?e.urlUtils:null,requestTimeout:isNaN(e.requestTimeout)?0:e.requestTimeout,errors:e.errors})}r.load(i)},abort:function(){r&&r.abort()}}}vt.__dashjs_factory_name="URLLoader";var bt=c.Z.getClassFactory(vt);function _t(e){return _t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_t(e)}function wt(e,t){return wt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},wt(e,t)}function Et(e,t){return!t||"object"!==_t(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xt(e){return xt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},xt(e)}var St=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wt(e,t)}(i,e);var t,r,n=(t=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=xt(t);if(r){var i=xt(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return Et(this,e)});function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=n.call(this,e)).checkForExistenceOnly=!0,t}return i}(m.Z);function Tt(e){e=e||{};var t,r,n=this.context,i=e.eventBus,a=e.events,s=e.urlUtils,l=e.errors,u=e.streamId;return t={checkForExistence:function(e){var t=function(t){i.trigger(a.CHECK_FOR_EXISTENCE_COMPLETED,{request:e,exists:t})};if(e){var n=new St(e.url);r.load({request:n,success:function(){t(!0)},error:function(){t(!1)}})}else t(!1)},load:function(e){var n=function(r,n){i.trigger(a.LOADING_COMPLETED,{request:e,response:r||null,error:n||null,sender:t})};e?r.load({request:e,progress:function(r){i.trigger(a.LOADING_PROGRESS,{request:e,stream:r.stream,streamId:u}),r.data&&i.trigger(a.LOADING_DATA_PROGRESS,{request:e,response:r.data||null,error:null,sender:t})},success:function(e){n(e)},error:function(e,t,r){n(void 0,new E.Z(l.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE,r,t))},abort:function(e){e&&i.trigger(a.LOADING_ABANDONED,{mediaType:e.mediaType,request:e,sender:t})}}):n(void 0,new E.Z(l.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE,l.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE))},abort:function(){r&&r.abort()},reset:function(){r&&(r.abort(),r=null)}},r=bt(n).create({errHandler:e.errHandler,errors:l,dashMetrics:e.dashMetrics,mediaPlayerModel:e.mediaPlayerModel,requestModifier:e.requestModifier,urlUtils:s,constants:o.Z,boxParser:e.boxParser,dashConstants:e.dashConstants,requestTimeout:e.settings.get().streaming.fragmentRequestTimeout}),t}Tt.__dashjs_factory_name="FragmentLoader";var At=c.Z.getClassFactory(Tt);function Mt(){return{modifyResponseAsync:function(e){return Promise.resolve(e)}}}Mt.__dashjs_factory_name="SegmentResponseModifier";var Rt=c.Z.getSingletonFactory(Mt);function Ct(e){e=e||{};var t,r,n,i=this.context,a=(0,l.Z)(i).getInstance(),s=e.errHandler,c=e.mediaPlayerModel,h=e.dashMetrics,p=(0,d.Z)(i).getInstance(),m=Rt(i).getInstance(),g=e.streamInfo;function y(){return g.id}function v(){for(var e in n)n[e].reset();n={}}function b(e){if(e.sender){var t=e.request,n=e.response,i=t.isInitializationRequest(),s=t.mediaInfo.streamInfo;if(e.error&&(t.mediaType===o.Z.AUDIO||t.mediaType===o.Z.VIDEO||t.mediaType===o.Z.TEXT&&t.mediaInfo.isFragmented)&&a.trigger(u.Z.SERVICE_LOCATION_BASE_URL_BLACKLIST_ADD,{entry:e.request.serviceLocation}),n&&s){var l=function(e,t,r,n){var i=new ae;return i.streamId=r,i.mediaInfo=t.mediaInfo,i.segmentType=t.type,i.start=t.startTime,i.duration=t.duration,i.end=i.start+i.duration,i.bytes=e,i.index=t.index,i.quality=t.quality,i.representationId=t.representationId,i.endFragment=n,i}(n,t,g.id,e.type!==u.Z.FRAGMENT_LOADING_PROGRESS);m.modifyResponseAsync(l).then((function(e){a.trigger(i?u.Z.INIT_FRAGMENT_LOADED:u.Z.MEDIA_FRAGMENT_LOADED,{chunk:e,request:t},{streamId:s.id,mediaType:t.mediaType})})).catch((function(e){r.error(e),a.trigger(i?u.Z.INIT_FRAGMENT_LOADED:u.Z.MEDIA_FRAGMENT_LOADED,{chunk:l,request:t},{streamId:s.id,mediaType:t.mediaType})}))}else r.warn("No "+t.mediaType+" bytes to push or stream is inactive.")}}return t={getStreamId:y,getModel:function(t){var r=n[t];return r||(r=w(i).create({streamInfo:g,type:t,dashMetrics:h,fragmentLoader:At(i).create({dashMetrics:h,mediaPlayerModel:c,errHandler:s,requestModifier:(0,K.Z)(i).getInstance(),settings:e.settings,boxParser:e.boxParser,eventBus:a,events:u.Z,errors:M,dashConstants:e.dashConstants,urlUtils:e.urlUtils,streamId:y()}),debug:p,eventBus:a,events:u.Z}),n[t]=r),r},reset:function(){a.off(f.Z.FRAGMENT_LOADING_COMPLETED,b,this),a.off(f.Z.FRAGMENT_LOADING_PROGRESS,b,this),v()}},r=p.getLogger(t),v(),a.on(f.Z.FRAGMENT_LOADING_COMPLETED,b,t),a.on(f.Z.FRAGMENT_LOADING_PROGRESS,b,t),t}Ct.__dashjs_factory_name="FragmentController";var It=c.Z.getClassFactory(Ct),kt=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.url=null,this.width=null,this.height=null,this.x=null,this.y=null},Pt=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mediaType=null,this.bitrate=null,this.width=null,this.height=null,this.scanType=null,this.qualityIndex=NaN};function Ot(e){var t,r,n=this.context,i=e.streamInfo;function a(e){r.setTrackByIndex(e)}function s(){r&&r.reset()}return t={getStreamId:function(){return i.id},initialize:function(){r.addTracks();var e=r.getTracks();e&&e.length>0&&a(0)},provide:function(e,t){if("function"==typeof t){var n,i,o=r.getCurrentTrack();if(!o||o.segmentDuration<=0||null==e)t(null);else{(i=r.getThumbnailRequestForTime(e))&&(o.segmentDuration=i.duration),n=e%o.segmentDuration;var a=Math.floor(n*o.tilesHor*o.tilesVert/o.segmentDuration),s=new kt;if(s.width=Math.floor(o.widthPerTile),s.height=Math.floor(o.heightPerTile),s.x=Math.floor(a%o.tilesHor)*o.widthPerTile,s.y=Math.floor(a/o.tilesHor)*o.heightPerTile,"readThumbnail"in o)return o.readThumbnail(e,(function(e){s.url=e,t(s)}));if(i)s.url=i.url,o.segmentDuration=NaN;else{var l=Math.floor(e/o.segmentDuration);s.url=function(e,t){var r=t+e.startNumber,n=(0,W.vi)(e.templateUrl,"Number",r);return n=(0,W.vi)(n,"Time",(r-1)*e.segmentDuration*e.timescale),n=(0,W.vi)(n,"Bandwidth",e.bandwidth),(0,W.eR)(n)}(o,l)}t(s)}}},setTrackByIndex:a,getCurrentTrackIndex:function(){return r.getCurrentTrackIndex()},getBitrateList:function(){var e=r.getTracks(),t=0;return e.map((function(e){var r=new Pt;return r.mediaType=o.Z.IMAGE,r.qualityIndex=t++,r.bitrate=e.bitrate,r.width=e.width,r.height=e.height,r}))},reset:s},s(),r=(0,Pe.Z)(n).create({streamInfo:i,adapter:e.adapter,baseURLController:e.baseURLController,timelineConverter:e.timelineConverter,debug:e.debug,eventBus:e.eventBus,events:e.events,dashConstants:e.dashConstants,dashMetrics:e.dashMetrics,segmentBaseController:e.segmentBaseController}),t}Ot.__dashjs_factory_name="ThumbnailController";var jt=c.Z.getClassFactory(Ot),Nt=r(7417);function Lt(e){var t;e=e||{};var r=[],n=(0,l.Z)(this.context).getInstance(),i=e.updateEventName,o=e.addBlacklistEventName;function a(e){-1===r.indexOf(e)&&(r.push(e),n.trigger(i,{entry:e}))}return t={add:a,contains:function(e){return!!(r.length&&e&&e.length)&&-1!==r.indexOf(e)},reset:function(){r=[]}},o&&n.on(o,(function(e){a(e.entry)}),t),t}Lt.__dashjs_factory_name="BlackListController";var Dt=c.Z.getClassFactory(Lt),Ft=[o.Z.VIDEO,o.Z.AUDIO,o.Z.TEXT,o.Z.MUXED,o.Z.IMAGE];function Ut(e){e=e||{};var t,r,n,i,s,c,f,h,p,m,g,y,v,b,_,w,x,S,T=this.context,A=(0,l.Z)(T).getInstance(),R=(0,Q.Z)(T).getInstance(),C=e.manifestModel,I=e.mediaPlayerModel,k=e.dashMetrics,P=e.manifestUpdater,O=e.adapter,j=e.timelineConverter,N=e.capabilities,L=e.errHandler,D=e.abrController,F=e.playbackController,U=e.eventController,B=e.mediaController,G=e.protectionController,z=e.textController,V=e.videoModel,H=e.streamInfo,W=e.settings;function Z(e,t){return new Promise((function(i,a){re(),m=!0,ie();var s=V.getElement(),l=[];Ft.forEach((function(t){(t!==o.Z.TEXT||e)&&(t!==o.Z.VIDEO||!s||s&&/^VIDEO$/i.test(s.nodeName))&&l.push(q(t,e))})),Promise.all(l).then((function(){return e=t,new Promise((function(t){var r={},i=n.map((function(t){return t.createBufferSinks(e)}));Promise.all(i).then((function(e){e.forEach((function(e){e&&(r[e.getType()]=e)})),t(r)})).catch((function(){t(r)}))}));var e})).then((function(t){if(m=!1,0===n.length){var o="No streams to play.";L.error(new E.Z(M.MANIFEST_ERROR_ID_NOSTREAMS_CODE,o,C.getValue())),r.fatal(o)}else ae();e&&z.createTracks(H),i(t)})).catch((function(e){a(e)}))}))}function q(t,i){var s,l=O.getAllMediaInfoForType(H,t),c=[],d=null;if(!l||0===l.length)return r.info("No "+t+" data."),Promise.resolve();t===o.Z.VIDEO&&(f=!0),t===o.Z.AUDIO&&(h=!0);for(var p=0,m=l.length;p<m;p++)d=l[p],t===o.Z.TEXT&&d.isEmbedded&&(z.addEmbeddedTrack(H,d),c.push(d)),Y(d)&&B.addTrack(d);if(c.length>0&&(B.setInitialMediaSettingsForType(t,H),z.addMediaInfosToBuffer(H,t,c)),l=l.filter((function(e){return!e.isEmbedded})),0===l.length)return Promise.resolve();if(t===o.Z.IMAGE)return(y=jt(T).create({streamInfo:H,adapter:O,baseURLController:e.baseURLController,timelineConverter:e.timelineConverter,debug:w,eventBus:A,events:u.Z,dashConstants:a.Z,dashMetrics:e.dashMetrics,segmentBaseController:e.segmentBaseController})).initialize(),Promise.resolve();A.trigger(u.Z.STREAM_INITIALIZING,{streamInfo:H,mediaInfo:d}),B.setInitialMediaSettingsForType(t,H);var b=function(t,r){var i=t&&t.length>0?t[0]:null,a=g.getModel(i?i.type:null),s=i?i.type:null,l=i?i.mimeType:null,u=i?i.isFragmented:null,c=oe(T).create({streamInfo:H,type:s,mimeType:l,timelineConverter:j,adapter:O,manifestModel:C,mediaPlayerModel:I,fragmentModel:a,dashMetrics:e.dashMetrics,baseURLController:e.baseURLController,segmentBaseController:e.segmentBaseController,abrController:D,playbackController:F,mediaController:B,textController:z,errHandler:L,settings:W,boxParser:_,segmentBlacklistController:v});c.initialize(r,f,u),n.push(c);for(var d=0;d<t.length;d++)c.addMediaInfo(t[d]);return s===o.Z.TEXT&&z.addMediaInfosToBuffer(H,s,t,a),c}(l,i);return(s=B.getCurrentTrackFor(t,H.id))?(D.updateTopQualityIndex(s),b.selectMediaInfo(t===o.Z.TEXT&&s.isEmbedded?l[0]:s)):Promise.resolve()}function Y(e){var t,n=e?e.type:null;return n===o.Z.MUXED?(t="Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines",r.fatal(t),L.error(new E.Z(M.MANIFEST_ERROR_ID_MULTIPLEXED_CODE,t,C.getValue())),!1):!(n!==o.Z.TEXT&&n!==o.Z.IMAGE&&e.contentProtection&&!N.supportsEncryptedMedia()&&(L.error(new E.Z(M.CAPABILITY_MEDIAKEYS_ERROR_CODE,M.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE)),1))}function X(e){for(var t=n?n.length:0,r=0;r<t;r++){var i=n[r].getFragmentModel();i.abortRequests(),i.resetInitialSettings(),n[r].reset(!1,e)}z&&z.deactivateStream(H),n=[],s=!1,c=!1,ge(!1),$(!1),A.trigger(u.Z.STREAM_DEACTIVATED,{streamInfo:H})}function K(e){X(e),i=!1,f=!1,h=!1,p={},m=!1,x=!1,S=[]}function $(e){x=e}function J(){return H?H.start:NaN}function ee(){return H?H.id:null}function te(){return H}function re(){if(!V||!D)throw new Error(o.Z.MISSING_CONFIG_ERROR)}function ne(e){e.error&&(L.error(e.error),r.fatal(e.error.message))}function ie(){if(U){var e=O.getEventsFor(H);e&&e.length>0&&U.addInlineEvents(e,H.id)}}function ae(){for(var e=n.length,t=p.audio||p.video?new E.Z(M.DATA_UPDATE_FAILED_ERROR_CODE,M.DATA_UPDATE_FAILED_ERROR_MESSAGE):null,r=0;r<e;r++)if(n[r].isUpdating()||m)return;if(G){G.clearMediaInfoArray();for(var a=0;a<e&&n[a];a++){var s=n[a].getType(),l=n[a].getMediaInfo();if(s===o.Z.AUDIO||s===o.Z.VIDEO||s===o.Z.TEXT&&l.isFragmented){var c=n[a].getMediaInfo();c&&G.initializeForMedia(c)}}G.handleKeySystemFromManifest()}t?L.error(t):i||(i=!0,V.waitForReadyState(o.Z.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,(function(){A.trigger(u.Z.STREAM_INITIALIZED,{streamInfo:H})})))}function se(){var e=fe(),t=e.length;if(0!==t){for(var n=0;n<t;n++)if(!e[n].isBufferingCompleted()&&(e[n].getType()===o.Z.AUDIO||e[n].getType()===o.Z.VIDEO))return void r.debug("onBufferingCompleted - One streamProcessor has finished but",e[n].getType(),"one is not buffering completed");r.debug("onBufferingCompleted - trigger STREAM_BUFFERING_COMPLETED"),c=!0,A.trigger(u.Z.STREAM_BUFFERING_COMPLETED,{streamInfo:H},{streamInfo:H})}else r.warn("onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because no streamProcessor is defined")}function le(e){p[e.mediaType]=e.error,ae()}function ue(e){U&&U.addInbandEvents(e.events,H.id)}function ce(e){return e&&e.type?de(e.type):null}function de(e){return e?fe().filter((function(t){return t.getType()===e}))[0]:null}function fe(){for(var e,t,r=[],i=0;i<n.length;i++)(e=(t=n[i]).getType())!==o.Z.AUDIO&&e!==o.Z.VIDEO&&e!==o.Z.TEXT||r.push(t);return r}function he(e,t){var r=te(),n=t.getStreamInfo();if(!n||!r)return!0;var i=O.getAdaptationForType(n.index,e,n),o=O.getAdaptationForType(r.index,e,r);return i&&o?!(!pe(o)&&pe(i)):!i&&!o}function pe(e){return!!e&&!!(e.ContentProtection||e.Representation_asArray&&e.Representation_asArray.length>0&&e.Representation_asArray[0].ContentProtection)}function me(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e||!e.hasOwnProperty("getStreamInfo"))return!1;var n=e.getStreamInfo(),i=r?r.getStreamInfo():te();if(!n||!i)return!1;var o=O.getAdaptationForType(n.index,t,n),a=O.getAdaptationForType(i.index,t,i);if(!o||!a)return!o&&!a;var s=o&&a&&o.mimeType===a.mimeType,l=a.Representation_asArray.map((function(e){return e.codecs})),u=o.Representation_asArray.map((function(e){return e.codecs})),c=u.some((function(e){return l.indexOf(e)>-1})),d=u.some((function(e){return l.some((function(t){return N.codecRootCompatibleWithCodec(t,e)}))}));return c||d&&s}function ge(e){b=e}function ye(){return b}return t={initialize:function(){A.on(u.Z.BUFFERING_COMPLETED,se,t),A.on(u.Z.DATA_UPDATE_COMPLETED,le,t),A.on(u.Z.INBAND_EVENTS,ue,t),G&&(A.on(u.Z.KEY_ERROR,ne,t),A.on(u.Z.SERVER_CERTIFICATE_UPDATED,ne,t),A.on(u.Z.LICENSE_REQUEST_COMPLETE,ne,t),A.on(u.Z.KEY_SYSTEM_SELECTED,ne,t),A.on(u.Z.KEY_SESSION_CREATED,ne,t),A.on(u.Z.KEY_STATUSES_CHANGED,ne,t)),z.initializeForStream(H),A.trigger(u.Z.STREAM_UPDATED,{streamInfo:H})},getStreamId:function(){return H?H.id:null},activate:function(e,t){return new Promise((function(r,n){if(!s)return ye()?(s=!0,A.trigger(u.Z.STREAM_ACTIVATED,{streamInfo:H}),void r(t)):void function(e,t){return Z(e,t)}(e,t).then((function(e){s=!0,A.trigger(u.Z.STREAM_ACTIVATED,{streamInfo:H}),r(e)})).catch((function(e){n(e)}));r(t)}))},deactivate:X,getIsActive:function(){return s},getDuration:function(){return H?H.duration:NaN},getStartTime:J,getId:ee,getStreamInfo:te,getHasAudioTrack:function(){return h},getHasVideoTrack:function(){return f},startPreloading:function(e,t){return new Promise((function(i,o){ye()?o():(r.info("[startPreloading] Preloading next stream with id ".concat(ee())),ge(!0),Z(e,t).then((function(){for(var e=0;e<n.length&&n[e];e++)n[e].setExplicitBufferingTime(J()),n[e].getScheduleController().startScheduleTimer();i()})).catch((function(){ge(!1),o()})))}))},initializeForTextWithMediaSource:function(e){return new Promise((function(t,r){q(o.Z.TEXT,e).then((function(){return(e=de(o.Z.TEXT))?e.createBufferSinks():Promise.resolve();var e})).then((function(){z.createTracks(H),t()})).catch((function(e){r(e)}))}))},getThumbnailController:function(){return y},getBitrateListFor:function(e){if(re(),e===o.Z.IMAGE)return y?y.getBitrateList():[];var t=function(e){for(var t=null,r=0;r<n.length;r++)if((t=n[r]).getType()===e)return t.getMediaInfo();return null}(e);return D.getBitrateList(t)},updateData:function(e){return new Promise((function(t){m=!0,H=e,U&&ie();for(var r=[],i=0,o=n.length;i<o;i++){var a=n[i],s=a.getMediaInfo();r.push(a.updateStreamInfo(H));var l=O.getAllMediaInfoForType(H,a.getType());if(l=l.filter((function(e){return!e.isEmbedded}))){a.clearMediaInfoArray();for(var c=0;c<l.length;c++){var d=l[c];a.addMediaInfo(l[c]),O.areMediaInfosEqual(s,d)&&(D.updateTopQualityIndex(d),r.push(a.selectMediaInfo(d)))}}}Promise.all(r).then((function(){for(r=[];S.length>0;){var e=S.pop(),t=e.newMediaInfo,n=ce(e.oldMediaInfo);if(!n)return;r.push(n.prepareTrackSwitch()),r.push(n.selectMediaInfo(t))}return Promise.all(r)})).then((function(){m=!1,ae(),A.trigger(u.Z.STREAM_UPDATED,{streamInfo:H}),t()}))}))},reset:function(e){g&&(g.reset(),g=null),D&&H&&D.clearDataForStream(H.id),v&&(v.reset(),v=null),K(e),H=null,A.off(u.Z.DATA_UPDATE_COMPLETED,le,t),A.off(u.Z.BUFFERING_COMPLETED,se,t),A.off(u.Z.INBAND_EVENTS,ue,t),G&&(A.off(u.Z.KEY_ERROR,ne,t),A.off(u.Z.SERVER_CERTIFICATE_UPDATED,ne,t),A.off(u.Z.LICENSE_REQUEST_COMPLETE,ne,t),A.off(u.Z.KEY_SYSTEM_SELECTED,ne,t),A.off(u.Z.KEY_SESSION_CREATED,ne,t),A.off(u.Z.KEY_STATUSES_CHANGED,ne,t))},getProcessors:fe,setMediaSource:function(e){return new Promise((function(t,i){for(var o=[],a=0;a<n.length;)Y(n[a].getMediaInfo())?(o.push(n[a].setMediaSource(e)),a++):(n[a].reset(),n.splice(a,1));Promise.all(o).then((function(){for(var e=0;e<n.length;e++)n[e].dischargePreBuffer();if(0===n.length){var i="No streams to play.";L.error(new E.Z(M.MANIFEST_ERROR_ID_NOSTREAMS_CODE,i+"nostreams",C.getValue())),r.fatal(i)}t()})).catch((function(e){r.error(e),i(e)}))}))},isMediaCodecCompatible:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return me(e,o.Z.VIDEO,t)&&me(e,o.Z.AUDIO,t)},isProtectionCompatible:function(e){return!e||he(o.Z.VIDEO,e)&&he(o.Z.AUDIO,e)},getPreloaded:ye,getIsEndedEventSignaled:function(){return x},setIsEndedEventSignaled:$,getAdapter:function(){return O},getHasFinishedBuffering:function(){return c},setPreloaded:ge,startScheduleControllers:function(){for(var e=n.length,t=0;t<e&&n[t];t++)n[t].getScheduleController().startScheduleTimer()},prepareTrackChange:function(e){if(s&&H){c=!1;var t=e.newMediaInfo,n=C.getValue();O.setCurrentMediaInfo(H.id,t.type,t);var i=ce(t);if(i){var a=F.getTime();r.info("Stream -  Process track changed at current time "+a),n.refreshManifestOnSwitchTrack?(S.push(e),P.getIsUpdating()||(r.debug("Stream -  Refreshing manifest for switch track"),P.refreshManifest())):i.selectMediaInfo(t).then((function(){t.type!==o.Z.VIDEO&&t.type!==o.Z.AUDIO||D.updateTopQualityIndex(t),i.prepareTrackSwitch()}))}}},prepareQualityChange:function(e){var t=de(e.mediaType);t&&t.prepareQualityChange(e)}},function(){try{w=(0,d.Z)(T).getInstance(),r=w.getLogger(t),K(),_=(0,Nt.Z)(T).getInstance(),v=Dt(T).create({updateEventName:u.Z.SEGMENT_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:u.Z.SEGMENT_LOCATION_BLACKLIST_ADD}),g=It(T).create({streamInfo:H,mediaPlayerModel:I,dashMetrics:k,errHandler:L,settings:W,boxParser:_,dashConstants:a.Z,urlUtils:R})}catch(e){throw e}}(),t}Ut.__dashjs_factory_name="Stream";var Bt=c.Z.getClassFactory(Ut),Gt=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.url=t||null,this.type=C.w.CONTENT_STEERING_TYPE,this.responseType="json"},zt=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.version=null,this.ttl=300,this.reloadUri=null,this.pathwayPriority=[],this.pathwayClones=[]};function Vt(){var e,t,r,n,i,o,s,l,u,c,h,p,m,g,y,v=this.context,b=(0,Q.Z)(v).getInstance();function _(e){T(e,"baseUrl")}function w(e){T(e,"location")}function E(e){if(e&&e.request&&e.request.serviceLocation&&e.request.requestStartDate&&e.request.requestEndDate&&!isNaN(e.request.bytesTotal)){var t=e.request.serviceLocation,r=e.request.requestEndDate.getTime()-e.request.requestStartDate.getTime();S(t,parseInt(8*e.request.bytesTotal/r*1e3))}}function x(e){e&&e.httpRequest&&e.httpRequest._serviceLocation&&!isNaN(e.throughput)&&S(e.httpRequest._serviceLocation,1e3*e.throughput)}function S(e,t){i[e]||(i[e]=[]),i[e].push(t),i[e].length>4&&i[e].shift()}function T(e,t){if(e&&e.request&&e.request.serviceLocation){var r=e.request.serviceLocation;-1===n[t].all.indexOf(r)&&n[t].all.push(r),n[t].current=r}}function A(){var e=h.getValue(),t=y.getContentSteering(e);return t||(t=m.getServiceDescriptionSettings().contentSteering),t}function R(){return new Promise((function(e){try{var o=A();if(!o||!o.serverUrl)return void e();var l=function(e){var t=e.serverUrl;r&&r.reloadUri&&(t=b.isRelative(r.reloadUri)?b.resolve(r.reloadUri,e.serverUrl):r.reloadUri);var o=[],a=n.baseUrl.all.concat(n.location.all);if(a.length>0){var s=a.map((function(e){var t=function(e){if(!e||!i[e]||0===i[e].length)return-1;var t=i[e].reduce((function(e,t){return e+t}))/i[e].length;return parseInt(t)}(e);return{serviceLocation:e,throughput:t}}));s.sort((function(e,t){return t.throughput-e.throughput}));var l="",u="";s.forEach((function(e,t){0!==t&&(l="".concat(l,","),e.throughput>-1&&(u="".concat(u,","))),l="".concat(l).concat(e.serviceLocation),e.throughput>-1&&(u="".concat(u).concat(e.throughput))})),o.push({key:"_DASH_pathway",value:'"'.concat(l,'"')}),o.push({key:"_DASH_throughput",value:u})}return Be.Z.addAditionalQueryParameterToUrl(t,o)}(o),u=new Gt(l);s.load({request:u,success:function(t){!function(e){e&&e[a.Z.CONTENT_STEERING_RESPONSE.VERSION]&&1===parseInt(e[a.Z.CONTENT_STEERING_RESPONSE.VERSION])&&((r=new zt).version=e[a.Z.CONTENT_STEERING_RESPONSE.VERSION],e[a.Z.CONTENT_STEERING_RESPONSE.TTL]&&!isNaN(e[a.Z.CONTENT_STEERING_RESPONSE.TTL])&&(r.ttl=e[a.Z.CONTENT_STEERING_RESPONSE.TTL]),e[a.Z.CONTENT_STEERING_RESPONSE.RELOAD_URI]&&(r.reloadUri=e[a.Z.CONTENT_STEERING_RESPONSE.RELOAD_URI]),e[a.Z.CONTENT_STEERING_RESPONSE.PATHWAY_PRIORITY]&&(r.pathwayPriority=e[a.Z.CONTENT_STEERING_RESPONSE.PATHWAY_PRIORITY]),e[a.Z.CONTENT_STEERING_RESPONSE.PATHWAY_CLONES]&&(r.pathwayClones=e[a.Z.CONTENT_STEERING_RESPONSE.PATHWAY_CLONES],r.pathwayClones=r.pathwayClones.filter((function(e){return function(e){return e[a.Z.CONTENT_STEERING_RESPONSE.BASE_ID]&&e[a.Z.CONTENT_STEERING_RESPONSE.ID]&&e[a.Z.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT]&&e[a.Z.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT][a.Z.CONTENT_STEERING_RESPONSE.HOST]}(e)}))),k())}(t),g.trigger(f.Z.CONTENT_STEERING_REQUEST_COMPLETED,{currentSteeringResponseData:r,url:l}),e()},error:function(n,i,o,a){!function(e,n){try{switch(t.warn("Error fetching data from content steering server",e),n.status){case 410:break;case 429:var i=n&&n.getResponseHeader?n.getResponseHeader("retry-after"):null;null!==i&&(r||(r={}),r.ttl=parseInt(i)),k();break;default:k()}}catch(e){t.error(e)}}(n,a),e(n)},complete:function(){n.baseUrl.all=C(n.baseUrl),n.location.all=C(n.location)}})}catch(t){e(t)}}))}function C(e){return e.all&&0!==e.all.length&&e.current?e.all.filter((function(t){return t===e.current})):[]}function I(e){try{var n=[];return e&&0!==e.length&&r&&r.pathwayClones&&0!==r.pathwayClones.length?(r.pathwayClones.forEach((function(t){var r=e.filter((function(e){return t[a.Z.CONTENT_STEERING_RESPONSE.BASE_ID]===e.serviceLocation})),i=null;if(r&&r.length>0&&(i=r[0]),i){var o=new URL(i.url),s=t[a.Z.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT][a.Z.CONTENT_STEERING_RESPONSE.HOST];s=Be.Z.stringHasProtocol(s)?s:"".concat(o.protocol,"//").concat(s);var l={synthesizedUrl:"".concat(s).concat(o.pathname),serviceLocation:t[a.Z.CONTENT_STEERING_RESPONSE.ID],queryParams:t[a.Z.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT][a.Z.CONTENT_STEERING_RESPONSE.PARAMS],reference:i};n.push(l)}})),n):n}catch(e){return t.error(e),[]}}function k(){r&&r.ttl&&!isNaN(r.ttl)&&(o&&clearTimeout(o),o=setTimeout((function(){R()}),1e3*r.ttl))}function P(){o&&clearTimeout(o),o=null}function O(){r=null,i={},n={baseUrl:{current:null,all:[]},location:{current:null,all:[]}},P()}return e={reset:function(){O(),g.off(f.Z.FRAGMENT_LOADING_STARTED,_,e),g.off(f.Z.MANIFEST_LOADING_STARTED,w,e),g.off(f.Z.MANIFEST_LOADING_FINISHED,E,e),g.off(f.Z.THROUGHPUT_MEASUREMENT_STORED,x,e)},setConfig:function(e){e&&(e.adapter&&(y=e.adapter),e.errHandler&&(l=e.errHandler),e.dashMetrics&&(u=e.dashMetrics),e.mediaPlayerModel&&(c=e.mediaPlayerModel),e.requestModifier&&(p=e.requestModifier),e.manifestModel&&(h=e.manifestModel),e.serviceDescriptionController&&(m=e.serviceDescriptionController),e.eventBus&&(g=e.eventBus))},loadSteeringData:R,getCurrentSteeringResponseData:function(){return r},shouldQueryBeforeStart:function(){var e=A();return!!e&&e.queryBeforeStart},getSteeringDataFromManifest:A,stopSteeringRequestTimer:P,getSynthesizedBaseUrlElements:function(e){try{return I(e).map((function(e){var t=new Ee(e.synthesizedUrl,e.serviceLocation);return t.queryParams=e.queryParams,t.dvb_priority=e.reference.dvb_priority,t.dvb_weight=e.reference.dvb_weight,t.availabilityTimeOffset=e.reference.availabilityTimeOffset,t.availabilityTimeComplete=e.reference.availabilityTimeComplete,t}))}catch(e){return t.error(e),[]}},getSynthesizedLocationElements:function(e){try{return I(e).map((function(e){var t=new Oe(e.synthesizedUrl,e.serviceLocation);return t.queryParams=e.queryParams,t}))}catch(e){return t.error(e),[]}},initialize:function(){s=bt(v).create({errHandler:l,dashMetrics:u,mediaPlayerModel:c,requestModifier:p,errors:M}),g.on(f.Z.FRAGMENT_LOADING_STARTED,_,e),g.on(f.Z.MANIFEST_LOADING_STARTED,w,e),g.on(f.Z.MANIFEST_LOADING_FINISHED,E,e),g.on(f.Z.THROUGHPUT_MEASUREMENT_STORED,x,e)}},t=(0,d.Z)(v).getInstance().getLogger(e),O(),e}Vt.__dashjs_factory_name="ContentSteeringController";var Ht=c.Z.getSingletonFactory(Vt);function Wt(){var e,t,r,n=this.context,i=(0,R.Z)(n).getInstance();return e={select:function(e){if(!e||0===e.length)return null;var n=null;return i.get().streaming.applyContentSteering&&(n=function(e){var n=r.getCurrentSteeringResponseData();return n&&n.pathwayPriority&&n.pathwayPriority.length>0?function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=0,i=null,o=function(){var o=e[n],a=r.findIndex((function(e){return e.serviceLocation&&e.serviceLocation===o}));if(-1!==a&&!t.contains(r[a].serviceLocation))return i=r[a],"break";n+=1};n<e.length&&"break"!==o(););return i}(n.pathwayPriority,e):null}(e)),n||(n=function(e){return e[0]}(e)),n},setConfig:function(e){e.blacklistController&&(t=e.blacklistController),e.contentSteeringController&&(r=e.contentSteeringController)},reset:function(){t.reset()}},t=Dt(n).create({updateEventName:u.Z.SERVICE_LOCATION_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:u.Z.SERVICE_LOCATION_LOCATION_BLACKLIST_ADD}),r=Ht(n).getInstance(),e}Wt.__dashjs_factory_name="LocationSelector";var Zt=c.Z.getClassFactory(Wt);function qt(){var e,t,r,n,i,o,s,c,h,p,m,g,y,v,b=this.context,_=(0,l.Z)(b).getInstance(),w=(0,Q.Z)(b).getInstance();function E(){r=NaN,s=!1,i=!0,o=!1,x()}function x(){null!==n&&(clearTimeout(n),n=null)}function S(e){x(),o||(isNaN(e)&&!isNaN(r)&&(e=1e3*r),isNaN(e)||(t.debug("Refresh manifest in "+e+" milliseconds."),n=setTimeout(C,e)))}function T(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];s=!0;var t=h.getValue(),r=t.url,n=null,i=m.getPatchLocation(t),o=p.select(i),a=null;if(o&&!e)r=o.url,n=o.serviceLocation,a=o.queryParams;else{var l=A(t),u=p.select(l);u&&(r=u.url,n=u.serviceLocation,a=u.queryParams)}w.isRelative(r)&&(r=w.resolve(r,t.url)),c.load(r,n,a)}function A(e){var t=m.getLocation(e),r=y.getSynthesizedLocationElements(t);return t.concat(r)}function R(e){if(e){if(m.getIsPatch(e)){var n=e;e=h.getValue();var l=m.isPatchValid(e,n),c=l;if(l){var d=m.getPublishTime(e);c=m.applyPatchToManifest(e,n);var f=m.getPublishTime(e);c=d.getTime()!=f.getTime()}if(!c)return t.debug("Patch provided is invalid, performing full manifest refresh"),void T(!0);e.loadedTime=new Date}}else(e=h.getValue()).loadedTime=new Date;if(h.getValue()&&h.getValue().type===a.Z.DYNAMIC&&e.type===a.Z.STATIC)return _.trigger(u.Z.DYNAMIC_TO_STATIC),s=!1,void(o=!0);h.setValue(e);var p=new Date,g=(p.getTime()-e.loadedTime.getTime())/1e3;1e3*(r=m.getManifestUpdatePeriod(e,g))>2147483647&&(r=2147483.647),_.trigger(u.Z.MANIFEST_UPDATED,{manifest:e}),t.info("Manifest has been refreshed at "+p+"["+p.getTime()/1e3+"] "),i||S()}function C(){i||(s?S(v.get().streaming.manifestUpdateRetryInterval):T())}function I(e){e.error?e.error.code===M.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE&&g.error(e.error):R(e.manifest)}function k(){i=!1,S()}function P(){(i=!v.get().streaming.scheduling.scheduleWhilePaused)&&x()}function O(){s=!1}return e={initialize:function(){E(),_.on(u.Z.STREAMS_COMPOSED,O,this),_.on(f.Z.PLAYBACK_STARTED,k,this),_.on(f.Z.PLAYBACK_PAUSED,P,this),_.on(u.Z.INTERNAL_MANIFEST_LOADED,I,this)},setManifest:function(e){R(e)},refreshManifest:T,getIsUpdating:function(){return s},setConfig:function(e){e&&(e.manifestModel&&(h=e.manifestModel),e.adapter&&(m=e.adapter),e.manifestLoader&&(c=e.manifestLoader),e.errHandler&&(g=e.errHandler),e.locationSelector&&(p=e.locationSelector),e.settings&&(v=e.settings),e.contentSteeringController&&(y=e.contentSteeringController))},reset:function(){_.off(f.Z.PLAYBACK_STARTED,k,this),_.off(f.Z.PLAYBACK_PAUSED,P,this),_.off(u.Z.STREAMS_COMPOSED,O,this),_.off(u.Z.INTERNAL_MANIFEST_LOADED,I,this),E()}},t=(0,d.Z)(b).getInstance().getLogger(e),p=Zt(b).create(),e}qt.__dashjs_factory_name="ManifestUpdater";var Yt=c.Z.getClassFactory(qt);function Xt(){var e,t,r,n,i,o,a,s,c,f,h,p,m,g,y,v,b=this.context,_=(0,l.Z)(b).getInstance(),w=(0,Q.Z)(b).getInstance();function x(){s=[],c=[],f=null,h=null,m=null,p=NaN,r=!1,n=!1,g=i.get().streaming.utcSynchronization.timeBetweenSyncAttempts}function S(){i.get().streaming.utcSynchronization.enabled&&!r&&!n&&m&&m.value&&m.schemeIdUri&&!isNaN(p)&&!isNaN(i.get().streaming.utcSynchronization.backgroundAttempts)&&(h&&(Date.now()-h)/1e3<30||(s=[],n=!0,T(isNaN(i.get().streaming.utcSynchronization.backgroundAttempts)?2:i.get().streaming.utcSynchronization.backgroundAttempts)))}function T(e){try{if(e<=0)return void B();var t=Date.now();o[m.schemeIdUri](m.value,(function(r){var n=Date.now(),i=R(t,n,r);s.push(i),T(e-1)}),(function(){B()}))}catch(e){B()}}function A(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||0;if(!c||0===c.length||e>=c.length)I();else{var t=c[e];if(t)if(o.hasOwnProperty(t.schemeIdUri)){var r=(new Date).getTime();o[t.schemeIdUri](t.value,(function(e){var n=(new Date).getTime(),i=R(r,n,e);m=t,I(i)}),(function(){A(e+1)}))}else A(e+1);else I()}}function R(e,t,r){return r-(t-(t-e)/2)}function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NaN,t=isNaN(e);t&&i.get().streaming.utcSynchronization.useManifestDateHeaderTimeSource?F():U(t,e)}function k(e){var t=Date.parse(e);return isNaN(t)&&(t=function(e){var t,r,n=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/.exec(e);return t=Date.UTC(parseInt(n[1],10),parseInt(n[2],10)-1,parseInt(n[3],10),parseInt(n[4],10),parseInt(n[5],10),n[6]&&(parseInt(n[6],10)||0),n[7]&&1e3*parseFloat(n[7])||0),n[9]&&n[10]&&(r=60*parseInt(n[9],10)+parseInt(n[10],10),t+=("+"===n[8]?-1:1)*r*60*1e3),new Date(t).getTime()}(e)),t}function P(e){return Date.parse(e)}function O(e){return Date.parse(e)}function j(e,t,r){r()}function N(e,t,r){var n=k(e);isNaN(n)?r():t(n)}function L(e,t,r,n,i){var o,a,s=!1,l=new XMLHttpRequest,u=i?C.w.HEAD:C.w.GET,c=t.match(/\S+/g);if(t=c.shift(),o=function(){s||(s=!0,c.length?L(e,c.join(" "),r,n,i):n())},a=function(){var t,n;200===l.status&&(t=i?l.getResponseHeader("Date"):l.response,n=e(t),isNaN(n)||(r(n),s=!0))},w.isRelative(t)){var d=v.resolve();d&&(t=w.resolve(t,d.url))}l.open(u,t),l.timeout=5e3,l.onload=a,l.onloadend=o,l.send()}function D(e,t,r){L(O,e,t,r,!0)}function F(){var e=a.getLatestMPDRequestHeaderValueByID("Date"),t=null!==e?new Date(e).getTime():Number.NaN;isNaN(t)?U(!0):U(!1,t-Date.now())}function U(e,n){if(isNaN(p)||isNaN(n)||e||function(e){try{var r,n=G(e),o=isNaN(g)?30:g,a=isNaN(i.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor)?2:i.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor,s=isNaN(i.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts)?600:i.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts,l=isNaN(i.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts)?2:i.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts;n?(r=Math.min(o*a,s),t.debug("Increasing timeBetweenSyncAttempts to ".concat(r))):(r=Math.max(o/a,l),t.debug("Decreasing timeBetweenSyncAttempts to ".concat(r))),g=r}catch(e){}}(n),!e&&!isNaN(n)){f=Date.now(),r=!1;var o=isNaN(p);p=n,o&&S(),t.debug("Completed UTC sync. Setting client - server offset to ".concat(n))}e&&(m=null,r=!1,y.error(new E.Z(M.TIME_SYNC_FAILED_ERROR_CODE,M.TIME_SYNC_FAILED_ERROR_MESSAGE))),_.trigger(u.Z.UPDATE_TIME_SYNC_OFFSET,{offset:n}),_.trigger(u.Z.TIME_SYNCHRONIZATION_COMPLETED)}function B(){if(s&&0!==s.length){var e=s.reduce((function(e,t){return e+t}),0)/s.length;G(e)?t.debug("Completed background UTC sync. Offset is within allowed threshold and is not adjusted."):(t.debug("Completed background UTC sync. Setting client - server offset to ".concat(e)),p=e,_.trigger(u.Z.UPDATE_TIME_SYNC_OFFSET,{offset:p})),n=!1,h=Date.now()}}function G(e){try{if(isNaN(p))return!0;var t=i.get().streaming.utcSynchronization.maximumAllowedDrift&&!isNaN(i.get().streaming.utcSynchronization.maximumAllowedDrift)?i.get().streaming.utcSynchronization.maximumAllowedDrift:100;return e>=p-t&&e<=p+t}catch(e){return!0}}return e={initialize:function(){x(),o={"urn:mpeg:dash:utc:http-head:2014":D,"urn:mpeg:dash:utc:http-xsdate:2014":L.bind(null,k),"urn:mpeg:dash:utc:http-iso:2014":L.bind(null,P),"urn:mpeg:dash:utc:direct:2014":N,"urn:mpeg:dash:utc:http-head:2012":D,"urn:mpeg:dash:utc:http-xsdate:2012":L.bind(null,k),"urn:mpeg:dash:utc:http-iso:2012":L.bind(null,P),"urn:mpeg:dash:utc:direct:2012":N,"urn:mpeg:dash:utc:http-ntp:2014":j,"urn:mpeg:dash:utc:ntp:2014":j,"urn:mpeg:dash:utc:sntp:2014":j}},attemptSync:function(e,t){c=e,r||(function(e){try{if(!e||!i.get().streaming.utcSynchronization.enabled)return!1;var t=isNaN(g)?30:g;return!(f&&t&&!isNaN(t))||(Date.now()-f)/1e3>=t}catch(e){return!0}}(t)?(r=!0,A()):_.trigger(u.Z.TIME_SYNCHRONIZATION_COMPLETED))},setConfig:function(e){e&&(e.dashMetrics&&(a=e.dashMetrics),e.baseURLController&&(v=e.baseURLController),e.errHandler&&(y=e.errHandler),e.settings&&(i=e.settings))},reset:function(){x(),_.off(u.Z.ATTEMPT_BACKGROUND_SYNC,S,e)}},t=(0,d.Z)(b).getInstance().getLogger(e),_.on(u.Z.ATTEMPT_BACKGROUND_SYNC,S,e),e}Xt.__dashjs_factory_name="TimeSyncController";var Kt=c.Z.getSingletonFactory(Xt);Kt.HTTP_TIMEOUT_MS=5e3,c.Z.updateSingletonFactory(Xt.__dashjs_factory_name,Kt);var Qt=Kt;function $t(){var e,t,r,n,i,o=this.context,a=(0,l.Z)(o).getInstance();return e={attachMediaSource:function(e){var r=window.URL.createObjectURL(t);return e.setSource(r),"managedMediaSource"===n&&(e.setDisableRemotePlayback(!0),t.addEventListener("startstreaming",(function(){a.trigger(f.Z.MANAGED_MEDIA_SOURCE_START_STREAMING)})),t.addEventListener("endstreaming",(function(){a.trigger(f.Z.MANAGED_MEDIA_SOURCE_END_STREAMING)}))),r},createMediaSource:function(){var e="WebKitMediaSource"in window,r="MediaSource"in window;return"ManagedMediaSource"in window?(t=new ManagedMediaSource,n="managedMediaSource",i.info("Created ManagedMediaSource")):r?(t=new MediaSource,n="mediaSource",i.info("Created MediaSource")):e&&(t=new WebKitMediaSource,i.info("Created WebkitMediaSource")),t},detachMediaSource:function(e){e.setSource(null)},setConfig:function(e){e&&e.settings&&(r=e.settings)},setDuration:function e(n){t&&"open"===t.readyState&&(null===n&&isNaN(n)||t.duration!==n&&(n!==1/0||r.get().streaming.buffer.mediaSourceDurationInfinity||(n=Math.pow(2,32)),function(e){for(var t=e.sourceBuffers,r=0;r<t.length;r++)if(t[r].updating)return!0;return!1}(t)?setTimeout(e.bind(null,n),50):(i.info("Set MediaSource duration:"+n),t.duration=n)))},setSeekable:function(e,r){t&&"function"==typeof t.setLiveSeekableRange&&"function"==typeof t.clearLiveSeekableRange&&"open"===t.readyState&&e>=0&&e<r&&(t.clearLiveSeekableRange(),t.setLiveSeekableRange(e,r))},signalEndOfStream:function(e){if(e&&"open"===e.readyState){for(var t=e.sourceBuffers,r=0;r<t.length;r++){if(t[r].updating)return;if(0===t[r].buffered.length)return}i.info("call to mediaSource endOfStream"),e.endOfStream()}}},i=(0,d.Z)(o).getInstance().getLogger(e),e}$t.__dashjs_factory_name="MediaSourceController";var Jt=c.Z.getSingletonFactory($t);function er(){var e,t,r,n,i,o,a,s,u,c,h,p="urn:mpeg:dash:event:2012",m="discarded",g="updated",y="added",v=this.context,b=(0,l.Z)(v).getInstance();function _(){if(!a||!s)throw new Error("setConfig function has to be called previously")}function w(){h=!1,r={},n={},i=null,c=!1,o=Date.now()/1e3}function E(){try{if(!c){c=!0;var e=s.getTime(),i=e-o;i=o>0?Math.max(0,i):0,x(n,i,e),x(r,i,e),S(n),S(r),o=e,c=!1}}catch(e){c=!1,t.error(e)}}function x(e,r,n){try{R(e,(function(i){if(void 0!==i){var o=isNaN(i.duration)?0:i.duration;i.calculatedPresentationTime<=n&&i.calculatedPresentationTime+r+o>=n?I(i,f.Z.EVENT_MODE_ON_START):(C(n,o+r,i.calculatedPresentationTime)||function(e){try{var r=e.eventStream.period.start+e.eventStream.period.duration;return e.calculatedPresentationTime>r}catch(e){return t.error(e),!1}}(i))&&(t.debug("Removing event ".concat(i.id," from period ").concat(i.eventStream.period.id," as it is expired or invalid")),function(e,r){try{var n=r.eventStream.schemeIdUri,i=r.eventStream.period.id,o=r.eventStream.value,a=r.id;e[i][n]=e[i][n].filter((function(e){return o&&e.eventStream.value&&e.eventStream.value!==o||e.id!==a})),0===e[i][n].length&&delete e[i][n]}catch(e){t.error(e)}}(e,i))}}))}catch(e){t.error(e)}}function S(e){try{for(var r in e)e.hasOwnProperty(r)&&0===Object.keys(e[r]).length&&delete e[r]}catch(e){t.error(e)}}function T(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e.eventStream.schemeIdUri,i=e.eventStream.value,o=e.id,a=m;t[n]||(t[n]=[]);var s=t[n].findIndex((function(e){return(!i||e.eventStream.value&&e.eventStream.value===i)&&e.id===o}));if(-1===s)t[n].push(e),e.triggeredReceivedEvent=!1,e.triggeredStartEvent=!1,a=y;else if(r){var l=t[n][s];e.triggeredReceivedEvent=l.triggeredReceivedEvent,e.triggeredStartEvent=l.triggeredStartEvent,t[n][s]=e,a=g}return a}function A(e){try{if(1==e.eventStream.value){var r,n=e.calculatedPresentationTime;r=4294967295==e.calculatedPresentationTime?NaN:e.calculatedPresentationTime+e.duration,b.trigger(f.Z.MANIFEST_VALIDITY_CHANGED,{id:e.id,validUntil:n,newDuration:r,newManifestValidAfter:NaN},{mode:f.Z.EVENT_MODE_ON_START})}}catch(e){t.error(e)}}function M(e){try{var r=s.getTime();R(e,(function(e){var t=e.eventStream&&e.eventStream.period&&!isNaN(e.eventStream.period.duration)?e.eventStream.period.duration:NaN,n=e.eventStream&&e.eventStream.period&&!isNaN(e.eventStream.period.start)?e.eventStream.period.start:NaN;if(!isNaN(t)&&!isNaN(n)){var i=e.calculatedPresentationTime;Math.abs(i-r)<300&&I(e,f.Z.EVENT_MODE_ON_START)}}))}catch(e){t.error(e)}}function R(e,r){try{if(e)for(var n=Object.keys(e),i=0;i<n.length;i++)for(var o=e[n[i]],a=Object.keys(o),s=0;s<a.length;s++)o[a[s]].forEach((function(e){void 0!==e&&r(e)}))}catch(e){t.error(e)}}function C(e,r,n){try{return e-r>n}catch(e){return t.error(e),!1}}function I(e,r){try{var n=s.getTime(),i=e.id;if(r===f.Z.EVENT_MODE_ON_RECEIVE&&!e.triggeredReceivedEvent)return t.debug("Received event ".concat(i)),e.triggeredReceivedEvent=!0,void b.trigger(e.eventStream.schemeIdUri,{event:e},{mode:r});e.triggeredStartEvent||(e.eventStream.schemeIdUri===p&&1==e.eventStream.value?0===e.duration&&0===e.presentationTimeDelta||(t.debug("Starting manifest refresh event ".concat(i," at ").concat(n)),function(){try{_(),a.refreshManifest()}catch(e){t.error(e)}}()):"urn:mpeg:dash:event:callback:2015"===e.eventStream.schemeIdUri&&1==e.eventStream.value?(t.debug("Starting callback event ".concat(i," at ").concat(n)),function(e){try{(0,se.Z)(v).create({}).load({method:"get",url:e,request:{responseType:"arraybuffer"}})}catch(e){t.error(e)}}(e.messageData)):(t.debug("Starting event ".concat(i," from period ").concat(e.eventStream.period.id," at ").concat(n)),b.trigger(e.eventStream.schemeIdUri,{event:e},{mode:r})),e.triggeredStartEvent=!0)}catch(e){t.error(e)}}return e={addInlineEvents:function(e,n){try{if(_(),r[n]||(r[n]={}),e)for(var i=0;i<e.length;i++){var o=e[i];if(!C(s.getTime(),isNaN(o.duration)?0:o.duration,o.calculatedPresentationTime)){var a=T(o,r[n],!0);a===y?(t.debug("Added inline event with id ".concat(o.id," from period ").concat(n)),I(o,f.Z.EVENT_MODE_ON_RECEIVE)):a===g&&t.debug("Updated inline event with id ".concat(o.id," from period ").concat(n))}}}catch(e){throw e}},addInbandEvents:function(e,r){try{_(),n[r]||(n[r]={});for(var i=0;i<e.length;i++){var o=e[i];C(s.getTime(),isNaN(o.duration)?0:o.duration,o.calculatedPresentationTime)||(T(o,n[r],!1)===y?(o.eventStream.schemeIdUri===p&&A(o),t.debug("Added inband event with id ".concat(o.id," from period ").concat(r)),I(o,f.Z.EVENT_MODE_ON_RECEIVE)):t.debug("Inband event with scheme_id_uri ".concat(o.eventStream.schemeIdUri,", value ").concat(o.eventStream.value,", period id ").concat(r," and event id ").concat(o.id," was ignored because it has been added before.")))}E()}catch(e){throw e}},getInbandEvents:function(){return n},getInlineEvents:function(){return r},start:function(){try{_(),t.debug("Start Event Controller");var e=u.get().streaming.eventControllerRefreshDelay;h||isNaN(e)||(h=!0,i=setInterval(E,e))}catch(e){throw e}},setConfig:function(e){try{if(!e)return;e.manifestUpdater&&(a=e.manifestUpdater),e.playbackController&&(s=e.playbackController),e.settings&&(u=e.settings)}catch(e){throw e}},reset:function(){(function(){try{null!==i&&h&&(clearInterval(i),i=null,h=!1,function(){try{M(n),M(r)}catch(e){t.error(e)}}())}catch(e){throw e}})(),w()}},t=(0,d.Z)(v).getInstance().getLogger(e),w(),e}er.__dashjs_factory_name="EventController";var tr=c.Z.getSingletonFactory(er),rr={LEVELS:{SUGGESTION:"Suggestion",WARNING:"Warning",ERROR:"Error"},EVENTS:{NO_UTC_TIMING_ELEMENT:{key:"NO_UTC_TIMING_ELEMENT",message:"No UTCTiming element is present in the manifest. You may experience playback failures. For a detailed validation use https://conformance.dashif.org/"},NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE:{key:"NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE",message:'SMPTE 2052-1:2013 defines the attribute name as "imageType" and does not define "imagetype"'},INVALID_DVR_WINDOW:{key:"INVALID_DVR_WINDOW",message:"No valid segment found when applying a specification compliant DVR window calculation. Using SegmentTimeline entries as a fallback."}}};function nr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ir(){var e,t,r,n,i,a,c,h,p,m,g,y,v,b,_,w,x,S,T,A,R,C,I,k,P,O,j,L,D,F,U,B,G,z,V,H,W,Z,q,Y,X,K,Q,$,te,re,ne,ie,oe=this.context,ae=(0,l.Z)(oe).getInstance();function se(){if(!(a&&a.hasOwnProperty("load")&&R&&R.hasOwnProperty("initialize")&&R.hasOwnProperty("reset")&&R.hasOwnProperty("getClientTimeOffset")&&c&&A&&p&&G))throw new Error(o.Z.MISSING_CONFIG_ERROR)}function le(){if(!i||!i.hasOwnProperty("setManifest"))throw new Error("initialize function has to be called previously")}function ue(){!function(){try{var e=h.getStreamsInfo();if(!I&&0===e.length)throw new Error("There are no periods in the MPD");I&&e.length>0&&p.updateManifestUpdateInfo({currentTime:G.getTime(),buffered:B.getBufferRange(),presentationStartTime:e[0].start,clientTimeOffset:R.getClientTimeOffset()}),C.length>0&&function(e){0!==e.length?C=C.filter((function(r){var n=e.filter((function(e){return e.id===r.getId()})).length>0||r.getId()===I.getId();return n||(t.debug("Removing stream ".concat(r.getId())),r.reset(!0)),n})):t.warn("No periods included in the current manifest. Skipping the filtering of outdated stream objects.")}(e);for(var r=[],n=0,i=e.length;n<i;n++){var o=e[n];r.push(de(o)),p.addManifestUpdateStreamInfo(o)}Promise.all(r).then((function(){return new Promise((function(t,r){I?t():fe(e,t,r)}))})).then((function(){ae.trigger(u.Z.STREAMS_COMPOSED),Pe()})).catch((function(e){throw e}))}catch(e){A.error(new E.Z(M.MANIFEST_ERROR_ID_NOSTREAMS_CODE,e.message+" nostreamscomposed",c.getValue())),F=!0,Qe()}}()}function ce(){te=!0}function de(e){var t=Ye(e.id);return t?t.updateData(e):(t=Bt(oe).create({manifestModel:c,mediaPlayerModel:V,dashMetrics:p,manifestUpdater:i,adapter:h,timelineConverter:R,capabilities:r,capabilitiesFilter:n,errHandler:A,baseURLController:v,segmentBaseController:b,textController:P,abrController:w,playbackController:G,eventController:S,mediaController:x,protectionController:k,videoModel:B,streamInfo:e,settings:$}),C.push(t),t.initialize(),Promise.resolve())}function fe(e,r,n){try{Se();var i=p.getCurrentDVRInfo().range;if(i.end<i.start){re&&clearTimeout(re);var o=Math.min(1e3*(-1*(i.end-i.start)+2),2147483647);return t.debug("Waiting for ".concat(o," ms before playback can start")),ae.trigger(u.Z.AST_IN_FUTURE,{delay:o}),void(re=setTimeout((function(){fe(e,r,n)}),o))}$.get().streaming.applyProducerReferenceTime&&z.calculateProducerReferenceTimeOffsets(e);var a=e[0].manifestInfo;if($.get().streaming.applyServiceDescription&&z.applyServiceDescription(a),h.getIsDynamic()){var s=Be(e,a);G.computeAndSetLiveDelay(s,a)}($.get().streaming.applyContentSteering&&y.shouldQueryBeforeStart()?y.loadSteeringData():Promise.resolve()).then((function(){var e=c.getValue();e&&v.update(e),he(),r()})).catch((function(e){t.error(e),he(),r()}))}catch(e){n(e)}}function he(){var e=function(){var e;if(h.getIsDynamic()){var r=p.getCurrentDVRInfo();e=(r&&r.range?r.range.end:0)-G.getOriginalLiveDelay();var n=r?r.range:null;if(n){if(isNaN(ne)&&-1===ne.toString().indexOf("posix:")){var i=De(!0);isNaN(i)||(t.info("Start time from URI parameters: ".concat(i)),e=Math.min(e,i))}else{t.info("Start time provided by the app: ".concat(ne));var o=Fe(!0,ne);isNaN(o)||(e=Math.min(e,o))}var a=$.get().streaming.timeShiftBuffer.calcFromSegmentTimeline?.1:0;e=Math.max(e,n.start+a)}}else if(e=Je()[0].getStreamInfo().start,isNaN(ne)){var s=De(!1);isNaN(s)||(t.info("Start time from URI parameters: ".concat(s)),e=Math.max(e,s))}else{t.info("Start time provided by the app: ".concat(ne));var l=Fe(!1,ne);isNaN(l)||(e=Math.max(e,l))}return e}(),r=xe(e),n=null!==r?r:C[0];ae.trigger(u.Z.INITIAL_STREAM_SWITCH,{startTime:e}),pe(n,null,e),Y||(Y=setInterval((function(){!L&&G.getTimeToStreamEnd()<=0&&!G.isSeeking()&&ae.trigger(u.Z.PLAYBACK_ENDED,{isLast:qe().isLast})}),200))}function pe(e,r,n){try{if(L||!e||r===e&&e.getIsActive())return;L=!0,ae.trigger(u.Z.PERIOD_SWITCH_STARTED,{fromStreamInfo:r?r.getStreamInfo():null,toStreamInfo:e.getStreamInfo()});var i=!1;I=e,r&&(i=we(e,r),r.deactivate(i)),n=isNaN(n)?!i&&r?e.getStreamInfo().start:NaN:n,t.info("Switch to stream ".concat(e.getId(),". Seektime is ").concat(n,", current playback time is ").concat(G.getTime(),". Seamless period switch is set to ").concat(i)),K=K.filter((function(e){return e.getId()!==I.getId()})),G.initialize(qe(),!!r),B.getElement()?me(n,i,!1):ge(n,i)}catch(e){L=!1}}function me(e,r){var n,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];function o(){if(U&&"open"===U.readyState){t.debug("MediaSource is open!"),window.URL.revokeObjectURL(n),U.removeEventListener("sourceopen",o),U.removeEventListener("webkitsourceopen",o),Le();var a=p.getCurrentDVRInfo();m.setSeekable(a.range.start,a.range.end),i?(isNaN(e)||G.seek(e,!0,!0),I.setMediaSource(U).then((function(){I.initializeForTextWithMediaSource(U)}))):ge(e,r)}}function a(){U.addEventListener("sourceopen",o,!1),U.addEventListener("webkitsourceopen",o,!1),n=m.attachMediaSource(B),t.debug("MediaSource attached to element.  Waiting on open...")}U?r?ge(e,r):(m.detachMediaSource(B),a()):(U=m.createMediaSource(),a())}function ge(e,t){I.activate(U,t?X:void 0,e).then((function(t){if(t){var r=Object.keys(t);r.length>0&&t[r[0]].getBuffer().changeType&&(Q=!0),X=t}isNaN(e)||(ae.trigger(u.Z.SEEK_TARGET,{time:e},{streamId:I.getId()}),G.seek(e,!1,!0),I.startScheduleControllers()),L=!1,ae.trigger(u.Z.PERIOD_SWITCH_COMPLETED,{toStreamInfo:qe()})}))}function ye(e){var t=xe(e.seekTime);t&&t!==I?t&&t!==I&&(ve(),function(e,t){var r=e&&!isNaN(e.seekTime)?e.seekTime:NaN,n=I.getProcessors().map((function(t){return t.prepareOuterPeriodPlaybackSeeking(e)}));Promise.all(n).then((function(){pe(t,I,r)})).catch((function(e){A.error(e)}))}(e,t)):(ve(),function(e){I.getProcessors().forEach((function(t){return t.prepareInnerPeriodPlaybackSeeking(e)})),He(ee.USER_REQUEST_STOP_REASON)}(e)),We(J.SEEK_START_REASON)}function ve(){be()}function be(){K&&K.length>0&&(K.forEach((function(e){e.deactivate(!0)})),K=[])}function _e(e){if(e.newMediaInfo.streamInfo.id===I.getId()){if(be(),$.get().streaming.buffer.resetSourceBuffersForTrackSwitch&&e.oldMediaInfo&&e.oldMediaInfo.codec!==e.newMediaInfo.codec){var t=G.getTime();return I.deactivate(!1),void me(t,!1,!1)}I.prepareTrackChange(e)}}function we(e,t){try{return $.get().streaming.buffer.reuseExistingSourceBuffers&&(t.isProtectionCompatible(e)||te)&&(Q&&$.get().streaming.buffer.useChangeTypeForTrackSwitch||t.isMediaCodecCompatible(e,t))}catch(e){return!1}}function Ee(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;U&&!e.getPreloaded()&&we(e,t)&&e.startPreloading(U,X).then((function(){K.push(e)}))}function xe(e){if(isNaN(e))return null;for(var t=C.length,r=0;r<t;r++){var n=C[r];if(e<parseFloat((n.getStartTime()+n.getDuration()).toFixed(5)))return n}return null}function Se(){try{var e=h.getIsDynamic(),t=h.getStreamsInfo()[0].manifestInfo,r=G.getTime(),n=R.calcTimeShiftBufferWindow(C,e),i=je();if(void 0===n.start||void 0===n.end)return;i&&0!==i.length?i.forEach((function(e){p.addDVRInfo(e.getType(),r,t,n)})):p.addDVRInfo(o.Z.VIDEO,r,t,n)}catch(e){}}function Te(e){if(Z&&j){var t=V.getInitialBufferLevel(),r=[o.Z.TEXT];(isNaN(t)||t<=G.getBufferLevel(r)||h.getIsDynamic()&&t>G.getLiveDelay())&&(Z=!1,We(J.INITIAL_PLAYOUT_START_REASON),G.play())}e&&e.mediaType&&p.addBufferLevel(e.mediaType,new Date,1e3*e.bufferLevel)}function Ae(e){e.streamInfo.id===I.getId()&&e.reason&&e.reason.forceReplace&&be(),Ye(e.streamInfo.id).prepareQualityChange(e)}function Me(){if(h.getIsDynamic()&&0!==G.getOriginalLiveDelay()&&I){var e=h.getStreamsInfo();if(e.length>0){var t=e[0].manifestInfo,r=Be(e,t);G.computeAndSetLiveDelay(r,t)}}}function Re(){if(ze()){var e=B.getPlaybackQuality();e&&p.addDroppedFrames(e)}}function Ce(){t.debug("[onPlaybackStarted]"),!Z&&W&&We(J.RESUME_FROM_PAUSE_START_REASON),Z&&(Z=!1),q&&(q=!1,$.get().streaming.applyContentSteering&&!y.shouldQueryBeforeStart()&&y.loadSteeringData()),W=!1}function Ie(e){t.debug("[onPlaybackPaused]"),e.ended||(W=!0,He(ee.USER_REQUEST_STOP_REASON))}function ke(e){t.debug("Stream with id ".concat(e.streamInfo.id," finished buffering"));var r=e.streamInfo.isLast;U&&r?(t.info("[onStreamBufferingCompleted] calls signalEndOfStream of mediaSourceController."),m.signalEndOfStream(U)):Pe()}function Pe(){if(I&&I.getHasFinishedBuffering())for(var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var t=e||I||null;if(t){var r=t.getStreamInfo();return C.filter((function(e){var t=e.getStreamInfo();return t.start>r.start&&r.id!==t.id}))}}catch(e){return[]}}(I),t=0;t<e.length;){var r=e[t],n=0===t?I:e[t-1];!r.getPreloaded()&&n.getHasFinishedBuffering()&&U&&Ee(r,n),t+=1}}function Oe(){Y&&(clearInterval(Y),Y=null)}function je(){return I?I.getProcessors():[]}function Ne(e){if(I&&!I.getIsEndedEventSignaled()){I.setIsEndedEventSignaled(!0);var r=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||I||null;if(!e)return null;for(var t=e.getStreamInfo(),r=t.start,n=0,i=-1,o=NaN;n<C.length;){var a=C[n].getStreamInfo(),s=a.start-r;s>0&&(isNaN(o)||s<o)&&t.id!==a.id&&(o=s,i=n),n+=1}return i>=0?C[i]:null}();r?(t.debug("StreamController onEnded, found next stream with id ".concat(r.getStreamInfo().id,". Switching from ").concat(I.getStreamInfo().id," to ").concat(r.getStreamInfo().id)),pe(r,I,NaN)):(t.debug("StreamController no next stream found"),I.setIsEndedEventSignaled(!1)),He(r?ee.END_OF_PERIOD_STOP_REASON:ee.END_OF_CONTENT_STOP_REASON)}e&&e.isLast&&(Oe(),y.stopSteeringRequestTimer())}function Le(e){var t=e||qe().manifestInfo.duration;m.setDuration(t)}function De(e){var t=_.getURIFragmentData();if(!t||!t.t)return NaN;var r=Je()[0].getStreamInfo().start;return t.t=t.t.split(",")[0],Ue(e,t.t,r)}function Fe(e,t){var r=0;return e||(r=Je()[0].getStreamInfo().start),Ue(e,t,r)}function Ue(e,t,r){var n=h.getRegularPeriods()[0],i=t.toString(),o=-1!==i.indexOf("posix:")?"now"===i.substring(6)?Date.now()/1e3:parseFloat(i.substring(6)):NaN;return e&&!isNaN(o)?R.calcPresentationTimeFromWallTime(new Date(1e3*o),n):parseFloat(i)+r}function Be(e,t){try{var r=NaN;if(t&&!isNaN(t.maxFragmentDuration)&&isFinite(t.maxFragmentDuration))return t.maxFragmentDuration;if(e&&1===e.length){var n=e[0],i=[o.Z.VIDEO,o.Z.AUDIO,o.Z.TEXT].reduce((function(e,t){var r=h.getMediaInfoForType(n,t);return r&&!1!==r.isFragmented&&e.push(r),e}),[]).reduce((function(e,t){var r=h.getVoRepresentations(t);return r&&r.length>0&&r.forEach((function(t){t&&e.push(t)})),e}),[]).reduce((function(e,t){var r=h.convertRepresentationToRepresentationInfo(t);return r&&r.fragmentDuration&&!isNaN(r.fragmentDuration)&&e.push(r.fragmentDuration),e}),[]);r=Math.max.apply(Math,function(e){if(Array.isArray(e))return nr(e)}(a=i)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(a)||function(e,t){if(e){if("string"==typeof e)return nr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?nr(e,t):void 0}}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}return isFinite(r)?r:NaN}catch(e){return NaN}var a}function Ge(e){if(e.error)F=!0,Qe();else{t.info("Manifest updated... updating data system wide.");var r=e.manifest;h.updatePeriods(r);var i=h.getUTCTimingSources();!h.getIsDynamic()||i&&0!==i.length||ae.trigger(f.Z.CONFORMANCE_VIOLATION,{level:rr.LEVELS.WARNING,event:rr.EVENTS.NO_UTC_TIMING_ELEMENT});var o=h.getIsDynamic()?i.concat(H.getUTCTimingSources()):i;n.filterUnsupportedFeatures(r).then((function(){v.initialize(r),g.attemptSync(o,h.getIsDynamic())}))}}function ze(){return!!I&&I.getHasVideoTrack()}function Ve(){return!!I&&I.getHasAudioTrack()}function He(e,t){t=t||new Date,je().forEach((function(r){r.finalisePlayList(t,e)})),p.addPlayList()}function We(e){p.createPlaylistMetrics(1e3*G.getTime(),e)}function Ze(e){if(e.error){var r="";switch(e.error.code){case 1:r="MEDIA_ERR_ABORTED";break;case 2:r="MEDIA_ERR_NETWORK";break;case 3:r="MEDIA_ERR_DECODE",ie.counts.mediaErrorDecode+=1;break;case 4:r="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:r="MEDIA_ERR_ENCRYPTED";break;default:r="UNKNOWN"}"MEDIA_ERR_DECODE"===r&&$.get().errors.recoverAttempts.mediaErrorDecode>=ie.counts.mediaErrorDecode?function(){t.warn("A MEDIA_ERR_DECODE occured: Resetting the MediaSource");var e=G.getTime();I.deactivate(!1),t.warn("MediaSource has been resetted. Resuming playback from time ".concat(e)),me(e,!1,!1)}():(D=!0,e.error.message&&(r+=" ("+e.error.message+")"),e.error.msExtendedCode&&(r+=" (0x"+(e.error.msExtendedCode>>>0).toString(16).toUpperCase()+")"),t.fatal("Video Element Error: "+r),e.error&&t.fatal(e.error),A.error(new E.Z(e.error.code,r)),Qe())}}function qe(){return I?I.getStreamInfo():null}function Ye(e){for(var t=0,r=C.length;t<r;t++)if(C[t].getId()===e)return C[t];return null}function Xe(e){isNaN(e.newDuration)||Le(e.newDuration)}function Ke(){C=[],ne=NaN,k=null,L=!1,I=null,D=!1,F=!1,Z=!0,q=!0,W=!1,j=!0,Y=null,te=!1,Q=!1,K=[],re=null,ie={counts:{mediaErrorDecode:0}}}function Qe(){se(),g.reset(),He(D||F?ee.FAILURE_STOP_REASON:ee.USER_REQUEST_STOP_REASON);for(var t=0,r=C?C.length:0;t<r;t++)C[t].reset(D);ae.off(f.Z.PLAYBACK_TIME_UPDATED,Re,e),ae.off(f.Z.PLAYBACK_SEEKING,ye,e),ae.off(f.Z.PLAYBACK_ERROR,Ze,e),ae.off(f.Z.PLAYBACK_STARTED,Ce,e),ae.off(f.Z.PLAYBACK_PAUSED,Ie,e),ae.off(f.Z.PLAYBACK_ENDED,Ne,e),ae.off(f.Z.METRIC_ADDED,$e,e),ae.off(f.Z.MANIFEST_VALIDITY_CHANGED,Xe,e),ae.off(f.Z.BUFFER_LEVEL_UPDATED,Te,e),ae.off(f.Z.QUALITY_CHANGE_REQUESTED,Ae,e),u.Z.KEY_SESSION_UPDATED&&ae.off(u.Z.KEY_SESSION_UPDATED,ce,e),ae.off(u.Z.MANIFEST_UPDATED,Ge,e),ae.off(u.Z.STREAM_BUFFERING_COMPLETED,ke,e),ae.off(u.Z.TIME_SYNCHRONIZATION_COMPLETED,ue,e),ae.off(u.Z.CURRENT_TRACK_CHANGED,_e,e),ae.off(u.Z.SETTING_UPDATED_LIVE_DELAY,Me,e),ae.off(u.Z.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,Me,e),v.reset(),i.reset(),S.reset(),p.clearAllCurrentMetrics(),c.setValue(null),a.reset(),R.reset(),T.reset(),U&&(m.detachMediaSource(B),U=null),B=null,k&&(k=null,O=null,c.getValue()&&ae.trigger(u.Z.PROTECTION_DESTROYED,{data:c.getValue().url})),Oe(),ae.trigger(u.Z.STREAM_TEARDOWN_COMPLETE),Ke()}function $e(e){if(e.metric===s.Z.DVR_INFO){var t=Ve()?o.Z.AUDIO:o.Z.VIDEO;e.mediaType===t&&m.setSeekable(e.value.range.start,e.value.range.end)}}function Je(){return C}return e={initialize:function(t,r){se(),j=t,O=r,R.initialize(),(i=Yt(oe).create()).setConfig({manifestModel:c,adapter:h,manifestLoader:a,errHandler:A,settings:$,contentSteeringController:y}),i.initialize(),(S=tr(oe).getInstance()).setConfig({manifestUpdater:i,playbackController:G,settings:$}),S.start(),g.setConfig({dashMetrics:p,baseURLController:v,errHandler:A,settings:$}),g.initialize(),m.setConfig({settings:$}),k&&(ae.trigger(u.Z.PROTECTION_CREATED,{controller:k}),k.setMediaElement(B.getElement()),O&&k.setProtectionData(O)),ae.on(f.Z.PLAYBACK_TIME_UPDATED,Re,e),ae.on(f.Z.PLAYBACK_SEEKING,ye,e),ae.on(f.Z.PLAYBACK_ERROR,Ze,e),ae.on(f.Z.PLAYBACK_STARTED,Ce,e),ae.on(f.Z.PLAYBACK_PAUSED,Ie,e),ae.on(f.Z.PLAYBACK_ENDED,Ne,e),ae.on(f.Z.METRIC_ADDED,$e,e),ae.on(f.Z.MANIFEST_VALIDITY_CHANGED,Xe,e),ae.on(f.Z.BUFFER_LEVEL_UPDATED,Te,e),ae.on(f.Z.QUALITY_CHANGE_REQUESTED,Ae,e),u.Z.KEY_SESSION_UPDATED&&ae.on(u.Z.KEY_SESSION_UPDATED,ce,e),ae.on(u.Z.MANIFEST_UPDATED,Ge,e),ae.on(u.Z.STREAM_BUFFERING_COMPLETED,ke,e),ae.on(u.Z.TIME_SYNCHRONIZATION_COMPLETED,ue,e),ae.on(u.Z.CURRENT_TRACK_CHANGED,_e,e),ae.on(u.Z.SETTING_UPDATED_LIVE_DELAY,Me,e),ae.on(u.Z.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,Me,e)},getActiveStreamInfo:qe,addDVRMetric:Se,hasVideoTrack:ze,hasAudioTrack:Ve,getStreamById:Ye,getStreamForTime:xe,getTimeRelativeToStreamId:function(e,t){for(var r=null,n=0,i=0,o=null,a=0;a<C.length;a++){if(i=(r=C[a]).getStartTime(),o=r.getDuration(),Number.isFinite(i)&&(n=i),r.getId()===t)return e-n;Number.isFinite(o)&&(n+=o)}return null},load:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;se(),ne=t,a.load(e)},loadWithManifest:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;le(),ne=t,i.setManifest(e)},getActiveStreamProcessors:je,setConfig:function(e){e&&(e.capabilities&&(r=e.capabilities),e.capabilitiesFilter&&(n=e.capabilitiesFilter),e.manifestLoader&&(a=e.manifestLoader),e.manifestModel&&(c=e.manifestModel),e.mediaPlayerModel&&(V=e.mediaPlayerModel),e.customParametersModel&&(H=e.customParametersModel),e.protectionController&&(k=e.protectionController),e.adapter&&(h=e.adapter),e.dashMetrics&&(p=e.dashMetrics),e.errHandler&&(A=e.errHandler),e.timelineConverter&&(R=e.timelineConverter),e.videoModel&&(B=e.videoModel),e.playbackController&&(G=e.playbackController),e.serviceDescriptionController&&(z=e.serviceDescriptionController),e.contentSteeringController&&(y=e.contentSteeringController),e.textController&&(P=e.textController),e.abrController&&(w=e.abrController),e.mediaController&&(x=e.mediaController),e.settings&&($=e.settings),e.baseURLController&&(v=e.baseURLController),e.uriFragmentModel&&(_=e.uriFragmentModel),e.segmentBaseController&&(b=e.segmentBaseController))},setProtectionData:function(e){O=e,k&&k.setProtectionData(O)},getIsStreamSwitchInProgress:function(){return L},switchToVideoElement:function(e){I&&(G.initialize(qe()),me(e,!1,!0))},getHasMediaOrInitialisationError:function(){return D||F},getStreams:Je,getActiveStream:function(){return I},getInitialPlayback:function(){return Z},getAutoPlay:function(){return j},reset:Qe},t=(0,d.Z)(oe).getInstance().getLogger(e),g=Qt(oe).getInstance(),m=Jt(oe).getInstance(),T=N(oe).getInstance(),Ke(),e}ir.__dashjs_factory_name="StreamController";var or=c.Z.getSingletonFactory(ir);function ar(){var e,t,r,n,i,a,s,c,f,h,p,m,g=this.context,y=(0,l.Z)(g).getInstance();function v(){m.debug("Stopping the gap controller"),i&&(clearInterval(i),i=null),function(){y.off(u.Z.WALLCLOCK_TIME_UPDATED,x,this),y.off(u.Z.INITIAL_STREAM_SWITCH,E,this),y.off(u.Z.PLAYBACK_SEEKING,b,this),y.off(u.Z.BUFFER_REPLACEMENT_STARTED,_,e),y.off(u.Z.TRACK_CHANGE_RENDERED,w,e)}(),i=null,a=NaN,n=0,h=null,p={}}function b(){h&&(clearTimeout(h),h=null)}function _(e){try{if(e.streamId!==c.getActiveStreamInfo().id||e.mediaType!==o.Z.VIDEO&&e.mediaType!==o.Z.AUDIO)return;e.streamId===c.getActiveStreamInfo().id&&(p[e.mediaType]=!0)}catch(e){m.error(e)}}function w(e){e&&e.mediaType&&(p[e.mediaType]=!1)}function E(){i||function(){try{i||(m.debug("Starting the gap controller"),i=setInterval((function(){S()&&R(s.getTime())}),100))}catch(e){}}()}function x(){if(S(r.get().streaming.gaps.enableSeekFix)&&++n>=10){var e=s.getTime();t===e?R(e,!0):(t=e,a=NaN),n=0}}function S(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!c.getActiveStream())return!1;var t=Object.keys(p).some((function(e){return p[e]})),n=!!e&&T();return!t&&r.get().streaming.gaps.jumpGaps&&c.getActiveStreamProcessors().length>0&&(!s.isSeeking()||n)&&!s.isPaused()&&!c.getIsStreamSwitchInProgress()&&!c.getHasMediaOrInitialisationError()}function T(){var e=c.getActiveStream(),t=parseFloat((e.getStartTime()+e.getDuration()).toFixed(5));return s.getTime()+r.get().streaming.gaps.threshold>=t}function A(e,t){try{if(!e||e.length<=1&&t>0)return NaN;for(var n=NaN,i=0;isNaN(n)&&i<e.length;){var o=i>0?e.end(i-1):0;t<e.start(i)&&o-t<r.get().streaming.gaps.threshold&&(n=i),i+=1}return n}catch(e){return null}}function M(e,t){for(var r=0,n=e.length;r<n;r++)if(t>=e.start(r)&&t<=e.end(r))return!0;return!1}function R(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=r.get().streaming.gaps.enableStallFix,o=r.get().streaming.gaps.stallSeek,l=r.get().streaming.gaps.smallGapLimit,u=r.get().streaming.gaps.jumpLargeGaps,d=f.getBufferRange(),p=NaN,g=!1;if(t=A(d,e),!isNaN(t)){var y=d.start(t),v=y-e;v>0&&(v<=l||u)&&(p=y)}var b=s.getTimeToStreamEnd();if(isNaN(p)&&n&&isFinite(b)&&!isNaN(b)&&b<l&&(p=parseFloat(s.getStreamEndTime().toFixed(5)),g=!0),i&&isNaN(p)&&n&&isNaN(t)&&M(d,e)&&(0===o?(m.warn("Toggle play pause to break stall"),f.pause(),f.play()):(m.warn("Jumping ".concat(o,"s to break stall")),p=e+o)),p>0&&a!==p&&p>e&&!h){var _=p-e;if(g){var w=c.getStreamForTime(p),E=w&&!!w.getPreloaded();m.warn("Jumping to end of stream because of gap from ".concat(e," to ").concat(p,". Gap duration: ").concat(_)),s.seek(p,!0,E)}else{var x=s.getIsDynamic(),S=t>0?d.end(t-1):e,T=x?1e3*Math.max(0,_-.1):0;h=window.setTimeout((function(){s.seek(p,!0,!0),m.warn("Jumping gap occuring in period ".concat(c.getActiveStream().getStreamId()," starting at ").concat(S," and ending at ").concat(p,". Jumping by: ").concat(p-S)),h=null}),T)}a=p}}return e={reset:v,setConfig:function(e){e&&(e.settings&&(r=e.settings),e.playbackController&&(s=e.playbackController),e.streamController&&(c=e.streamController),e.videoModel&&(f=e.videoModel))},initialize:function(){!function(){y.on(u.Z.WALLCLOCK_TIME_UPDATED,x,this),y.on(u.Z.INITIAL_STREAM_SWITCH,E,this),y.on(u.Z.PLAYBACK_SEEKING,b,this),y.on(u.Z.BUFFER_REPLACEMENT_STARTED,_,e),y.on(u.Z.TRACK_CHANGE_RENDERED,w,e)}()}},m=(0,d.Z)(g).getInstance().getLogger(e),v(),e}ar.__dashjs_factory_name="GapController";var sr=c.Z.getSingletonFactory(ar);function lr(){var e,t,r,n,i,a,c,h,p,m,g=this.context,y=(0,l.Z)(g).getInstance();function v(){t=!1;var e=Be.Z.parseUserAgent();r=e&&e.browser&&e.browser.name&&"safari"===e.browser.name.toLowerCase()}function b(){t=!1}function _(e){if(e.streamId===a.getActiveStreamInfo().id&&p){var t=c.getLiveDelay();c.getBufferLevel()>t/2&&(p=!1)}}function w(e){e.streamId===a.getActiveStreamInfo().id&&(p=e.state===s.Z.BUFFER_EMPTY)}function E(){h.getCatchupModeEnabled()||n.setPlaybackRate(1)}function x(){c.getIsDynamic()&&h.getCatchupModeEnabled()&&(h.getCatchupPlaybackRates().max>0||h.getCatchupPlaybackRates().min<0)&&!c.isPaused()&&!c.isSeeking()&&function(){try{return!(!c.getTime()>0||t)&&(T()===o.Z.LIVE_CATCHUP_MODE_LOLP?function(e,t){try{return Math.abs(S())>0||e<t}catch(e){return!1}}(c.getBufferLevel(),i.get().streaming.liveCatchup.playbackBufferMin):function(){try{return Math.abs(S())>0}catch(e){return!1}}())}catch(e){return!1}}()&&function(){if(!t&&n){var e,a=n.getPlaybackRate(),s=h.getCatchupPlaybackRates(),l=c.getBufferLevel(),u=S(),d=h.getCatchupMaxDrift();if(!isNaN(d)&&d>0&&u>d)m.info("[CatchupController]: Low Latency catchup mechanism. Latency too high, doing a seek to live point"),t=!0,c.seekToCurrentLive(!0,!1);else{var f=c.getCurrentLiveLatency(),g=c.getLiveDelay();e=T()===o.Z.LIVE_CATCHUP_MODE_LOLP?function(e,t,r,n,i){var o;if(i<n){var a=Math.abs(e.min),s=5*(i-n);o=1-a+2*a/(1+Math.pow(Math.E,-s)),m.debug("[LoL+ playback control_buffer-based] bufferLevel: "+i+", newRate: "+o)}else{if(Math.abs(t-r)<=.02*r)o=1;else{var l=t-r,u=l<0?Math.abs(e.min):e.max,c=5*l;o=1-u+2*u/(1+Math.pow(Math.E,-c))}m.debug("[LoL+ playback control_latency-based] latency: "+t+", newRate: "+o)}return o}(s,f,g,i.get().streaming.liveCatchup.playbackBufferMin,l):function(e,t,r,n){if(p)return 1;var i=t-r,o=i<0?Math.abs(e.min):e.max,a=5*i,s=1-o+2*o/(1+Math.pow(Math.E,-a));return c.getPlaybackStalled()&&n<=r/2&&i>0&&(s=1),s}(s,f,g,l);var y=r?.25:.02/(.5/s.max);e&&Math.abs(a-e)>=y&&(m.debug("[CatchupController]: Setting playback rate to ".concat(e)),n.setPlaybackRate(e))}}}()}function S(){return c.getCurrentLiveLatency()-c.getLiveDelay()}function T(){var e=i.get().streaming.liveCatchup.playbackBufferMin;return i.get().streaming.liveCatchup.mode!==o.Z.LIVE_CATCHUP_MODE_LOLP||null===e||isNaN(e)?o.Z.LIVE_CATCHUP_MODE_DEFAULT:o.Z.LIVE_CATCHUP_MODE_LOLP}function A(){h.getCatchupPlaybackRates(!0)}return e={reset:function(){y.off(f.Z.BUFFER_LEVEL_UPDATED,_,e),y.off(f.Z.BUFFER_LEVEL_STATE_CHANGED,w,e),y.off(f.Z.PLAYBACK_PROGRESS,x,e),y.off(f.Z.PLAYBACK_TIME_UPDATED,x,e),y.off(f.Z.PLAYBACK_SEEKED,b,e),y.off(u.Z.SETTING_UPDATED_CATCHUP_ENABLED,E,e),y.off(u.Z.SETTING_UPDATED_PLAYBACK_RATE_MIN,A,e),y.off(u.Z.SETTING_UPDATED_PLAYBACK_RATE_MAX,A,e),y.off(f.Z.STREAM_INITIALIZED,A,e),v(),n.setPlaybackRate(1,!0)},setConfig:function(e){e&&(e.settings&&(i=e.settings),e.videoModel&&(n=e.videoModel),e.streamController&&(a=e.streamController),e.playbackController&&(c=e.playbackController),e.mediaPlayerModel&&(h=e.mediaPlayerModel))},initialize:function(){y.on(f.Z.BUFFER_LEVEL_UPDATED,_,e),y.on(f.Z.BUFFER_LEVEL_STATE_CHANGED,w,e),y.on(f.Z.PLAYBACK_PROGRESS,x,e),y.on(f.Z.PLAYBACK_TIME_UPDATED,x,e),y.on(f.Z.PLAYBACK_SEEKED,b,e),y.on(u.Z.SETTING_UPDATED_CATCHUP_ENABLED,E,e),y.on(u.Z.SETTING_UPDATED_PLAYBACK_RATE_MIN,A,e),y.on(u.Z.SETTING_UPDATED_PLAYBACK_RATE_MAX,A,e),y.on(f.Z.STREAM_INITIALIZED,A,e),A()}},m=(0,d.Z)(g).getInstance().getLogger(e),v(),e}lr.__dashjs_factory_name="CatchupController";var ur=c.Z.getSingletonFactory(lr),cr=[o.Z.SERVICE_DESCRIPTION_DVB_LL_SCHEME],dr="video",fr="audio";function hr(){var e,t,r,n,i,s=this.context;function l(){t={liveDelay:NaN,liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN}},minBitrate:{},maxBitrate:{},initialBitrate:{},contentSteering:null},r=[]}function u(e,r,i){try{t[e][r]=i/1e3}catch(e){n.error(e)}}return e={getServiceDescriptionSettings:function(){return t},getProducerReferenceTimeOffsets:function(){return r},calculateProducerReferenceTimeOffsets:function(e){try{var t=[];if(e&&e.length>0){var s=[o.Z.VIDEO,o.Z.AUDIO,o.Z.TEXT],l=i.getAvailabilityStartTime()/1e3;e.forEach((function(e){var r=s.reduce((function(t,r){return t.concat(i.getAllMediaInfoForType(e,r))}),[]).reduce((function(t,r){return i.getProducerReferenceTimes(e,r).forEach((function(n){var o=i.getVoRepresentations(r);if(o&&o.length>0&&o[0].adaptation&&o[0].segmentInfoType===a.Z.SEGMENT_TEMPLATE){var s=o[0],u=new Date(n[a.Z.WALL_CLOCK_TIME]).getTime()/1e3-(n[a.Z.PRESENTATION_TIME]/s[a.Z.TIMESCALE]-s[a.Z.PRESENTATION_TIME_OFFSET]+e.start),c=l-u;t.push({id:n[a.Z.ID],to:c})}})),t}),[]);t=t.concat(r)}))}r=t}catch(e){n.error(e),r=[]}},applyServiceDescription:function(e){if(e&&e.serviceDescriptions){var i=e.serviceDescriptions.filter((function(e){return cr.includes(e.schemeIdUri)})),a=e.serviceDescriptions.filter((function(e){return null==e.schemeIdUri})),s=i.length>0?i[i.length-1]:a[a.length-1];s&&(s.latency&&s.latency.target>0&&function(e){var i;if(e.schemeIdUri,o.Z.SERVICE_DESCRIPTION_DVB_LL_SCHEME,i=function(e){return{liveDelay:e.latency.target/1e3,maxDrift:!isNaN(e.latency.max)&&e.latency.max>e.latency.target?(e.latency.max-e.latency.target+500)/1e3:NaN,referenceId:e.latency.referenceId||NaN}}(e),r.length>0){var a=function(e){var t,n=0,i=r.filter((function(t){return t.id===e.referenceId}));return 0===i.length?(n=r.length>0?r[0].to:0,t=r[0].id||NaN):(n=i[0].to||0,t=i[0].id||NaN),{to:n,id:t}}(i),s=a.to,l=a.id;t.liveDelay=i.liveDelay-s,t.liveCatchup.maxDrift=i.maxDrift,n.debug("\n                Found latency properties coming from service description. Applied time offset of ".concat(s," from ProducerReferenceTime element with id ").concat(l,".\n                Live Delay: ").concat(i.liveDelay-s,", Live catchup max drift: ").concat(i.maxDrift,"\n            "))}else t.liveDelay=i.liveDelay,t.liveCatchup.maxDrift=i.maxDrift,n.debug("Found latency properties coming from service description: Live Delay: ".concat(i.liveDelay,", Live catchup max drift: ").concat(i.maxDrift))}(s),s.playbackRate&&function(e){var r=e.playbackRate.min?Math.round(1e3*(e.playbackRate.min-1))/1e3:NaN,i=e.playbackRate.max?Math.round(1e3*(e.playbackRate.max-1))/1e3:NaN;t.liveCatchup.playbackRate.min=r,t.liveCatchup.playbackRate.max=i,n.debug("Found latency properties coming from service description: Live catchup min playback rate: ".concat(r)),n.debug("Found latency properties coming from service description: Live catchup max playback rate: ".concat(i))}(s),s.operatingQuality,s.operatingBandwidth&&function(e){if(e&&e.operatingBandwidth&&e.operatingBandwidth.mediaType&&"all"!==e.operatingBandwidth.mediaType){var t={};t.minBandwidth=e.operatingBandwidth.min,t.maxBandwidth=e.operatingBandwidth.max,t.targetBandwidth=e.operatingBandwidth.target;var r=[];e.operatingBandwidth.mediaType===dr||e.operatingBandwidth.mediaType===fr?r.push(e.operatingBandwidth.mediaType):"any"===e.operatingBandwidth.mediaType&&(r.push(fr),r.push(dr)),r.forEach((function(e){isNaN(t.minBandwidth)||u("minBitrate",e,t.minBandwidth),isNaN(t.maxBandwidth)||u("maxBitrate",e,t.maxBandwidth),isNaN(t.targetBandwidth)||u("initialBitrate",e,t.targetBandwidth)}))}}(s),s.contentSteering&&function(e){t.contentSteering=e.contentSteering}(s))}},reset:function(){l()},setConfig:function(e){e&&e.adapter&&(i=e.adapter)}},n=(0,d.Z)(s).getInstance().getLogger(e),l(),e}hr.__dashjs_factory_name="ServiceDescriptionController";var pr=c.Z.getSingletonFactory(hr),mr=r(3973),gr=r.n(mr),yr=r(3039);function vr(){var e,t,r,n,i,a,s,c,f=this.context,h=(0,l.Z)(f).getInstance();function p(e,t){return e&&r[t]&&r[t][e]?r[t][e].list:[]}function m(e,t){return e&&r[t]&&r[t][e]?r[t][e].current:null}function g(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e&&e.streamInfo){var i=e.type,s=e.streamInfo.id,l=m(i,s);if(r[s]&&r[s][i]&&(r[s][i].current=e,r[s][i].current&&(i!==o.Z.TEXT&&!b(e,l)||i===o.Z.TEXT&&e.isFragmented)&&h.trigger(u.Z.CURRENT_TRACK_CHANGED,{oldMediaInfo:l,newMediaInfo:e,switchMode:n.get().streaming.trackSwitchMode[i]},{streamId:s}),!t)){var d=w(e);if(!d||!r[s][i].storeLastSettings)return;d.roles&&(d.role=d.roles[0],delete d.roles),d.accessibility&&(d.accessibility=d.accessibility[0]),d.audioChannelConfiguration&&(d.audioChannelConfiguration=d.audioChannelConfiguration[0]),a[i]=d,c.setSavedMediaSettings(i,d)}}}function y(e,t){e&&t&&(i[e]=t)}function v(e){return e?i[e]:null}function b(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;var r=e.id===t.id,n=e.viewpoint===t.viewpoint,i=JSON.stringify(e.viewpointsWithSchemeIdUri)===JSON.stringify(t.viewpointsWithSchemeIdUri),o=e.lang===t.lang,a=e.codec===t.codec,s=e.roles.toString()===t.roles.toString(),l=JSON.stringify(e.rolesWithSchemeIdUri)===JSON.stringify(t.rolesWithSchemeIdUri),u=e.accessibility.toString()===t.accessibility.toString(),c=JSON.stringify(e.accessibilitiesWithSchemeIdUri)===JSON.stringify(t.accessibilitiesWithSchemeIdUri),d=e.audioChannelConfiguration.toString()===t.audioChannelConfiguration.toString(),f=JSON.stringify(e.audioChannelConfigurationsWithSchemeIdUri)===JSON.stringify(t.audioChannelConfigurationsWithSchemeIdUri);return r&&a&&n&&i&&o&&s&&l&&u&&c&&d&&f}function _(){r={},a={},i={audio:null,video:null,text:null}}function w(e){var t={lang:e.lang,viewpoint:e.viewpoint,roles:e.roles,accessibility:e.accessibility,audioChannelConfiguration:e.audioChannelConfiguration,codec:e.codec};return t.lang||t.viewpoint||t.role&&t.role.length>0||t.accessibility&&t.accessibility.length>0||t.audioChannelConfiguration&&t.audioChannelConfiguration.length>0?t:null}function E(e,t,r){var n=[];return e.forEach((function(e){t(r,e)&&n.push(e)})),0!==n.length?n:e}function x(e,t){return!e.lang||e.lang instanceof RegExp?t.lang.match(e.lang):""!==t.lang&&(0,yr.extendedFilter)(t.lang,gr()(e.lang)).length>0}function S(e,t){return void 0===e.index||null===e.index||t.index===e.index}function T(e,t){return!e.viewpoint||e.viewpoint===t.viewpoint}function A(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!e.role||!!t.roles.filter((function(t){return t===e.role}))[0]||t.type===o.Z.AUDIO&&r}function M(e,t){return e.accessibility?!!t.accessibility.filter((function(t){return t===e.accessibility}))[0]:!t.accessibility.length}function R(e,t){return!e.audioChannelConfiguration||!!t.audioChannelConfiguration.filter((function(t){return t===e.audioChannelConfiguration}))[0]}function C(e,t){return!e.codec||e.codec===t.codec}function I(e){var t,r=0,n=[];return e.forEach((function(e){(t=Math.max.apply(Math,e.bitrateList.map((function(e){return e.bandwidth}))))>r?(r=t,n=[e]):t===r&&n.push(e)})),n}function k(e){var t,r=1/0,n=[];return e.forEach((function(e){var i=e.bitrateList.reduce((function(e,t){var r=Math.max(1,t.width*t.height);return e+t.bandwidth/r}),0);(t=i/e.bitrateList.length)<r?(r=t,n=[e]):t===r&&n.push(e)})),n}function P(e){var t,r=0,n=[];return e.forEach((function(e){(t=e.representationCount)>r?(r=t,n=[e]):t===r&&n.push(e)})),n}function O(e,r){if(e===o.Z.TEXT)return r[0];var i,a=n.get().streaming.selectionModeForInitialTrack,l=s.getCustomInitialTrackSelectionFunction();if(l&&"function"==typeof l)i=l(r);else switch(a){case o.Z.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY:i=function(e){var t,r,n=(t=0,r=[],e.forEach((function(e){isNaN(e.selectionPriority)||(e.selectionPriority>t?(t=e.selectionPriority,r=[e]):e.selectionPriority===t&&r.push(e))})),r);return n.length>1&&(n=I(n)),n.length>1&&(n=P(n)),n}(r);break;case o.Z.TRACK_SELECTION_MODE_HIGHEST_BITRATE:i=function(e){var t=I(e);return t.length>1&&(t=P(t)),t}(r);break;case o.Z.TRACK_SELECTION_MODE_FIRST_TRACK:i=j(r);break;case o.Z.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY:i=function(e){var t=k(e);return t.length>1&&(t=I(t)),t}(r);break;case o.Z.TRACK_SELECTION_MODE_WIDEST_RANGE:i=function(e){var t=P(e);return t.length>1&&(t=I(e)),t}(r);break;default:t.warn("Track selection mode ".concat(a," is not supported. Falling back to TRACK_SELECTION_MODE_FIRST_TRACK")),i=j(r)}return i.length>0?i[0]:r[0]}function j(e){return e[0]}return e={setInitialMediaSettingsForType:function(e,t){var r=a[e]||v(e),n=p(e,t.id),i=[];r||((r=c.getSavedMediaSettings(e))&&delete r.codec,y(e,r)),n&&0!==n.length&&(r&&(i=E(i=Array.from(n),x,r),i=E(i,S,r),i=E(i,T,r),e===o.Z.AUDIO&&a[e]||(i=E(i,A,r)),i=E(i,M,r),i=E(i,R,r),i=E(i,C,r)),0===i.length?g(O(e,n),!0):i.length>1?g(O(e,i)):g(i[0]))},addTrack:function(e){if(e){var t=e.type;if((i=t)===o.Z.AUDIO||i===o.Z.VIDEO||i===o.Z.TEXT||i===o.Z.IMAGE){var i,a,s=e.streamInfo.id;r[s]||(r[s]={audio:{list:[],storeLastSettings:a=n.get().streaming.saveLastMediaSettingsForCurrentStreamingSession,current:null},video:{list:[],storeLastSettings:a,current:null},text:{list:[],storeLastSettings:a,current:null},image:{list:[],storeLastSettings:a,current:null}});for(var l=r[s][t].list,u=0,c=l.length;u<c;++u)if(b(l[u],e))return;l.push(e)}}},getTracksFor:p,getCurrentTrackFor:m,isCurrentTrack:function(e){if(!e)return!1;var t=e.type,n=e.streamInfo.id;return r[n]&&r[n][t]&&b(r[n][t].current,e)},setTrack:g,selectInitialTrack:O,setInitialSettings:y,getInitialSettings:v,getTracksWithHighestBitrate:I,getTracksWithHighestEfficiency:k,getTracksWithWidestRange:P,isTracksEqual:b,matchSettings:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{var n=!1;if(e.lang){if(e.lang instanceof RegExp)n=t.lang.match(e.lang);else if(""!==t.lang){var i=gr()(e.lang);i&&(n=(0,yr.extendedFilter)(t.lang,i).length>0)}}else n=!0;var a=void 0===e.index||null===e.index||t.index===e.index,s=!e.viewpoint||e.viewpoint===t.viewpoint,l=!e.role||!!t.roles.filter((function(t){return t===e.role}))[0],u=!e.accessibility||!!t.accessibility.filter((function(t){return t===e.accessibility}))[0],c=!e.audioChannelConfiguration||!!t.audioChannelConfiguration.filter((function(t){return t===e.audioChannelConfiguration}))[0];return n&&a&&s&&(l||t.type===o.Z.AUDIO&&r)&&u&&c}catch(e){return!1}},matchSettingsLang:x,matchSettingsIndex:S,matchSettingsViewPoint:T,matchSettingsRole:A,matchSettingsAccessibility:M,matchSettingsAudioChannelConfig:R,saveTextSettingsDisabled:function(){c.setSavedMediaSettings(o.Z.TEXT,null)},setConfig:function(e){e&&(e.domStorage&&(c=e.domStorage),e.settings&&(n=e.settings),e.customParametersModel&&(s=e.customParametersModel))},reset:_},t=(0,d.Z)(f).getInstance().getLogger(e),_(),e}vr.__dashjs_factory_name="MediaController";var br=c.Z.getSingletonFactory(vr);c.Z.updateSingletonFactory(vr.__dashjs_factory_name,br);var _r=br,wr=NaN,Er=function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.data={baseUrls:t||null,selectedIdx:r||wr},this.children=[]};function xr(){var e,t,r,n,i=this.context,o=ke(i).getInstance();function a(e,t,r){var n=s(r);e[t]?o.areEqual(n,e[t].data.baseUrls)||(e[t].data.baseUrls=n,e[t].data.selectedIdx=wr):e[t]=new Er(n)}function s(e){var t=r.getBaseURLsFromElement(e),i=n.getSynthesizedBaseUrlElements(t);return i&&i.length>0&&(t=t.concat(i)),t}function l(e,r){var n=r||t;e(n.data),n.children&&n.children.forEach((function(t){return l(e,t)}))}function u(){t=new Er}return e={reset:u,update:function(e){!function(e){!function(){if(!r||!r.hasOwnProperty("getBaseURLsFromElement")||!r.hasOwnProperty("getRepresentationSortFunction"))throw new Error("setConfig function has to be called previously")}();var n=s(e);o.areEqual(n,t.data.baseUrls)||(t.data.baseUrls=n,t.data.selectedIdx=wr),e&&e.Period_asArray&&e.Period_asArray.forEach((function(e,n){a(t.children,n,e),e.AdaptationSet_asArray&&e.AdaptationSet_asArray.forEach((function(e,i){a(t.children[n].children,i,e),e.Representation_asArray&&e.Representation_asArray.sort(r.getRepresentationSortFunction()).forEach((function(e,r){a(t.children[n].children[i].children,r,e)}))}))}))}(e)},getForPath:function(e){var r=t,n=[r.data];return e&&e.forEach((function(e){(r=r.children[e])&&n.push(r.data)})),n.filter((function(e){return e.baseUrls.length}))},invalidateSelectedIndexes:function(e){l((function(t){isNaN(t.selectedIdx)||e===t.baseUrls[t.selectedIdx].serviceLocation&&(t.selectedIdx=wr)}))},setConfig:function(e){e.adapter&&(r=e.adapter),e.contentSteeringController&&(n=e.contentSteeringController)},getBaseUrls:function(e){return s(e)}},u(),e}xr.__dashjs_factory_name="BaseURLTreeModel";var Sr=c.Z.getClassFactory(xr);function Tr(e){var t=(e=e||{}).blacklistController;return{select:function(e){return e&&function(e){var t,r,n=0,i=[],o=0;if((r=e.sort((function(e,t){var r=e.dvb_priority-t.dvb_priority;return isNaN(r)?0:r})).filter((function(e,t,r){return!t||r[0].dvb_priority&&e.dvb_priority&&r[0].dvb_priority===e.dvb_priority}))).length)return r.length>1&&(r.forEach((function(e){n+=e.dvb_weight,i.push(n)})),t=Math.floor(Math.random()*(n-1)),i.every((function(e,r){return o=r,!(t<e)}))),r[o]}((r=[],e.filter((function(e){return!t.contains(e.serviceLocation)||(e.dvb_priority&&r.push(e.dvb_priority),!1)})).filter((function(e){return!r.length||!e.dvb_priority||-1===r.indexOf(e.dvb_priority)}))));var r}}}Tr.__dashjs_factory_name="DVBSelector";var Ar=c.Z.getClassFactory(Tr);function Mr(e){var t=(e=e||{}).blacklistController;return{select:function(e){var r,n=0;return e&&e.some((function(e,r){return n=r,!t.contains(e.serviceLocation)}))&&(r=e[n]),r}}}Mr.__dashjs_factory_name="BasicSelector";var Rr=c.Z.getClassFactory(Mr);function Cr(){var e,t,r,n=this.context;function i(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=0,i=NaN,o=function(){var o=e[n],a=t.findIndex((function(e){return e.serviceLocation&&e.serviceLocation===o}));if(-1!==a&&!r.contains(t[a].serviceLocation))return i=a,"break";n+=1};n<e.length&&"break"!==o(););return i}return e={selectBaseUrlIndex:function(e){var r=NaN;if(isNaN(e.selectedIdx)){var n=t.getSteeringDataFromManifest();n&&n.defaultServiceLocationArray.length>0&&(r=i(n.defaultServiceLocationArray,e.baseUrls))}var o=t.getCurrentSteeringResponseData();return e.baseUrls&&e.baseUrls.length&&o&&o.pathwayPriority&&o.pathwayPriority.length&&(r=i(o.pathwayPriority,e.baseUrls)),r},setConfig:function(e){e.blacklistController&&(r=e.blacklistController),e.contentSteeringController&&(t=e.contentSteeringController)}},t=Ht(n).getInstance(),e}Cr.__dashjs_factory_name="ContentSteeringSelector";var Ir=c.Z.getClassFactory(Cr);function kr(){var e,t,r,n,i,o,a=this.context,s=(0,l.Z)(a).getInstance(),c=(0,R.Z)(a).getInstance();function d(){t.reset()}return e={chooseSelector:function(e){(0,Y.PS)(e,"boolean"),o=e?n:r},select:function(e){if(e){if(c.get().streaming.applyContentSteering){var t=i.selectBaseUrlIndex(e);isNaN(t)||-1===t||(e.selectedIdx=t)}if(!isNaN(e.selectedIdx))return e.baseUrls[e.selectedIdx];var n=o.select(e.baseUrls);return n?(e.selectedIdx=e.baseUrls.indexOf(n),n):(s.trigger(u.Z.URL_RESOLUTION_FAILED,{error:new E.Z(M.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE,M.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE)}),void(o===r&&d()))}},reset:d,setConfig:function(e){e.selector&&(o=e.selector),e.contentSteeringSelector&&(i=e.contentSteeringSelector)}},t=Dt(a).create({updateEventName:u.Z.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,addBlacklistEventName:u.Z.SERVICE_LOCATION_BASE_URL_BLACKLIST_ADD}),r=Rr(a).create({blacklistController:t}),n=Ar(a).create({blacklistController:t}),(i=Ir(a).create()).setConfig({blacklistController:t}),o=r,e}kr.__dashjs_factory_name="BaseURLSelector";var Pr=c.Z.getClassFactory(kr);function Or(){var e,t,r,n,i,o=this.context,a=(0,l.Z)(o).getInstance(),s=(0,Q.Z)(o).getInstance();function c(e){r.update(e),n.chooseSelector(t.getIsDVB(e)),a.trigger(f.Z.BASE_URLS_UPDATED,{baseUrls:d(e)})}function d(e){return r.getBaseUrls(e)}return e={reset:function(){r.reset(),n.reset()},initialize:function(e){r.setConfig({adapter:t,contentSteeringController:i}),c(e)},resolve:function(e){var t=r.getForPath(e).reduce((function(e,t){var r=n.select(t);return r?(s.isRelative(r.url)?e.url=s.resolve(r.url,e.url):(e.url=r.url,e.serviceLocation=r.serviceLocation),e.availabilityTimeOffset=r.availabilityTimeOffset,e.availabilityTimeComplete=r.availabilityTimeComplete,e.queryParams=r.queryParams,e):new Ee}),new Ee);if(!s.isRelative(t.url))return t},setConfig:function(e){e.baseURLTreeModel&&(r=e.baseURLTreeModel),e.baseURLSelector&&(n=e.baseURLSelector),e.adapter&&(t=e.adapter),e.contentSteeringController&&(i=e.contentSteeringController)},getBaseUrls:d,update:c},r=Sr(o).create(),n=Pr(o).create(),a.on(u.Z.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,(function(e){r.invalidateSelectedIndexes(e.entry)}),e),e}Or.__dashjs_factory_name="BaseURLController";var jr=c.Z.getClassFactory(Or);function Nr(e){return Nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nr(e)}function Lr(e,t){return Lr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Lr(e,t)}function Dr(e,t){return!t||"object"!==Nr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Fr(e){return Fr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Fr(e)}var Ur=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lr(e,t)}(i,e);var t,r,n=(t=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=Fr(t);if(r){var i=Fr(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return Dr(this,e)});function i(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(r=n.call(this)).url=e||null,r.type=t||null,r.mediaType=o.Z.STREAM,r.responseType="",r}return i}(m.Z);function Br(e){e=e||{};var t=this.context,r=(0,l.Z)(t).getInstance(),n=bt(t).create({errHandler:e.errHandler,dashMetrics:e.dashMetrics,mediaPlayerModel:e.mediaPlayerModel,requestModifier:e.requestModifier,errors:M});return{load:function(e,t,i){var o=function(e){function t(t,r){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(n,o){t.resolved=!0,t.resolvedContent=n||null,r.trigger(u.Z.XLINK_ELEMENT_LOADED,{element:t,resolveObject:i,error:n||o?null:new E.Z(M.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE,M.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE+e)})}));if("urn:mpeg:dash:resolve-to-zero:2013"===e)o(null,!0);else{var a=new Ur(e,C.w.XLINK_EXPANSION_TYPE);n.load({request:a,success:function(e){o(e)},error:function(){o(null)}})}},reset:function(){n&&(n.abort(),n=null)}}}Br.__dashjs_factory_name="XlinkLoader";var Gr=c.Z.getClassFactory(Br),zr=function(e){function t(e){var t=e.localName;return null==t&&(t=e.baseName),null!=t&&""!=t||(t=e.nodeName),t}function r(e){return"string"==typeof e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):e}function n(e,t,r,n){for(var i=0;i<e.length;i++){var o=e[i];if("string"==typeof o){if(o==n)break}else if(o instanceof RegExp){if(o.test(n))break}else if("function"==typeof o&&o(t,r,n))break}return i!=e.length}function i(t,r,i){"property"===e.arrayAccessForm&&(t[r]instanceof Array?t[r+"_asArray"]=t[r]:t[r+"_asArray"]=[t[r]]),!(t[r]instanceof Array)&&e.arrayAccessFormPaths.length>0&&n(e.arrayAccessFormPaths,t,r,i)&&(t[r]=[t[r]])}function o(e){var t=e.split(/[-T:+Z]/g),r=new Date(t[0],t[1]-1,t[2]),n=t[5].split(".");if(r.setHours(t[3],t[4],n[0]),n.length>1&&r.setMilliseconds(n[1]),t[6]&&t[7]){var i=60*t[6]+Number(t[7]);i=0+("-"==(/\d\d-\d\d:\d\d$/.test(e)?"-":"+")?-1*i:i),r.setMinutes(r.getMinutes()-i-r.getTimezoneOffset())}else-1!==e.indexOf("Z",e.length-1)&&(r=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds())));return r}function a(t,r,i,o){return!(1==r&&e.xmlElementsFilter.length>0)||n(e.xmlElementsFilter,t,i,o)}function s(r,l){if(9==r.nodeType){for(var u=new Object,c=r.childNodes,d=0;d<c.length;d++)1==(h=c[d]).nodeType&&(e.ignoreRoot?u=s(h):(u={})[p=t(h)]=s(h));return u}if(1==r.nodeType){(u=new Object).__cnt=0;var f=[];for(c=r.childNodes,d=0;d<c.length;d++){var h,p=t(h=c[d]);if(8!=h.nodeType){var m=l+"."+p;if(a(u,h.nodeType,p,m))if(u.__cnt++,null==u[p]){var g=s(h,m);("#text"!=p||/[^\s]/.test(g))&&((y={})[p]=g,f.push(y)),u[p]=g,i(u,p,m)}else{var y;null!=u[p]&&(u[p]instanceof Array||(u[p]=[u[p]],i(u,p,m))),g=s(h,m),("#text"!=p||/[^\s]/.test(g))&&((y={})[p]=g,f.push(y)),u[p][u[p].length]=g}}}u.__children=f;for(var v=t(r),b=0;b<r.attributes.length;b++){var _=r.attributes[b];u.__cnt++;for(var w=_.value,E=0,x=e.matchers.length;E<x;E++){var S=e.matchers[E];S.test(_,v)&&(w=S.converter(_.value))}u[e.attributePrefix+_.name]=w}var T=function(e){return e.prefix}(r);return null!=T&&""!=T&&(u.__cnt++,u.__prefix=T),null!=u["#text"]&&(u.__text=u["#text"],u.__text instanceof Array&&(u.__text=u.__text.join("\n")),e.stripWhitespaces&&(u.__text=u.__text.trim()),delete u["#text"],"property"==e.arrayAccessForm&&delete u["#text_asArray"],u.__text=function(t,r,i){if(e.datetimeAccessFormPaths.length>0){var a=i.split(".#")[0];return n(e.datetimeAccessFormPaths,t,r,a)?o(t):t}return t}(u.__text,p,l+"."+p)),null!=u["#cdata-section"]&&(u.__cdata=u["#cdata-section"],delete u["#cdata-section"],"property"==e.arrayAccessForm&&delete u["#cdata-section_asArray"]),0==u.__cnt&&"text"==e.emptyNodeForm?u="":1==u.__cnt&&null!=u.__text?u=u.__text:1!=u.__cnt||null==u.__cdata||e.keepCData?u.__cnt>1&&null!=u.__text&&e.skipEmptyTextNodesForObj&&(e.stripWhitespaces&&""==u.__text||""==u.__text.trim())&&delete u.__text:u=u.__cdata,delete u.__cnt,!e.enableToStringFunc||null==u.__text&&null==u.__cdata||(u.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),u}if(3==r.nodeType||4==r.nodeType)return r.nodeValue}function l(t,n,i,o){var a="<"+(null!=t&&null!=t.__prefix?t.__prefix+":":"")+n;if(null!=i)for(var s=0;s<i.length;s++){var l=i[s],u=t[l];e.escapeMode&&(u=r(u)),a+=" "+l.substr(e.attributePrefix.length)+"=",e.useDoubleQuotes?a+='"'+u+'"':a+="'"+u+"'"}return a+(o?"/>":">")}function u(e,t){return"</"+(null!=e.__prefix?e.__prefix+":":"")+t+">"}function c(t,r){return"property"==e.arrayAccessForm&&(i="_asArray",-1!==(n=r.toString()).indexOf(i,n.length-i.length))||0==r.toString().indexOf(e.attributePrefix)||0==r.toString().indexOf("__")||t[r]instanceof Function;var n,i}function d(e){var t=0;if(e instanceof Object)for(var r in e)c(e,r)||t++;return t}function f(t,r,i){return 0==e.jsonPropertiesFilter.length||""==i||n(e.jsonPropertiesFilter,t,r,i)}function h(t){var r=[];if(t instanceof Object)for(var n in t)-1==n.toString().indexOf("__")&&0==n.toString().indexOf(e.attributePrefix)&&r.push(n);return r}function p(t){var n="";return t instanceof Object?n+=function(t){var n="";return null!=t.__cdata&&(n+="<![CDATA["+t.__cdata+"]]>"),null!=t.__text&&(e.escapeMode?n+=r(t.__text):n+=t.__text),n}(t):null!=t&&(e.escapeMode?n+=r(t):n+=t),n}function m(e,t){return""===e?t:e+"."+t}function g(e,t,r,n){var i="";if(0==e.length)i+=l(e,t,r,!0);else for(var o=0;o<e.length;o++)i+=l(e[o],t,h(e[o]),!1),i+=y(e[o],m(n,t)),i+=u(e[o],t);return i}function y(e,t){var r="";if(d(e)>0)for(var n in e)if(!c(e,n)&&(""==t||f(e,n,m(t,n)))){var i=e[n],o=h(i);null==i||null==i?r+=l(i,n,o,!0):i instanceof Object?i instanceof Array?r+=g(i,n,o,t):i instanceof Date?(r+=l(i,n,o,!1),r+=i.toISOString(),r+=u(i,n)):d(i)>0||null!=i.__text||null!=i.__cdata?(r+=l(i,n,o,!1),r+=y(i,m(t,n)),r+=u(i,n)):r+=l(i,n,o,!0):(r+=l(i,n,o,!1),r+=p(i),r+=u(i,n))}return r+p(e)}void 0===(e=e||{}).escapeMode&&(e.escapeMode=!0),void 0===e.attributePrefix&&(e.attributePrefix="_"),e.arrayAccessForm=e.arrayAccessForm||"none",e.emptyNodeForm=e.emptyNodeForm||"text",void 0===e.enableToStringFunc&&(e.enableToStringFunc=!0),e.arrayAccessFormPaths=e.arrayAccessFormPaths||[],void 0===e.skipEmptyTextNodesForObj&&(e.skipEmptyTextNodesForObj=!0),void 0===e.stripWhitespaces&&(e.stripWhitespaces=!0),e.datetimeAccessFormPaths=e.datetimeAccessFormPaths||[],void 0===e.useDoubleQuotes&&(e.useDoubleQuotes=!1),e.xmlElementsFilter=e.xmlElementsFilter||[],e.jsonPropertiesFilter=e.jsonPropertiesFilter||[],void 0===e.keepCData&&(e.keepCData=!1),void 0===e.ignoreRoot&&(e.ignoreRoot=!1),this.parseXmlString=function(e){var t;if(window.ActiveXObject||window,void 0===e)return null;if(window.DOMParser){var r=new window.DOMParser;try{(t=r.parseFromString(e,"text/xml")).getElementsByTagNameNS("*","parsererror").length>0&&(t=null)}catch(e){t=null}}else 0==e.indexOf("<?")&&(e=e.substr(e.indexOf("?>")+2)),(t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e);return t},this.asArray=function(e){return void 0===e||null==e?[]:e instanceof Array?e:[e]},this.toXmlDateTime=function(e){return e instanceof Date?e.toISOString():"number"==typeof e?new Date(e).toISOString():null},this.asDateTime=function(e){return"string"==typeof e?o(e):e},this.xml2json=function(e){return s(e)},this.xml_str2json=function(e){var t=this.parseXmlString(e);return null!=t?this.xml2json(t):null},this.json2xml_str=function(e){return y(e,"")},this.json2xml=function(e){var t=this.json2xml_str(e);return this.parseXmlString(t)},this.getVersion=function(){return"1.2.0"}},Vr="onLoad";function Hr(e){e=e||{};var t,r,n,i,o,s,c=this.context,d=(0,l.Z)(c).getInstance(),f=(0,Q.Z)(c).getInstance();function h(e,t,r){var n,i,o={};o.elements=e,o.type=t,o.resolveType=r,0===o.elements.length&&m(o);for(var a=0;a<o.elements.length;a++)n=o.elements[a],i=f.isHTTPURL(n.url)?n.url:n.originalContent.BaseURL+n.url,s.load(i,n,o)}function p(e){var t,r,n="";if(t=e.element,r=e.resolveObject,t.resolvedContent){var i=0;0===t.resolvedContent.indexOf("<?xml")&&(i=t.resolvedContent.indexOf("?>")+2),n=t.resolvedContent.substr(0,i)+"<response>"+t.resolvedContent.substr(i)+"</response>",t.resolvedContent=o.xml_str2json(n)}(function(e){var t;for(t=0;t<e.elements.length;t++)if(!1===e.elements[t].resolved)return!1;return!0})(r)&&m(r)}function m(e){var t,r,o=[];if(function(e){var t,r,o,a,s,l,u=[];for(a=e.elements.length-1;a>=0;a--){if(r=(t=e.elements[a]).type+"_asArray",t.resolvedContent){if(t.resolvedContent)for(s=0;s<t.resolvedContent[r].length;s++)o=t.resolvedContent[r][s],u.push(o)}else delete t.originalContent["xlink:actuate"],delete t.originalContent["xlink:href"],u.push(t.originalContent);for(t.parentElement[r].splice(t.index,1),l=0;l<u.length;l++)t.parentElement[r].splice(t.index+l,0,u[l]);u=[]}e.elements.length>0&&n.run(i)}(e),"onActuate"===e.resolveType&&d.trigger(u.Z.XLINK_READY,{manifest:i}),e.resolveType===Vr)switch(e.type){case a.Z.PERIOD:for(t=0;t<i[a.Z.PERIOD+"_asArray"].length;t++)(r=i[a.Z.PERIOD+"_asArray"][t]).hasOwnProperty(a.Z.ADAPTATION_SET+"_asArray")&&(o=o.concat(g(r[a.Z.ADAPTATION_SET+"_asArray"],r,a.Z.ADAPTATION_SET,Vr))),r.hasOwnProperty(a.Z.EVENT_STREAM+"_asArray")&&(o=o.concat(g(r[a.Z.EVENT_STREAM+"_asArray"],r,a.Z.EVENT_STREAM,Vr)));h(o,a.Z.ADAPTATION_SET,Vr);break;case a.Z.ADAPTATION_SET:d.trigger(u.Z.XLINK_READY,{manifest:i})}}function g(e,t,r,n){var i,o,a,s=[];for(o=e.length-1;o>=0;o--)(i=e[o]).hasOwnProperty("xlink:href")&&"urn:mpeg:dash:resolve-to-zero:2013"===i["xlink:href"]&&e.splice(o,1);for(o=0;o<e.length;o++)(i=e[o]).hasOwnProperty("xlink:href")&&i.hasOwnProperty("xlink:actuate")&&i["xlink:actuate"]===n&&(a=y(i["xlink:href"],t,r,o,n,i),s.push(a));return s}function y(e,t,r,n,i,o){return{url:e,parentElement:t,type:r,index:n,resolveType:i,originalContent:o,resolvedContent:null,resolved:!1}}return t={resolveManifestOnLoad:function(e){o=new zr({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:r}),(i=e).Period_asArray?h(g(i.Period_asArray,i,a.Z.PERIOD,Vr),a.Z.PERIOD,Vr):d.trigger(u.Z.XLINK_READY,{manifest:i})},setMatchers:function(e){e&&(r=e)},setIron:function(e){e&&(n=e)},reset:function(){d.off(u.Z.XLINK_ELEMENT_LOADED,p,t),s&&(s.reset(),s=null)}},d.on(u.Z.XLINK_ELEMENT_LOADED,p,t),s=Gr(c).create({errHandler:e.errHandler,dashMetrics:e.dashMetrics,mediaPlayerModel:e.mediaPlayerModel,requestModifier:e.requestModifier,settings:e.settings}),t}Hr.__dashjs_factory_name="XlinkController";var Wr=c.Z.getClassFactory(Hr);function Zr(e){return Zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zr(e)}function qr(e){function t(e,t){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}function r(e,r,n){for(var i=0,o=e.length;i<o;++i){var a=e[i];if(r[a.name])if(n[a.name]){if(a.merge){var s=r[a.name],l=n[a.name];"object"===Zr(s)&&"object"===Zr(l)?t(s,l):n[a.name]=s+l}}else n[a.name]=r[a.name]}}function n(e,t){for(var i=0,o=e.children.length;i<o;++i){var a=e.children[i],s=t[a.name+"_asArray"];if(s)for(var l=0,u=s.length;l<u;++l){var c=s[l];r(e.properties,t,c),n(a,c)}}}return{run:function(t){if(null===t||"object"!==Zr(t))return t;if(t.Period_asArray&&"period"in e)for(var r=e.period,i=t.Period_asArray,o=0,a=i.length;o<a;++o){var s=i[o];if(n(r,s),"adaptationset"in e){var l=s.AdaptationSet_asArray;if(l)for(var u=e.adaptationset,c=0,d=l.length;c<d;++c)n(u,l[c])}}return t}}}qr.__dashjs_factory_name="ObjectIron";var Yr=c.Z.getClassFactory(qr);function Xr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Kr=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._test=t,this._converter=r}var t;return(t=[{key:"test",get:function(){return this._test}},{key:"converter",get:function(){return this._converter}}])&&Xr(e.prototype,t),e}();function Qr(e){return Qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qr(e)}function $r(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jr(e,t){return Jr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Jr(e,t)}function en(e,t){return!t||"object"!==Qr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function tn(e){return tn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},tn(e)}var rn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jr(e,t)}(i,e);var t,r,n=(t=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=tn(t);if(r){var i=tn(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return en(this,e)});function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),n.call(this,(function(e,t){var r,n=($r(r={},a.Z.MPD,[a.Z.ID,a.Z.PROFILES]),$r(r,a.Z.PERIOD,[a.Z.ID]),$r(r,a.Z.BASE_URL,[a.Z.SERVICE_LOCATION,a.Z.BYTE_RANGE]),$r(r,a.Z.SEGMENT_BASE,[a.Z.INDEX_RANGE]),$r(r,a.Z.INITIALIZATION,[a.Z.RANGE]),$r(r,a.Z.REPRESENTATION_INDEX,[a.Z.RANGE]),$r(r,a.Z.SEGMENT_LIST,[a.Z.INDEX_RANGE]),$r(r,a.Z.BITSTREAM_SWITCHING,[a.Z.RANGE]),$r(r,a.Z.SEGMENT_URL,[a.Z.MEDIA_RANGE,a.Z.INDEX_RANGE]),$r(r,a.Z.SEGMENT_TEMPLATE,[a.Z.INDEX_RANGE,a.Z.MEDIA,a.Z.INDEX,a.Z.INITIALIZATION_MINUS,a.Z.BITSTREAM_SWITCHING_MINUS]),$r(r,a.Z.ASSET_IDENTIFIER,[a.Z.VALUE,a.Z.ID]),$r(r,a.Z.EVENT_STREAM,[a.Z.VALUE]),$r(r,a.Z.ADAPTATION_SET,[a.Z.PROFILES,a.Z.MIME_TYPE,a.Z.SEGMENT_PROFILES,a.Z.CODECS,a.Z.CONTENT_TYPE]),$r(r,a.Z.FRAME_PACKING,[a.Z.VALUE,a.Z.ID]),$r(r,a.Z.AUDIO_CHANNEL_CONFIGURATION,[a.Z.VALUE,a.Z.ID]),$r(r,a.Z.CONTENT_PROTECTION,[a.Z.VALUE,a.Z.ID]),$r(r,a.Z.ESSENTIAL_PROPERTY,[a.Z.VALUE,a.Z.ID]),$r(r,a.Z.SUPPLEMENTAL_PROPERTY,[a.Z.VALUE,a.Z.ID]),$r(r,a.Z.INBAND_EVENT_STREAM,[a.Z.VALUE,a.Z.ID]),$r(r,a.Z.ACCESSIBILITY,[a.Z.VALUE,a.Z.ID]),$r(r,a.Z.ROLE,[a.Z.VALUE,a.Z.ID]),$r(r,a.Z.RATING,[a.Z.VALUE,a.Z.ID]),$r(r,a.Z.VIEWPOINT,[a.Z.VALUE,a.Z.ID]),$r(r,a.Z.CONTENT_COMPONENT,[a.Z.CONTENT_TYPE]),$r(r,a.Z.REPRESENTATION,[a.Z.ID,a.Z.DEPENDENCY_ID,a.Z.MEDIA_STREAM_STRUCTURE_ID]),$r(r,a.Z.SUBSET,[a.Z.ID]),$r(r,a.Z.METRICS,[a.Z.METRICS_MINUS]),$r(r,a.Z.REPORTING,[a.Z.VALUE,a.Z.ID]),r);if(n.hasOwnProperty(t)){var i=n[t];return void 0!==i&&i.indexOf(e.name)>=0}return!1}),(function(e){return String(e)}))}return i}(Kr);function nn(e){return nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nn(e)}function on(e,t){return on=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},on(e,t)}function an(e,t){return!t||"object"!==nn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function sn(e){return sn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},sn(e)}var ln=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/,un=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&on(e,t)}(i,e);var t,r,n=(t=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=sn(t);if(r){var i=sn(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return an(this,e)});function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),n.call(this,(function(e){for(var t=[a.Z.MIN_BUFFER_TIME,a.Z.MEDIA_PRESENTATION_DURATION,a.Z.MINIMUM_UPDATE_PERIOD,a.Z.TIMESHIFT_BUFFER_DEPTH,a.Z.MAX_SEGMENT_DURATION,a.Z.MAX_SUBSEGMENT_DURATION,a.Z.SUGGESTED_PRESENTATION_DELAY,a.Z.START,o.Z.START_TIME,a.Z.DURATION],r=t.length,n=0;n<r;n++)if(e.nodeName===t[n])return ln.test(e.value);return!1}),(function(e){var t=ln.exec(e),r=31536e3*parseFloat(t[3]||0)+2592e3*parseFloat(t[5]||0)+86400*parseFloat(t[7]||0)+3600*parseFloat(t[9]||0)+60*parseFloat(t[11]||0)+parseFloat(t[13]||0);return void 0!==t[1]&&(r=-r),r}))}return i}(Kr);function cn(e){return cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cn(e)}function dn(e,t){return dn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},dn(e,t)}function fn(e,t){return!t||"object"!==cn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function hn(e){return hn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},hn(e)}var pn=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/,mn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dn(e,t)}(i,e);var t,r,n=(t=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=hn(t);if(r){var i=hn(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return fn(this,e)});function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),n.call(this,(function(e){return pn.test(e.value)}),(function(e){var t,r=pn.exec(e);if(t=Date.UTC(parseInt(r[1],10),parseInt(r[2],10)-1,parseInt(r[3],10),parseInt(r[4],10),parseInt(r[5],10),r[6]&&parseInt(r[6],10)||0,r[7]&&1e3*parseFloat(r[7])||0),r[9]&&r[10]){var n=60*parseInt(r[9],10)+parseInt(r[10],10);t+=("+"===r[8]?-1:1)*n*60*1e3}return new Date(t)}))}return i}(Kr);function gn(e){return gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gn(e)}function yn(e,t){return yn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},yn(e,t)}function vn(e,t){return!t||"object"!==gn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function bn(e){return bn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},bn(e)}var _n=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/,wn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yn(e,t)}(i,e);var t,r,n=(t=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=bn(t);if(r){var i=bn(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return vn(this,e)});function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),n.call(this,(function(e){return _n.test(e.value)}),(function(e){return parseFloat(e)}))}return i}(Kr);function En(e){return En="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},En(e)}function xn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sn(e,t){return Sn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Sn(e,t)}function Tn(e,t){return!t||"object"!==En(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function An(e){return An=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},An(e)}var Mn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sn(e,t)}(i,e);var t,r,n=(t=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=An(t);if(r){var i=An(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return Tn(this,e)});function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),n.call(this,(function(e,t){var r,n=(xn(r={},a.Z.ADAPTATION_SET,[a.Z.LANG]),xn(r,a.Z.REPRESENTATION,[a.Z.LANG]),xn(r,a.Z.CONTENT_COMPONENT,[a.Z.LANG]),xn(r,a.Z.LABEL,[a.Z.LANG]),xn(r,a.Z.GROUP_LABEL,[a.Z.LANG]),r);if(n.hasOwnProperty(t)){var i=n[t];return void 0!==i&&i.indexOf(e.name)>=0}return!1}),(function(e){return gr()(e)||String(e)}))}return i}(Kr);function Rn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Cn=function(){function e(t){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t,this._merge=(r=t)&&r.length&&r.charAt(0)===r.charAt(0).toUpperCase()}var t;return(t=[{key:"name",get:function(){return this._name}},{key:"merge",get:function(){return this._merge}}])&&Rn(e.prototype,t),e}();function In(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var kn=function(){function e(t,r,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t||"",this._properties=[],this._children=n||[],Array.isArray(r)&&r.forEach((function(e){i._properties.push(new Cn(e))}))}var t;return(t=[{key:"name",get:function(){return this._name}},{key:"children",get:function(){return this._children}},{key:"properties",get:function(){return this._properties}}])&&In(e.prototype,t),e}();function Pn(e){return Pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pn(e)}function On(e,t){return On=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},On(e,t)}function jn(e,t){return!t||"object"!==Pn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Nn(e){return Nn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Nn(e)}var Ln=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&On(e,t)}(i,e);var t,r,n=(t=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=Nn(t);if(r){var i=Nn(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return jn(this,e)});function i(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var e=[a.Z.PROFILES,a.Z.WIDTH,a.Z.HEIGHT,a.Z.SAR,a.Z.FRAMERATE,a.Z.AUDIO_SAMPLING_RATE,a.Z.MIME_TYPE,a.Z.SEGMENT_PROFILES,a.Z.CODECS,a.Z.MAXIMUM_SAP_PERIOD,a.Z.START_WITH_SAP,a.Z.MAX_PLAYOUT_RATE,a.Z.CODING_DEPENDENCY,a.Z.SCAN_TYPE,a.Z.FRAME_PACKING,a.Z.AUDIO_CHANNEL_CONFIGURATION,a.Z.CONTENT_PROTECTION,a.Z.ESSENTIAL_PROPERTY,a.Z.ESSENTIAL_PROPERTY+"_asArray",a.Z.SUPPLEMENTAL_PROPERTY,a.Z.INBAND_EVENT_STREAM];return n.call(this,a.Z.ADAPTATION_SET,e,[new kn(a.Z.REPRESENTATION,e,[new kn(a.Z.SUB_REPRESENTATION,e)])])}return i}(kn);function Dn(e){return Dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dn(e)}function Fn(e,t){return Fn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Fn(e,t)}function Un(e,t){return!t||"object"!==Dn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Bn(e){return Bn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Bn(e)}var Gn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fn(e,t)}(i,e);var t,r,n=(t=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=Bn(t);if(r){var i=Bn(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return Un(this,e)});function i(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var e=[a.Z.SEGMENT_BASE,a.Z.SEGMENT_TEMPLATE,a.Z.SEGMENT_LIST];return n.call(this,a.Z.PERIOD,e,[new kn(a.Z.ADAPTATION_SET,e,[new kn(a.Z.REPRESENTATION,e)])])}return i}(kn);function zn(e){e=e||{};var t,r,n,i,o,a=this.context,s=e.debug;return t={parse:function(e){var t,n=window.performance.now();if(!(t=i.xml_str2json(e)))throw new Error("parsing the manifest failed");var a=window.performance.now();t.Patch?((t=t.Patch).add_asArray&&t.add_asArray.forEach((function(e){return o.run(e)})),t.replace_asArray&&t.replace_asArray.forEach((function(e){return o.run(e)}))):(t=t.MPD,o.run(t));var s=window.performance.now();return r.info("Parsing complete: ( xml2json: "+(a-n).toPrecision(3)+"ms, objectiron: "+(s-a).toPrecision(3)+"ms, total: "+((s-n)/1e3).toPrecision(3)+"s)"),t.protocol="DASH",t},getMatchers:function(){return n},getIron:function(){return o}},r=s.getLogger(t),n=[new un,new mn,new wn,new Mn,new rn],i=new zr({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!0,ignoreRoot:!1,matchers:n}),o=Yr(a).create({adaptationset:new Ln,period:new Gn}),t}zn.__dashjs_factory_name="DashParser";var Vn=c.Z.getClassFactory(zn);function Hn(e){e=e||{};var t,r,n,i,s,c=this.context,d=e.debug,f=e.settings,h=(0,l.Z)(c).getInstance(),p=(0,Q.Z)(c).getInstance(),m=e.mssHandler,g=e.errHandler;function y(e){h.trigger(u.Z.INTERNAL_MANIFEST_LOADED,{manifest:e.manifest})}function v(e){var t=null;return e.indexOf("SmoothStreamingMedia")>-1?(m&&(t=m.createMssParser(),m.createMssFragmentProcessor(),m.registerEvents()),t):e.indexOf("MPD")>-1||e.indexOf("Patch")>-1?Vn(c).create({debug:d}):t}return t={load:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=new Date,l=new Ur(e,C.w.MPD_TYPE);t&&(l.serviceLocation=t),o&&(l.queryParams=o),l.requestStartDate||(l.requestStartDate=a),h.trigger(u.Z.MANIFEST_LOADING_STARTED,{request:l}),n.load({request:l,success:function(t,n,o){var a,l,c;if(i)if(o&&o!==e?(l=p.parseBaseUrl(o),a=o):(p.isRelative(e)&&(e=p.resolve(e,window.location.href)),l=p.parseBaseUrl(e)),"No Content"!=n)if(null===s&&(s=v(t)),null!==s){i.setMatchers(s.getMatchers()),i.setIron(s.getIron());try{c=s.parse(t)}catch(t){return void h.trigger(u.Z.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new E.Z(M.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,M.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(e))})}if(c){if(c.url=a||e,c.originalUrl||(c.originalUrl=c.url),f&&f.get().streaming.enableManifestDurationMismatchFix&&c.mediaPresentationDuration&&c.Period_asArray.length>1){var d=c.Period_asArray.reduce((function(e,t){return e+t.duration}),0);!isNaN(d)&&c.mediaPresentationDuration>d&&(r.warn("Media presentation duration greater than duration of all periods. Setting duration to total period duration"),c.mediaPresentationDuration=d)}c.baseUri=l,c.loadedTime=new Date,i.resolveManifestOnLoad(c),h.trigger(u.Z.ORIGINAL_MANIFEST_LOADED,{originalManifest:t})}else h.trigger(u.Z.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new E.Z(M.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,M.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(e))})}else h.trigger(u.Z.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new E.Z(M.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,M.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(e))});else h.trigger(u.Z.INTERNAL_MANIFEST_LOADED,{manifest:null})},error:function(t,r,n){h.trigger(u.Z.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new E.Z(M.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE,M.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE+"".concat(e,", ").concat(n))})}})},reset:function(){h.off(u.Z.XLINK_READY,y,t),m&&m.reset(),i&&(i.reset(),i=null),n&&(n.abort(),n=null)}},r=d.getLogger(t),h.on(u.Z.XLINK_READY,y,t),n=bt(c).create({errHandler:e.errHandler,dashMetrics:e.dashMetrics,mediaPlayerModel:e.mediaPlayerModel,requestModifier:e.requestModifier,urlUtils:p,constants:o.Z,dashConstants:a.Z,errors:M,requestTimeout:e.settings.get().streaming.manifestRequestTimeout}),i=Wr(c).create({errHandler:g,dashMetrics:e.dashMetrics,mediaPlayerModel:e.mediaPlayerModel,requestModifier:e.requestModifier,settings:e.settings}),s=null,t}Hn.__dashjs_factory_name="ManifestLoader";var Wn=c.Z.getClassFactory(Hn);function Zn(){var e=this.context,t=(0,l.Z)(e).getInstance();return{error:function(e){t.trigger(u.Z.ERROR,{error:e})}}}Zn.__dashjs_factory_name="ErrorHandler";var qn=c.Z.getSingletonFactory(Zn),Yn=r(1715);function Xn(){var e,t,r,n,i,a,s=this.context,c=(0,l.Z)(s).getInstance();function f(e,n){if(!n||!n.Period_asArray||0===n.Period_asArray.length)return Promise.resolve();var i=[];return n.Period_asArray.forEach((function(n){i.push(function(e,n){return new Promise((function(i){if(e&&e.AdaptationSet_asArray&&0!==e.AdaptationSet_asArray.length){var s=[];e.AdaptationSet_asArray.forEach((function(e){t.getIsTypeOf(e,n)&&s.push(function(e,n){return new Promise((function(i){if(e.Representation_asArray&&0!==e.Representation_asArray.length){var s=[],l=[];e.Representation_asArray.forEach((function(i,a){var u=t.getCodec(e,a,!1),c=function(e,t,r){switch(e){case o.Z.VIDEO:return function(e,t){return{codec:t,width:e.width||null,height:e.height||null,framerate:e.frameRate||null,bitrate:e.bandwidth||null}}(t,r);case o.Z.AUDIO:return function(e,t){var r=e.audioSamplingRate||null;return{codec:t,bitrate:e.bandwidth||null,samplerate:r}}(t,r);default:return null}}(n,i,u);l.push(c),s.push(r.supportsCodec(c,n))})),Promise.all(s).then((function(t){e.Representation_asArray=e.Representation_asArray.filter((function(e,r){return t[r]||a.debug("[Stream] Codec ".concat(l[r].codec," not supported ")),t[r]})),i()})).catch((function(){i()}))}else i()}))}(e,n))})),Promise.all(s).then((function(){e.AdaptationSet_asArray=e.AdaptationSet_asArray.filter((function(e){var t=e.Representation_asArray&&e.Representation_asArray.length>0;return t||(c.trigger(u.Z.ADAPTATION_SET_REMOVED_NO_CAPABILITIES,{adaptationSet:e}),a.warn("AdaptationSet has been removed because of no supported Representation")),t})),i()})).catch((function(){i()}))}else i()}))}(n,e))})),Promise.all(i)}return e={setConfig:function(e){e&&(e.adapter&&(t=e.adapter),e.capabilities&&(r=e.capabilities),e.settings&&(n=e.settings),e.customParametersModel&&(i=e.customParametersModel))},filterUnsupportedFeatures:function(e){return new Promise((function(s){var l=[];l.push(f(o.Z.VIDEO,e)),l.push(f(o.Z.AUDIO,e)),Promise.all(l).then((function(){n.get().streaming.capabilities.filterUnsupportedEssentialProperties&&function(e){e&&e.Period_asArray&&0!==e.Period_asArray.length&&e.Period_asArray.forEach((function(e){e.AdaptationSet_asArray=e.AdaptationSet_asArray.filter((function(e){return!e.Representation_asArray||0===e.Representation_asArray.length||(e.Representation_asArray=e.Representation_asArray.filter((function(e){var n=t.getEssentialPropertiesForRepresentation(e);if(n&&n.length>0)for(var i=0;i<n.length;){if(!r.supportsEssentialProperty(n[i]))return a.debug("[Stream] EssentialProperty not supported: "+n[i].schemeIdUri),!1;i+=1}return!0})),e.Representation_asArray&&e.Representation_asArray.length>0)}))}))}(e),function(e){var t=i.getCustomCapabilitiesFilters();t&&0!==t.length&&e&&e.Period_asArray&&0!==e.Period_asArray.length&&e.Period_asArray.forEach((function(e){e.AdaptationSet_asArray=e.AdaptationSet_asArray.filter((function(e){return!e.Representation_asArray||0===e.Representation_asArray.length||(e.Representation_asArray=e.Representation_asArray.filter((function(e){return!t.some((function(t){return!t(e)}))})),e.Representation_asArray&&e.Representation_asArray.length>0)}))}))}(e),s()})).catch((function(){s()}))}))}},a=(0,d.Z)(s).getInstance().getLogger(e),e}Xn.__dashjs_factory_name="CapabilitiesFilter";var Kn=c.Z.getSingletonFactory(Xn),Qn=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.t=null,this.xywh=null,this.track=null,this.id=null,this.s=null,this.r=null};function $n(){var e;return{initialize:function(t){if(e=new Qn,!t)return null;var r=t.indexOf("#");if(-1!==r)for(var n=t.substr(r+1).split("&"),i=0,o=n.length;i<o;++i){var a=n[i],s=a.indexOf("=");if(-1!==s){var l=a.substring(0,s);e.hasOwnProperty(l)&&(e[l]=a.substr(s+1))}}},getURIFragmentData:function(){return e}}}$n.__dashjs_factory_name="URIFragmentModel";var Jn=c.Z.getSingletonFactory($n);function ei(){var e,t=this.context,r=(0,l.Z)(t).getInstance();return{getValue:function(){return e},setValue:function(t){e=t,t&&r.trigger(u.Z.MANIFEST_LOADED,{data:t})}}}ei.__dashjs_factory_name="ManifestModel";var ti=c.Z.getSingletonFactory(ei),ri=-.5;function ni(){var e,t,r,n,i=this.context,o=(0,R.Z)(i).getInstance();function a(e,r){return isNaN(e)?0:e>0?(r&&t.warn("Supplied minimum playback rate is a positive value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):e<ri?(r&&t.warn("Supplied minimum playback rate is out of range and will be limited to ".concat(ri,": ").concat(-50,"% playback speed.")),ri):e}function s(e,r){return isNaN(e)?0:e<0?(r&&t.warn("Supplied maximum playback rate is a negative value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):e>1?(r&&t.warn("Supplied maximum playback rate is out of range and will be limited to ".concat(1,": ").concat(200,"% playback speed.")),1):e}function l(){var e=o.get().streaming.buffer.stableBufferTime>0?o.get().streaming.buffer.stableBufferTime:o.get().streaming.buffer.fastSwitchEnabled?20:12,t=r.getLiveDelay();return!isNaN(t)&&t>0?Math.min(e,t):e}return e={getCatchupMaxDrift:function(){if(!isNaN(o.get().streaming.liveCatchup.maxDrift)&&o.get().streaming.liveCatchup.maxDrift>0)return o.get().streaming.liveCatchup.maxDrift;var e=n.getServiceDescriptionSettings();return e&&e.liveCatchup&&!isNaN(e.liveCatchup.maxDrift)&&e.liveCatchup.maxDrift>0?e.liveCatchup.maxDrift:12},getCatchupModeEnabled:function(){return null!==o.get().streaming.liveCatchup.enabled?o.get().streaming.liveCatchup.enabled:r.getInitialCatchupModeActivated()},getStableBufferTime:l,getInitialBufferLevel:function(){var e=o.get().streaming.buffer.initialBufferLevel;return isNaN(e)||e<0?0:Math.min(l(),e)},getRetryAttemptsForType:function(e){var t=isNaN(o.get().streaming.retryAttempts.lowLatencyMultiplyFactor)?5:o.get().streaming.retryAttempts.lowLatencyMultiplyFactor;return r.getLowLatencyModeEnabled()?o.get().streaming.retryAttempts[e]*t:o.get().streaming.retryAttempts[e]},getRetryIntervalsForType:function(e){var t=isNaN(o.get().streaming.retryIntervals.lowLatencyReductionFactor)?10:o.get().streaming.retryIntervals.lowLatencyReductionFactor;return r.getLowLatencyModeEnabled()?o.get().streaming.retryIntervals[e]/t:o.get().streaming.retryIntervals[e]},getCatchupPlaybackRates:function(e){var t=o.get().streaming.liveCatchup.playbackRate;if(!isNaN(t.min)||!isNaN(t.max))return{min:a(t.min,e),max:s(t.max,e)};var r=n.getServiceDescriptionSettings();if(r&&r.liveCatchup&&(!isNaN(r.liveCatchup.playbackRate.min)||!isNaN(r.liveCatchup.playbackRate.max))){var i=r.liveCatchup.playbackRate;return{min:a(i.min,e),max:s(i.max,e)}}return{min:-.5,max:.5}},getAbrBitrateParameter:function(e,t){try{var r=o.get().streaming.abr[e][t];if(!isNaN(r)&&-1!==r)return r;var i=n.getServiceDescriptionSettings();return i&&i[e]&&!isNaN(i[e][t])?i[e][t]:-1}catch(e){return-1}},setConfig:function(e){e.playbackController&&(r=e.playbackController),e.serviceDescriptionController&&(n=e.serviceDescriptionController)},reset:function(){}},t=(0,d.Z)(i).getInstance().getLogger(e),e}ni.__dashjs_factory_name="MediaPlayerModel";var ii=c.Z.getSingletonFactory(ni),oi=r(1767);function ai(e){var t=(e=e||{}).abrController,r=e.switchHistory,n=e.droppedFramesHistory,i=e.currentRequest,o=e.useBufferOccupancyABR,a=e.useL2AABR,s=e.useLoLPABR,l=e.streamProcessor?e.streamProcessor.getScheduleController():null,u=e.streamProcessor?e.streamProcessor.getRepresentationInfo():null,c=e.videoModel?e.videoModel:null;function d(){return u?u.mediaInfo:null}return{getMediaType:function(){var e=d();return e?e.type:null},getMediaInfo:d,getDroppedFramesHistory:function(){return n},getCurrentRequest:function(){return i},getSwitchHistory:function(){return r},getStreamInfo:function(){var e=d();return e?e.streamInfo:null},getScheduleController:function(){return l},getAbrController:function(){return t},getRepresentationInfo:function(){return u},useBufferOccupancyABR:function(){return o},useL2AABR:function(){return a},useLoLPABR:function(){return s},getVideoModel:function(){return c}}}ai.__dashjs_factory_name="RulesContext";var si=c.Z.getClassFactory(ai),li=r(2068);function ui(){var e=[],t=[];return{push:function(r){r.newValue===li.Z.NO_CHANGE&&(r.newValue=r.oldValue),e[r.oldValue]||(e[r.oldValue]={noDrops:0,drops:0,dropSize:0});var n=r.newValue-r.oldValue,i=n<0?1:0,o=i?-n:0,a=i?0:1;if(e[r.oldValue].drops+=i,e[r.oldValue].dropSize+=o,e[r.oldValue].noDrops+=a,t.push({idx:r.oldValue,noDrop:a,drop:i,dropSize:o}),t.length>8){var s=t.shift();e[s.idx].drops-=s.drop,e[s.idx].dropSize-=s.dropSize,e[s.idx].noDrops-=s.noDrop}},getSwitchRequests:function(){return e},reset:function(){e=[],t=[]}}}ui.__dashjs_factory_name="SwitchRequestHistory";var ci=c.Z.getClassFactory(ui);function di(){var e={},t={},r={};return{push:function(n,i,o){if(i){e[n]||(e[n]=[],t[n]=0,r[n]=0);var a=o&&o.droppedVideoFrames?o.droppedVideoFrames:0,s=o&&o.totalVideoFrames?o.totalVideoFrames:0,l=a-t[n];t[n]=a;var u=s-r[n];r[n]=s;var c=e[n];isNaN(i)||(c[i]?(c[i].droppedVideoFrames+=l,c[i].totalVideoFrames+=u):c[i]={droppedVideoFrames:l,totalVideoFrames:u})}},getFrameHistory:function(t){return e[t]},clearForStream:function(n){try{delete e[n],delete t[n],delete r[n]}catch(e){}},reset:function(){e={},t={},r={}}}}di.__dashjs_factory_name="DroppedFramesHistory";var fi=c.Z.getClassFactory(di);function hi(e){var t,r,n,i,a,s=this.context,u=(e=e||{}).settings,c=(0,l.Z)(s).getInstance();function d(e,t,r,n){var i=Math.pow(.5,r/n.fast);e.fastEstimate=(1-i)*t+i*e.fastEstimate;var o=Math.pow(.5,r/n.slow);e.slowEstimate=(1-o)*t+o*e.slowEstimate,e.totalWeight+=r}function h(e,s,l){return u.get().streaming.abr.movingAverageMethod!==o.Z.MOVING_AVERAGE_SLIDING_WINDOW?function(e,t){var r=e?a.throughputHalfLife:a.latencyHalfLife,o=e?n[t]:i[t];if(!o||o.totalWeight<=0)return NaN;var s=o.fastEstimate/(1-Math.pow(.5,o.totalWeight/r.fast)),l=o.slowEstimate/(1-Math.pow(.5,o.totalWeight/r.slow));return e?Math.min(s,l):Math.max(s,l)}(e,s):function(e,n,i){var o=function(e,n,i){var o,a;if(e?(o=t[n],a=i?3:4):(o=r[n],a=4),o){if(a>=o.length)a=o.length;else if(e)for(var s=1;s<a;++s){var l=o[o.length-s]/o[o.length-s-1];if((l>=1.3||l<=1/1.3)&&(a+=1)===o.length)break}}else a=0;return a}(e,n,i),a=(e?t:r)[n];return 0!==o&&a&&0!==a.length?(a=a.slice(-o)).reduce((function(e,t){return e+t}))/a.length:NaN}(e,s,l)}function p(e,t){return h(!0,e,t)}function m(e){t[e]=t[e]||[],r[e]=r[e]||[],n[e]=n[e]||{fastEstimate:0,slowEstimate:0,totalWeight:0},i[e]=i[e]||{fastEstimate:0,slowEstimate:0,totalWeight:0}}function g(){t={},r={},n={},i={}}var y={push:function(e,s,l){if(s.trace&&s.trace.length){var h,p=s.tresponse.getTime()-s.trequest.getTime()||1,g=s._tfinish.getTime()-s.tresponse.getTime()||1,y=s.trace.reduce((function(e,t){return e+t.b[0]}),0),v=0;if(0!==(h=s._fileLoaderType&&s._fileLoaderType===o.Z.FILE_LOADER_TYPES.FETCH?s.trace.reduce((function(e,t){return e+t.d}),0):l?g:p+g)&&(v=Math.round(8*y/h)),s.cmsd){var b=s.cmsd.dynamic&&s.cmsd.dynamic.etp?s.cmsd.dynamic.etp:null;if(b){var _=u.get().streaming.cmsd.abr.etpWeightRatio;_>0&&_<=1&&(v=v*(1-_)+b*_)}}if(m(e),function(e,t,r){return e===o.Z.VIDEO?r<u.get().streaming.cacheLoadThresholds[o.Z.VIDEO]:e===o.Z.AUDIO?r<u.get().streaming.cacheLoadThresholds[o.Z.AUDIO]:void 0}(e,0,g)){if(t[e].length>0&&!t[e].hasCachedEntries)return;t[e].hasCachedEntries=!0}else t[e]&&t[e].hasCachedEntries&&function(e){delete t[e],delete r[e],delete n[e],delete i[e],m(e)}(e);t[e].push(v),c.trigger(f.Z.THROUGHPUT_MEASUREMENT_STORED,{throughput:v,mediaType:e,httpRequest:s}),t[e].length>20&&t[e].shift(),r[e].push(p),r[e].length>20&&r[e].shift(),d(n[e],v,.001*g,a.throughputHalfLife),d(i[e],p,1,a.latencyHalfLife)}},getAverageThroughput:p,getSafeAverageThroughput:function(e,t){var r=p(e,t);return isNaN(r)||(r*=u.get().streaming.abr.bandwidthSafetyFactor),r},getAverageLatency:function(e){return h(!1,e)},reset:g};return a={throughputHalfLife:{fast:3,slow:8},latencyHalfLife:{fast:1,slow:2}},g(),y}hi.__dashjs_factory_name="ThroughputHistory";var pi=c.Z.getClassFactory(hi);function mi(){var e,t,r,n,i,a,c,h,p,m,g,y,v,b,_,E,x,S,T,A,M,R,I,k,P,O,j,N=this.context,L=(0,d.Z)(N).getInstance(),D=(0,l.Z)(N).getInstance();function F(){i={},a={},h={},c={},A={},I={},k={},P={},void 0===m&&(m=!1),M&&M.reset(),T=void 0,M=void 0,R=void 0,clearTimeout(p),p=null}function U(t){var i=t.request.mediaType,o=t.streamId;if(i&&o&&c[o]&&j.get().streaming.abr.autoSwitchBitrate[i]){var a=c[o][i];if(a){var l=si(N).create({abrController:e,streamProcessor:a,currentRequest:t.request,useBufferOccupancyABR:I[i],useL2AABR:k[i],useLoLPABR:P[i],videoModel:b}),u=r.shouldAbandonFragment(l,o);u.quality>li.Z.NO_CHANGE&&a.getFragmentModel().getRequests({state:w.FRAGMENT_MODEL_LOADING,index:t.request.index})[0]&&(h[o][i].state=s.Z.ABANDON_LOAD,A[o][i].reset(),A[o][i].push({oldValue:H(i,o),newValue:u.quality,confidence:1,reason:u.reason}),W(i,n.getActiveStreamInfo(),u.quality,u.reason),clearTimeout(p),p=setTimeout((function(){h[o][i].state=s.Z.ALLOW_LOAD,p=null}),j.get().streaming.abandonLoadTimeout))}}}function B(e){e.mediaType===o.Z.VIDEO&&(void 0!==T&&M.push(e.streamId,T,b.getPlaybackQuality()),T=e.newQuality)}function G(e){var r,n;e.metric!==s.Z.HTTP_REQUEST||!e.value||e.value.type!==C.w.MEDIA_SEGMENT_TYPE||e.mediaType!==o.Z.AUDIO&&e.mediaType!==o.Z.VIDEO||R.push(e.mediaType,e.value,j.get().streaming.abr.useDeadTimeLatency),e.metric!==s.Z.BUFFER_LEVEL||e.mediaType!==o.Z.AUDIO&&e.mediaType!==o.Z.VIDEO||(r=e.mediaType,n=.001*e.value.level,j.get().streaming.abr.ABRStrategy===o.Z.ABR_STRATEGY_DYNAMIC&&function(e,r){try{var n=_.getStableBufferTime(),i=n,o=.5*n,a=I[e],s=r>(a?o:i);I[e]=s,s!==a&&(s?t.info("["+e+"] switching from throughput to buffer occupancy ABR rule (buffer: "+r.toFixed(3)+")."):t.info("["+e+"] switching from buffer occupancy to throughput ABR rule (buffer: "+r.toFixed(3)+")."))}catch(e){t.error(e)}}(r,n))}function z(e,r){try{var n;return i[r]=i[r]||{},i[r].hasOwnProperty(e)||(i[r][e]=0),n=function(e,t){var r=i[t][e],n=r;if(!c[t]||!c[t][e])return n;var o=V(e,t);void 0!==o&&(n=Math.max(r,o));var a=function(e,t){try{var r=_.getAbrBitrateParameter("maxBitrate",e);return r>-1?X(c[t][e].getMediaInfo(),r,t):void 0}catch(e){return}}(e,t);return void 0!==a&&(n=Math.min(n,a)),n}(e,r),n=function(e,t,r){var n=i[r][t],o=j.get().streaming.abr.maxRepresentationRatio[t];return isNaN(o)||o>=1||o<0?e:Math.min(e,Math.round(n*o))}(n,e,r),n=function(e,t,r){if(t!==o.Z.VIDEO||!j.get().streaming.abr.limitBitrateByPortal||!c[r]||!c[r][t])return e;m||Q();var n=c[r][t].getStreamInfo(),i=v.getAdaptationForType(n.index,t,n).Representation_asArray,a=e;if(g>0&&y>0){for(;a>0&&i[a]&&g<i[a].width&&g-i[a-1].width<i[a].width-g;)a-=1;for(;a<i.length-1&&i[a].width===i[a+1].width;)a+=1}return a}(n,e,r),j.get().streaming.cmsd.enabled&&j.get().streaming.cmsd.abr.applyMb&&(n=function(e,r,n){if("video"!==r)return e;var i=x.getMaxBitrate(r);if(i<0)return e;var o=q(n,"audio",H("audio",n));i-=o?o.bitrate/1e3:0;var a=X(c[n][r].getMediaInfo(),i,n);return t.debug("Stream ID: "+n+" ["+r+"] Apply max bit rate from CMSD: "+i),Math.min(e,a)}(n,e,r)),n}catch(e){return}}function V(e,t){try{return function(e,t){try{var r=_.getAbrBitrateParameter("minBitrate",e);if(r>-1){var n=c[t][e].getMediaInfo(),i=K(n),o=X(n,r,t);return i[o]&&o<i.length-1&&i[o].bitrate<1e3*r&&o++,o}return}catch(e){return}}(e,t)}catch(e){return}}function H(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{return t||(t=n.getActiveStreamInfo().id),e&&c[t]&&c[t][e]&&t?(a[t]=a[t]||{},a[t].hasOwnProperty(e)||(a[t][e]=0),a[t][e]):0}catch(e){return 0}}function W(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(t&&t.id&&e){var i=t.id,o=H(e,i);(0,Y.SE)(r);var a=z(e,i);r!==o&&r>=0&&r<=a&&Z(e,o,r,a,n,i)}}function Z(e,r,n,i,o,s){if(e&&c[s]&&c[s][e]){var l=c[s][e].getStreamInfo(),d=l&&l.manifestInfo&&l.manifestInfo.isDynamic,f=O.getCurrentBufferLevel(e);t.info("Stream ID: "+s+" ["+e+"] switch from "+r+" to "+n+"/"+i+" (buffer: "+f+") "+(o?JSON.stringify(o):".")),a[s]=a[s]||{},a[s][e]=n;var h=q(s,e,n);D.trigger(u.Z.QUALITY_CHANGE_REQUESTED,{oldQuality:r,newQuality:n,reason:o,streamInfo:l,bitrateInfo:h,maxIdx:i,mediaType:e},{streamId:l.id,mediaType:e});var p=R.getAverageThroughput(e,d);isNaN(p)||S.setSavedBitrateSettings(e,p)}}function q(e,t,r){if(t&&c&&c[e]&&c[e][t]){var n=K(c[e][t].getMediaInfo());return n[r]?n[r]:null}return null}function X(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=e&&e.type?c[r][e.type].getRepresentationInfo():null;if(j.get().streaming.abr.useDeadTimeLatency&&n&&i&&i.fragmentDuration){n/=1e3;var o=i.fragmentDuration;if(n>o)return 0;t*=1-n/o}for(var a=K(e),s=a.length-1;s>=0;s--)if(1e3*t>=a[s].bitrate)return s;return 0}function K(e){var t=[];if(!e||!e.bitrateList)return t;for(var r,n=e.bitrateList,i=e.type,o=0,a=n.length;o<a;o++)(r=new Pt).mediaType=i,r.qualityIndex=o,r.bitrate=n[o].bandwidth,r.width=n[o].width,r.height=n[o].height,r.scanType=n[o].scanType,t.push(r);return t}function Q(){if(b){var e=j.get().streaming.abr.usePixelRatioInLimitBitrateByPortal&&window.hasOwnProperty("devicePixelRatio")?window.devicePixelRatio:1;g=b.getClientWidth()*e,y=b.getClientHeight()*e}}return e={initialize:function(){M=fi(N).create(),R=pi(N).create({settings:j}),(r=(0,oi.Z)(N).create({dashMetrics:O,customParametersModel:E,mediaPlayerModel:_,settings:j})).initialize(),D.on(f.Z.QUALITY_CHANGE_RENDERED,B,e),D.on(f.Z.METRIC_ADDED,G,e),D.on(u.Z.LOADING_PROGRESS,U,e)},isPlayingAtTopQuality:function(e){var t=e?e.id:null,r=H(o.Z.AUDIO,t),n=H(o.Z.VIDEO,t);return r===z(o.Z.AUDIO,t)&&n===z(o.Z.VIDEO,t)},updateTopQualityIndex:function(e){var t=e.type,r=e.streamInfo.id,n=e.representationCount-1;return i[r]=i[r]||{},i[r][t]=n,n},clearDataForStream:function(e){M&&M.clearForStream(e),c[e]&&delete c[e],A[e]&&delete A[e],h[e]&&delete h[e]},getThroughputHistory:function(){return R},getBitrateList:K,getQualityForBitrate:X,getTopBitrateInfoFor:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t||(t=n.getActiveStreamInfo().id),e&&c&&c[t]&&c[t][e]){var r=z(e,t),i=K(c[t][e].getMediaInfo());return i[r]?i[r]:null}return null},getMinAllowedIndexFor:V,getMaxAllowedIndexFor:z,getInitialBitrateFor:function(e,t){if(function(){if(!S||!S.hasOwnProperty("getSavedBitrateSettings"))throw new Error(o.Z.MISSING_CONFIG_ERROR)}(),e===o.Z.TEXT)return NaN;var r=S.getSavedBitrateSettings(e),n=_.getAbrBitrateParameter("initialBitrate",e),i=j.get().streaming.abr.initialRepresentationRatio[e];if(-1===n)if(i>-1){var a=c[t][e].getStreamInfo(),s=v.getAdaptationForType(a.index,e,a).Representation_asArray;n=Array.isArray(s)?s[Math.max(Math.round(s.length*i)-1,0)].bandwidth/1e3:0}else n=isNaN(r)?e===o.Z.VIDEO?1e3:100:r;return n},getQualityFor:H,getAbandonmentStateFor:function(e,t){return h[e]&&h[e][t]?h[e][t].state:null},setPlaybackQuality:W,checkPlaybackQuality:function(t,n){try{if(!(t&&c&&c[n]&&c[n][t]))return!1;if(M){var i=b.getPlaybackQuality();i&&M.push(n,T,i)}if(!j.get().streaming.abr.autoSwitchBitrate[t])return!1;var o=H(t,n),a=si(N).create({abrController:e,switchHistory:A[n][t],droppedFramesHistory:M,streamProcessor:c[n][t],currentValue:o,useBufferOccupancyABR:I[t],useL2AABR:k[t],useLoLPABR:P[t],videoModel:b}),l=V(t,n),u=z(t,n),d=r.getMaxQuality(a),f=d.quality;return void 0!==l&&(f>li.Z.NO_CHANGE?f:o)<l&&(f=l),f>u&&(f=u),A[n][t].push({oldValue:o,newValue:f}),f>li.Z.NO_CHANGE&&f!==o&&(h[n][t].state===s.Z.ALLOW_LOAD||f<o)&&(Z(t,o,f,u,d.reason,n),!0)}catch(e){return!1}},setElementSize:Q,setWindowResizeEventCalled:function(e){m=e},registerStreamType:function(e,t){var r=t.getStreamInfo().id;c[r]||(c[r]={}),A[r]||(A[r]={}),h[r]||(h[r]={}),A[r][e]=ci(N).create(),c[r][e]=t,h[r][e]={},h[r][e].state=s.Z.ALLOW_LOAD,function(e){var t=j.get().streaming.abr.ABRStrategy;t===o.Z.ABR_STRATEGY_L2A?(I[e]=!1,P[e]=!1,k[e]=!0):t===o.Z.ABR_STRATEGY_LoLP?(I[e]=!1,P[e]=!0,k[e]=!1):t===o.Z.ABR_STRATEGY_BOLA?(I[e]=!0,P[e]=!1,k[e]=!1):t===o.Z.ABR_STRATEGY_THROUGHPUT?(I[e]=!1,P[e]=!1,k[e]=!1):t===o.Z.ABR_STRATEGY_DYNAMIC&&(I[e]=!(!I||!I[e])&&I[e],P[e]=!1,k[e]=!1)}(e),e===o.Z.VIDEO&&Q()},unRegisterStreamType:function(e,t){try{c[e]&&c[e][t]&&delete c[e][t],A[e]&&A[e][t]&&delete A[e][t],h[e]&&h[e][t]&&delete h[e][t]}catch(e){}},setConfig:function(e){e&&(e.streamController&&(n=e.streamController),e.domStorage&&(S=e.domStorage),e.mediaPlayerModel&&(_=e.mediaPlayerModel),e.customParametersModel&&(E=e.customParametersModel),e.cmsdModel&&(x=e.cmsdModel),e.dashMetrics&&(O=e.dashMetrics),e.adapter&&(v=e.adapter),e.videoModel&&(b=e.videoModel),e.settings&&(j=e.settings))},reset:function(){F(),D.off(u.Z.LOADING_PROGRESS,U,e),D.off(f.Z.QUALITY_CHANGE_RENDERED,B,e),D.off(f.Z.METRIC_ADDED,G,e),r&&r.reset()}},t=L.getLogger(e),F(),e}mi.__dashjs_factory_name="AbrController";var gi=c.Z.getSingletonFactory(mi);gi.QUALITY_DEFAULT=0,c.Z.updateSingletonFactory(mi.__dashjs_factory_name,gi);var yi=gi,vi=new Map([[o.Z.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,"loadedmetadata"],[o.Z.VIDEO_ELEMENT_READY_STATES.HAVE_CURRENT_DATA,"loadeddata"],[o.Z.VIDEO_ELEMENT_READY_STATES.HAVE_FUTURE_DATA,"canplay"],[o.Z.VIDEO_ELEMENT_READY_STATES.HAVE_ENOUGH_DATA,"canplaythrough"]]);function bi(){var e,t,r,n,i,a,s,c,f=this.context,h=(0,l.Z)(f).getInstance(),p=[];function m(){r&&(r.playbackRate=1,r.removeEventListener("canplay",m))}function g(){return p.length>0}function y(){if(r&&g()&&0===r.playbackRate){var e=document.createEvent("Event");e.initEvent("waiting",!0,!1),r.dispatchEvent(e)}}function v(e,t){r&&r.addEventListener(e,t)}function b(e,t){r&&r.removeEventListener(e,t)}function _(){return r?r.readyState:NaN}function w(){return r?r.buffered:null}function E(e,t,n,i,o){if(r)for(var a=0;a<r.textTracks.length;a++)if(r.textTracks[a].kind===e&&(!t||r.textTracks[a].label==t)&&r.textTracks[a].language===n&&r.textTracks[a].isTTML===i&&r.textTracks[a].isEmbedded===o)return r.textTracks[a];return null}function x(e,t){return e===o.Z.VIDEO_ELEMENT_READY_STATES.HAVE_NOTHING||_()>=e?(t(),null):function(e,t){var r=function r(){b(e,r),t(e)};return v(e,r),{func:r,event:e}}(vi.get(e),t)}return e={addEventListener:v,addTextTrack:function(e,t,n,i,o){if(!r)return null;var a=E(e,t,n,i,o);return a||((a=r.addTextTrack(e,t,n)).isEmbedded=o,a.isTTML=i),a},appendChild:function(e){r&&(r.appendChild(e),void 0!==e.isTTML&&(r.textTracks[r.textTracks.length-1].isTTML=e.isTTML,r.textTracks[r.textTracks.length-1].isEmbedded=e.isEmbedded))},getBufferRange:w,getClientHeight:function(){return r?r.clientHeight:NaN},getClientWidth:function(){return r?r.clientWidth:NaN},getElement:function(){return r},getEnded:function(){return r?r.ended:null},getPlaybackQuality:function(){if(!r)return null;var e="webkitDroppedFrameCount"in r&&"webkitDecodedFrameCount"in r,t=null;return"getVideoPlaybackQuality"in r?t=r.getVideoPlaybackQuality():e&&(t={droppedVideoFrames:r.webkitDroppedFrameCount,totalVideoFrames:r.webkitDroppedFrameCount+r.webkitDecodedFrameCount,creationTime:new Date}),t},getPlaybackRate:function(){return r?r.playbackRate:null},getPlayedRanges:function(){return r?r.played:null},getReadyState:_,getSource:function(){return r?r.src:null},getTTMLRenderingDiv:function(){return a},getTextTrack:E,getTextTracks:function(){return r?r.textTracks:[]},getTime:function(){return r?isNaN(n)?r.currentTime:n:null},getVideoHeight:function(){return r?r.videoHeight:NaN},getVideoRelativeOffsetLeft:function(){if(r){var e=r.parentNode.host||r.parentNode;return e?r.getBoundingClientRect().left-e.getBoundingClientRect().left:NaN}return NaN},getVideoRelativeOffsetTop:function(){if(r){var e=r.parentNode.host||r.parentNode;return e?r.getBoundingClientRect().top-e.getBoundingClientRect().top:NaN}return NaN},getVideoWidth:function(){return r?r.videoWidth:NaN},getVttRenderingDiv:function(){return s},initialize:function(){h.on(u.Z.PLAYBACK_PLAYING,y,this)},isPaused:function(){return r?r.paused:null},isSeeking:function(){return r?r.seeking||!isNaN(n):null},isStalled:g,pause:function(){r&&(r.pause(),r.autoplay=!1)},play:function(){if(r){r.autoplay=!0;var e=r.play();e&&e.catch&&"undefined"!=typeof Promise&&e.catch((function(e){"NotAllowedError"===e.name&&h.trigger(u.Z.PLAYBACK_NOT_ALLOWED),t.warn("Caught pending play exception - continuing (".concat(e,")"))}))}},removeChild:function(e){r&&r.removeChild(e)},removeEventListener:b,reset:function(){clearTimeout(c),h.off(u.Z.PLAYBACK_PLAYING,y,this)},setCurrentTime:function(e,t){r&&(i&&i.func&&i.event&&b(i.event,i.func),n=e,i=x(o.Z.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,(function(){if(r)if(r.currentTime!==n)try{n=t?function(e){var t=w(),r=e,n=9999999999;if(t)for(var i=0;i<t.length;i++){var o=t.start(i),a=t.end(i),s=Math.abs(o-e),l=Math.abs(a-e);if(e>=o&&e<=a)return e;s<n&&(n=s,r=o),l<n&&(n=l,r=a)}return r}(n):n,isNaN(n)||(r.currentTime=n),n=NaN}catch(e){0===r.readyState&&e.code===e.INVALID_STATE_ERR&&(c=setTimeout((function(){r.currentTime=n,n=NaN}),400))}else n=NaN})))},setElement:function(e){if(!(null==e||e&&/^(VIDEO|AUDIO)$/i.test(e.nodeName)))throw"element is not video or audio DOM type!";(r=e)&&(r.preload="auto")},setPlaybackRate:function(e){r&&(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])&&r.readyState<=2&&e>0?r.addEventListener("canplay",m):r.playbackRate=e)},setSource:function(e){r&&(e?r.src=e:(r.removeAttribute("src"),r.load()))},setStallState:function(e,t){!function(e,t){t?function(e){null!==e&&r&&!r.seeking&&-1===p.indexOf(e)&&p.push(e)}(e):function(e){var t=p.indexOf(e);null!==e&&-1!==t&&p.splice(t,1)}(e)}(e,t)},setTTMLRenderingDiv:function(e){(a=e).style.position="absolute",a.style.display="flex",a.style.overflow="hidden",a.style.pointerEvents="none",a.style.top=0,a.style.left=0},setVttRenderingDiv:function(e){s=e},waitForReadyState:x,setDisableRemotePlayback:function(e){r&&(r.disableRemotePlayback=e)}},t=(0,d.Z)(f).getInstance().getLogger(e),n=NaN,e}bi.__dashjs_factory_name="VideoModel";var _i=c.Z.getSingletonFactory(bi),wi=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}],Ei="dashjs_?_bitrate",xi="dashjs_?_settings",Si="localStorage",Ti="lastBitrate",Ai="lastMediaSettings";function Mi(e){e=e||{};var t,r,n,i=this.context,a=e.settings;function s(e){if(void 0!==n)return n;var t;n=!1;try{"undefined"!=typeof window&&(t=window[e])}catch(e){return r.warn("DOMStorage access denied: "+e.message),n}if(!t||e!==Si&&"sessionStorage"!==e)return n;try{t.setItem("1","1"),t.removeItem("1"),n=!0}catch(e){r.warn("DOMStorage is supported, but cannot be used: "+e.message)}return n}function l(){var e=6e5;return Math.round((new Date).getTime()/e)*e}function u(e,t){return s(e)&&a.get().streaming[t+"CachingInfo"].enabled}function c(){if(!a)throw new Error(o.Z.MISSING_CONFIG_ERROR)}return t={getSavedBitrateSettings:function(e){if(c(),!a.get().streaming.lastBitrateCachingInfo.enabled)return NaN;var t=NaN;if(u(Si,Ti)){var n=Ei.replace(/\?/,e);try{var i=JSON.parse(localStorage.getItem(n))||{},o=(new Date).getTime()-parseInt(i.timestamp,10)>=a.get().streaming.lastBitrateCachingInfo.ttl||!1,s=parseFloat(i.bitrate);isNaN(s)||o?o&&localStorage.removeItem(n):(t=s,r.debug("Last saved bitrate for "+e+" was "+s))}catch(e){return null}}return t},setSavedBitrateSettings:function(e,t){if(u(Si,Ti)&&t){var n=Ei.replace(/\?/,e);try{localStorage.setItem(n,JSON.stringify({bitrate:t.toFixed(3),timestamp:l()}))}catch(e){r.error(e.message)}}},getSavedMediaSettings:function(e){if(c(),!a.get().streaming.lastMediaSettingsCachingInfo.enabled)return null;var t=null;if(u(Si,Ai)){var r=xi.replace(/\?/,e);try{var n=JSON.parse(localStorage.getItem(r))||{},i=(new Date).getTime()-parseInt(n.timestamp,10)>=a.get().streaming.lastMediaSettingsCachingInfo.ttl||!1;t=n.settings,i&&(localStorage.removeItem(r),t=null)}catch(e){return null}}return t},setSavedMediaSettings:function(e,t){if(u(Si,Ai)){var n=xi.replace(/\?/,e);try{localStorage.setItem(n,JSON.stringify({settings:t,timestamp:l()}))}catch(e){r.error(e.message)}}}},r=(0,d.Z)(i).getInstance().getLogger(t),s(Si)&&wi.forEach((function(e){var t=localStorage.getItem(e.oldKey);if(t){localStorage.removeItem(e.oldKey);try{localStorage.setItem(e.newKey,t)}catch(e){r.error(e.message)}}})),t}Mi.__dashjs_factory_name="DOMStorage";var Ri=c.Z.getSingletonFactory(Mi),Ci=r(2032),Ii=r(2011);function ki(){var e,t,r,n,i,o,a,s,l,u,c,d,f,h=this.context;function p(e,r,i,o){var a=null,l=e?f.resolve(e.path):null,u=o||{init:!0,url:l?l.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500,mediaType:r};t.debug("Start searching for initialization.");var c=v(u);s.load({request:c,success:function(t){if(u.bytesLoaded=u.range.end,!(a=n.findInitRange(t)))return u.range.end=u.bytesLoaded+u.bytesToLoad,p(e,r,i,u);e.range=a,i(e)},error:function(){i(e)}}),t.debug("Perform init search: "+u.url)}function g(e,r,i,o,a,l){if(i&&(void 0===i.start||void 0===i.end)){var u=i?i.toString().split("-"):null;i=u?{start:parseFloat(u[0]),end:parseFloat(u[1])}:null}a=a||y;var c=null,d=null,h=!!i,p=e?f.resolve(e.path):null,m={init:!1,url:p?p.url:void 0,range:h?i:{start:0,end:1500},searching:!h,bytesLoaded:l?l.bytesLoaded:0,bytesToLoad:1500,mediaType:r},b=v(m);s.load({request:b,success:function(i){var s=m.bytesToLoad,l=i.byteLength;if(m.bytesLoaded=m.range.end-m.range.start,c=n.parse(i),(d=c.getBox("sidx"))&&d.isComplete){var u,f,h=d.references;if(null!=h&&h.length>0&&(u=1===h[0].reference_type),u){var p,y,v,b;t.debug("Initiate multiple SIDX load."),m.range.end=m.range.start+d.size;var _=[],w=0,E=(d.offset||m.range.start)+d.size,x=function(t){t?(_=_.concat(t),++w>=y&&(_.sort((function(e,t){return e.startTime-t.startTime<0?-1:0})),a(_,e,o))):a(null,e,o)};for(p=0,y=h.length;p<y;p++)v=E,b=E+h[p].referenced_size-1,E+=h[p].referenced_size,g(e,r,{start:v,end:b},o,x,m)}else t.debug("Parsing segments from SIDX. representation "+r+" - id: "+e.id+" for range : "+m.range.start+" - "+m.range.end),f=function(e,t){for(var r,n,i,o,a=e.references,s=a.length,l=e.timescale,u=e.earliest_presentation_time,c=t.range.start+e.offset+e.first_offset+e.size,d=[],f=0;f<s;f++)i=a[f].subsegment_duration,o=a[f].referenced_size,(r=new Ii.Z).duration=i,r.startTime=u,r.timescale=l,n=c+o-1,r.mediaRange=c+"-"+n,d.push(r),u+=i,c+=o;return d}(d,m),a(f,e,o)}else{if(d)m.range.start=d.offset||m.range.start,m.range.end=m.range.start+(d.size||s);else{if(l<m.bytesLoaded)return void a(null,e,o);var S=c.getLastBox();S&&S.size?(m.range.start=S.offset+S.size,m.range.end=m.range.start+s):m.range.end+=s}g(e,r,m.range,o,null,m)}},error:function(){a(null,e,o)}}),t.debug("Perform SIDX load for type ".concat(r," : ").concat(m.url," with range ").concat(m.range.start," - ").concat(m.range.end))}function y(e,t,r){r({segments:e,representation:t,error:e?void 0:new E.Z(l.SEGMENT_BASE_LOADER_ERROR_CODE,l.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}function v(e){if(e.url){var t=new m.Z;return t.setInfo(e),t}}return e={setConfig:function(s){s.baseURLController&&(f=s.baseURLController),s.dashMetrics&&(o=s.dashMetrics),s.mediaPlayerModel&&(a=s.mediaPlayerModel),s.errHandler&&(r=s.errHandler),s.boxParser&&(n=s.boxParser),s.debug&&(t=s.debug.getLogger(e)),s.requestModifier&&(i=s.requestModifier),s.errors&&(l=s.errors),s.urlUtils&&(d=s.urlUtils),s.constants&&(u=s.constants),s.dashConstants&&(c=s.dashConstants)},initialize:function(){s=bt(h).create({errHandler:r,dashMetrics:o,mediaPlayerModel:a,requestModifier:i,boxParser:n,errors:l,urlUtils:d,constants:u,dashConstants:c})},loadInitialization:function(e,t){return new Promise((function(r){p(e,t,r)}))},loadSegments:function(e,t,r){return new Promise((function(n){g(e,t,r,n)}))},reset:function(){s&&(s.abort(),s=null)}}}ki.__dashjs_factory_name="SegmentBaseLoader";var Pi=c.Z.getSingletonFactory(ki);function Oi(e){var t;e=e||{};var r=new DataView(e.data),n=0;function i(e,t){var i=!0,o=0;if(void 0===t&&(t=!1),e.tag>16777215?(r.getUint32(n)!==e.tag&&(i=!1),o=4):e.tag>65535?(256*r.getUint16(n)+r.getUint8(n+2)!==e.tag&&(i=!1),o=3):e.tag>255?(r.getUint16(n)!==e.tag&&(i=!1),o=2):(r.getUint8(n)!==e.tag&&(i=!1),o=1),!i&&e.required&&!t)throw new Error("required tag not found");return i&&(n+=o),i}function o(e){var t=1,i=128,o=-1,a=0,s=r.getUint8(n),l=0;for(l=0;l<8;l+=1){if((s&i)===i){a=void 0===e?s&~i:s,o=l;break}i>>=1}for(l=0;l<o;l+=1,t+=1)a=a<<8|255&r.getUint8(n+t);return n+=t,a}return t={getPos:function(){return n},setPos:function(e){n=e},consumeTag:i,consumeTagAndSize:function(e,t){var r=i(e,t);return r&&o(),r},parseTag:function(e){var r;return i(e),r=o(),t[e.parse](r)},skipOverElement:function(e,t){var r,a=i(e,t);return a&&(r=o(),n+=r),a},getMatroskaCodedNum:o,getMatroskaFloat:function(e){var t;switch(e){case 4:t=r.getFloat32(n),n+=4;break;case 8:t=r.getFloat64(n),n+=8}return t},getMatroskaUint:function(e){if(e>4)return function(e){for(var t=Math.floor(Number.MAX_SAFE_INTEGER/256),i=0,o=0;o<e;o+=1){if(i>t)throw new Error("Value exceeds safe integer limit");i*=256;var a=r.getUint8(n+o);if(i>Number.MAX_SAFE_INTEGER-a)throw new Error("Value exceeds safe integer limit");i+=a}return n+=e,i}(e);for(var t=0,i=0;i<e;i+=1)t<<=8,t|=255&r.getUint8(n+i);return n+=e,t>>>0},moreData:function(){return n<r.byteLength}}}Oi.__dashjs_factory_name="EBMLParser";var ji=c.Z.getClassFactory(Oi);function Ni(){var e,t,r,n,i,a,s,l,u,c,d=this.context;function f(e){var t=new m.Z;return t.setInfo(e),t}return e={setConfig:function(r){if(!(r.baseURLController&&r.dashMetrics&&r.mediaPlayerModel&&r.errHandler))throw new Error(o.Z.MISSING_CONFIG_ERROR);c=r.baseURLController,a=r.dashMetrics,s=r.mediaPlayerModel,n=r.errHandler,u=r.errors,t=r.debug.getLogger(e),i=r.requestModifier},initialize:function(){l=bt(d).create({errHandler:n,dashMetrics:a,mediaPlayerModel:s,requestModifier:i,errors:u})},loadInitialization:function(e,r){return new Promise((function(n){var i=null,o=e?c.resolve(e.path):null,a=e?e.range.split("-"):null,s={range:{start:a?parseFloat(a[0]):null,end:a?parseFloat(a[1]):null},request:i,url:o?o.url:void 0,init:!0,mediaType:r};t.info("Start loading initialization."),i=f(s),l.load({request:i,success:function(){n(e)},error:function(){n(e)}}),t.debug("Perform init load: "+s.url)}))},loadSegments:function(e,n,i){return new Promise((function(o){var a=null,s=e?c.resolve(e.path):null,h=s?s.url:void 0;a=f({bytesLoaded:0,bytesToLoad:8192,range:{start:0,end:8192},request:a,url:h,init:!1,mediaType:n}),t.debug("Parsing ebml header"),l.load({request:a,success:function(n){!function(e,n,i,o){if(e&&0!==e.byteLength){var a,s,u,c,h=ji(d).create({data:e}),p=i?i.split("-"):null,m=null,g={url:n,range:{start:p?parseFloat(p[0]):null,end:p?parseFloat(p[1]):null},request:m};for(t.debug("Parse EBML header: "+g.url),h.skipOverElement(r.EBML),h.consumeTag(r.Segment),u=h.getMatroskaCodedNum(),u+=h.getPos(),c=h.getPos();h.moreData()&&!h.consumeTagAndSize(r.Segment.Info,!0);)if(!(h.skipOverElement(r.Segment.SeekHead,!0)||h.skipOverElement(r.Segment.Tracks,!0)||h.skipOverElement(r.Segment.Cues,!0)||h.skipOverElement(r.Void,!0)))throw new Error("no valid top level element found");for(;void 0===a;){var y=h.getMatroskaCodedNum(!0),v=h.getMatroskaCodedNum();y===r.Segment.Info.Duration.tag?a=h[r.Segment.Info.Duration.parse](v):h.setPos(h.getPos()+v)}m=f(g),l.load({request:m,success:function(e){s=function(e,n,i,o){var a,s,l,u,c,f,h,p;for(l=[],c=0,f=(s=function(e){var t,n,i=[],o=ji(d).create({data:e});for(o.consumeTagAndSize(r.Segment.Cues);o.moreData()&&o.consumeTagAndSize(r.Segment.Cues.CuePoint,!0);){for((t={}).CueTime=o.parseTag(r.Segment.Cues.CuePoint.CueTime),t.CueTracks=[];o.moreData()&&o.consumeTag(r.Segment.Cues.CuePoint.CueTrackPositions,!0);){var a=o.getMatroskaCodedNum(),s=o.getPos();if((n={}).Track=o.parseTag(r.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),0===n.Track)throw new Error("Cue track cannot be 0");n.ClusterPosition=o.parseTag(r.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition),t.CueTracks.push(n),o.setPos(s+a)}if(0===t.CueTracks.length)throw new Error("Mandatory cuetrack not found");i.push(t)}if(0===i.length)throw new Error("mandatory cuepoint not found");return i}(e)).length;c<f;c+=1)u=new Ii.Z,a=c<s.length-1?s[c+1].CueTime-s[c].CueTime:o-s[c].CueTime,u.duration=a,u.startTime=s[c].CueTime,u.timescale=1e3,h=s[c].CueTracks[0].ClusterPosition+n,p=c<s.length-1?s[c+1].CueTracks[0].ClusterPosition+n-1:i-1,u.mediaRange=h+"-"+p,l.push(u);return t.debug("Parsed cues: "+l.length+" cues."),l}(e,c,u,a),o(s)},error:function(){t.error("Download Error: Cues "+g.url),o(null)}}),t.debug("Perform cues load: "+g.url+" bytes="+g.range.start+"-"+g.range.end)}else o(null)}(n,h,i,(function(t){o({segments:t,representation:e,error:t?void 0:new E.Z(u.SEGMENT_BASE_LOADER_ERROR_CODE,u.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}))},error:function(){o({representation:e,error:new E.Z(u.SEGMENT_BASE_LOADER_ERROR_CODE,u.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}})}))},reset:function(){l&&(l.abort(),l=null)}},r={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:"getMatroskaUint"},Duration:{tag:17545,required:!0,parse:"getMatroskaFloat"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:!0,parse:"getMatroskaUint"}}}}},Void:{tag:236,required:!0}},e}Ni.__dashjs_factory_name="WebmSegmentBaseLoader";var Li=c.Z.getSingletonFactory(Ni);function Di(e){e=e||{};var t,r,n,i=this.context,o=e.eventBus,a=e.events,s=e.dashMetrics,l=e.mediaPlayerModel,u=e.errHandler,c=e.baseURLController,d=e.debug,f=e.boxParser,h=e.requestModifier,p=e.errors;function m(e){return"webm"===(e?e.split("/")[1]:"").toLowerCase()}return t={initialize:function(){r.initialize(),n.initialize()},getSegmentBaseInitSegment:function(e){return m(e.representation.mimeType)?n.loadInitialization(e.representation,e.mediaType):r.loadInitialization(e.representation,e.mediaType)},getSegmentList:function(e){return m(e.mimeType)?n.loadSegments(e.representation,e.mediaType,e.representation?e.representation.indexRange:null):r.loadSegments(e.representation,e.mediaType,e.representation?e.representation.indexRange:null)},reset:function(){r.reset(),n.reset()}},r=Pi(i).getInstance(),n=Li(i).getInstance(),r.setConfig({baseURLController:c,dashMetrics:s,mediaPlayerModel:l,errHandler:u,eventBus:o,events:a,errors:p,debug:d,boxParser:f,requestModifier:h}),n.setConfig({baseURLController:c,dashMetrics:s,mediaPlayerModel:l,errHandler:u,eventBus:o,events:a,errors:p,debug:d,requestModifier:h}),t}Di.__dashjs_factory_name="SegmentBaseController";var Fi=c.Z.getSingletonFactory(Di),Ui=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=null,this.quality=null,this.fragmentDuration=null,this.mediaInfo=null,this.MSETimeOffset=null},Bi=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=null,this.index=null,this.type=null,this.streamInfo=null,this.representationCount=0,this.labels=null,this.lang=null,this.viewpoint=null,this.viewpointsWithSchemeIdUri=null,this.accessibility=null,this.accessibilitiesWithSchemeIdUri=null,this.audioChannelConfiguration=null,this.audioChannelConfigurationsWithSchemeIdUri=null,this.roles=null,this.rolesWithSchemeIdUri=null,this.codec=null,this.mimeType=null,this.contentProtection=null,this.isText=!1,this.KID=null,this.bitrateList=null,this.isFragmented=null,this.isEmbedded=null,this.selectionPriority=1,this.supplementalProperties={},this.supplementalPropertiesAsArray=[],this.segmentAlignment=!1,this.subSegmentAlignment=!1},Gi=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=null,this.index=null,this.start=NaN,this.duration=NaN,this.manifestInfo=null,this.isLast=!0},zi=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dvrWindowSize=NaN,this.loadedTime=null,this.availableFrom=null,this.minBufferTime=NaN,this.duration=NaN,this.isDynamic=!1,this.maxFragmentDuration=null,this.serviceDescriptions=[],this.protocol=null};function Vi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Hi=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.valid="/"==t[0],this.path=t.split("/").filter((function(e){return 0!==e.length})).map((function(e){var t={name:e},n=e.indexOf("[");if(-1!=n){t.name=e.substring(0,n);var i=e.substring(n+1,e.length-1);r.valid=r.valid&&-1==i.indexOf("[");var o=i.indexOf("=");-1!=o?(t.attribute={name:i.substring(1,o),value:i.substring(o+1)},-1!=["'",'"'].indexOf(t.attribute.value[0])&&(t.attribute.value=t.attribute.value.substring(1,t.attribute.value.length-1))):t.position=parseInt(i,10)-1}return t}))}var t;return(t=[{key:"isValid",value:function(){return this.valid}},{key:"findsElement",value:function(){return!this.findsAttribute()}},{key:"findsAttribute",value:function(){return this.path[this.path.length-1].name.startsWith("@")}},{key:"findsTextReplace",value:function(){return"text()"===this.path[this.path.length-1].name}},{key:"getMpdTarget",value:function(e,t){for(var r=null,n=e,i=1,o="MPD";i<this.path.length&&null!==n;){r=n;var a=this.path[i];if(o=a.name,i!==this.path.length-1||!o.startsWith("@")&&"text()"!==o){var s=r[o+"_asArray"]||[];0===s.length&&r[o]&&s.push(r[o]),a.position?n=s[a.position]||null:a.attribute?function(){var e=a.attribute;n=s.filter((function(t){return t[e.name]==e.value}))[0]||null}():n=s[0]||null}i++}return null===n?null:o.startsWith("@")?{name:o.substring(1),leaf:n,target:n}:"text()"===o?{name:"__text",leaf:n,target:n}:{name:o,leaf:n,target:t?r:n}}}])&&Vi(e.prototype,t),e}();function Wi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Zi=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.action=t,this.xpath=r,this.value=n,this.position=null}var t;return(t=[{key:"getMpdTarget",value:function(e){var t="remove"===this.action||"replace"===this.action||"before"===this.position||"after"===this.position;return this.xpath.getMpdTarget(e,t)}}])&&Wi(e.prototype,t),e}();function qi(){var e,t,r=this.context;return e={getIsPatch:function(e){return e&&e.hasOwnProperty(a.Z.ORIGINAL_MPD_ID)||!1},getPublishTime:function(e){return e&&e.hasOwnProperty(a.Z.PUBLISH_TIME)?new Date(e[a.Z.PUBLISH_TIME]):null},getOriginalPublishTime:function(e){return e&&e.hasOwnProperty(a.Z.ORIGINAL_PUBLISH_TIME)?new Date(e[a.Z.ORIGINAL_PUBLISH_TIME]):null},getMpdId:function(e){return e&&e[a.Z.ORIGINAL_MPD_ID]||null},getPatchOperations:function(e){return e?(e.__children||[]).map((function(e){var r=Object.keys(e)[0];if("add"!==r&&"remove"!==r&&"replace"!==r)return t.warn("Ignoring node of invalid action: ".concat(r)),null;var n=e[r],i=n.sel;if("add"===r&&n.type){if(!n.type.startsWith("@"))return t.warn("Ignoring add action for prefixed namespace declaration: ".concat(n.type,"=").concat(n.__text)),null;i="".concat(i,"/").concat(n.type)}var o=new Hi(i);if(!o.isValid())return t.warn("Ignoring action with invalid selector: ".concat(r," - ").concat(i)),null;var a=null;o.findsAttribute()||o.findsTextReplace()?a=n.__text||"":"remove"!==r&&(a=n.__children.reduce((function(e,t){var r=Object.keys(t)[0];return"#text"!==r&&(e[r]=e[r]||[],e[r].push(t[r])),e}),{}));var s=new Zi(r,o,a);return"add"===r&&(s.position=n.pos),s})).filter((function(e){return!!e})):[]}},t=(0,d.Z)(r).getInstance().getLogger(e),e}qi.__dashjs_factory_name="PatchManifestModel";var Yi=c.Z.getSingletonFactory(qi);function Xi(){var e,t,r,n,i,o,s,l=this.context;function u(e,r,o){var s,l=t.getAdaptationsForType(n[0].mpd.manifest,e,r);if(!l||0===l.length)return null;if(l.length>1&&o){var u=f(o,r);if(i[o.id]&&i[o.id][r])for(var d=0,h=l.length;d<h;d++)if(c(i[o.id][r],u[d]))return l[d];for(var p=0,m=l.length;p<m;p++)if(s=l[p],t.getRolesForAdaptation(s).filter((function(e){return e.value===a.Z.MAIN}))[0])return l[p]}return l[0]}function c(e,t){if(!e||!t)return!1;var r=e.id===t.id,n=e.codec===t.codec,i=e.viewpoint===t.viewpoint,o=JSON.stringify(e.viewpointsWithSchemeIdUri)===JSON.stringify(t.viewpointsWithSchemeIdUri),a=e.lang===t.lang,s=e.roles.toString()===t.roles.toString(),l=JSON.stringify(e.rolesWithSchemeIdUri)===JSON.stringify(t.rolesWithSchemeIdUri),u=e.accessibility.toString()===t.accessibility.toString(),c=JSON.stringify(e.accessibilitiesWithSchemeIdUri)===JSON.stringify(t.accessibilitiesWithSchemeIdUri),d=e.audioChannelConfiguration.toString()===t.audioChannelConfiguration.toString(),f=JSON.stringify(e.audioChannelConfigurationsWithSchemeIdUri)===JSON.stringify(t.audioChannelConfigurationsWithSchemeIdUri);return r&&n&&i&&o&&a&&s&&l&&u&&c&&d&&f}function d(e,r,n,i,a,s){var l,u,c,d,f,h,p=[];if(!i||0===i.length)return[];var m=t.getAdaptationsForPeriod(r);for(d=0,h=i.length;d<h;d++)if(l=i[d],u=b(m[c=t.getIndexForAdaptation(l,e,n.index)]),s){var g=u.accessibility.length;for(f=0;f<g;f++)if(u){var y=u.accessibility[f];if(0===y.indexOf("cea-608:")){var v=y.substring(8).split(";");if("CC"===v[0].substring(0,2))for(f=0;f<v.length;f++)u||(u=b.call(this,m[c])),_(u,v[f].substring(0,3),v[f].substring(4)),p.push(u),u=null;else for(f=0;f<v.length;f++)u||(u=b.call(this,m[c])),_(u,"CC"+(f+1),v[f]),p.push(u),u=null}else 0===y.indexOf("cea-608")&&(_(u,o.CC1,"eng"),p.push(u),u=null)}}else a===o.IMAGE?(u.type=o.IMAGE,p.push(u),u=null):u&&p.push(u);return p}function f(e,r,i){var a=n,s=i,l=[];if(s)E(),a=h(s);else{if(!(n.length>0))return l;s=n[0].mpd.manifest}var u=v(e,a),c=t.getAdaptationsForType(s,e?e.index:null,r);return l=d(s,u,e,c,r),r===o.TEXT&&(c=t.getAdaptationsForType(s,e?e.index:null,o.VIDEO),l=l.concat(d(s,u,e,c,r,!0))),l}function h(e){var r=p(e);return t.getRegularPeriods(r)}function p(e){var r=g(e);return t.getMpd(r)}function m(){n=[],i={}}function g(e){return e||(n.length>0?n[0].mpd.manifest:null)}function y(e){try{var r=v(e.streamInfo,n),i=t.getAdaptationsForPeriod(r);return e&&e.streamInfo&&void 0!==e.streamInfo.id&&i?i[e.index]:null}catch(e){return null}}function v(e,t){for(var r=t.length,n=0;n<r;n++){var i=t[n];if(e&&e.id===i.id)return i}return null}function b(e){if(!e)return null;var r,n,i,o,a,l=new Bi,u=e.period.mpd.manifest.Period_asArray[e.period.index].AdaptationSet_asArray[e.index];if(l.id=e.id,l.index=e.index,l.type=e.type,l.streamInfo=w(e.period),l.representationCount=t.getRepresentationCount(u),l.labels=t.getLabelsForAdaptation(u),l.lang=t.getLanguageForAdaptation(u),l.segmentAlignment=t.getSegmentAlignment(u),l.subSegmentAlignment=t.getSubSegmentAlignment(u),r=t.getViewpointForAdaptation(u),l.viewpoint=r.length?r[0].value:void 0,l.viewpointsWithSchemeIdUri=r,a=t.getAccessibilityForAdaptation(u),l.accessibility=a.map((function(e){var t=e.value,r=t;return e.schemeIdUri&&e.schemeIdUri.search("cea-608")>=0&&void 0!==s&&(r=t?"cea-608:"+t:"cea-608",l.embeddedCaptions=!0),r})),l.accessibilitiesWithSchemeIdUri=a,n=t.getAudioChannelConfigurationForAdaptation(u),l.audioChannelConfiguration=n.map((function(e){return e.value})),l.audioChannelConfigurationsWithSchemeIdUri=n,0===l.audioChannelConfiguration.length&&Array.isArray(u.Representation_asArray)&&u.Representation_asArray.length>0&&(i=t.getAudioChannelConfigurationForRepresentation(u.Representation_asArray[0]),l.audioChannelConfiguration=i.map((function(e){return e.value})),l.audioChannelConfigurationsWithSchemeIdUri=i),o=t.getRolesForAdaptation(u),l.roles=o.map((function(e){return e.value})),l.rolesWithSchemeIdUri=o,l.codec=t.getCodec(u),l.mimeType=t.getMimeType(u),l.contentProtection=t.getContentProtectionData(u),l.bitrateList=t.getBitrateListForAdaptation(u),l.selectionPriority=t.getSelectionPriority(u),l.contentProtection){var c=l.contentProtection.map((function(e){return t.getKID(e)})).filter((function(e){return null!==e}));if(c.length){var d=c[0];l.contentProtection.forEach((function(e){e.keyId=d}))}}if(l.isText=t.getIsText(u),l.supplementalProperties=t.getSupplementalPropertiesForAdaptation(u),(!l.supplementalProperties||0===Object.keys(l.supplementalProperties).length)&&Array.isArray(u.Representation_asArray)&&u.Representation_asArray.length>0){var f=u.Representation_asArray.map((function(e){return t.getSupplementalPropertiesForRepresentation(e)}));f.every((function(e){return JSON.stringify(e)===JSON.stringify(f[0])}))&&(l.supplementalProperties=f[0])}if(l.supplementalPropertiesAsArray=t.getSupplementalPropertiesAsArrayForAdaptation(u),(!l.supplementalPropertiesAsArray||0===l.supplementalPropertiesAsArray.length)&&Array.isArray(u.Representation_asArray)&&u.Representation_asArray.length>0){var h=u.Representation_asArray.map((function(e){return t.getSupplementalPropertiesAsArrayForRepresentation(e)}));h.every((function(e){return JSON.stringify(e)===JSON.stringify(h[0])}))&&(l.supplementalPropertiesAsArray=h[0])}return l.isFragmented=t.getIsFragmented(u),l.isEmbedded=!1,l}function _(e,t,r){e.id=t,e.index=100+parseInt(t.substring(2,3)),e.type=o.TEXT,e.codec="cea-608-in-SEI",e.isEmbedded=!0,e.isFragmented=!1;var n=gr()(r);e.lang=n||r,e.roles=["caption"],e.rolesWithSchemeIdUri=[{schemeIdUri:"urn:mpeg:dash:role:2011",value:"caption"}]}function w(e){var r,n,i=new Gi;return i.id=e.id,i.index=e.index,i.start=e.start,i.duration=e.duration,i.manifestInfo=(r=e.mpd,(n=new zi).dvrWindowSize=r.timeShiftBufferDepth,n.loadedTime=r.manifest.loadedTime,n.availableFrom=r.availabilityStartTime,n.minBufferTime=r.manifest.minBufferTime,n.maxFragmentDuration=r.maxSegmentDuration,n.duration=t.getDuration(r.manifest),n.isDynamic=t.getIsDynamic(r.manifest),n.serviceDescriptions=t.getServiceDescriptions(r.manifest),n.protocol=r.manifest.protocol,n),i.isLast=1===e.mpd.manifest.Period_asArray.length||Math.abs(i.start+i.duration-i.manifestInfo.duration)<1,i}function E(){if(!o)throw new Error("setConfig function has to be called previously")}function x(e){return n.length>0?n[0].mpd.manifest.Period_asArray[e]:null}function S(e,t,r){var n,i,o,a,s;if(e)for(n=e.AdaptationSet_asArray,a=0;a<n.length;a+=1)for(o=n[a].Representation_asArray,s=0;s<o.length;s+=1)if(t===(i=o[s]).id)return r?s:i;return null}return e={getBandwidthForRepresentation:function(e,t){var r;return(r=S(x(t),e))?r.bandwidth:null},getIndexForRepresentation:function(e,t){return function(e,t){var r=S(e,t,!0);return null!==r?r:-1}(x(t),e)},getMaxIndexForBufferType:function(e,r){return function(e,r){var n,i,o,a;if(!e||!r)return-1;for(i=e.AdaptationSet_asArray,a=0;a<i.length;a+=1)if(o=(n=i[a]).Representation_asArray,t.getIsTypeOf(n,r))return o.length;return-1}(x(r),e)},convertRepresentationToRepresentationInfo:function(e){if(e){var r=new Ui,n=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index],i=t.getRepresentationFor(e.index,n);return r.id=e.id,r.quality=e.index,r.bandwidth=t.getBandwidth(i),r.fragmentDuration=e.segmentDuration||(e.segments&&e.segments.length>0?e.segments[0].duration:NaN),r.MSETimeOffset=e.MSETimeOffset,r.mediaInfo=b(e.adaptation),r}return null},getStreamsInfo:function(e,t){var r=[],i=n;if(e&&(E(),i=h(e)),i.length>0){(!t||t>i.length)&&(t=i.length);for(var o=0;o<t;o++)r.push(w(i[o]))}return r},getMediaInfoForType:function(e,r){if(0===n.length||!e)return null;var i=v(e,n);if(!i)return null;var o=t.getAdaptationsForPeriod(i),a=u(e.index,r,e);return a?b(o[t.getIndexForAdaptation(a,n[0].mpd.manifest,e.index)]):null},getAllMediaInfoForType:f,getAdaptationForType:u,getRealAdaptation:function(e,r){var i,o,a=v(e,n);return i=r?r.id:null,n.length>0&&a&&(o=i?t.getAdaptationForId(i,n[0].mpd.manifest,a.index):t.getAdaptationForIndex(r?r.index:null,n[0].mpd.manifest,a.index)),o},getProducerReferenceTimes:function(e,r){var i,o,a=v(e,n);return i=r?r.id:null,n.length>0&&a&&(o=i?t.getAdaptationForId(i,n[0].mpd.manifest,a.index):t.getAdaptationForIndex(r?r.index:null,n[0].mpd.manifest,a.index)),o?t.getProducerReferenceTimesForAdaptation(o):[]},getRealPeriodByIndex:function(e){return t.getRealPeriodForIndex(e,n[0].mpd.manifest)},getEssentialPropertiesForRepresentation:function(e){try{return t.getEssentialPropertiesForRepresentation(e)}catch(e){return[]}},getVoRepresentations:function(e){var r=y(e);return t.getRepresentationsForAdaptation(r)},getEventsFor:function(e,r,i){var o=[];if(n.length>0){var a=n[0].mpd.manifest;if(e instanceof Gi){var s=v(e,n);o=t.getEventsForPeriod(s)}else if(e instanceof Bi){var l=v(i,n);o=t.getEventStreamForAdaptationSet(a,y(e),l)}else if(e instanceof Ui){var u=v(i,n);o=t.getEventStreamForRepresentation(a,r,u)}}return o},getEvent:function(e,t,r,n){try{if(!e||!t||isNaN(r)||!n)return null;var i=e.scheme_id_uri,o=e.value;if(!t[i+"/"+o])return null;var a,s=new _e,l=e.timescale||1,u=n.adaptation.period.start,c=t[i+"/"+o],d=isNaN(n.presentationTimeOffset)?isNaN(c.presentationTimeOffset)?0:c.presentationTimeOffset:n.presentationTimeOffset,f=e.presentation_time_delta/l;a=0===e.version?u+r-d+f:u-d+f;var h=e.event_duration/l,p=e.id,m=e.message_data;return s.eventStream=c,s.eventStream.value=o,s.eventStream.timescale=l,s.duration=h,s.id=p,s.calculatedPresentationTime=a,s.messageData=m,s.presentationTimeDelta=f,s}catch(e){return null}},getMpd:p,setConfig:function(e){e&&(e.constants&&(o=e.constants),e.cea608parser&&(s=e.cea608parser),e.errHandler&&t.setConfig({errHandler:e.errHandler}),e.BASE64&&t.setConfig({BASE64:e.BASE64}))},updatePeriods:function(e){if(!e)return null;E(),n=h(e)},getIsTextTrack:function(e){return t.getIsText(e)},getUTCTimingSources:function(){var e=g();return t.getUTCTimingSources(e)},getSuggestedPresentationDelay:function(){var e=n.length>0?n[0].mpd:null;return t.getSuggestedPresentationDelay(e)},getAvailabilityStartTime:function(e){var r=p(e);return t.getAvailabilityStartTime(r)},getIsTypeOf:function(e,r){return t.getIsTypeOf(e,r)},getIsDynamic:function(e){var r=g(e);return t.getIsDynamic(r)},getDuration:function(e){var r=g(e);return t.getDuration(r)},getRegularPeriods:h,getContentSteering:function(e){return t.getContentSteering(e)},getLocation:function(e){return t.getLocation(e)},getPatchLocation:function(e){var r=t.getPatchLocation(e),n=t.getPublishTime(e);return r&&0!==r.length&&n?r.filter((function(e){return isNaN(e.ttl)||n.getTime()+e.ttl>(new Date).getTime()})):[]},getManifestUpdatePeriod:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.getManifestUpdatePeriod(e,r)},getPublishTime:function(e){return t.getPublishTime(e)},getIsDVB:function(e){return t.hasProfile(e,"urn:dvb:dash:profile:dvb-dash:2014")},getIsPatch:function(e){return r.getIsPatch(e)},getBaseURLsFromElement:function(e){return t.getBaseURLsFromElement(e)},getRepresentationSortFunction:function(){return t.getRepresentationSortFunction()},getCodec:function(e,r,n){return t.getCodec(e,r,n)},getPeriodById:function(e){if(!e||0===n.length)return null;var t=n.filter((function(t){return t.id===e}));return t&&t.length>0?t[0]:null},setCurrentMediaInfo:function(e,t,r){i[e]=i[e]||{},i[e][t]=i[e][t]||{},i[e][t]=r},isPatchValid:function(e,n){var i=t.getId(e),o=r.getMpdId(n),a=t.getPublishTime(e),s=r.getPublishTime(n),l=r.getOriginalPublishTime(n);return!!(i&&o&&i==o&&a&&l&&a.getTime()==l.getTime()&&s&&a.getTime()<s.getTime())},applyPatchToManifest:function(e,t){r.getPatchOperations(t).forEach((function(t){var r=t.getMpdTarget(e);if(null!==r){var n=r.name,i=r.target,o=r.leaf;if(t.xpath.findsAttribute()||"__text"===n)switch(t.action){case"add":case"replace":i[n]=t.value;break;case"remove":delete i[n]}else{var a=(i[n+"_asArray"]||[]).indexOf(o),s="prepend"===t.position||"before"===t.position;if(("remove"===t.action||"replace"===t.action)&&(delete i[n],-1!=a)){var l=i[n+"_asArray"];l.splice(a,1),l.length>1?i[n]=l:1==l.length?i[n]=l[0]:delete i[n+"_asArray"]}"add"!==t.action&&"replace"!==t.action||Object.keys(t.value).forEach((function(e){var r=t.value[e],o=i[e+"_asArray"]||[];if(0===o.length&&i[e]&&o.push(i[e]),0===o.length)o=r;else{var l=o.length;l=e==n&&-1!=a?a+(s?0:1)+("replace"==t.action?-1:0):s?0:o.length,o.splice.apply(o,[l,0].concat(r))}i[e+"_asArray"]=o,i[e]=1==o.length?o[0]:o}))}}}))},areMediaInfosEqual:c,reset:m},t=Ue(l).getInstance(),r=Yi(l).getInstance(),m(),e}Xi.__dashjs_factory_name="DashAdapter";var Ki=c.Z.getSingletonFactory(Xi);function Qi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var $i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t;return t=[{key:"round10",value:function(e,t){return function(e,t,r){return void 0===r||0==+r?Math[e](t):(r=+r,null===(t=+t)||isNaN(t)||"number"!=typeof r||r%1!=0?NaN:(t=t.toString().split("e"),+((t=(t=Math[e](+(t[0]+"e"+(t[1]?+t[1]-r:-r)))).toString().split("e"))[0]+"e"+(t[1]?+t[1]+r:r))))}("round",e,t)}}],t&&Qi(e,t),e}(),Ji=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.TcpList=[],this.HttpList=[],this.RepSwitchList=[],this.BufferLevel=[],this.BufferState=[],this.PlayList=[],this.DroppedFrames=[],this.SchedulingInfo=[],this.DVRInfo=[],this.ManifestUpdate=[],this.RequestsQueue=null,this.DVBErrors=[]},eo=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.t=null,this.mt=null,this.to=null,this.lto=null},to=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.t=null,this.level=null},ro=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.target=null,this.state=s.Z.BUFFER_EMPTY},no=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.time=null,this.range=null,this.manifestInfo=null},io=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.time=null,this.droppedFrames=null};function oo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var ao=function e(){oo(this,e),this.mediaType=null,this.type=null,this.requestTime=null,this.fetchTime=null,this.availabilityStartTime=null,this.presentationStartTime=0,this.clientTimeOffset=0,this.currentTime=null,this.buffered=null,this.latency=0,this.streamInfo=[],this.representationInfo=[]},so=function e(){oo(this,e),this.id=null,this.index=null,this.start=null,this.duration=null},lo=function e(){oo(this,e),this.id=null,this.index=null,this.mediaType=null,this.streamIndex=null,this.presentationTimeOffset=null,this.startNumber=null,this.fragmentInfoType=null},uo=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mediaType=null,this.t=null,this.type=null,this.startTime=null,this.availabilityStartTime=null,this.duration=null,this.quality=null,this.range=null,this.state=null},co=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.loadingRequests=[],this.executedRequests=[]};function fo(e){var t,r,n=(e=e||{}).settings,i=this.context,a=(0,l.Z)(i).getInstance();function c(){a.trigger(u.Z.METRICS_CHANGED)}function d(e){a.trigger(u.Z.METRIC_CHANGED,{mediaType:e}),c()}function f(e,t,r){a.trigger(u.Z.METRIC_UPDATED,{mediaType:e,metric:t,value:r}),d(e)}function h(e,t,r){a.trigger(u.Z.METRIC_ADDED,{mediaType:e,metric:t,value:r}),d(e)}function p(e,t){var n=null;return e?(r.hasOwnProperty(e)?n=r[e]:t||(n=new Ji,r[e]=n),n):n}function m(e,t,r){var i=p(e);null!==i&&(i[t].push(r),i[t].length>n.get().streaming.metrics.maxListDepth&&i[t].shift())}function g(e,t,r){m(e,t,r),h(e,t,r)}return t={clearCurrentMetricsForType:function(e){delete r[e],d(e)},clearAllCurrentMetrics:function(){r={},c()},getMetricsFor:p,addHttpRequest:function e(t,r,n,i,o,a,l,u,c,d,f,h,p,m,y,v,b){var _=new C.w;a&&a!==i&&(e(t,null,n,i,o,null,null,u,c,null,null,null,p,null,null,v,b),_.actualurl=a),_.tcpid=r,_.type=n,_.url=i,_.range=u,_.trequest=c,_.tresponse=d,_.responsecode=h,_.cmsd=b,_._tfinish=f,_._stream=t,_._mediaduration=p,_._quality=o,_._responseHeaders=m,_._serviceLocation=l,_._fileLoaderType=v,y?y.forEach((function(e){!function(e,t,r,n){var i=new C.O;i.s=t,i.d=r,i.b=n,e.trace.push(i),e.interval||(e.interval=0),e.interval+=r}(_,e.s,e.d,e.b)})):(delete _.interval,delete _.trace),g(t,s.Z.HTTP_REQUEST,_)},addRepresentationSwitch:function(e,t,r,n,i){var o=new eo;o.t=t,o.mt=r,o.to=n,i?o.lto=i:delete o.lto,g(e,s.Z.TRACK_SWITCH,o)},addBufferLevel:function(e,t,r){var n=new to;n.t=t,n.level=r,g(e,s.Z.BUFFER_LEVEL,n)},addBufferState:function(e,t,r){var n=new ro;n.target=r,n.state=t,g(e,s.Z.BUFFER_STATE,n)},addDVRInfo:function(e,t,r,n){var i=new no;i.time=t,i.range=n,i.manifestInfo=r,g(e,s.Z.DVR_INFO,i)},addDroppedFrames:function(e,t){var r=new io,n=p(e).DroppedFrames;t&&(r.time=t.creationTime,r.droppedFrames=t.droppedVideoFrames,n.length>0&&n[n.length-1]==r||g(e,s.Z.DROPPED_FRAMES,r))},addSchedulingInfo:function(e,t,r,n,i,o,a,l,u){var c=new uo;c.mediaType=e,c.t=t,c.type=r,c.startTime=n,c.availabilityStartTime=i,c.duration=o,c.quality=a,c.range=l,c.state=u,g(e,s.Z.SCHEDULING_INFO,c)},addRequestsQueue:function(e,t,r){var n=new co;n.loadingRequests=t,n.executedRequests=r,p(e).RequestsQueue=n,h(e,s.Z.REQUESTS_QUEUE,n)},addManifestUpdate:function(e,t,r,n,i,a,l,u,c,d){var f=new ao;f.mediaType=e,f.type=t,f.requestTime=r,f.fetchTime=n,f.availabilityStartTime=i,f.presentationStartTime=a,f.clientTimeOffset=l,f.currentTime=u,f.buffered=c,f.latency=d,m(o.Z.STREAM,s.Z.MANIFEST_UPDATE,f),h(e,s.Z.MANIFEST_UPDATE,f)},updateManifestUpdateInfo:function(e,t){if(e){for(var r in t)e[r]=t[r];f(e.mediaType,s.Z.MANIFEST_UPDATE,e)}},addManifestUpdateStreamInfo:function(e,t,r,n,i){if(e){var o=new so;o.id=t,o.index=r,o.start=n,o.duration=i,e.streamInfo.push(o),f(e.mediaType,s.Z.MANIFEST_UPDATE_STREAM_INFO,e)}},addManifestUpdateRepresentationInfo:function(e,t,r,n,i,o,a,l){if(e&&e.representationInfo){var u=new lo;u.id=t,u.index=r,u.streamIndex=n,u.mediaType=i,u.startNumber=a,u.fragmentInfoType=l,u.presentationTimeOffset=o,e.representationInfo.push(u),f(e.mediaType,s.Z.MANIFEST_UPDATE_TRACK_INFO,e)}},addPlayList:function(e){e.trace&&Array.isArray(e.trace)?e.trace.forEach((function(e){e.hasOwnProperty("subreplevel")&&!e.subreplevel&&delete e.subreplevel})):delete e.trace,g(o.Z.STREAM,s.Z.PLAY_LIST,e)},addDVBErrors:function(e){g(o.Z.STREAM,s.Z.DVB_ERRORS,e)}},r={},t}fo.__dashjs_factory_name="MetricsModel";var ho=c.Z.getSingletonFactory(fo);function po(e){e=e||{};var t,r,n,i,a=this.context,l=e.metricsModel;function u(e){var t=l.getMetricsFor(e,!0);if(!t)return null;var r,n=t.HttpList,i=null;if(!n||n.length<=0)return null;for(r=n.length-1;r>=0;){if(n[r].responsecode){i=n[r];break}r--}return i}function c(e){var t=l.getMetricsFor(e,!0);return t&&t.HttpList?t.HttpList:[]}function d(e,t){if(!e)return null;var r=e[t];return r&&0!==r.length?r[r.length-1]:null}return t={getCurrentRepresentationSwitch:function(e){return d(l.getMetricsFor(e,!0),s.Z.TRACK_SWITCH)},getCurrentBufferState:function(e){return d(l.getMetricsFor(e,!0),s.Z.BUFFER_STATE)},getCurrentBufferLevel:function(e){var t=d(l.getMetricsFor(e,!0),s.Z.BUFFER_LEVEL);return t?$i.round10(t.level/1e3,-3):0},getCurrentHttpRequest:u,getHttpRequests:c,getCurrentDroppedFrames:function(){return d(l.getMetricsFor(o.Z.VIDEO,!0),s.Z.DROPPED_FRAMES)},getCurrentSchedulingInfo:function(e){return d(l.getMetricsFor(e,!0),s.Z.SCHEDULING_INFO)},getCurrentDVRInfo:function(e){return d(e?l.getMetricsFor(e,!0):l.getMetricsFor(o.Z.VIDEO,!0)||l.getMetricsFor(o.Z.AUDIO,!0),s.Z.DVR_INFO)},getCurrentManifestUpdate:function(){return d(l.getMetricsFor(o.Z.STREAM),s.Z.MANIFEST_UPDATE)},getLatestFragmentRequestHeaderValueByID:function(e,t){if(!t)return null;var r={},n=u(e);n&&(r=Be.Z.parseHttpHeaders(n._responseHeaders));var i=r[t.toLowerCase()];return void 0===i?null:i},getLatestMPDRequestHeaderValueByID:function(e){if(!e)return null;var t,r,n,i={};for(n=(t=c(o.Z.STREAM)).length-1;n>=0;n--)if((r=t[n]).type===C.w.MPD_TYPE){i=Be.Z.parseHttpHeaders(r._responseHeaders);break}var a=i[e.toLowerCase()];return void 0===a?null:a},addRepresentationSwitch:function(e,t,r,n,i){l.addRepresentationSwitch(e,t,r,n,i)},addDVRInfo:function(e,t,r,n){l.addDVRInfo(e,t,r,n)},updateManifestUpdateInfo:function(e){var t=this.getCurrentManifestUpdate();l.updateManifestUpdateInfo(t,e)},addManifestUpdateStreamInfo:function(e){if(e){var t=this.getCurrentManifestUpdate();l.addManifestUpdateStreamInfo(t,e.id,e.index,e.start,e.duration)}},addManifestUpdateRepresentationInfo:function(e,t){if(e){var r=this.getCurrentManifestUpdate();l.addManifestUpdateRepresentationInfo(r,e.id,e.index,e.streamIndex,t,e.presentationTimeOffset,e.startNumber,e.fragmentInfoType)}},addManifestUpdate:function(e){l.addManifestUpdate(o.Z.STREAM,e.type,e.requestStartDate,e.requestEndDate)},addHttpRequest:function(e,t,r,n,i,o){l.addHttpRequest(e.mediaType,null,e.type,e.url,e.quality,t,e.serviceLocation||null,e.range||null,e.requestStartDate,e.firstByteDate,e.requestEndDate,r,e.duration,n,i,e.fileLoaderType,o)},addSchedulingInfo:function(e,t){l.addSchedulingInfo(e.mediaType,new Date,e.type,e.startTime,e.availabilityStartTime,e.duration,e.quality,e.range,t)},addRequestsQueue:function(e,t,r){l.addRequestsQueue(e,t,r)},addBufferLevel:function(e,t,r){l.addBufferLevel(e,t,r)},addBufferState:function(e,t,r){l.addBufferState(e,t,r)},addDroppedFrames:function(e){l.addDroppedFrames(o.Z.VIDEO,e)},addPlayList:function(){i&&(l.addPlayList(i),i=null)},addDVBErrors:function(e){l.addDVBErrors(e)},createPlaylistMetrics:function(e,t){(i=new J).start=new Date,i.mstart=e,i.starttype=t},createPlaylistTraceMetrics:function(e,t,i){!0===r&&(r=!1,(n=new ee).representationid=e,n.start=new Date,n.mstart=t,n.playbackspeed=null!==i?i.toString():null)},updatePlayListTraceMetrics:function(e){if(n)for(var t in n)n[t]=e[t]},pushPlayListTraceMetrics:function(e,t){if(!1===r&&i&&n&&n.start){var o=n.start,a=e.getTime()-o.getTime();n.duration=a,n.stopreason=t,i.trace.push(n),r=!0}},clearAllCurrentMetrics:function(){l.clearAllCurrentMetrics()}},l=l||ho(a).getInstance({settings:e.settings}),r=!0,n=null,i=null,t}po.__dashjs_factory_name="DashMetrics";var mo=c.Z.getSingletonFactory(po);function go(){var e,t,r,n,i=this.context,s=(0,l.Z)(i).getInstance(),c=(0,R.Z)(i).getInstance();function d(e){n=e}function h(e,t,r,n){var i,o=t.adaptation.period.mpd,a=o.availabilityStartTime;if(n)i=r&&o.timeShiftBufferDepth!==Number.POSITIVE_INFINITY?new Date(a.getTime()+1e3*(e+o.timeShiftBufferDepth)):o.availabilityEndTime;else if(r){var s=t.availabilityTimeOffset;i=new Date(a.getTime()+1e3*(e-s))}else i=a;return i}function p(e,t){return(e.getTime()-t.mpd.availabilityStartTime.getTime()+1e3*n)/1e3}function m(e,t){return e+(t.adaptation.period.start-t.presentationTimeOffset)}function g(e){var r={start:NaN,end:NaN},n=e[0].getAdapter().getRegularPeriods()[0],i=p(new Date,n);if(!e||0===e.length)return{range:r,now:i};e.forEach((function(e){var n=e.getAdapter(),s=n.getMediaInfoForType(e.getStreamInfo(),o.Z.VIDEO)||n.getMediaInfoForType(e.getStreamInfo(),o.Z.AUDIO),l=n.getVoRepresentations(s)[0],u={start:NaN,end:NaN};if(l)if(l.segmentInfoType===a.Z.SEGMENT_TIMELINE)u=function(e){var r,n,i,o,a=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index],s=t.getRepresentationFor(e.index,a),l=s.SegmentTemplate||s.SegmentList,u=l.SegmentTimeline,c=l.timescale,d=u.S_asArray,f={start:0,end:0},h=d[0].t,p=!isNaN(h),g=p?h:0,y=0;for(p&&(f.start=m(g/c,e)),i=0,o=d.length;i<o;i++)n=0,(r=d[i]).hasOwnProperty("r")&&(n=r.r),y+=r.d*(1+n);return f.end=m((g+y)/c,e),f}(l);else{var c=l.adaptation.period;u.start=c.start,u.end=Math.max(i,c.start+c.duration)}!isNaN(u.start)&&(isNaN(r.start)||r.start>u.start)&&(r.start=u.start),!isNaN(u.end)&&(isNaN(r.end)||r.end<u.end)&&(r.end=u.end)})),r.end=Math.min(i,r.end);var s=v(e,r.end,!0);return r.end=isNaN(s)?r.end:s,r.start=n&&n.mpd&&n.mpd.timeShiftBufferDepth&&!isNaN(n.mpd.timeShiftBufferDepth)&&!isNaN(r.end)?Math.max(r.end-n.mpd.timeShiftBufferDepth,r.start):r.start,r.start=v(e,r.start),{range:r,now:i}}function y(e,t){r=e-t.end}function v(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{for(var n=0,i=!1,o=NaN;!i&&n<e.length;){var a=e[n].getStreamInfo();a.start<=t&&(!isFinite(a.duration)||a.start+a.duration>=t)?(o=t,i=!0):!r&&a.start>t&&(isNaN(o)||a.start<o)?o=a.start:r&&a.start+a.duration<t&&(isNaN(o)||a.start+a.duration>o)&&(o=a.start+a.duration),n+=1}return o}catch(e){return t}}function b(e){void 0===e.offset||isNaN(e.offset)||d(e.offset/1e3)}function _(){n=0,r=0}function w(){s.off(u.Z.UPDATE_TIME_SYNC_OFFSET,b,this),_()}return e={initialize:function(){_(),s.on(u.Z.UPDATE_TIME_SYNC_OFFSET,b,this)},getClientTimeOffset:function(){return n},setClientTimeOffset:d,getClientReferenceTime:function(){return Date.now()-1e3*r+1e3*n},calcAvailabilityStartTimeFromPresentationTime:function(e,t,r){return h(e,t,r)},calcAvailabilityEndTimeFromPresentationTime:function(e,t,r){return h(e,t,r,!0)},calcPresentationTimeFromWallTime:p,calcPresentationTimeFromMediaTime:m,calcPeriodRelativeTimeFromMpdRelativeTime:function(e,t){return t-e.adaptation.period.start},calcMediaTimeFromPresentationTime:function(e,t){return e-t.adaptation.period.start+t.presentationTimeOffset},calcWallTimeForSegment:function(e,t){var r,n,i;return t&&(r=e.representation.adaptation.period.mpd.suggestedPresentationDelay,n=e.presentationStartTime+r,i=new Date(e.availabilityStartTime.getTime()+1e3*n)),i},calcTimeShiftBufferWindow:function(e,t){if(!t)return function(e){var t={start:NaN,end:NaN},r=0,n=NaN;return e.forEach((function(e){var t=e.getStreamInfo();r+=t.duration,(isNaN(n)||t.start<n)&&(n=t.start)})),t.start=n,t.end=n+r,t}(e);if(c.get().streaming.timeShiftBuffer.calcFromSegmentTimeline){var r=g(e);return y(r.now,r.range),r.range}return function(e){var t={start:NaN,end:NaN};if(!e||0===e.length)return t;var r=e[0].getAdapter().getRegularPeriods()[0],n=p(new Date,r),i=r.mpd.timeShiftBufferDepth,o=isNaN(i)?0:n-i;if(t.start=v(e,o),t.end=!isNaN(t.start)&&n<t.start?n:v(e,n,!0),!isNaN(i)&&t.end<n-i&&(t.end=NaN),c.get().streaming.timeShiftBuffer.fallbackToSegmentTimeline){var a=g(e);if(a.range.end<t.start)return s.trigger(f.Z.CONFORMANCE_VIOLATION,{level:rr.LEVELS.WARNING,event:rr.EVENTS.INVALID_DVR_WINDOW}),y(a.now,a.range),a.range}return t}(e)},reset:w},t=Ue(i).getInstance(),w(),e}go.__dashjs_factory_name="TimelineConverter";var yo=c.Z.getSingletonFactory(go),vo=r(4593),bo=r(6934);function _o(e){return _o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_o(e)}function wo(e,t){return wo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},wo(e,t)}function Eo(e,t){return!t||"object"!==_o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xo(e){return xo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},xo(e)}var So=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wo(e,t)}(i,e);var t,r,n=(t=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=xo(t);if(r){var i=xo(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return Eo(this,e)});function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=n.call(this)).captionData=null,e.label=null,e.defaultTrack=!1,e.kind=null,e.isFragmented=!1,e.isEmbedded=!1,e.isTTML=null,e}return i}(Bi),To=r(2295);function Ao(){var e=0;function t(e){for(var t="",r=0;r<e.length;++r)t+=e[r].uchar;return t.length-t.replace(/^\s+/,"").length}function r(e){return"left: "+3.125*e.x+"%; top: "+6.66*e.y1+"%; width: "+(100-3.125*e.x)+"%; height: "+6.66*Math.max(e.y2-1-e.y1,1)+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;"}function n(e){return"red"===e?"rgb(255, 0, 0)":"green"===e?"rgb(0, 255, 0)":"blue"===e?"rgb(0, 0, 255)":"cyan"===e?"rgb(0, 255, 255)":"magenta"===e?"rgb(255, 0, 255)":"yellow"===e?"rgb(255, 255, 0)":"white"===e?"rgb(255, 255, 255)":"black"===e?"rgb(0, 0, 0)":e}function i(e,t){var r=e.videoHeight/15;return t?"font-size: "+r+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(t.foreground?n(t.foreground):"rgb(255, 255, 255)")+"; font-style: "+(t.italics?"italic":"normal")+"; text-decoration: "+(t.underline?"underline":"none")+"; white-space: pre; background-color: "+(t.background?n(t.background):"transparent")+";":"font-size: "+r+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}function o(e){return e.replace(/^\s+/g,"")}function a(e){return e.replace(/\s+$/g,"")}return{createHTMLCaptionsFromScreen:function(n,s,l,u){var c,d,f=null,h=!1,p=-1,m={start:s,end:l,spans:[]},g="style_cea608_white_black",y={},v={},b=[];for(c=0;c<15;++c){var _=u.rows[c],w="",E=null;if(!1===_.isEmpty()){var x=t(_.chars);null===f&&(f={x:x,y1:c,y2:c+1,p:[]}),x!==p&&h&&(f.p.push(m),m={start:s,end:l,spans:[]},f.y2=c,f.name="region_"+f.x+"_"+f.y1+"_"+f.y2,!1===y.hasOwnProperty(f.name)?(b.push(f),y[f.name]=f):y[f.name].p.contat(f.p),f={x:x,y1:c,y2:c+1,p:[]});for(var S=0;S<_.chars.length;++S){var T=_.chars[S],A=T.penState;if(null===E||!A.equals(E)){w.trim().length>0&&(m.spans.push({name:g,line:w,row:c}),w="");var M="style_cea608_"+A.foreground+"_"+A.background;A.underline&&(M+="_underline"),A.italics&&(M+="_italics"),v.hasOwnProperty(M)||(v[M]=JSON.parse(JSON.stringify(A))),E=A,g=M}w+=T.uchar}w.trim().length>0&&m.spans.push({name:g,line:w,row:c}),h=!0,p=x}else h=!1,p=-1,f&&(f.p.push(m),m={start:s,end:l,spans:[]},f.y2=c,f.name="region_"+f.x+"_"+f.y1+"_"+f.y2,!1===y.hasOwnProperty(f.name)?(b.push(f),y[f.name]=f):y[f.name].p.contat(f.p),f=null)}f&&(f.p.push(m),f.y2=c+1,f.name="region_"+f.x+"_"+f.y1+"_"+f.y2,!1===y.hasOwnProperty(f.name)?(b.push(f),y[f.name]=f):y[f.name].p.contat(f.p),f=null);var R=[];for(c=0;c<b.length;++c){var C=b[c],I="sub_cea608_"+e++,k=document.createElement("div");k.id=I;var P=r(C);k.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+P;var O=document.createElement("div");O.className="paragraph bodyStyle",O.style.cssText=i(n);var j=document.createElement("div");j.className="cueUniWrapper",j.style.cssText="unicode-bidi: normal; direction: ltr;";for(var N=0;N<C.p.length;++N){var L=C.p[N],D=0;for(d=0;d<L.spans.length;++d){var F=L.spans[d];if(F.line.length>0){if(0!==d&&D!=F.row){var U=document.createElement("br");U.className="lineBreak",j.appendChild(U)}var B=!1;D===F.row&&(B=!0),D=F.row;var G=v[F.name],z=document.createElement("span");z.className="spanPadding "+F.name+" customSpanColor",z.style.cssText=i(n,G),0!==d&&B?d===L.spans.length-1?z.textContent=a(F.line):z.textContent=F.line:L.spans.length>1&&d<L.spans.length-1&&F.row===L.spans[d+1].row?z.textContent=o(F.line):z.textContent=F.line.trim(),j.appendChild(z)}}}O.appendChild(j),k.appendChild(O);var V={bodyStyle:["%",90]};for(var H in v)v.hasOwnProperty(H)&&(V[H]=["%",90]);R.push({type:"html",start:s,end:l,cueHTMLElement:k,cueID:I,cellResolution:[32,15],isFromCEA608:!0,fontSize:V,lineHeight:{},linePadding:{}})}return R}}}Ao.__dashjs_factory_name="EmbeddedTextHtmlRender";var Mo=c.Z.getSingletonFactory(Ao);function Ro(e){var t,r,n,a,s,c,f,h,p,m,g,y,v,b,_,w,x,S=e.errHandler,T=e.manifestModel,A=e.mediaController,R=e.videoModel,I=e.textTracks,k=e.vttParser,P=e.vttCustomRenderingParser,O=e.ttmlParser,j=e.streamInfo,N=e.settings,L=this.context,D=(0,l.Z)(L).getInstance(),F=!1;function U(){c=null,h=NaN,p=[],m=null,f=!1,s=[],a=null}function B(e){var t=new So;for(var r in e)t[r]=e[r];t.labels=e.labels,t.defaultTrack=function(e){var t=!1;return y.length>1&&e.isEmbedded?t=e.id&&e.id===o.Z.CC1:1===y.length?e.id&&"string"==typeof e.id&&"CC"===e.id.substring(0,2)&&(t=!0):0===y.length&&(t=e.index===s[0].index),t}(e),t.isFragmented=e.isFragmented,t.isEmbedded=!!e.isEmbedded,t.isTTML=function(e){return e.codec&&e.codec.search(o.Z.STPP)>=0||e.mimeType&&e.mimeType.search(o.Z.TTML)>=0}(e),t.kind=function(e,t){var r=e.roles&&e.roles.length>0?t[e.roles[0]]:t.caption;return r===t.caption||r===t.subtitle?r:t.caption}(e,{subtitle:"subtitles",caption:"captions"}),I.addTextTrack(t)}function G(e){var t=e.chunk;t.mediaInfo.embeddedCaptions&&V(t.bytes,t)}function z(e){g=e}function V(e,s){var l=s.mediaInfo,u=l.type,d=l.mimeType,p=l.codec||d;p?-1!==l.codec.indexOf("application/mp4")?function(e,i,s){var l;if("InitializationSegment"===i.segmentType)f=!0,h=n.getMediaTimescaleFromMoov(e);else{if(!f)return;(l=n.getSamplesInfo(e).sampleList).length>0&&(m=l[0].cts-i.start*h),s.search(o.Z.STPP)>=0?function(e,n,i){var s,l;for(a=null!==a?a:Z(i),s=0;s<n.length;s++){var u=n[s],d=u.cts,f=W(),p=f+d/h,m=p+u.duration/h;t.buffered.add(p,m);var y=new DataView(e,u.offset,u.subSizes[0]),v=bo.Utils.dataViewToString(y,o.Z.UTF8),b=[],_=u.offset+u.subSizes[0];for(l=1;l<u.subSizes.length;l++){var w=new Uint8Array(e,_,u.subSizes[l]),E=String.fromCharCode.apply(null,w);b.push(E),_+=u.subSizes[l]}try{var x=T.getValue().ttmlTimeIsRelative?d/h:0,S=a.parse(v,x,d/h,(d+u.duration)/h,b);I.addCaptions(g,f,S)}catch(e){c.removeExecutedRequestsBeforeTime(),this.remove(),r.error("TTML parser error: "+e.message)}}}(e,l,s):function(e,n){var i,o,a,s=[];for(i=0;i<n.length;i++){var l=n[i];l.cts-=m;var u=W()+l.cts/h,c=u+l.duration/h;t.buffered.add(u,c);var d=e.slice(l.offset,l.offset+l.size),f=bo.parseBuffer(d);for(o=0;o<f.boxes.length;o++){var p=f.boxes[o];if(r.debug("VTT box1: "+p.type),"vtte"!==p.type&&"vttc"===p.type){r.debug("VTT vttc boxes.length = "+p.boxes.length);var y={styles:{}};for(a=0;a<p.boxes.length;a++){var v=p.boxes[a];if(r.debug("VTT box2: "+v.type),"payl"===v.type)y.start=l.cts/h,y.end=(l.cts+l.duration)/h,y.data=v.cue_text;else if("sttg"===v.type&&v.settings&&""!==v.settings)try{var b=v.settings.split(" ");y.styles=k.getCaptionStyles(b)}catch(e){}}y&&y.data&&(s.push(y),r.debug("VTT  ".concat(y.start," - ").concat(y.end," :  ").concat(y.data)))}}}s.length>0&&I.addCaptions(g,0,s)}(e,l)}}(e,s,p):u===o.Z.VIDEO?function(e,t){var o,a;if(t.segmentType===C.w.INIT_SEGMENT_TYPE)0===v&&(v=n.getMediaTimescaleFromMoov(e));else if(t.segmentType===C.w.MEDIA_SEGMENT_TYPE){if(0===v)return void r.warn("CEA-608: No timescale for embeddedTextTrack yet");var s=(a=n.getSamplesInfo(e)).lastSequenceNumber,l=Math.trunc(t.start),u=Math.trunc(t.end);if(w[0]||w[1]||function(){for(var e,t=0;t<y.length;t++){if(-1===(e=I.getTrackIdxForId(y[t].id)))return void r.warn("CEA-608: data before track is ready.");var n=H(e);w[t]=new(i().Cea608Parser)(t+1,{newCue:n},null)}}(),v){if(function(e,t,r,n,i){return null!==e&&null!==t&&null!==n&&null!==i&&(t===e?n!==i:t!==e+r)}(b,s,a.numSequences,_,l))for(o=0;o<w.length;o++)w[o]&&w[o].reset();for(var c=function(e,t){if(0===t.length)return null;for(var r={splits:[],fields:[[],[]]},n=new DataView(e),o=0;o<t.length;o++)for(var a=t[o],s=i().findCea608Nalus(n,a.offset,a.size),l=null,u=0,c=0;c<s.length;c++)for(var d=i().extractCea608DataFromRange(n,s[c]),f=0;f<2;f++)if(d[f].length>0){a.cts!==l?u=0:u+=1;var h=W();r.fields[f].push([a.cts+h*v,d[f],u]),l=a.cts}return r.fields.forEach((function(e){e.sort((function(e,t){return e[0]===t[0]?e[2]-t[2]:e[0]-t[0]}))})),r}(e,a.sampleList),d=0;d<w.length;d++){var f=c.fields[d],h=w[d];if(h)for(o=0;o<f.length;o++)h.addData(f[o][0]/v,f[o][1])}b=s,_=u}}}(e,s):function(e,r,n){var i,a,s=new DataView(e,0,e.byteLength);a=bo.Utils.dataViewToString(s,o.Z.UTF8);try{i=Z(n).parse(a,0),I.addCaptions(I.getCurrentTrackIdx(),0,i),t.buffered&&t.buffered.add(r.start,r.end)}catch(e){S.error(new E.Z(M.TIMED_TEXT_ERROR_ID_PARSE_CODE,M.TIMED_TEXT_ERROR_MESSAGE_PARSE+e.message,a))}}(e,s,p):r.error("No text type defined")}function H(e){return function(t,r,n){var i;(i=R.getTTMLRenderingDiv()?x.createHTMLCaptionsFromScreen(R.getElement(),t,r,n):[{start:t,end:r,data:n.getDisplayText(),styles:{}}])&&I.addCaptions(e,0,i)}}function W(){return isNaN(t.timestampOffset)?0:t.timestampOffset}function Z(e){var t;return e.search(o.Z.VTT)>=0?t=N.get().streaming.text.webvtt.customRenderingEnabled&&P?P:k:(e.search(o.Z.TTML)>=0||e.search(o.Z.STPP)>=0)&&(t=O),t}function q(e){y.forEach((function(t){var r=I.getTrackIdxForId(t.id);r>=0&&I.deleteCuesFromTrackIdx(r,e.from,e.to)}))}return t={initialize:function(){F||(y=[],g=null,v=0,w=[],b=null,_=null,F=!0,x=Mo(L).getInstance(),D.on(u.Z.VIDEO_CHUNK_RECEIVED,G,t),D.on(u.Z.BUFFER_CLEARED,q,t))},addMediaInfos:function(e,r,n){if(s=s.concat(r),e===o.Z.TEXT&&r[0].isFragmented&&!r[0].isEmbedded){c=n,t.buffered=(0,To.Z)(L).create(),p=A.getTracksFor(o.Z.TEXT,j.id).filter((function(e){return e.isFragmented}));for(var i=A.getCurrentTrackFor(o.Z.TEXT,j.id),a=0;a<p.length;a++)if(p[a]===i){z(a);break}}for(var l=0;l<r.length;l++)B(r[l])},resetMediaInfos:function(){s=[]},getStreamId:function(){return j.id},append:V,abort:function(){},addEmbeddedTrack:function(e){if(F&&e)if(e.id===o.Z.CC1||e.id===o.Z.CC3){for(var t=0;t<y.length;t++)if(y[t].id===e.id)return;y.push(e)}else r.warn("Embedded track "+e.id+" not supported!")},resetEmbedded:function(){D.off(u.Z.VIDEO_CHUNK_RECEIVED,G,t),D.off(u.Z.BUFFER_CLEARED,q,t),I&&I.deleteAllTextTracks(),F=!1,y=[],w=[null,null],b=null,_=null},getConfig:function(){return{fragmentModel:c,fragmentedTracks:p,videoModel:R}},setCurrentFragmentedTrackIdx:z,remove:function(e,r){void 0===e&&e===r&&(e=t.buffered.start(0),r=t.buffered.end(t.buffered.length-1)),t.buffered.remove(e,r),I.deleteCuesFromTrackIdx(g,e,r)},reset:function(){U(),s=[],n=null}},r=(0,d.Z)(L).getInstance().getLogger(t),n=(0,Nt.Z)(L).getInstance(),U(),t}Ro.__dashjs_factory_name="TextSourceBuffer";var Co=c.Z.getClassFactory(Ro),Io=r(4403);function ko(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Po=["text","align","fontSize","id","isd","line","lineAlign","lineHeight","linePadding","position","positionAlign","region","size","snapToLines","vertical"];function Oo(e){var t,r,n,i,a,s,c,h,p,m,g,y,v,b,_,w,E,x,S=this.context,T=(0,l.Z)(S).getInstance(),A=e.videoModel,M=e.streamInfo,R=e.settings;function C(e,t,r,n,i,o){var a=0,s=0;e/t>r/n?a=(s=t)/n*r:s=(a=e)/r*n;var l,u,c=0,d=0;return a/s>i?(d=s,c=s*i):(c=a,d=a/i),l=(e-c)/2,u=(t-d)/2,o?{x:l+.1*c,y:u+.1*d,w:.8*c,h:.8*d}:{x:l,y:u,w:c,h:d}}function I(e,t){var r=A.getClientWidth(),n=A.getClientHeight(),i=A.getVideoWidth(),o=A.getVideoHeight(),a=A.getVideoRelativeOffsetTop(),s=A.getVideoRelativeOffsetLeft();if(0!==i&&0!==o){var l=i/o,u=!1;e.isFromCEA608&&(l=3.5/3,u=!0);var d=C.call(this,r,n,i,o,l,u),y=d.w,v=d.h,w=d.x,x=d.y;if(y!=p||v!=m||w!=c||x!=h||t){if(c=w+s,h=x+a,p=y,m=v,g){var S=g.style;S&&(S.left=c+"px",S.top=h+"px",S.width=p+"px",S.height=m+"px",S.zIndex=b&&document[b]||_?E:null,T.trigger(f.Z.CAPTION_CONTAINER_RESIZE))}var M=e.activeCues;if(M)for(var R=M.length,I=0;I<R;++I){var k=M[I];k.scaleCue(k)}}}}function k(e){var t,r,n,i,o,a=p,s=m;if(e.cellResolution){var l=[a/e.cellResolution[0],s/e.cellResolution[1]];if(e.linePadding)for(t in e.linePadding)if(e.linePadding.hasOwnProperty(t)){r=(e.linePadding[t]*l[0]).toString();for(var u=document.getElementsByClassName("spanPadding"),c=0;c<u.length;c++)u[c].style.cssText=u[c].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+r),u[c].style.cssText=u[c].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+r)}if(e.fontSize){for(t in e.fontSize)if(e.fontSize.hasOwnProperty(t)){"%"===e.fontSize[t][0]?n=e.fontSize[t][1]/100:"c"===e.fontSize[t][0]&&(n=e.fontSize[t][1]),r=(n*l[1]).toString(),o="defaultFontSize"!==t?document.getElementsByClassName(t):document.getElementsByClassName("paragraph");for(var d=0;d<o.length;d++)o[d].style.cssText=o[d].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+r)}if(e.lineHeight)for(t in e.lineHeight)if(e.lineHeight.hasOwnProperty(t)){"%"===e.lineHeight[t][0]?i=e.lineHeight[t][1]/100:"c"===e.fontSize[t][0]&&(i=e.lineHeight[t][1]),r=(i*l[1]).toString(),o=document.getElementsByClassName(t);for(var f=0;f<o.length;f++)o[f].style.cssText=o[f].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+r)}}}if(e.isd){var h=document.getElementById(e.cueID);h&&g.removeChild(h),O(e)}}function P(e,t){var r=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/,n=/^#(.*)$/;if(r.test(t)){var i=r.exec(t),o=parseInt(i[4],10)-1;return"data:image/png;base64,"+btoa(e.images[o])}if(n.test(t)){var a=n.exec(t)[1];return"data:image/png;base64,"+e.embeddedImages[a]}return t}function O(e){if(g){var t=document.createElement("div");g.appendChild(t),w=(0,Io.renderHTML)(e.isd,t,(function(t){return P(e,t)}),g.clientHeight,g.clientWidth,!1,(function(e){r.info("renderCaption :",e)}),w,!0),t.id=e.cueID,T.trigger(f.Z.CAPTION_RENDERED,{captionDiv:t,currentTrackIdx:s})}}function j(e,t){if(!R.get().streaming.text.extendSegmentedCues)return!1;if(!t.cues||0===t.cues.length)return!1;var r=t.cues[t.cues.length-1];return!(r.endTime<e.startTime||!function(e,t,r){for(var n=0;n<r.length;n++){var i=r[n];if(JSON.stringify(e[i])!==JSON.stringify(t[i]))return!1}return!0}(r,e,Po)||(r.endTime=Math.max(r.endTime,e.endTime),0))}function N(e,t){t&&t.forEach((function(t){t.kind&&"image"===t.kind&&(t.src=P(e,t.src)),N(e,t.contents)}))}function L(e,t,n){var i=G(e);if(i&&Array.isArray(n)&&0!==n.length)for(var o=0;o<n.length;o++){var a=void 0,s=n[o];i.cellResolution=s.cellResolution,i.isFromCEA608=s.isFromCEA608,isNaN(s.start)||isNaN(s.end)||(a="html"===s.type&&g?D(s,t,i):s.data?F(s,t,i):null);try{if(a){H(i,a)||(R.get().streaming.text.webvtt.customRenderingEnabled?(i.manualCueList||(i.manualCueList=[]),i.manualCueList.push(a)):j(a,i)||i.addCue(a));var l=R.get().streaming.buffer.bufferToKeep;Z(i,0,A.getTime()-l)}else r.error("Impossible to display subtitles. You might have missed setting a TTML rendering div via player.attachTTMLRenderingDiv(TTMLRenderingDiv)")}catch(e){throw q(i),i.addCue(a),e}}}function D(e,t,i){var a=this,l=new n(e.start+t,e.end+t,"");return l.cueHTMLElement=e.cueHTMLElement,l.isd=e.isd,l.images=e.images,l.embeddedImages=e.embeddedImages,l.cueID=e.cueID,l.scaleCue=k.bind(a),l.cellResolution=e.cellResolution,l.lineHeight=e.lineHeight,l.linePadding=e.linePadding,l.fontSize=e.fontSize,g.style.left=c+"px",g.style.top=h+"px",g.style.width=p+"px",g.style.height=m+"px",l.isd&&N(l,l.isd.contents),l.onenter=function(){i.mode===o.Z.TEXT_SHOWING&&(this.isd?(O(this),r.debug("Cue enter id:"+this.cueID)):(g.appendChild(this.cueHTMLElement),k.call(a,this),T.trigger(f.Z.CAPTION_RENDERED,{captionDiv:this.cueHTMLElement,currentTrackIdx:s})))},l.onexit=function(){if(g)for(var e=g.childNodes,t=0;t<e.length;++t)e[t].id===this.cueID&&(r.debug("Cue exit id:"+e[t].id),g.removeChild(e[t]),--t)},l}function F(e,t,i){var a=new n(e.start-t,e.end-t,e.data);if(a.cueID="".concat(a.startTime,"_").concat(a.endTime),a.isActive=!1,e.styles)try{void 0!==e.styles.align&&"align"in a&&(a.align=e.styles.align),void 0!==e.styles.line&&"line"in a&&(a.line=e.styles.line),void 0!==e.styles.snapToLines&&"snapToLines"in a&&(a.snapToLines=e.styles.snapToLines),void 0!==e.styles.position&&"position"in a&&(a.position=e.styles.position),void 0!==e.styles.size&&"size"in a&&(a.size=e.styles.size)}catch(e){r.error(e)}return a.onenter=function(){i.mode===o.Z.TEXT_SHOWING&&T.trigger(f.Z.CAPTION_RENDERED,{currentTrackIdx:s})},a}function U(e){if(y)for(var t=y.childNodes,r=0;r<t.length;++r)t[r].id===e.cueID&&(y.removeChild(t[r]),--r)}function B(){var e,t=[],r=function(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return ko(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ko(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}(A.getTextTracks());try{for(r.s();!(e=r.n()).done;){var n=e.value;n.manualMode===o.Z.TEXT_SHOWING&&t.push(n)}}catch(e){r.e(e)}finally{r.f()}return t}function G(e){return e>=0&&i[e]?A.getTextTrack(i[e].kind,i[e].id,i[e].lang,i[e].isTTML,i[e].isEmbedded):null}function z(e){var t=this;if(e!==s){var r=G(s=e);V.call(this,r),v&&(clearInterval(v),v=null),r&&"html"===r.renderingType&&(I.call(this,r,!0),window.ResizeObserver?(x=new window.ResizeObserver((function(){I.call(t,r,!0)}))).observe(A.getElement()):v=setInterval(I.bind(this,r),500))}}function V(e){K.call(this),e&&"html"===e.renderingType?Y.call(this):X.call(this)}function H(e,t){if(!e.cues)return!1;for(var r=0;r<e.cues.length;r++)if(e.cues[r].startTime===t.startTime&&e.cues[r].endTime===t.endTime)return!0;return!1}function W(e,t,r){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return!!e&&(isNaN(t)||(n?e.startTime:e.endTime)>=t)&&(isNaN(r)||(n?e.endTime:e.startTime)<=r)}function Z(e,t,r){var n,i;if(!(r<t)&&e&&(e.cues||e.manualCueList)){var o=e.cues&&e.cues.length>0?"native":"custom",a="native"===o?e.cues:e.manualCueList;if(!a||0===a.length)return;for(var s=a.length-1;s>=0;s--)!W(a[s],t,r,!0)||(n=a[s],i=A.getTime(),n.startTime>=i&&n.endTime<=i)||("native"===o?e.removeCue(a[s]):(U(a[s]),delete e.manualCueList[s]))}}function q(e,t,r){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e&&(e.cues||e.manualCueList)){var i=e.cues&&e.cues.length>0?"native":"custom",o="native"===i?e.cues:e.manualCueList;if(!o||0===o.length)return;for(var a=o.length-1;a>=0;a--)W(o[a],t,r,n)&&("native"===i?(o[a].onexit&&o[a].onexit(),e.removeCue(o[a])):(U(o[a]),delete e.manualCueList[a]))}}function Y(){var e=document.getElementById("native-cue-style");if(!e){(e=document.createElement("style")).id="native-cue-style",document.head.appendChild(e);var t=e.sheet,n=A.getElement();try{n&&(n.id?t.insertRule("#"+n.id+"::cue {background: transparent}",0):0!==n.classList.length?t.insertRule("."+n.className+"::cue {background: transparent}",0):t.insertRule("video::cue {background: transparent}",0))}catch(e){r.info(""+e.message)}}}function X(){var e=document.getElementById("native-cue-style");e&&document.head.removeChild(e)}function K(){if(g)for(;g.firstChild;)g.removeChild(g.firstChild)}return t={initialize:function(){"undefined"!=typeof window&&"undefined"!=typeof navigator&&(n=window.VTTCue||window.TextTrackCue,i=[],a=[],s=-1,c=0,h=0,p=0,m=0,g=null,y=null,v=null,_=!1,E=2147483647,w=null,void 0!==document.fullscreenElement?b="fullscreenElement":void 0!==document.webkitIsFullScreen?b="webkitIsFullScreen":document.msFullscreenElement?b="msFullscreenElement":document.mozFullScreen&&(b="mozFullScreen"))},getStreamId:function(){return M.id},addTextTrack:function(e){i.push(e)},addCaptions:L,createTracks:function(){i.sort((function(e,t){return e.index-t.index})),g=A.getTTMLRenderingDiv(),y=A.getVttRenderingDiv();for(var e,t,r,n,l,c,d=-1,h=0;h<i.length;h++){var p=(t=(e=i[h]).kind,r=void 0!==e.id?e.id:e.lang,n=e.lang,l=e.isTTML,c=e.isEmbedded,A.addTextTrack(t,r,n,l,c));a.push(p),i[h].defaultTrack&&(p.default=!0,d=h);var m=G(h);m&&(m.mode=o.Z.TEXT_SHOWING,g&&(i[h].isTTML||i[h].isEmbedded)?m.renderingType="html":m.renderingType="default"),L(h,0,i[h].captionData),T.trigger(f.Z.TEXT_TRACK_ADDED)}if(z.call(this,d),d>=0){T.on(f.Z.PLAYBACK_METADATA_LOADED,(function e(){var t=G(d);t&&"html"===t.renderingType&&I.call(this,t,!0),T.off(f.Z.PLAYBACK_METADATA_LOADED,e,this)}),this);for(var v=0;v<i.length;v++){var b=G(v);b&&(b.mode=v===d?o.Z.TEXT_SHOWING:o.Z.TEXT_HIDDEN,b.manualMode=v===d?o.Z.TEXT_SHOWING:o.Z.TEXT_HIDDEN)}}T.trigger(u.Z.TEXT_TRACKS_QUEUE_INITIALIZED,{index:s,tracks:i,streamId:M.id})},getCurrentTrackIdx:function(){return s},setCurrentTrackIdx:z,getTrackIdxForId:function(e){for(var t=-1,r=0;r<i.length;r++)if(i[r].id===e){t=r;break}return t},getCurrentTrackInfo:function(){return i[s]},setModeForTrackIdx:function(e,t){var r=G(e);r&&r.mode!==t&&(r.mode=t),r&&r.manualMode!==t&&(r.manualMode=t)},deleteCuesFromTrackIdx:function(e,t,r){var n=G(e);n&&q(n,t,r)},deleteAllTextTracks:function(){for(var e=a?a.length:0,t=0;t<e;t++){var r=G(t);r&&q.call(this,r,M.start,M.start+M.duration,!1)}a=[],i=[],v&&(clearInterval(v),v=null),x&&A&&(x.unobserve(A.getElement()),x=null),s=-1,K.call(this)},deleteTextTrack:function(e){A.removeChild(a[e]),a.splice(e,1)},manualCueProcessing:function(e){var t=B();if(t&&t.length>0){var r=t[0].manualCueList;r&&r.length>0&&r.forEach((function(t){t.startTime<=e&&t.endTime>=e&&!t.isActive?(t.isActive=!0,WebVTT.processCues(window,[t],y,t.cueID)):t.isActive&&(t.startTime>e||t.endTime<e)&&(t.isActive=!1,U(t))}))}},disableManualTracks:function(){var e=B();if(e&&e.length>0){var t=e[0].manualCueList;t&&t.length>0&&t.forEach((function(e){if(e.isActive&&(e.isActive=!1,y))for(var t=y.childNodes,r=0;r<t.length;++r)t[r].id===e.cueID&&(y.removeChild(t[r]),--r)}))}}},r=(0,d.Z)(S).getInstance().getLogger(t),t}Oo.__dashjs_factory_name="TextTracks";var jo=c.Z.getClassFactory(Oo);function No(){var e,t,r,n,i,o,a=this.context;function s(e){var t=e.split(":"),r=t.length-1;return e=60*parseInt(t[r-1],10)+parseFloat(t[r]),2===r&&(e+=3600*parseInt(t[0],10)),e}function l(e){var t=e.split(n),r=t[1].split(o);return r.shift(),t[1]=r[0],r.shift(),{cuePoints:t,styles:u(r)}}function u(e){var t={};return e.forEach((function(e){if(e.split(/:/).length>1){var r=e.split(/:/)[1],n=!1;r&&-1!=r.search(/%/)&&(n=!0,r=parseInt(r.replace(/%/,""),10)),(e.match(/align/)||e.match(/A/))&&(t.align=r),(e.match(/line/)||e.match(/L/))&&(t.line="auto"===r?r:parseInt(r,10),n&&(t.snapToLines=!1)),(e.match(/position/)||e.match(/P/))&&(t.position=r),(e.match(/size/)||e.match(/S/))&&(t.size=r)}})),t}function c(e,t){for(var r,i=t,o="",a="";""!==e[i]&&i<e.length;)i++;if((r=i-t)>1)for(var s=0;s<r;s++){if((a=e[t+s]).match(n)){o="";break}o+=a,s!==r-1&&(o+="\n")}else(a=e[t]).match(n)||(o=a);return o}return e={parse:function(e){var o,a,u=[];if(!e)return u;o=(e=e.split(r)).length,a=-1;for(var d=0;d<o;d++){var f=e[d];if(f.length>0&&"WEBVTT"!==f&&f.match(n)){var h=l(f),p=h.cuePoints,m=h.styles,g=c(e,d+1),y=s(p[0].replace(i,"")),v=s(p[1].replace(i,""));!isNaN(y)&&!isNaN(v)&&y>=a&&v>y?""!==g?(a=y,u.push({start:y,end:v,data:g,styles:m})):t.error("Skipping cue due to empty/malformed cue text"):t.error("Skipping cue due to incorrect cue timing")}}return u},getCaptionStyles:u},t=(0,d.Z)(a).getInstance().getLogger(e),r=/(?:\r\n|\r|\n)/gm,n=/-->/,i=/(^[\s]+|[\s]+$)/g,o=/\s\b/g,e}No.__dashjs_factory_name="VTTParser";var Lo=c.Z.getSingletonFactory(No);function Do(){var e,t;return e={parse:function(e){var r=[];return t.oncue=function(e){e.start=e.startTime,e.end=e.endTime,e.data=e.text,e.styles={align:e.align,line:e.line,position:e.position,size:e.size},r.push(e)},t.parse(e),r}},function(){try{window&&window.WebVTT&&window.WebVTT.Parser&&(t=new window.WebVTT.Parser(window,window.vttjs,window.WebVTT.StringDecoder()))}catch(e){}}(),e}Do.__dashjs_factory_name="VttCustomRenderingParser";var Fo=c.Z.getSingletonFactory(Do);function Uo(){var e,t,r=this.context,n=(0,l.Z)(r).getInstance(),i=0;return e={parse:function(e,r,o,a,s){var l,c,d,h="",p=[],m={},g={},y="",v="",b={onOpenTag:function(e,r,i){if(i[" imagetype"]&&!i[" imageType"]&&(n.trigger(f.Z.CONFORMANCE_VIOLATION,{level:rr.LEVELS.ERROR,event:rr.EVENTS.NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE}),i[" imageType"]=i[" imagetype"]),"image"===r&&("http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt"===e||"http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt"===e)){if(!i[" imageType"]||"PNG"!==i[" imageType"].value)return void t.warn("smpte-tt imageType != PNG. Discarded");y=i["http://www.w3.org/XML/1998/namespace id"].value}},onCloseTag:function(){y&&(g[y]=v.trim()),v="",y=""},onText:function(e){y&&(v+=e)}};if(!e)throw h="no ttml data to parse",new Error(h);m.data=e,n.trigger(u.Z.TTML_TO_PARSE,m);var _=(0,Io.fromXML)(m.data,(function(e){h=e}),b);n.trigger(u.Z.TTML_PARSED,{ttmlString:m.data,ttmlDoc:_});var w,E=_.getMediaTimeEvents();for(d=0;d<E.length;d++){var x=(0,Io.generateISD)(_,E[d],(function(e){h=e}));x.contents.some((function(e){return e.contents.length}))&&(l=E[d]+r)<(c=E[d+1]+r)&&p.push({start:l,end:c,type:"html",cueID:(w="cue_TTML_"+i,i++,w),isd:x,images:s,embeddedImages:g})}if(""!==h)throw t.error(h),new Error(h);return p}},t=(0,d.Z)(r).getInstance().getLogger(e),e}Uo.__dashjs_factory_name="TTMLParser";var Bo=c.Z.getSingletonFactory(Uo);function Go(e){var t,r,n,i,a,s,c,d,h,p,m,g,y=this.context,v=e.adapter,b=e.errHandler,_=e.manifestModel,w=e.mediaController,E=e.videoModel,x=e.settings;function S(e){var t=e.tracks,n=e.index,i=e.streamId;if(!1===x.get().streaming.text.defaultEnabled&&!M()||g)R(i,-1);else{var a=w.getCurrentTrackFor(o.Z.TEXT,i);if(a){var s={lang:a.lang,role:a.roles[0],index:a.index,codec:a.codec,accessibility:a.accessibility[0]};t.some((function(e,t){if(w.matchSettings(s,e))return R(i,t),n=t,!0}))}h=!1}r[i].lastEnabledIndex=n,d.trigger(f.Z.TEXT_TRACKS_ADDED,{enabled:M(),index:n,tracks:t,streamId:i}),m=!0}function T(e){try{var t=e.streamId;if(!i[t]||isNaN(e.time))return;i[t].manualCueProcessing(e.time)}catch(e){}}function A(e){try{var t=e.streamId;if(!i[t])return;i[t].disableManualTracks()}catch(e){}}function M(){var e=!0;return h&&!p&&(e=!1),e}function R(e,t){(h=-1===t)&&w&&w.saveTextSettingsDisabled();var r=C(e);if(r!==t&&i[e]){i[e].disableManualTracks(),i[e].setModeForTrackIdx(r,o.Z.TEXT_HIDDEN),i[e].setCurrentTrackIdx(t),i[e].setModeForTrackIdx(t,o.Z.TEXT_SHOWING);var a=i[e].getCurrentTrackInfo();a&&a.isFragmented&&!a.isEmbedded?function(e,t,r){if(n[e])for(var a=n[e].getConfig().fragmentedTracks,s=0;s<a.length;s++){var l=a[s];if(t.lang===l.lang&&(l.id?t.id===l.id:t.index===l.index)){var c=w.getCurrentTrackFor(o.Z.TEXT,e);(l.id?c.id!==l.id:c.index!==l.index)?(i[e].deleteCuesFromTrackIdx(r),n[e].setCurrentFragmentedTrackIdx(s)):-1===r&&d.trigger(u.Z.SET_FRAGMENTED_TEXT_AFTER_DISABLED,{},{streamId:e,mediaType:o.Z.TEXT})}}}(e,a,r):a&&!a.isFragmented&&function(e,t){d.trigger(u.Z.SET_NON_FRAGMENTED_TEXT,{currentTrackInfo:t},{streamId:e,mediaType:o.Z.TEXT})}(e,a),w.setTrack(a)}}function C(e){return i[e].getCurrentTrackIdx()}function I(){n={},i={},r={},h=!0,m=!1,g=!1}return t={deactivateStream:function(e){if(e){var t=e.id;n[t]&&n[t].resetMediaInfos(),i[t]&&i[t].deleteAllTextTracks()}},initialize:function(){d.on(u.Z.TEXT_TRACKS_QUEUE_INITIALIZED,S,t),x.get().streaming.text.webvtt.customRenderingEnabled&&(d.on(u.Z.PLAYBACK_TIME_UPDATED,T,t),d.on(u.Z.PLAYBACK_SEEKING,A,t))},initializeForStream:function(e){var t=e.id,o=jo(y).create({videoModel:E,settings:x,streamInfo:e});o.initialize(),i[t]=o;var l=Co(y).create({errHandler:b,adapter:v,manifestModel:_,mediaController:w,videoModel:E,textTracks:o,vttParser:a,vttCustomRenderingParser:s,ttmlParser:c,streamInfo:e,settings:x});l.initialize(),n[t]=l,r[t]={},r[t].lastEnabledIndex=-1},createTracks:function(e){var t=e.id;i[t]&&i[t].createTracks()},getTextSourceBuffer:function(e){var t=e.id;if(n&&n[t])return n[t]},getAllTracksAreDisabled:function(){return h},addEmbeddedTrack:function(e,t){var r=e.id;n[r]&&n[r].addEmbeddedTrack(t)},enableText:function(e,t){return(0,Y.PS)(t,"boolean"),M()!==t&&(t&&R(e,r[e].lastEnabledIndex),t||(r[e].lastEnabledIndex=C(e),m?R(e,-1):g=!0)),!0},isTextEnabled:M,setTextTrack:R,getCurrentTrackIdx:C,enableForcedTextStreaming:function(e){return(0,Y.PS)(e,"boolean"),p=e,!0},addMediaInfosToBuffer:function(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=e.id;n[o]&&n[o].addMediaInfos(t,r,i)},reset:function(){I(),d.off(u.Z.TEXT_TRACKS_QUEUE_INITIALIZED,S,t),x.get().streaming.text.webvtt.customRenderingEnabled&&(d.off(u.Z.PLAYBACK_TIME_UPDATED,T,t),d.off(u.Z.PLAYBACK_SEEKING,A,t)),Object.keys(n).forEach((function(e){n[e].resetEmbedded(),n[e].reset()}))}},p=!1,m=!1,g=!1,a=Lo(y).getInstance(),s=Fo(y).getInstance(),c=Bo(y).getInstance(),d=(0,l.Z)(y).getInstance(),I(),t}Go.__dashjs_factory_name="TextController";var zo=c.Z.getClassFactory(Go);function Vo(){var e,t,r,n,h,m,g,y,v,b,_,w,x,S,T,A,I,k,P,O,j,N,L,D,F,U,B,G,z,V,H,W,Z,q,X,$,J,ee,te,re="You must first call initialize() and set a source before calling this method",ne="You must first call initialize() and set a valid source and view before calling this method",ie="You must first call attachView() to set the video element before calling this method",oe="You must first call attachSource() with a valid source before calling this method",ae="MediaPlayer not initialized!",se=this.context,le=(0,l.Z)(se).getInstance(),ue=(0,R.Z)(se).getInstance(),ce=(0,d.Z)(se).getInstance({settings:ue});function de(){Te(null),xe(null),n=null,S&&(S.reset(),S=null),T&&(T.reset(),T=null),O&&O.reset(),ue.reset(),I&&(I.reset(),I=null)}function fe(){return!!r&&!!$.getElement()}function he(){return(0,Ci.e)()}function pe(){if(!g)throw ne;return G.isPaused()}function me(){if(!g)throw ne;return G.getIsDynamic()}function ge(e){var t=F&&F.hasVideoTrack()?o.Z.VIDEO:o.Z.AUDIO,r=W.getCurrentDVRInfo(t);if(!r)return 0;var n=G.getOriginalLiveDelay(),i=r.range.start+e;return i>r.range.end-n&&(i=r.range.end-n),i}function ye(e){if(!g)throw ne;var t=Ee().currentTime;if(void 0!==e)t=F.getTimeRelativeToStreamId(t,e);else if(G.getIsDynamic()){var r=F&&F.hasVideoTrack()?o.Z.VIDEO:o.Z.AUDIO,n=W.getCurrentDVRInfo(r);t=null===n||0===t?0:Math.max(0,t-n.range.start)}return t}function ve(){if(!g)throw ne;var e=Ee().duration;if(G.getIsDynamic()){var t=F&&F.hasVideoTrack()?o.Z.VIDEO:o.Z.AUDIO,r=W.getCurrentDVRInfo(t);e=r?r.range.end-r.range.start:0}return e}function be(e){(0,Y.PS)(e,"boolean"),y=e}function _e(){O.restoreDefaultUTCTimingSources()}function we(){return W}function Ee(){if(!$.getElement())throw ie;return $.getElement()}function xe(e){if(!h)throw ae;$.setElement(e),e&&(Ie(),function(){if(!T){var e=dashjs.MetricsReporting;if("function"==typeof e){var t=e(se).create();T=t.createMetricsReporting({debug:ce,eventBus:le,mediaElement:Ee(),adapter:k,dashMetrics:W,mediaPlayerModel:P,events:u.Z,constants:o.Z,metricsConstants:s.Z})}}}(),function(){if(!A){var e=dashjs.MssHandler;"function"==typeof e&&(M.extend(e.errors),A=e(se).create({eventBus:le,mediaPlayerModel:P,dashMetrics:W,manifestModel:Z,playbackController:G,streamController:F,protectionController:S,baseURLController:N,errHandler:j,events:u.Z,constants:o.Z,debug:ce,initSegmentType:C.w.INIT_SEGMENT_TYPE,BASE64:vo,ISOBoxer:bo,settings:ue}))}}(),F&&F.switchToVideoElement(v)),g&&Me(),Oe(v)}function Se(e){if(!m)throw re;var t=F.getActiveStreamInfo();return t?x.getTracksFor(e,t.id):[]}function Te(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;if(!h)throw ae;"string"==typeof e&&J.initialize(e),null==t&&(t=NaN),isNaN(t)||(t=Math.max(0,t)),v=t,r=e,(m||g)&&Me(),fe()&&Oe(v)}function Ae(){if(!m)throw re;var e=F.getActiveStreamInfo();return e?F.getStreamById(e.id):null}function Me(){g=!1,m=!1,k.reset(),F.reset(),B.reset(),H.reset(),G.reset(),z.reset(),V.reset(),b.reset(),x.reset(),te.reset(),S&&(ue.get().streaming.protection.keepProtectionMediaKeys?S.stop():(S.reset(),S=null,Ie())),U.reset(),q.reset(),X.reset()}function Re(){var e=Ce();F||(F=or(se).getInstance()),U||(U=zo(se).create({errHandler:j,manifestModel:Z,adapter:k,mediaController:x,videoModel:$,settings:ue})),D.setConfig({capabilities:L,customParametersModel:O,adapter:k,settings:ue,manifestModel:Z,errHandler:j}),F.setConfig({capabilities:L,capabilitiesFilter:D,manifestLoader:e,manifestModel:Z,mediaPlayerModel:P,customParametersModel:O,protectionController:S,textController:U,adapter:k,dashMetrics:W,errHandler:j,timelineConverter:w,videoModel:$,playbackController:G,serviceDescriptionController:z,contentSteeringController:V,abrController:b,mediaController:x,settings:ue,baseURLController:N,uriFragmentModel:J,segmentBaseController:te}),B.setConfig({settings:ue,playbackController:G,streamController:F,videoModel:$,timelineConverter:w,adapter:k}),G.setConfig({streamController:F,serviceDescriptionController:z,dashMetrics:W,adapter:k,videoModel:$,timelineConverter:w,settings:ue}),H.setConfig({streamController:F,playbackController:G,mediaPlayerModel:P,videoModel:$,settings:ue}),b.setConfig({streamController:F,domStorage:ee,mediaPlayerModel:P,customParametersModel:O,cmsdModel:X,dashMetrics:W,adapter:k,videoModel:$,settings:ue}),q.setConfig({abrController:b,dashMetrics:W,playbackController:G}),X.setConfig({}),b.initialize(),F.initialize(y,n),U.initialize(),B.initialize(),H.initialize(),q.initialize(),X.initialize(),V.initialize(),te.initialize()}function Ce(){return Wn(se).create({debug:ce,errHandler:j,dashMetrics:W,mediaPlayerModel:P,requestModifier:(0,K.Z)(se).getInstance(),mssHandler:A,settings:ue})}function Ie(){if(S)return S;var e=dashjs.Protection;if("function"==typeof e){var t=e(se).create();return u.Z.extend(e.events),f.Z.extend(e.events,{publicOnly:!0}),M.extend(e.errors),L||(L=(0,Yn.Z)(se).getInstance()),S=t.createProtectionSystem({debug:ce,errHandler:j,videoModel:$,customParametersModel:O,capabilities:L,eventBus:le,events:u.Z,BASE64:vo,constants:o.Z,cmcdModel:q,settings:ue})}return null}function ke(){if(!h)throw ae;if(I)return I;var e=dashjs.OfflineController;if("function"==typeof e){u.Z.extend(e.events),f.Z.extend(e.events,{publicOnly:!0}),M.extend(e.errors);var t=Ce(),r=Yt(se).create();return r.setConfig({manifestModel:Z,adapter:k,manifestLoader:t,errHandler:j,contentSteeringController:V}),I=e(se).create({debug:ce,manifestUpdater:r,baseURLController:N,manifestLoader:t,manifestModel:Z,mediaPlayerModel:P,abrController:b,playbackController:G,adapter:k,errHandler:j,dashMetrics:W,timelineConverter:w,segmentBaseController:te,schemeLoaderFactory:_,eventBus:le,events:u.Z,errors:M,constants:o.Z,settings:ue,dashConstants:a.Z,urlUtils:(0,Q.Z)(se).getInstance()})}return null}function Pe(e){var t=F&&F.hasVideoTrack()?o.Z.VIDEO:o.Z.AUDIO,r=W.getCurrentDVRInfo(t);return r?e+(r.manifestInfo.availableFrom.getTime()/1e3+r.range.start):0}function Oe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NaN;I&&I.resetRecords(),!m&&r&&(m=!0,t.info("Streaming Initialized"),Re(),"string"==typeof r?F.load(r,e):F.loadWithManifest(r,e)),!g&&fe()&&(g=!0,t.info("Playback Initialized"))}return e={initialize:function(e,r,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:NaN;L||(L=(0,Yn.Z)(se).getInstance()).setConfig({settings:ue}),j||(j=qn(se).getInstance()),L.supportsMediaSource()?(h||(h=!0,w=yo(se).getInstance(),b||(b=yi(se).getInstance()).setConfig({settings:ue}),_||(_=yt(se).getInstance()),G||(G=p(se).getInstance()),x||(x=_r(se).getInstance()),F||(F=or(se).getInstance()),B||(B=sr(se).getInstance()),H||(H=ur(se).getInstance()),z||(z=pr(se).getInstance()),V||(V=Ht(se).getInstance()),D||(D=Kn(se).getInstance()),k=Ki(se).getInstance(),Z=ti(se).getInstance(),q=He(se).getInstance(),X=ut(se).getInstance(),W=mo(se).getInstance({settings:ue}),ee=Ri(se).getInstance({settings:ue}),k.setConfig({constants:o.Z,cea608parser:i(),errHandler:j,BASE64:vo}),N||(N=jr(se).create()),N.setConfig({adapter:k,contentSteeringController:V}),z.setConfig({adapter:k}),te||(te=Fi(se).getInstance({dashMetrics:W,mediaPlayerModel:P,errHandler:j,baseURLController:N,events:u.Z,eventBus:le,debug:ce,boxParser:(0,Nt.Z)(se).getInstance(),requestModifier:(0,K.Z)(se).getInstance(),errors:M})),x.setConfig({domStorage:ee,settings:ue,customParametersModel:O}),P.setConfig({playbackController:G,serviceDescriptionController:z}),V.setConfig({adapter:k,errHandler:j,dashMetrics:W,mediaPlayerModel:P,manifestModel:Z,serviceDescriptionController:z,eventBus:le,requestModifier:(0,K.Z)(se).getInstance()}),_e(),be(void 0===n||n),ke()),e&&xe(e),r&&Te(r,a),t.info("[dash.js "+he()+"] MediaPlayer has been initialized")):j.error(new E.Z(M.CAPABILITY_MEDIASOURCE_ERROR_CODE,M.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE))},setConfig:function(e){e&&(e.capabilities&&(L=e.capabilities),e.capabilitiesFilter&&(D=e.capabilitiesFilter),e.streamController&&(F=e.streamController),e.textController&&(U=e.textController),e.gapController&&(B=e.gapController),e.playbackController&&(G=e.playbackController),e.serviceDescriptionController&&(z=e.serviceDescriptionController),e.contentSteeringController&&(V=e.contentSteeringController),e.catchupController&&(H=e.catchupController),e.mediaPlayerModel&&(P=e.mediaPlayerModel),e.customParametersModel&&(O=e.customParametersModel),e.abrController&&(b=e.abrController),e.schemeLoaderFactory&&(_=e.schemeLoaderFactory),e.mediaController&&(x=e.mediaController),e.settings&&(ue=e.settings))},on:function(e,t,r,n){le.on(e,t,r,n)},off:function(e,t,r){le.off(e,t,r)},extend:function(e,t,r){c.Z.extend(e,t,r,se)},attachView:xe,attachSource:Te,isReady:fe,preload:function(){if(!$.getElement()&&!m){if(!r)throw oe;Oe(v)}},play:function(){if(!g)throw ne;(!y||pe()&&g)&&G.play(!0)},isPaused:pe,pause:function(){if(!g)throw ne;G.pause()},isSeeking:function(){if(!g)throw ne;return G.isSeeking()},isDynamic:me,getLowLatencyModeEnabled:function(){if(!g)throw ne;return G.getLowLatencyModeEnabled()},seek:function(e){if(!g)throw ne;if((0,Y.PS)(e,"number"),isNaN(e))throw o.Z.BAD_ARGUMENT_ERROR;e<0&&(e=0);var t=G.getIsDynamic()?ge(e):e,r=Ee();!G.getIsDynamic()&&r.duration&&(t=Math.min(r.duration,t)),G.seek(t,!1,!1,!0)},seekToOriginalLive:function(){g&&me()&&G.seekToOriginalLive()},setPlaybackRate:function(e){Ee().playbackRate=e},getPlaybackRate:function(){return Ee().playbackRate},setMute:function(e){(0,Y.PS)(e,"boolean"),Ee().muted=e},isMuted:function(){return Ee().muted},setVolume:function(e){if("number"!=typeof e||isNaN(e)||e<0||e>1)throw o.Z.BAD_ARGUMENT_ERROR;Ee().volume=e},getVolume:function(){return Ee().volume},time:ye,duration:ve,timeAsUTC:function(){if(!g)throw ne;return ye()<0?NaN:Pe(ye())},durationAsUTC:function(){if(!g)throw ne;return Pe(ve())},getActiveStream:Ae,getDVRWindowSize:function(){var e=F&&F.hasVideoTrack()?o.Z.VIDEO:o.Z.AUDIO,t=W.getCurrentDVRInfo(e);return t?t.manifestInfo.dvrWindowSize:0},getDVRSeekOffset:ge,getAvailableBaseUrls:function(){var e=Z.getValue();return e?N.getBaseUrls(e):[]},getAvailableLocations:function(){var e=Z.getValue();if(!e)return[];var t=k.getLocation(e),r=V.getSynthesizedLocationElements(t);return t.concat(r)},getTargetLiveDelay:function(){if(!g)throw ne;return G.getOriginalLiveDelay()},convertToTimeCode:function(e){e=Math.max(e,0);var t=Math.floor(e/3600),r=Math.floor(e%3600/60),n=Math.floor(e%3600%60);return(0===t?"":t<10?"0"+t.toString()+":":t.toString()+":")+(r<10?"0"+r.toString():r.toString())+":"+(n<10?"0"+n.toString():n.toString())},formatUTC:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=new Date(1e3*e),o=i.toLocaleDateString(t),a=i.toLocaleTimeString(t,{hour12:r});return n?a+" "+o:a},getVersion:he,getDebug:function(){return ce},getBufferLength:function(e){var r=[o.Z.VIDEO,o.Z.AUDIO,o.Z.TEXT];if(e)return-1!==r.indexOf(e)?we().getCurrentBufferLevel(e)||NaN:(t.warn("getBufferLength requested for invalid type"),NaN);var n=r.map((function(e){return Se(e).length>0?we().getCurrentBufferLevel(e):Number.MAX_VALUE})).reduce((function(e,t){return Math.min(e,t)}));return n===Number.MAX_VALUE?NaN:n},getTTMLRenderingDiv:function(){return $?$.getTTMLRenderingDiv():null},getVideoElement:Ee,getSource:function(){if(!r)throw oe;return r},updateSource:function(e){r=e,F.load(r)},getCurrentLiveLatency:function(){if(!h)throw ae;return g?G.getCurrentLiveLatency():NaN},getTopBitrateInfoFor:function(e){if(!m)throw re;return b.getTopBitrateInfoFor(e)},setAutoPlay:be,getAutoPlay:function(){return y},getDashMetrics:we,getQualityFor:function(e){if(!m)throw re;if(e===o.Z.IMAGE){var t=Ae();if(!t)return-1;var r=t.getThumbnailController();return r?r.getCurrentTrackIndex():-1}return b.getQualityFor(e)},setQualityFor:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!m)throw re;if(e===o.Z.IMAGE){var n=Ae();if(!n)return;var i=n.getThumbnailController();i&&i.setTrackByIndex(t)}b.setPlaybackQuality(e,F.getActiveStreamInfo(),t,{forceReplace:r})},updatePortalSize:function(){b.setElementSize(),b.setWindowResizeEventCalled(!0)},enableText:function(e){var t=F.getActiveStreamInfo();return!(!t||!U)&&U.enableText(t.id,e)},enableForcedTextStreaming:function(e){return!(!F.getActiveStreamInfo()||!U)&&U.enableForcedTextStreaming(e)},isTextEnabled:function(){var e=F.getActiveStreamInfo();return!(!e||!U)&&U.isTextEnabled(e)},setTextTrack:function(e){if(!g)throw ne;var t=F.getActiveStreamInfo();t&&U&&U.setTextTrack(t.id,e)},getBitrateInfoListFor:function(e){if(!m)throw re;var t=Ae();return t?t.getBitrateListFor(e):[]},getStreamsFromManifest:function(e){if(!m)throw re;return k.getStreamsInfo(e)},getTracksFor:Se,getTracksForTypeFromManifest:function(e,t,r){if(!m)throw re;return(r=r||k.getStreamsInfo(t,1)[0])?k.getAllMediaInfoForType(r,e,t):[]},getCurrentTrackFor:function(e){if(!m)throw re;var t=F.getActiveStreamInfo();return x.getCurrentTrackFor(e,t.id)},setInitialMediaSettingsFor:function(e,t){if(!h)throw ae;x.setInitialSettings(e,t)},getInitialMediaSettingsFor:function(e){if(!h)throw ae;return x.getInitialSettings(e)},setCurrentTrack:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!m)throw re;x.setTrack(e,t)},addABRCustomRule:function(e,t,r){O.addAbrCustomRule(e,t,r)},removeABRCustomRule:function(e){O.removeAbrCustomRule(e)},removeAllABRCustomRule:function(){O.removeAllAbrCustomRule()},getABRCustomRules:function(){return O.getAbrCustomRules()},getAverageThroughput:function(e){var t=b.getThroughputHistory(),r=G.getIsDynamic();return t?t.getAverageThroughput(e,r):0},retrieveManifest:function(e,t){var r=Ce(),n=this;le.on(u.Z.INTERNAL_MANIFEST_LOADED,(function e(i){i.error?t(null,i.error):t(i.manifest),le.off(u.Z.INTERNAL_MANIFEST_LOADED,e,n),r.reset()}),n),J.initialize(e),r.load(e)},addUTCTimingSource:function(e,t){O.addUTCTimingSource(e,t)},removeUTCTimingSource:function(e,t){O.removeUTCTimingSource(e,t)},clearDefaultUTCTimingSources:function(){O.clearDefaultUTCTimingSources()},restoreDefaultUTCTimingSources:_e,setXHRWithCredentialsForType:function(e,t){O.setXHRWithCredentialsForType(e,t)},getXHRWithCredentialsForType:function(e){return O.getXHRWithCredentialsForType(e)},getProtectionController:function(){return Ie()},attachProtectionController:function(e){S=e},setProtectionData:function(e){n=e,F&&F.setProtectionData(n)},registerLicenseRequestFilter:function(e){O.registerLicenseRequestFilter(e)},registerLicenseResponseFilter:function(e){O.registerLicenseResponseFilter(e)},unregisterLicenseRequestFilter:function(e){O.unregisterLicenseRequestFilter(e)},unregisterLicenseResponseFilter:function(e){O.unregisterLicenseResponseFilter(e)},registerCustomCapabilitiesFilter:function(e){O.registerCustomCapabilitiesFilter(e)},unregisterCustomCapabilitiesFilter:function(e){O.unregisterCustomCapabilitiesFilter(e)},setCustomInitialTrackSelectionFunction:function(e){O.setCustomInitialTrackSelectionFunction(e)},resetCustomInitialTrackSelectionFunction:function(){O.resetCustomInitialTrackSelectionFunction(null)},attachTTMLRenderingDiv:function(e){if(!$.getElement())throw ie;$.setTTMLRenderingDiv(e)},attachVttRenderingDiv:function(e){if(!$.getElement())throw ie;$.setVttRenderingDiv(e)},getCurrentTextTrackIndex:function(){var e=F.getActiveStreamInfo();if(e&&U)return U.getCurrentTrackIdx(e.id)},provideThumbnail:function(e,t){if("function"==typeof t)if(e<0)t(null);else{var r=G.getIsDynamic()?ge(e):e,n=F.getStreamForTime(r);if(null!==n){var i=n.getThumbnailController();if(i)return i.provide(r,t);t(null)}else t(null)}},getDashAdapter:function(){return k},getOfflineController:function(){return ke()},triggerSteeringRequest:function(){if(V)return V.loadSteeringData()},getCurrentSteeringResponseData:function(){if(V)return V.getCurrentSteeringResponseData()},getSettings:function(){return ue.get()},updateSettings:function(e){ue.update(e)},resetSettings:function(){ue.reset()},reset:de,destroy:function(){de(),c.Z.deleteSingletonInstances(se)}},t=ce.getLogger(e),h=!1,g=!1,m=!1,y=!0,v=NaN,S=null,I=null,n=null,k=null,te=null,u.Z.extend(f.Z),P=ii(se).getInstance(),O=(0,ft.Z)(se).getInstance(),$=_i(se).getInstance(),J=Jn(se).getInstance(),e}Vo.__dashjs_factory_name="MediaPlayer";var Ho=c.Z.getClassFactory(Vo);Ho.events=f.Z,Ho.errors=M,c.Z.updateClassFactory(Vo.__dashjs_factory_name,Ho);var Wo=Ho},8825:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function o(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}var s=new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(s,e);var t,r,n=(t=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=a(t);if(r){var i=a(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return o(this,e)});function s(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(e=n.call(this)).AST_IN_FUTURE="astInFuture",e.BASE_URLS_UPDATED="baseUrlsUpdated",e.BUFFER_EMPTY="bufferStalled",e.BUFFER_LOADED="bufferLoaded",e.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",e.BUFFER_LEVEL_UPDATED="bufferLevelUpdated",e.DYNAMIC_TO_STATIC="dynamicToStatic",e.ERROR="error",e.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",e.FRAGMENT_LOADING_PROGRESS="fragmentLoadingProgress",e.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",e.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",e.LOG="log",e.MANIFEST_LOADING_STARTED="manifestLoadingStarted",e.MANIFEST_LOADING_FINISHED="manifestLoadingFinished",e.MANIFEST_LOADED="manifestLoaded",e.METRICS_CHANGED="metricsChanged",e.METRIC_CHANGED="metricChanged",e.METRIC_ADDED="metricAdded",e.METRIC_UPDATED="metricUpdated",e.PERIOD_SWITCH_STARTED="periodSwitchStarted",e.PERIOD_SWITCH_COMPLETED="periodSwitchCompleted",e.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",e.QUALITY_CHANGE_RENDERED="qualityChangeRendered",e.TRACK_CHANGE_RENDERED="trackChangeRendered",e.STREAM_INITIALIZING="streamInitializing",e.STREAM_UPDATED="streamUpdated",e.STREAM_ACTIVATED="streamActivated",e.STREAM_DEACTIVATED="streamDeactivated",e.STREAM_INITIALIZED="streamInitialized",e.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",e.TEXT_TRACKS_ADDED="allTextTracksAdded",e.TEXT_TRACK_ADDED="textTrackAdded",e.THROUGHPUT_MEASUREMENT_STORED="throughputMeasurementStored",e.TTML_PARSED="ttmlParsed",e.TTML_TO_PARSE="ttmlToParse",e.CAPTION_RENDERED="captionRendered",e.CAPTION_CONTAINER_RESIZE="captionContainerResize",e.CAN_PLAY="canPlay",e.CAN_PLAY_THROUGH="canPlayThrough",e.PLAYBACK_ENDED="playbackEnded",e.PLAYBACK_ERROR="playbackError",e.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",e.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",e.PLAYBACK_LOADED_DATA="playbackLoadedData",e.PLAYBACK_PAUSED="playbackPaused",e.PLAYBACK_PLAYING="playbackPlaying",e.PLAYBACK_PROGRESS="playbackProgress",e.PLAYBACK_RATE_CHANGED="playbackRateChanged",e.PLAYBACK_SEEKED="playbackSeeked",e.PLAYBACK_SEEKING="playbackSeeking",e.PLAYBACK_STALLED="playbackStalled",e.PLAYBACK_STARTED="playbackStarted",e.PLAYBACK_TIME_UPDATED="playbackTimeUpdated",e.PLAYBACK_VOLUME_CHANGED="playbackVolumeChanged",e.PLAYBACK_WAITING="playbackWaiting",e.MANIFEST_VALIDITY_CHANGED="manifestValidityChanged",e.EVENT_MODE_ON_START="eventModeOnStart",e.EVENT_MODE_ON_RECEIVE="eventModeOnReceive",e.CONFORMANCE_VIOLATION="conformanceViolation",e.REPRESENTATION_SWITCH="representationSwitch",e.ADAPTATION_SET_REMOVED_NO_CAPABILITIES="adaptationSetRemovedNoCapabilities",e.CONTENT_STEERING_REQUEST_COMPLETED="contentSteeringRequestCompleted",e.INBAND_PRFT="inbandPrft",e.MANAGED_MEDIA_SOURCE_START_STREAMING="managedMediaSourceStartStreaming",e.MANAGED_MEDIA_SOURCE_END_STREAMING="managedMediaSourceEndStreaming",e}return s}(r(8342).Z));t.Z=s},3393:function(e,t){"use strict";function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var n=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.init()}var t;return(t=[{key:"init",value:function(){this.STREAM="stream",this.VIDEO="video",this.AUDIO="audio",this.TEXT="text",this.MUXED="muxed",this.IMAGE="image",this.STPP="stpp",this.TTML="ttml",this.VTT="vtt",this.WVTT="wvtt",this.CONTENT_STEERING="contentSteering",this.ABR_STRATEGY_DYNAMIC="abrDynamic",this.ABR_STRATEGY_BOLA="abrBola",this.ABR_STRATEGY_L2A="abrL2A",this.ABR_STRATEGY_LoLP="abrLoLP",this.ABR_STRATEGY_THROUGHPUT="abrThroughput",this.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA="abrFetchThroughputCalculationDownloadedData",this.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING="abrFetchThroughputCalculationMoofParsing",this.ABR_FETCH_THROUGHPUT_CALCULATION_AAST="abrFetchThroughputCalculationAAST",this.LIVE_CATCHUP_MODE_DEFAULT="liveCatchupModeDefault",this.LIVE_CATCHUP_MODE_LOLP="liveCatchupModeLoLP",this.MOVING_AVERAGE_SLIDING_WINDOW="slidingWindow",this.MOVING_AVERAGE_EWMA="ewma",this.BAD_ARGUMENT_ERROR="Invalid Arguments",this.MISSING_CONFIG_ERROR="Missing config parameter(s)",this.TRACK_SWITCH_MODE_ALWAYS_REPLACE="alwaysReplace",this.TRACK_SWITCH_MODE_NEVER_REPLACE="neverReplace",this.TRACK_SELECTION_MODE_FIRST_TRACK="firstTrack",this.TRACK_SELECTION_MODE_HIGHEST_BITRATE="highestBitrate",this.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY="highestEfficiency",this.TRACK_SELECTION_MODE_WIDEST_RANGE="widestRange",this.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY="highestSelectionPriority",this.CMCD_MODE_QUERY="query",this.CMCD_MODE_HEADER="header",this.INITIALIZE="initialize",this.TEXT_SHOWING="showing",this.TEXT_HIDDEN="hidden",this.CC1="CC1",this.CC3="CC3",this.UTF8="utf-8",this.SCHEME_ID_URI="schemeIdUri",this.START_TIME="starttime",this.SERVICE_DESCRIPTION_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:scope:2019",this.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:critical:2019",this.XML="XML",this.ARRAY_BUFFER="ArrayBuffer",this.DVB_REPORTING_URL="dvb:reportingUrl",this.DVB_PROBABILITY="dvb:probability",this.VIDEO_ELEMENT_READY_STATES={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4},this.FILE_LOADER_TYPES={FETCH:"fetch_loader",XHR:"xhr_loader"}}}])&&r(e.prototype,t),e}());t.Z=n},3860:function(e,t){"use strict";function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var n=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.init()}var t;return(t=[{key:"init",value:function(){this.TCP_CONNECTION="TcpList",this.HTTP_REQUEST="HttpList",this.TRACK_SWITCH="RepSwitchList",this.BUFFER_LEVEL="BufferLevel",this.BUFFER_LOADED="bufferLoaded",this.ABANDON_LOAD="abandonload",this.ALLOW_LOAD="allowload",this.BUFFER_EMPTY="bufferStalled",this.BUFFER_STATE="BufferState",this.DVR_INFO="DVRInfo",this.DROPPED_FRAMES="DroppedFrames",this.SCHEDULING_INFO="SchedulingInfo",this.REQUESTS_QUEUE="RequestsQueue",this.MANIFEST_UPDATE="ManifestUpdate",this.MANIFEST_UPDATE_STREAM_INFO="ManifestUpdatePeriodInfo",this.MANIFEST_UPDATE_TRACK_INFO="ManifestUpdateRepresentationInfo",this.PLAY_LIST="PlayList",this.DVB_ERRORS="DVBErrors",this.HTTP_REQUEST_DVB_REPORTING_TYPE="DVBReporting"}}])&&r(e.prototype,t),e}());t.Z=n},8080:function(e,t,r){"use strict";r.d(t,{default:function(){return Z}});var n=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mpdurl=null,this.errorcode=null,this.terror=null,this.url=null,this.ipaddress=null,this.servicelocation=null};n.SSL_CONNECTION_FAILED_PREFIX="SSL",n.DNS_RESOLUTION_FAILED="C00",n.HOST_UNREACHABLE="C01",n.CONNECTION_REFUSED="C02",n.CONNECTION_ERROR="C03",n.CORRUPT_MEDIA_ISOBMFF="M00",n.CORRUPT_MEDIA_OTHER="M01",n.BASE_URL_CHANGED="F00",n.BECAME_REPORTER="S00";var i=n,o=r(1180);function a(e){var t,r,n=(e=e||{}).eventBus,a=e.dashMetrics,s=e.metricsConstants,l=e.events;function u(e){var t=new i;if(r){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.mpdurl||(t.mpdurl=r.originalUrl||r.url),t.terror||(t.terror=new Date),a.addDVBErrors(t)}}function c(e){e.error||(r=e.manifest)}function d(e){u({errorcode:i.BASE_URL_CHANGED,servicelocation:e.entry})}function f(){u({errorcode:i.BECAME_REPORTER})}function h(e){var t;e.metric===s.HTTP_REQUEST&&(0===(t=e.value).responsecode||null==t.responsecode||t.responsecode>=400||t.responsecode<100||t.responsecode>=600)&&u({errorcode:t.responsecode||i.CONNECTION_ERROR,url:t.url,terror:t.tresponse,servicelocation:t._serviceLocation})}function p(e){var t;switch(e.error?e.error.code:0){case MediaError.MEDIA_ERR_NETWORK:t=i.CONNECTION_ERROR;break;case MediaError.MEDIA_ERR_DECODE:t=i.CORRUPT_MEDIA_OTHER;break;default:return}u({errorcode:t})}return t={initialize:function(){n.on(l.MANIFEST_UPDATED,c,t),n.on(l.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,d,t),n.on(l.METRIC_ADDED,h,t),n.on(l.METRIC_UPDATED,h,t),n.on(l.PLAYBACK_ERROR,p,t),n.on(o.Z.BECAME_REPORTING_PLAYER,f,t)},reset:function(){n.off(l.MANIFEST_UPDATED,c,t),n.off(l.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,d,t),n.off(l.METRIC_ADDED,h,t),n.off(l.METRIC_UPDATED,h,t),n.off(l.PLAYBACK_ERROR,p,t),n.off(o.Z.BECAME_REPORTING_PLAYER,f,t)}}}a.__dashjs_factory_name="DVBErrorsTranslator";var s=dashjs.FactoryMaker.getSingletonFactory(a),l=r(2295);function u(e){e=e||{};var t,r,n=!1,i=this.context,o=e.mediaElement;return t={initialize:function(e){e&&e.length&&(e.forEach((function(e){var t=e.starttime,n=t+e.duration;r.add(t,n)})),n=!!e[0]._useWallClockTime)},reset:function(){r.clear()},isEnabled:function(){var e,t=r.length;if(!t)return!0;e=n?(new Date).getTime()/1e3:o.currentTime;for(var i=0;i<t;i+=1){var a=r.start(i),s=r.end(i);if(a<=e&&e<s)return!0}return!1}},r=(0,l.Z)(i).create(),t}u.__dashjs_factory_name="RangeController";var c=dashjs.FactoryMaker.getClassFactory(u);function d(){return{serialise:function e(t){var r,n,i=[],o=[];for(r in t)if(t.hasOwnProperty(r)&&0!==r.indexOf("_")){if(null==(n=t[r])&&(n=""),Array.isArray(n)){if(!n.length)continue;o=[],n.forEach((function(t){var r="Object"!==Object.prototype.toString.call(t).slice(8,-1);o.push(r?t:e(t))})),n=o.map(encodeURIComponent).join(",")}else"string"==typeof n?n=encodeURIComponent(n):n instanceof Date?n=n.toISOString():"number"==typeof n&&(n=Math.round(n));i.push(r+"="+n)}return i.join("&")}}}d.__dashjs_factory_name="MetricSerialiser";var f=dashjs.FactoryMaker.getSingletonFactory(d);function h(){var e,t,r,n=window.crypto||window.msCrypto,i=Uint32Array,o=Math.pow(2,8*i.BYTES_PER_ELEMENT)-1;function a(){n&&(e||(e=new i(10)),n.getRandomValues(e),t=0)}return r={random:function(r,i){var s;return r||(r=0),i||(i=1),n?(t===e.length&&a(),s=e[t]/o,t+=1):s=Math.random(),s*(i-r)+r}},a(),r}h.__dashjs_factory_name="RNG";var p=dashjs.FactoryMaker.getSingletonFactory(h),m=r(5717);function g(e){var t;e=e||{};var r,n,i,o,a,s,l,u=this.context,c=[],d=e.metricsConstants;function h(){o=!1,a=!1,s=null,l=null}return t={report:function(e,t){Array.isArray(t)||(t=[t]),a&&l.isEnabled()&&t.forEach((function(t){var i=r.serialise(t);e!==d.DVB_ERRORS&&(i="metricname=".concat(e,"&").concat(i)),function(e,t,r){var i=new XMLHttpRequest;i.withCredentials=n.getXHRWithCredentialsForType(d.HTTP_REQUEST_DVB_REPORTING_TYPE);var o=function(){var e=c.indexOf(i);-1!==e&&(c.splice(e,1),!(i.status>=200&&i.status<300)&&r&&r())};c.push(i);try{i.open("GET",e),i.onloadend=o,i.onerror=o,i.send()}catch(e){i.onerror()}}(i="".concat(s,"?").concat(i),0,(function(){a=!1}))}))},initialize:function(e,t){var r;if(l=t,!(s=e.dvb_reportingUrl))throw new Error("required parameter missing (dvb:reportingUrl)");o||((r=e.dvb_probability)&&(1e3===r||r/1e3>=i.random())&&(a=!0),o=!0)},reset:function(){h()}},r=f(u).getInstance(),i=p(u).getInstance(),n=(0,m.Z)(u).getInstance(),h(),t}g.__dashjs_factory_name="DVBReporting";var y=dashjs.FactoryMaker.getClassFactory(g);function v(e){e=e||{};var t,r={"urn:dvb:dash:reporting:2014":y},n=this.context,i=e.debug?e.debug.getLogger(t):{},o=e.metricsConstants,a=e.mediaPlayerModel||{};return{create:function(e,t){var s;try{(s=r[e.schemeIdUri](n).create({metricsConstants:o,mediaPlayerModel:a})).initialize(e,t)}catch(t){s=null,i.error("ReportingFactory: could not create Reporting with schemeIdUri ".concat(e.schemeIdUri," (").concat(t.message,")"))}return s},register:function(e,t){r[e]=t},unregister:function(e){delete r[e]}}}v.__dashjs_factory_name="ReportingFactory";var b=dashjs.FactoryMaker.getSingletonFactory(v);function _(e){var t=[],r=b(this.context).getInstance(e);return{initialize:function(e,n){e.some((function(e){var i=r.create(e,n);if(i)return t.push(i),!0}))},reset:function(){t.forEach((function(e){return e.reset()})),t=[]},report:function(e,r){t.forEach((function(t){return t.report(e,r)}))}}}_.__dashjs_factory_name="ReportingController";var w=dashjs.FactoryMaker.getClassFactory(_);function E(){return{reconstructFullMetricName:function(e,t,r){var n=e;return t&&(n+="("+t,r&&r.length&&(n+=","+r),n+=")"),n},validateN:function(e){if(!e)throw new Error("missing n");if(isNaN(e))throw new Error("n is NaN");if(e<0)throw new Error("n must be positive");return e}}}E.__dashjs_factory_name="HandlerHelpers";var x=dashjs.FactoryMaker.getSingletonFactory(E);function S(e){var t,r,n,i,o;e=e||{};var a=this.context,s=x(a).getInstance(),l=[],u=e.metricsConstants;function c(){var e=function(){try{return Object.keys(l).map((function(e){return l[e]})).reduce((function(e,t){return e.level<t.level?e:t}))}catch(e){return}}();e&&o!==e.t&&(o=e.t,t.report(n,e))}return{initialize:function(e,o,a){o&&(r=s.validateN(a),t=o,n=s.reconstructFullMetricName(e,a),i=setInterval(c,r))},reset:function(){clearInterval(i),i=null,r=0,t=null,o=null},handleNewMetric:function(e,t,r){e===u.BUFFER_LEVEL&&(l[r]=t)}}}S.__dashjs_factory_name="BufferLevelHandler";var T=dashjs.FactoryMaker.getClassFactory(S),A=dashjs.FactoryMaker.getClassFactory((function(e){var t,r=(e=e||{}).eventBus,n=e.metricsConstants;function i(){r.off(o.Z.METRICS_INITIALISATION_COMPLETE,i,this),r.trigger(o.Z.BECAME_REPORTING_PLAYER)}return{initialize:function(e,n){n&&(t=n,r.on(o.Z.METRICS_INITIALISATION_COMPLETE,i,this))},reset:function(){t=null},handleNewMetric:function(e,r){e===n.DVB_ERRORS&&t&&t.report(e,r)}}}));function M(e){var t,r,n,i,o;e=e||{};var a=[],s=x(this.context).getInstance(),l=e.metricsConstants;function u(){var e=a;e.length&&t&&t.report(i,e),a=[]}return{initialize:function(e,a,l,c){a&&(r=s.validateN(l),t=a,c&&c.length&&(n=c),i=s.reconstructFullMetricName(e,l,c),o=setInterval(u,r))},reset:function(){clearInterval(o),o=null,r=null,n=null,a=[],t=null},handleNewMetric:function(e,t){e===l.HTTP_REQUEST&&(n&&n!==t.type||a.push(t))}}}M.__dashjs_factory_name="HttpListHandler";var R=dashjs.FactoryMaker.getClassFactory(M);function C(){var e,t;return{initialize:function(r,n){e=r,t=n},reset:function(){t=null,e=void 0},handleNewMetric:function(r,n){r===e&&t&&t.report(e,n)}}}C.__dashjs_factory_name="GenericMetricHandler";var I=dashjs.FactoryMaker.getClassFactory(C);function k(e){var t,r=(e=e||{}).debug?e.debug.getLogger(t):{},n=/([a-zA-Z]*)(\(([0-9]*)(\,\s*([a-zA-Z]*))?\))?/,i=this.context,o={BufferLevel:T,DVBErrors:A,HttpList:R,PlayList:I,RepSwitchList:I,TcpList:I};return{create:function(t,a){var s,l=t.match(n);if(l){try{(s=o[l[1]](i).create({eventBus:e.eventBus,metricsConstants:e.metricsConstants})).initialize(l[1],a,l[3],l[5])}catch(e){s=null,r.error("MetricsHandlerFactory: Could not create handler for type ".concat(l[1]," with args ").concat(l[3],", ").concat(l[5]," (").concat(e.message,")"))}return s}},register:function(e,t){o[e]=t},unregister:function(e){delete o[e]}}}k.__dashjs_factory_name="MetricsHandlerFactory";var P=dashjs.FactoryMaker.getSingletonFactory(k);function O(e){e=e||{};var t,r=[],n=this.context,i=e.eventBus,o=e.events,a=P(n).getInstance({debug:e.debug,eventBus:e.eventBus,metricsConstants:e.metricsConstants});function s(e){r.forEach((function(t){t.handleNewMetric(e.metric,e.value,e.mediaType)}))}return t={initialize:function(e,n){e.split(",").forEach((function(e,t,i){var o;if(-1!==e.indexOf("(")&&-1===e.indexOf(")")){var s=i[t+1];s&&-1===s.indexOf("(")&&-1!==s.indexOf(")")&&(e+=","+s,delete i[t+1])}(o=a.create(e,n))&&r.push(o)})),i.on(o.METRIC_ADDED,s,t),i.on(o.METRIC_UPDATED,s,t)},reset:function(){i.off(o.METRIC_ADDED,s,t),i.off(o.METRIC_UPDATED,s,t),r.forEach((function(e){return e.reset()})),r=[]}}}O.__dashjs_factory_name="MetricsHandlersController";var j=dashjs.FactoryMaker.getClassFactory(O);function N(e){var t,r,n;e=e||{};var i=this.context;function o(){t&&t.reset(),r&&r.reset(),n&&n.reset()}return{initialize:function(a){try{(n=c(i).create({mediaElement:e.mediaElement})).initialize(a.Range),(r=w(i).create({debug:e.debug,metricsConstants:e.metricsConstants,mediaPlayerModel:e.mediaPlayerModel})).initialize(a.Reporting,n),(t=j(i).create({debug:e.debug,eventBus:e.eventBus,metricsConstants:e.metricsConstants,events:e.events})).initialize(a.metrics,r)}catch(e){throw o(),e}},reset:o}}N.__dashjs_factory_name="MetricsController";var L=dashjs.FactoryMaker.getClassFactory(N),D=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.metrics="",this.Range=[],this.Reporting=[]},F=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.starttime=0,this.duration=1/0,this._useWallClockTime=!1},U=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.schemeIdUri="",this.value="",this.dvb_reportingUrl="",this.dvb_probability=1e3};function B(e){var t=(e=e||{}).adapter,r=e.constants;return{getMetrics:function(e){var n=[];return e&&e.Metrics_asArray&&e.Metrics_asArray.forEach((function(i){var o=new D,a=t.getIsDynamic(e);i.hasOwnProperty("metrics")&&(o.metrics=i.metrics,i.Range_asArray&&i.Range_asArray.forEach((function(n){var i=new F;i.starttime=function(e,n,i){var o,a,s=0;return n?s=t.getAvailabilityStartTime(e)/1e3:(o=t.getRegularPeriods(e)).length&&(s=o[0].start),a=s,i&&i.hasOwnProperty(r.START_TIME)&&(a+=i.starttime),a}(e,a,n),n.hasOwnProperty("duration")?i.duration=n.duration:i.duration=t.getDuration(e),i._useWallClockTime=a,o.Range.push(i)})),i.Reporting_asArray&&(i.Reporting_asArray.forEach((function(e){var t=new U;e.hasOwnProperty(r.SCHEME_ID_URI)&&(t.schemeIdUri=e.schemeIdUri,e.hasOwnProperty("value")&&(t.value=e.value),e.hasOwnProperty(r.DVB_REPORTING_URL)&&(t.dvb_reportingUrl=e[r.DVB_REPORTING_URL]),e.hasOwnProperty(r.DVB_PROBABILITY)&&(t.dvb_probability=e[r.DVB_PROBABILITY]),o.Reporting.push(t))})),n.push(o)))})),n}}}B.__dashjs_factory_name="ManifestParsing";var G=dashjs.FactoryMaker.getSingletonFactory(B);function z(e){var t;e=e||{};var r={},n=this.context,i=e.eventBus,a=e.events;function s(t){if(!t.error){var a=Object.keys(r);G(n).getInstance({adapter:e.adapter,constants:e.constants}).getMetrics(t.manifest).forEach((function(t){var i=JSON.stringify(t);if(r.hasOwnProperty(i))a.splice(i,1);else try{var o=L(n).create(e);o.initialize(t),r[i]=o}catch(e){}})),a.forEach((function(e){r[e].reset(),delete r[e]})),i.trigger(o.Z.METRICS_INITIALISATION_COMPLETE)}}function l(){Object.keys(r).forEach((function(e){r[e].reset()})),r={}}return t={reset:function(){i.off(a.MANIFEST_UPDATED,s,t),i.off(a.STREAM_TEARDOWN_COMPLETE,l,t)}},i.on(a.MANIFEST_UPDATED,s,t),i.on(a.STREAM_TEARDOWN_COMPLETE,l,t),t}z.__dashjs_factory_name="MetricsCollectionController";var V=dashjs.FactoryMaker.getClassFactory(z);function H(){var e=this.context;return{createMetricsReporting:function(t){return s(e).getInstance({eventBus:t.eventBus,dashMetrics:t.dashMetrics,metricsConstants:t.metricsConstants,events:t.events}).initialize(),V(e).create(t)},getReportingFactory:function(){return b(e).getInstance()},getMetricsHandlerFactory:function(){return P(e).getInstance()}}}H.__dashjs_factory_name="MetricsReporting";var W=dashjs.FactoryMaker.getClassFactory(H);W.events=o.Z,dashjs.FactoryMaker.updateClassFactory(H.__dashjs_factory_name,W);var Z=W},1180:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function o(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}var s=new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(s,e);var t,r,n=(t=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=a(t);if(r){var i=a(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return o(this,e)});function s(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(e=n.call(this)).METRICS_INITIALISATION_COMPLETE="internal_metricsReportingInitialized",e.BECAME_REPORTING_PLAYER="internal_becameReportingPlayer",e.CMCD_DATA_GENERATED="cmcdDataGenerated",e}return s}(r(8342).Z));t.Z=s},5717:function(e,t,r){"use strict";var n=r(2610),i=r(5448),o=r(1264),a=r(3106),s=r(1767),l=r(3393);function u(){var e,t,r,i,u,c,d,f,h=this.context,p=(0,o.Z)(h).getInstance();function m(){i=[],u=[],c=[],f=[],d=null,t=[]}function g(e,t){var r=-1;e.some((function(e,n){if(e===t)return r=n,!0})),r<0||e.splice(r,1)}function y(e){var t;for(t=0;t<f.length;t++)if(f[t].rulename===e)return t;return-1}function v(e,r){b(e,r);var i=new n.Z;i.schemeIdUri=e,i.value=r,t.push(i)}function b(e,r){(0,a.PS)(e,"string"),(0,a.PS)(r,"string"),t.forEach((function(n,i){n.schemeIdUri===e&&n.value===r&&t.splice(i,1)}))}return e={getCustomInitialTrackSelectionFunction:function(){return d},setCustomInitialTrackSelectionFunction:function(e){d=e},resetCustomInitialTrackSelectionFunction:function(){d=null},getLicenseResponseFilters:function(){return u},getLicenseRequestFilters:function(){return i},getCustomCapabilitiesFilters:function(){return c},registerCustomCapabilitiesFilter:function(e){c.push(e)},registerLicenseResponseFilter:function(e){u.push(e)},registerLicenseRequestFilter:function(e){i.push(e)},unregisterCustomCapabilitiesFilter:function(e){g(c,e)},unregisterLicenseResponseFilter:function(e){g(u,e)},unregisterLicenseRequestFilter:function(e){g(i,e)},addAbrCustomRule:function(e,t,r){if("string"!=typeof e||e!==s.Z.ABANDON_FRAGMENT_RULES&&e!==s.Z.QUALITY_SWITCH_RULES||"string"!=typeof t)throw l.Z.BAD_ARGUMENT_ERROR;var n=y(t);-1===n?f.push({type:e,rulename:t,rule:r}):(f[n].type=e,f[n].rule=r)},removeAllAbrCustomRule:function(){f=[]},removeAbrCustomRule:function(e){if(e){var t=y(e);-1!==t&&f.splice(t,1)}else f=[]},getAbrCustomRules:function(){return f},addUTCTimingSource:v,removeUTCTimingSource:b,getUTCTimingSources:function(){return t},clearDefaultUTCTimingSources:function(){t=[]},restoreDefaultUTCTimingSources:function(){var e=p.get().streaming.utcSynchronization.defaultTimingSource;v(e.scheme,e.value)},setXHRWithCredentialsForType:function e(t,n){t?r[t]=!!n:Object.keys(r).forEach((function(t){e(t,n)}))},getXHRWithCredentialsForType:function(e){var t=r[e];return void 0===t?r.default:t},setConfig:function(){},reset:function(){m()}},r={default:!1},m(),e}u.__dashjs_factory_name="CustomParametersModel",t.Z=i.Z.getSingletonFactory(u)},9032:function(e,t,r){"use strict";var n=r(5448),i=r(7473);function o(e){var t=(e=e||{}).requestModifier;function r(e){var r=new Date,n=e.request,i=new XMLHttpRequest;if(i.open(e.method,e.url,!0),n.responseType&&(i.responseType=n.responseType),n.range&&i.setRequestHeader("Range","bytes="+n.range),n.requestStartDate||(n.requestStartDate=r),t&&t.modifyRequestHeader&&(i=t.modifyRequestHeader(i,{url:e.url})),e.headers)for(var o in e.headers){var a=e.headers[o];a&&i.setRequestHeader(o,a)}i.withCredentials=e.withCredentials,i.onload=e.onload,i.onloadend=e.onend,i.onerror=e.onerror,i.onprogress=e.progress,i.onabort=e.onabort,i.ontimeout=e.ontimeout,i.timeout=e.timeout,i.send(),e.response=i}return{load:function(e){t&&t.modifyRequest?(0,i.k)(e,t).then((function(){return r(e)})):r(e)},abort:function(e){var t=e.response;t.onloadend=t.onerror=t.onprogress=void 0,t.abort()}}}o.__dashjs_factory_name="XHRLoader";var a=n.Z.getClassFactory(o);t.Z=a},1737:function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}r.d(t,{default:function(){return xe}});var i={attributes:["Laurl","laurl"],prefixes:["clearkey","dashif"]},o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t;return t=[{key:"findCencContentProtection",value:function(e){for(var t=null,r=0;r<e.length;++r){var n=e[r];"urn:mpeg:dash:mp4protection:2011"!==n.schemeIdUri.toLowerCase()||"cenc"!==n.value.toLowerCase()&&"cbcs"!==n.value.toLowerCase()||(t=n)}return t}},{key:"getPSSHData",value:function(e){var t=8,r=new DataView(e),n=r.getUint8(t);return t+=20,n>0&&(t+=4+16*r.getUint32(t)),t+=4,e.slice(t)}},{key:"getPSSHForKeySystem",value:function(t,r){var n=e.parsePSSHList(r);return t&&n.hasOwnProperty(t.uuid.toLowerCase())?n[t.uuid.toLowerCase()]:null}},{key:"parseInitDataFromContentProtection",value:function(e,t){return"pssh"in e?(e.pssh.__text=e.pssh.__text.replace(/\r?\n|\r/g,"").replace(/\s+/g,""),t.decodeArray(e.pssh.__text).buffer):null}},{key:"parsePSSHList",value:function(e){if(null==e)return[];for(var t=new DataView(e.buffer||e),r={},n=0;;){var i,o,a=void 0,s=n;if(n>=t.buffer.byteLength)break;if(i=n+t.getUint32(n),n+=4,1886614376===t.getUint32(n))if(n+=4,0===(o=t.getUint8(n))||1===o){n++,n+=3,a="";var l=void 0,u=void 0;for(l=0;l<4;l++)a+=1===(u=t.getUint8(n+l).toString(16)).length?"0"+u:u;for(n+=4,a+="-",l=0;l<2;l++)a+=1===(u=t.getUint8(n+l).toString(16)).length?"0"+u:u;for(n+=2,a+="-",l=0;l<2;l++)a+=1===(u=t.getUint8(n+l).toString(16)).length?"0"+u:u;for(n+=2,a+="-",l=0;l<2;l++)a+=1===(u=t.getUint8(n+l).toString(16)).length?"0"+u:u;for(n+=2,a+="-",l=0;l<6;l++)a+=1===(u=t.getUint8(n+l).toString(16)).length?"0"+u:u;n+=6,n+=4,r[a=a.toLowerCase()]=t.buffer.slice(s,i),n=i}else n=i;else n=i}return r}},{key:"getLicenseServerUrlFromMediaInfo",value:function(e,t){try{if(!e||0===e.length)return null;for(var r=0,n=null;r<e.length&&!n;){var o=e[r];if(o&&o.contentProtection&&o.contentProtection.length>0){var a=o.contentProtection.filter((function(e){return e.schemeIdUri&&e.schemeIdUri===t}));if(a&&a.length>0)for(var s=0;s<a.length&&!n;){for(var l=a[s],u=0;u<i.attributes.length&&!n;){for(var c=0,d=i.attributes[u];c<i.prefixes.length&&!n;){var f=i.prefixes[c];l[d]&&l[d].__prefix&&l[d].__prefix===f&&l[d].__text&&(n=l[d].__text),c+=1}u+=1}s+=1}}r+=1}return n}catch(e){return null}}}],t&&n(e,t),e}(),a=function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.contentType=t,this.robustness=r},s=function e(t,r,n,i,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initDataTypes=["cenc"],t&&t.length&&(this.audioCapabilities=t),r&&r.length&&(this.videoCapabilities=r),this.distinctiveIdentifier=n,this.persistentState=i,this.sessionTypes=o};function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function c(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var f=new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(i,e);var t,r,n=(t=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=d(t);if(r){var i=d(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return c(this,e)});function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=n.call(this)).MEDIA_KEYERR_CODE=100,e.MEDIA_KEYERR_UNKNOWN_CODE=101,e.MEDIA_KEYERR_CLIENT_CODE=102,e.MEDIA_KEYERR_SERVICE_CODE=103,e.MEDIA_KEYERR_OUTPUT_CODE=104,e.MEDIA_KEYERR_HARDWARECHANGE_CODE=105,e.MEDIA_KEYERR_DOMAIN_CODE=106,e.MEDIA_KEY_MESSAGE_ERROR_CODE=107,e.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE=108,e.SERVER_CERTIFICATE_UPDATED_ERROR_CODE=109,e.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE=110,e.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE=111,e.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE=112,e.KEY_SESSION_CREATED_ERROR_CODE=113,e.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE=114,e.MEDIA_KEYERR_UNKNOWN_MESSAGE="An unspecified error occurred. This value is used for errors that don't match any of the other codes.",e.MEDIA_KEYERR_CLIENT_MESSAGE="The Key System could not be installed or updated.",e.MEDIA_KEYERR_SERVICE_MESSAGE="The message passed into update indicated an error from the license service.",e.MEDIA_KEYERR_OUTPUT_MESSAGE="There is no available output device with the required characteristics for the content protection system.",e.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE="A hardware configuration change caused a content protection error.",e.MEDIA_KEYERR_DOMAIN_MESSAGE="An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain.",e.MEDIA_KEY_MESSAGE_ERROR_MESSAGE="Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!",e.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE="DRM: Empty key message from CDM",e.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE="Error updating server certificate -- ",e.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE="DRM: KeyStatusChange error! -- License has expired",e.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE="DRM: No license server URL specified!",e.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE="DRM: KeySystem Access Denied! -- ",e.KEY_SESSION_CREATED_ERROR_MESSAGE="DRM: unable to create session! --",e.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE="DRM: licenser error! --",e}return i}(r(2230).Z)),h=r(5459),p=function e(t,r,n,i,o,a,s,l){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.url=t,this.method=r,this.responseType=n,this.headers=i,this.withCredentials=o,this.messageType=a,this.sessionId=s,this.data=l},m=function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.url=t,this.headers=r,this.data=n},g=r(7855),y=r(703),v=r(3393),b=r(5448);function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function w(e){var t,r,n,i,l,u,c,d,b,w,E,x=(e=e||{}).protectionKeyController,S=e.protectionModel,T=e.eventBus,A=e.events,M=e.debug,R=e.BASE64,C=e.constants,I=[],k=e.cmcdModel,P=e.settings,O=e.customParametersModel;function j(){if(!(T&&T.hasOwnProperty("on")&&x&&x.hasOwnProperty("getSupportedKeySystemsFromContentProtection")))throw new Error("Missing config parameter(s)")}function N(e,t){d||b?d&&L():function(e,t){if(!b){b=!0;var n,i=[];e=e.sort((function(t,r){return(l&&l[t.ks.systemString]&&l[t.ks.systemString].priority>=0?l[t.ks.systemString].priority:e.length)-(l&&l[r.ks.systemString]&&l[r.ks.systemString].priority>=0?l[r.ks.systemString].priority:e.length)}));for(var o=0;o<e.length;o++){var a=V(e[o]);i.push({ks:e[o].ks,configs:[a],protData:e[o].protData})}S.requestKeySystemAccess(i).then((function(e){var t=(n=e.data).mksa&&n.mksa.selectedSystemString?n.mksa.selectedSystemString:n.keySystem.systemString;return r.info("DRM: KeySystem Access Granted for system string ("+t+")!  Selecting key system..."),S.selectKeySystem(n)})).then((function(e){if(d=e,b=!1,S){T.trigger(A.KEY_SYSTEM_SELECTED,{data:n});var t=B(d);t&&t.serverCertificate&&t.serverCertificate.length>0&&S.setServerCertificate(R.decodeArray(t.serverCertificate).buffer),L()}})).catch((function(e){d=null,b=!1,t||T.trigger(A.KEY_SYSTEM_SELECTED,{data:null,error:new h.Z(f.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,f.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+"Error selecting key system! -- "+e.error)})}))}}(e,t)}function L(){for(var e,t=0;t<n.length;t++)for(e=0;e<n[t].length;e++)if(d===n[t][e].ks){D(n[t][e]);break}n=[]}function D(e){if(x.isClearKey(d)&&e.protData&&e.protData.hasOwnProperty("clearkeys")&&0!==Object.keys(e.protData.clearkeys).length){var t={kids:Object.keys(e.protData.clearkeys)};e.initData=(new TextEncoder).encode(JSON.stringify(t))}e.sessionId?F(e):null!==e.initData&&U(e)}function F(e){j(),S.loadKeySession(e)}function U(e){var t=o.getPSSHForKeySystem(d,e?e.initData:null);if(t){if(function(e){if(!e)return!1;try{for(var t=S.getSessions(),r=0;r<t.length;r++)if(t[r].getKeyId()===e)return!0;return!1}catch(e){return!1}}(e.keyId))return;if(G(t))return;try{e.initData=t,S.createKeySession(e)}catch(e){T.trigger(A.KEY_SESSION_CREATED,{data:null,error:new h.Z(f.KEY_SESSION_CREATED_ERROR_CODE,f.KEY_SESSION_CREATED_ERROR_MESSAGE+e.message)})}}else e&&e.initData?S.createKeySession(e):T.trigger(A.KEY_SESSION_CREATED,{data:null,error:new h.Z(f.KEY_SESSION_CREATED_ERROR_CODE,f.KEY_SESSION_CREATED_ERROR_MESSAGE+"Selected key system is "+(d?d.systemString:null)+".  needkey/encrypted event contains no initData corresponding to that key system!")})}function B(e){if(e){var t=e.systemString;if(l)return t in l?l[t]:null}return null}function G(e){if(!e)return!1;try{for(var t=S.getAllInitData(),n=0;n<t.length;n++)if(x.initDataEquals(e,t[n]))return r.debug("DRM: Ignoring initData because we have already seen it!"),!0;return!1}catch(e){return!1}}function z(e){j(),e?(S.setMediaElement(e),T.on(A.NEED_KEY,$,t)):null===e&&(S.setMediaElement(e),T.off(A.NEED_KEY,$,t))}function V(e){var t=e.protData,r=[],n=[],o=t&&t.audioRobustness&&t.audioRobustness.length>0?t.audioRobustness:c,l=t&&t.videoRobustness&&t.videoRobustness.length>0?t.videoRobustness:c,u=e.sessionType,d=t&&t.distinctiveIdentifier?t.distinctiveIdentifier:"optional",f=t&&t.persistentState?t.persistentState:"temporary"===u?"optional":"required";return i.forEach((function(e){e.type===C.AUDIO?r.push(new a(e.codec,o)):e.type===C.VIDEO&&n.push(new a(e.codec,l))})),new s(r,n,d,f,[u])}function H(e){e.error?T.trigger(A.KEY_STATUSES_CHANGED,{data:null,error:e.error}):r.debug("DRM: key status = "+e.status)}function W(e){r.debug("DRM: onKeyMessage");var t=e.data;T.trigger(A.KEY_MESSAGE,{data:t});var n=t.messageType?t.messageType:"license-request",a=t.message,s=t.sessionToken,l=B(d),u=x.getLicenseServerModelInstance(d,l,n),c={sessionToken:s,messageType:n};if(a&&0!==a.byteLength){if(!u)return r.debug("DRM: License server request not required for this message (type = "+e.data.messageType+").  Session ID = "+s.getSessionId()),void Z(c);if(x.isClearKey(d)){var v=x.processClearKeyLicenseRequest(d,l,a);if(v&&v.keyPairs&&v.keyPairs.length>0)return r.debug("DRM: ClearKey license request handled by application!"),Z(c),void S.updateKeySession(s,v)}!function(e,t,r){var n=e.sessionToken,a=e.messageType?e.messageType:"license-request",s={sessionToken:n,messageType:a},l=d?d.systemString:null,u=function(e,t,r,n,a){var s=null,l=n.message;if(e&&e.serverURL){var u=e.serverURL;"string"==typeof u&&""!==u?s=u:"object"===_(u)&&u.hasOwnProperty(t)&&(s=u[t])}else if(e&&e.laURL&&""!==e.laURL)s=e.laURL;else if(!(s=o.getLicenseServerUrlFromMediaInfo(i,d.schemeIdURI))&&!x.isClearKey(d)){var c=o.getPSSHData(r.initData);(s=d.getLicenseServerURLFromInitData(c))||(s=n.laURL)}return a.getServerURLFromMessage(s,l,t)}(r,a,n,e,t);if(u){var c={},v=!1;r&&X(c,r.httpRequestHeaders);var b=e.message;X(c,d.getRequestHeadersFromMessage(b)),Object.keys(c).forEach((function(e){"authorization"===e.toLowerCase()&&(v=!0)})),r&&"boolean"==typeof r.withCredentials&&(v=r.withCredentials);var w=function(e){if(S)if(e.status>=200&&e.status<=299){var r=y.Z.parseHttpHeaders(e.getAllResponseHeaders?e.getAllResponseHeaders():null),i=new m(e.responseURL,r,e.response);Q(O.getLicenseResponseFilters(),i).then((function(){var r=t.getLicenseMessage(i.data,l,a);null!==r?(Z(s),S.updateKeySession(n,r)):K(e,s,l,a,t)}))}else K(e,s,l,a,t)},E=function(e){Z(s,new h.Z(f.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,f.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+l+' update, XHR aborted. status is "'+e.statusText+'" ('+e.status+"), readyState is "+e.readyState))},T=function(e){Z(s,new h.Z(f.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,f.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+l+' update, XHR error. status is "'+e.statusText+'" ('+e.status+"), readyState is "+e.readyState))},A=d.getLicenseRequestFromMessage(b),M=t.getHTTPMethod(a),R=t.getResponseType(l,a),C=r&&!isNaN(r.httpTimeout)?r.httpTimeout:8e3,I=n.getSessionId()||null,k=new p(u,M,R,c,v,a,I,A),j=isNaN(P.get().streaming.retryAttempts[g.w.LICENSE])?3:P.get().streaming.retryAttempts[g.w.LICENSE];Q(O.getLicenseRequestFilters(),k).then((function(){q(k,j,C,w,E,T)}))}else Z(s,new h.Z(f.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE,f.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE))}(t,u,l)}else Z(c,new h.Z(f.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE,f.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE))}function Z(e,t){T.trigger(A.LICENSE_REQUEST_COMPLETE,{data:e,error:t})}function q(e,t,n,i,o,a){var s=new XMLHttpRequest;if(P.get().streaming.cmcd&&P.get().streaming.cmcd.enabled&&P.get().streaming.cmcd.mode===v.Z.CMCD_MODE_QUERY){var l=k.getQueryParameter({url:e.url,type:g.w.LICENSE});l&&(e.url=y.Z.addAditionalQueryParameterToUrl(e.url,[l]))}for(var u in s.open(e.method,e.url,!0),s.responseType=e.responseType,s.withCredentials=e.withCredentials,n>0&&(s.timeout=n),e.headers)s.setRequestHeader(u,e.headers[u]);if(P.get().streaming.cmcd&&P.get().streaming.cmcd.enabled&&P.get().streaming.cmcd.mode===v.Z.CMCD_MODE_HEADER){var c=k.getHeaderParameters({url:e.url,type:g.w.LICENSE});if(c)for(var d in c){var f=c[d];f&&s.setRequestHeader(d,f)}}var h=function(){t--;var r=isNaN(P.get().streaming.retryIntervals[g.w.LICENSE])?1e3:P.get().streaming.retryIntervals[g.w.LICENSE];E=setTimeout((function(){q(e,t,n,i,o,a)}),r)};s.onload=function(){w=null,this.status>=200&&this.status<=299||t<=0?i(this):(r.warn("License request failed ("+this.status+"). Retrying it... Pending retries: "+t),h())},s.ontimeout=s.onerror=function(){w=null,t<=0?a(this):(r.warn("License request network request failed . Retrying it... Pending retries: "+t),h())},s.onabort=function(){o(this)},T.trigger(A.LICENSE_REQUEST_SENDING,{url:e.url,headers:e.headers,payload:e.data,sessionId:e.sessionId}),w=s,s.send(e.data)}function Y(){w&&(w.onloadend=w.onerror=w.onprogress=void 0,w.abort(),w=null),E&&(clearTimeout(E),E=null)}function X(e,t){if(t)for(var r in t)e[r]=t[r]}function K(e,t,r,n,i){var o="NONE",a=null;e.response&&(o=i.getErrorResponse(e.response,r,n),a={serverResponse:e.response||null,responseCode:e.status||null,responseText:e.statusText||null}),Z(t,new h.Z(f.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,f.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+r+' update, XHR complete. status is "'+e.statusText+'" ('+e.status+"), readyState is "+e.readyState+".  Response is "+o,a))}function Q(e,t){return e?e.reduce((function(e,r){return e.then((function(){return r(t)}))}),Promise.resolve()):Promise.resolve()}function $(e,t){if(!P.get().streaming.protection.ignoreEmeEncryptedEvent){if(r.debug("DRM: onNeedKey"),"cenc"!==e.key.initDataType)return void r.warn("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: "+e.key.initDataType);if(0===i.length&&(r.warn("DRM: onNeedKey called before initializeForMedia, wait until initialized"),(t=void 0===t?1:t+1)<5))return void I.push(setTimeout((function(){$(e,t)}),500));var a=e.key.initData;if(ArrayBuffer.isView(a)&&(a=a.buffer),d){var s=o.getPSSHForKeySystem(d,a);if(s&&G(s))return}r.debug("DRM: initData:",String.fromCharCode.apply(null,new Uint8Array(a)));var c=x.getSupportedKeySystemsFromSegmentPssh(a,l,u);if(0===c.length)return void r.debug("DRM: Received needkey event with initData, but we don't support any of the key systems!");!function(e){n.push(e),N(e,!1)}(c)}}return t={initializeForMedia:function(e){if(!e)throw new Error("mediaInfo can not be null or undefined");j(),i.push(e)},clearMediaInfoArray:function(){i=[]},handleKeySystemFromManifest:function(){if(i&&0!==i.length){var e=[];i.forEach((function(t){var r=x.getSupportedKeySystemsFromContentProtection(t.contentProtection,l,u);r.length>0&&(0===e.length&&(e=r),n.push(r))})),e&&e.length>0&&N(e,!0)}},createKeySession:U,loadKeySession:F,removeKeySession:function(e){j(),S.removeKeySession(e)},closeKeySession:function(e){j(),S.closeKeySession(e)},setServerCertificate:function(e){j(),S.setServerCertificate(e)},setMediaElement:z,setSessionType:function(e){u=e},setRobustnessLevel:function(e){c=e},setProtectionData:function(e){l=e,x.setProtectionData(e)},getSupportedKeySystemsFromContentProtection:function(e){return j(),x.getSupportedKeySystemsFromContentProtection(e,l,u)},getKeySystems:function(){return x?x.getKeySystems():[]},setKeySystems:function(e){x&&x.setKeySystems(e)},stop:function(){Y(),S&&S.stop()},reset:function(){T.off(A.INTERNAL_KEY_MESSAGE,W,t),T.off(A.INTERNAL_KEY_STATUS_CHANGED,H,t),j(),Y(),z(null),d=null,b=!1,S&&(S.reset(),S=null),I.forEach((function(e){return clearTimeout(e)})),I=[],i=[],n=[]}},r=M.getLogger(t),n=[],i=[],u="temporary",c="",w=null,E=null,T.on(A.INTERNAL_KEY_MESSAGE,W,t),T.on(A.INTERNAL_KEY_STATUS_CHANGED,H,t),t}w.__dashjs_factory_name="ProtectionController";var E=b.Z.getClassFactory(w),x=function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.keyID=t,this.key=r};function S(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var T=function(){function e(t,r){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r&&"persistent"!==r&&"temporary"!==r)throw new Error("Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'");this.keyPairs=t,this.type=r}var t;return(t=[{key:"toJWK",value:function(){var e,t=this.keyPairs.length,r={keys:[]};for(e=0;e<t;e++){var n={kty:"oct",alg:"A128KW",kid:this.keyPairs[e].keyID,k:this.keyPairs[e].key};r.keys.push(n)}this.type&&(r.type=this.type);var i=JSON.stringify(r),o=i.length,a=new ArrayBuffer(o),s=new Uint8Array(a);for(e=0;e<o;e++)s[e]=i.charCodeAt(e);return a}}])&&S(e.prototype,t),e}();function A(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var M=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.init()}var t;return(t=[{key:"init",value:function(){this.CLEARKEY_KEYSTEM_STRING="org.w3.clearkey",this.WIDEVINE_KEYSTEM_STRING="com.widevine.alpha",this.PLAYREADY_KEYSTEM_STRING="com.microsoft.playready",this.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING="com.microsoft.playready.recommendation",this.INITIALIZATION_DATA_TYPE_CENC="cenc",this.INITIALIZATION_DATA_TYPE_KEYIDS="keyids",this.INITIALIZATION_DATA_TYPE_WEBM="webm"}}])&&A(e.prototype,t),e}()),R="e2719d58-a985-b3c9-781a-b030af78d30e",C=M.CLEARKEY_KEYSTEM_STRING,I="urn:uuid:"+R;function k(e){var t=(e=e||{}).BASE64;return{uuid:R,schemeIdURI:I,systemString:C,getInitData:function(e,r){try{var n=o.parseInitDataFromContentProtection(e,t);if(!n&&r){var i={kids:[function(e){try{var t=e.replace(/-/g,"");return(t=btoa(t.match(/\w{2}/g).map((function(e){return String.fromCharCode(parseInt(e,16))})).join(""))).replace(/=/g,"").replace(/\//g,"_").replace(/\+/g,"-")}catch(e){return null}}(r["cenc:default_KID"])]};n=(new TextEncoder).encode(JSON.stringify(i))}return n}catch(e){return null}},getRequestHeadersFromMessage:function(){return{"Content-Type":"application/json"}},getLicenseRequestFromMessage:function(e){return JSON.stringify(JSON.parse(String.fromCharCode.apply(null,new Uint8Array(e))))},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getClearKeysFromProtectionData:function(e,t){var r=null;if(e){for(var n=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(t))),i=[],o=0;o<n.kids.length;o++){var a=n.kids[o],s=e.clearkeys&&e.clearkeys.hasOwnProperty(a)?e.clearkeys[a]:null;if(!s)throw new Error("DRM: ClearKey keyID ("+a+") is not known!");i.push(new x(a,s))}r=new T(i)}return r}}}k.__dashjs_factory_name="KeySystemClearKey";var P=dashjs.FactoryMaker.getSingletonFactory(k),O="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",j=M.CLEARKEY_KEYSTEM_STRING,N="urn:uuid:"+O;function L(e){var t,r=e.BASE64,n=e.debug.getLogger(t);return{uuid:O,schemeIdURI:N,systemString:j,getInitData:function(e){return o.parseInitDataFromContentProtection(e,r)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(e){return new Uint8Array(e)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getClearKeysFromProtectionData:function(e,t){var r=null;if(e){for(var i=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(t))),o=[],a=0;a<i.kids.length;a++){var s=i.kids[a],l=e.clearkeys&&e.clearkeys.hasOwnProperty(s)?e.clearkeys[s]:null;if(!l)throw new Error("DRM: ClearKey keyID ("+s+") is not known!");o.push(new x(s,l))}r=new T(o),n.warn("ClearKey schemeIdURI is using W3C Common PSSH systemID (1077efec-c0b2-4d02-ace3-3c1e52e2fb4b) in Content Protection. See DASH-IF IOP v4.1 section 7.6.2.4")}return r}}}L.__dashjs_factory_name="KeySystemW3CClearKey";var D=dashjs.FactoryMaker.getSingletonFactory(L),F="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",U=M.WIDEVINE_KEYSTEM_STRING,B="urn:uuid:"+F;function G(e){var t=(e=e||{}).BASE64;return{uuid:F,schemeIdURI:B,systemString:U,getInitData:function(e){return o.parseInitDataFromContentProtection(e,t)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(e){return new Uint8Array(e)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null}}}G.__dashjs_factory_name="KeySystemWidevine";var z=dashjs.FactoryMaker.getSingletonFactory(G),V="9a04f079-9840-4286-ab92-e65be0885f95",H=M.PLAYREADY_KEYSTEM_STRING,W="urn:uuid:"+V;function Z(e){var t="utf-16",r=(e=e||{}).BASE64,n=e.settings;function i(){if(!r||!r.hasOwnProperty("decodeArray")||!r.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}return{uuid:V,schemeIdURI:W,systemString:H,getInitData:function(e){var t,n,a,s,l,u=new Uint8Array([112,115,115,104,0,0,0,0]),c=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),d=0,f=null;if(i(),!e)return null;if("pssh"in e)return o.parseInitDataFromContentProtection(e,r);if("pro"in e)f=r.decodeArray(e.pro.__text);else{if(!("prheader"in e))return null;f=r.decodeArray(e.prheader.__text)}return t=f.length,n=4+u.length+c.length+4+t,a=new ArrayBuffer(n),s=new Uint8Array(a),(l=new DataView(a)).setUint32(d,n),d+=4,s.set(u,d),d+=u.length,s.set(c,d),d+=c.length,l.setUint32(d,t),d+=4,s.set(f,d),d+=t,s.buffer},getRequestHeadersFromMessage:function(e){var r,i,o={},a=new DOMParser;if(n&&n.get().streaming.protection.detectPlayreadyMessageFormat&&"utf-16"===t&&e&&e.byteLength%2==1)return o["Content-Type"]="text/xml; charset=utf-8",o;var s="utf-16"===t?new Uint16Array(e):new Uint8Array(e);r=String.fromCharCode.apply(null,s);for(var l=(i=a.parseFromString(r,"application/xml")).getElementsByTagName("name"),u=i.getElementsByTagName("value"),c=0;c<l.length;c++)o[l[c].childNodes[0].nodeValue]=u[c].childNodes[0].nodeValue;return o.hasOwnProperty("Content")&&(o["Content-Type"]=o.Content,delete o.Content),o.hasOwnProperty("Content-Type")||(o["Content-Type"]="text/xml; charset=utf-8"),o},getLicenseRequestFromMessage:function(e){var o=null,a=new DOMParser;if(n&&n.get().streaming.protection.detectPlayreadyMessageFormat&&"utf-16"===t&&e&&e.byteLength%2==1)return e;var s="utf-16"===t?new Uint16Array(e):new Uint8Array(e);i();var l=String.fromCharCode.apply(null,s),u=a.parseFromString(l,"application/xml");if(!u.getElementsByTagName("PlayReadyKeyMessage")[0])return e;var c=u.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue;return c&&(o=r.decode(c)),o},getLicenseServerURLFromInitData:function(e){if(e)for(var t=new DataView(e),r=t.getUint16(4,!0),n=6,i=new DOMParser,o=0;o<r;o++){var a=t.getUint16(n,!0);n+=2;var s=t.getUint16(n,!0);if(n+=2,1===a){var l=e.slice(n,n+s),u=String.fromCharCode.apply(null,new Uint16Array(l)),c=i.parseFromString(u,"application/xml");if(c.getElementsByTagName("LA_URL")[0]){var d=c.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue;if(d)return d}if(c.getElementsByTagName("LUI_URL")[0]){var f=c.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue;if(f)return f}}else n+=s}return null},getCDMData:function(e){var t,n,o,a;if(i(),!e)return null;for(t=[],a=0;a<e.length;++a)t.push(e.charCodeAt(a)),t.push(0);for(t=String.fromCharCode.apply(null,t),t=r.encode(t),n='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">%CUSTOMDATA%</CustomData></LicenseAcquisition></PlayReadyCDMData>'.replace("%CUSTOMDATA%",t),o=[],a=0;a<n.length;++a)o.push(n.charCodeAt(a)),o.push(0);return new Uint8Array(o).buffer},setPlayReadyMessageFormat:function(e){if("utf-8"!==e&&"utf-16"!==e)throw new Error('Specified message format is not one of "utf-8" or "utf-16"');t=e}}}Z.__dashjs_factory_name="KeySystemPlayReady";var q=dashjs.FactoryMaker.getSingletonFactory(Z);function Y(e){var t=(e=e||{}).BASE64,r={};return r[M.WIDEVINE_KEYSTEM_STRING]={responseType:"json",getLicenseMessage:function(e){return t.decodeArray(e.license)},getErrorResponse:function(e){return e}},r[M.PLAYREADY_KEYSTEM_STRING]={responseType:"arraybuffer",getLicenseMessage:function(e){return e},getErrorResponse:function(e){return String.fromCharCode.apply(null,new Uint8Array(e))}},{getServerURLFromMessage:function(e){return e},getHTTPMethod:function(){return"POST"},getResponseType:function(e){return r[e].responseType},getLicenseMessage:function(e,n){return function(){if(!t||!t.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}(),r[n].getLicenseMessage(e)},getErrorResponse:function(e,t){return r[t].getErrorResponse(e)}}}Y.__dashjs_factory_name="DRMToday";var X=dashjs.FactoryMaker.getSingletonFactory(Y);function K(){var e="http://schemas.xmlsoap.org/soap/envelope/";function t(e){var t=String.fromCharCode.apply(null,new Uint8Array(e));return decodeURIComponent(escape(t))}function r(r){if(window.DOMParser){var n=t(r),i=(new window.DOMParser).parseFromString(n,"text/xml"),o=i?i.getElementsByTagNameNS(e,"Envelope")[0]:null,a=o?o.getElementsByTagNameNS(e,"Body")[0]:null;if(a&&a.getElementsByTagNameNS(e,"Fault")[0])return null}return r}function n(r){var n="",i="",o="",a=-1,s=-1;if(window.DOMParser){var l=t(r),u=(new window.DOMParser).parseFromString(l,"text/xml"),c=u?u.getElementsByTagNameNS(e,"Envelope")[0]:null,d=c?c.getElementsByTagNameNS(e,"Body")[0]:null,f=d?d.getElementsByTagNameNS(e,"Fault")[0]:null,h=f?f.getElementsByTagName("detail")[0]:null,p=h?h.getElementsByTagName("Exception")[0]:null,m=null;if(null===f)return l;n=(m=f.getElementsByTagName("faultstring")[0].firstChild)?m.nodeValue:null,null!==p&&(i=(m=p.getElementsByTagName("StatusCode")[0])?m.firstChild.nodeValue:null,a=(o=(m=p.getElementsByTagName("Message")[0])?m.firstChild.nodeValue:null)?o.lastIndexOf("[")+1:-1,s=o?o.indexOf("]"):-1,o=o?o.substring(a,s):"")}var g="code: ".concat(i,", name: ").concat(n);return o&&(g+=", message: ".concat(o)),g}return{getServerURLFromMessage:function(e){return e},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"arraybuffer"},getLicenseMessage:function(e){return r.call(this,e)},getErrorResponse:function(e){return n.call(this,e)}}}K.__dashjs_factory_name="PlayReady";var Q=b.Z.getSingletonFactory(K);function $(){return{getServerURLFromMessage:function(e){return e},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"arraybuffer"},getLicenseMessage:function(e){return e},getErrorResponse:function(e){return String.fromCharCode.apply(null,new Uint8Array(e))}}}$.__dashjs_factory_name="Widevine";var J=dashjs.FactoryMaker.getSingletonFactory($);function ee(){return{getServerURLFromMessage:function(e){return e},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"json"},getLicenseMessage:function(e){if(!e.hasOwnProperty("keys"))return null;for(var t=[],r=0;r<e.keys.length;r++){var n=e.keys[r],i=n.kid.replace(/=/g,""),o=n.k.replace(/=/g,"");t.push(new x(i,o))}return new T(t)},getErrorResponse:function(e){return String.fromCharCode.apply(null,new Uint8Array(e))}}}ee.__dashjs_factory_name="ClearKey";var te=dashjs.FactoryMaker.getSingletonFactory(ee);function re(){var e,t,r,n,i,a,s,l,u=this.context;function c(e,t){return t&&e in t?t[e]:null}function d(e,t){return e&&e.sessionId?e.sessionId:t&&t.sessionId?t.sessionId:null}function f(e,t){return e&&e.sessionType?e.sessionType:t}return e={initialize:function(){var e;n=[],e=q(u).getInstance({BASE64:i,settings:a}),n.push(e),e=z(u).getInstance({BASE64:i}),n.push(e),e=P(u).getInstance({BASE64:i}),n.push(e),s=e,e=D(u).getInstance({BASE64:i,debug:t}),n.push(e),l=e},setProtectionData:function(e){for(var t,r,i=0;i<n.length;i++){var o=n[i];o.hasOwnProperty("init")&&o.init((t=o.systemString,r=void 0,r=null,e&&(r=t in e?e[t]:null),r))}},isClearKey:function(e){return e===s||e===l},initDataEquals:function(e,t){if(e.byteLength===t.byteLength){for(var r=new Uint8Array(e),n=new Uint8Array(t),i=0;i<r.length;i++)if(r[i]!==n[i])return!1;return!0}return!1},getKeySystems:function(){return n},setKeySystems:function(e){n=e},getKeySystemBySystemString:function(e){for(var t=0;t<n.length;t++)if(n[t].systemString===e)return n[t];return null},getSupportedKeySystemsFromContentProtection:function(e,t,r){var i,a,s,l,u=[];if(e){var h=o.findCencContentProtection(e);for(s=0;s<n.length;++s){var p=c((a=n[s]).systemString,t);for(l=0;l<e.length;++l)if((i=e[l]).schemeIdUri.toLowerCase()===a.schemeIdURI){var m=a.getInitData(i,h);u.push({ks:n[s],keyId:i.keyId,initData:m,protData:p,cdmData:a.getCDMData(p?p.cdmData:null),sessionId:d(p,i),sessionType:f(p,r)})}}}return u},getSupportedKeySystemsFromSegmentPssh:function(e,t,r){for(var i,a=[],s=o.parsePSSHList(e),l=0;l<n.length;++l){var u=c((i=n[l]).systemString,t);i.uuid in s&&a.push({ks:i,initData:s[i.uuid],protData:u,cdmData:i.getCDMData(u?u.cdmData:null),sessionId:d(u),sessionType:f(u,r)})}return a},getLicenseServerModelInstance:function(e,t,r){if("license-release"===r||"individualization-request"===r)return null;var n=null;return t&&t.hasOwnProperty("drmtoday")?n=X(u).getInstance({BASE64:i}):e.systemString===M.WIDEVINE_KEYSTEM_STRING?n=J(u).getInstance():e.systemString===M.PLAYREADY_KEYSTEM_STRING?n=Q(u).getInstance():e.systemString===M.CLEARKEY_KEYSTEM_STRING&&(n=te(u).getInstance()),n},processClearKeyLicenseRequest:function(e,t,n){try{return e.getClearKeysFromProtectionData(t,n)}catch(e){return r.error("Failed to retrieve clearkeys from ProtectionData"),null}},setConfig:function(n){n&&(n.debug&&(t=n.debug,r=t.getLogger(e)),n.BASE64&&(i=n.BASE64),n.settings&&(a=n.settings))}},e}re.__dashjs_factory_name="ProtectionKeyController";var ne=dashjs.FactoryMaker.getSingletonFactory(re);function ie(e){return ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ie(e)}function oe(e,t){return oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},oe(e,t)}function ae(e,t){return!t||"object"!==ie(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function se(e){return se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},se(e)}var le=new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oe(e,t)}(i,e);var t,r,n=(t=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=se(t);if(r){var i=se(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return ae(this,e)});function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=n.call(this)).INTERNAL_KEY_MESSAGE="internalKeyMessage",e.INTERNAL_KEY_STATUS_CHANGED="internalkeyStatusChanged",e.KEY_ADDED="public_keyAdded",e.KEY_ERROR="public_keyError",e.KEY_MESSAGE="public_keyMessage",e.KEY_SESSION_CLOSED="public_keySessionClosed",e.KEY_SESSION_CREATED="public_keySessionCreated",e.KEY_SESSION_REMOVED="public_keySessionRemoved",e.KEY_STATUSES_CHANGED="public_keyStatusesChanged",e.KEY_SYSTEM_ACCESS_COMPLETE="public_keySystemAccessComplete",e.KEY_SYSTEM_SELECTED="public_keySystemSelected",e.LICENSE_REQUEST_COMPLETE="public_licenseRequestComplete",e.LICENSE_REQUEST_SENDING="public_licenseRequestSending",e.NEED_KEY="needkey",e.PROTECTION_CREATED="public_protectioncreated",e.PROTECTION_DESTROYED="public_protectiondestroyed",e.SERVER_CERTIFICATE_UPDATED="serverCertificateUpdated",e.TEARDOWN_COMPLETE="protectionTeardownComplete",e.VIDEO_ELEMENT_SELECTED="videoElementSelected",e.KEY_SESSION_UPDATED="public_keySessionUpdated",e}return i}(r(8342).Z)),ue=function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initData=t,this.initDataType=r},ce=function e(t,r,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sessionToken=t,this.message=r,this.defaultURL=n,this.messageType=i||"license-request"},de=function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.keySystem=t,this.ksConfiguration=r},fe={};function he(e){e=e||{};var t,r,n,i,o,a,s,l,u=this.context,c=e.eventBus,d=e.events,p=e.debug;function m(e,t,r,n){if(void 0===navigator.requestMediaKeySystemAccess||"function"!=typeof navigator.requestMediaKeySystemAccess){var i="Insecure origins are not allowed";return c.trigger(d.KEY_SYSTEM_ACCESS_COMPLETE,{error:i}),void n({error:i})}var o=e[t].protData&&e[t].protData.systemStringPriority?e[t].protData.systemStringPriority:null,a=e[t].configs,s=e[t].ks,l=s.systemString;(function(e,t){return new Promise((function(r,n){g(e,t,0,r,n)}))})(o||(fe[l]?fe[l]:[l]),a).then((function(e){var t="function"==typeof e.getConfiguration?e.getConfiguration():null,n=new de(s,t);n.mksa=e,c.trigger(d.KEY_SYSTEM_ACCESS_COMPLETE,{data:n}),r({data:n})})).catch((function(i){if(t+1<e.length)m(e,t+1,r,n);else{var o="Key system access denied! ";c.trigger(d.KEY_SYSTEM_ACCESS_COMPLETE,{error:o+i.message}),n({error:o+i.message})}}))}function g(e,t,n,i,o){var a=e[n];r.debug("Requesting key system access for system string ".concat(a)),navigator.requestMediaKeySystemAccess(a,t).then((function(e){e.selectedSystemString=a,i(e)})).catch((function(r){n+1<e.length?g(e,t,n+1,i,o):o(r)}))}function y(e){if(!e||!e.session)return Promise.resolve;var t=e.session;return t.removeEventListener("keystatuseschange",e),t.removeEventListener("message",e),t.close()}function v(e){for(var t=0;t<a.length;t++)if(a[t]===e){a.splice(t,1);break}}function b(e){var t,r;return e&&e.length>0&&(e[0]&&("string"==typeof e[0]?t=e[0]:r=e[0]),e[1]&&("string"==typeof e[1]?t=e[1]:r=e[1])),{status:t,keyId:r}}function _(e,t){var n={session:e,keyId:t.keyId,initData:t.initData,sessionId:t.sessionId,sessionType:t.sessionType,handleEvent:function(e){switch(e.type){case"keystatuseschange":c.trigger(d.KEY_STATUSES_CHANGED,{data:this}),e.target.keyStatuses.forEach((function(){var e=b(arguments);"expired"===e.status?c.trigger(d.INTERNAL_KEY_STATUS_CHANGED,{error:new h.Z(f.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE,f.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE)}):c.trigger(d.INTERNAL_KEY_STATUS_CHANGED,e)}));break;case"message":var t=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;c.trigger(d.INTERNAL_KEY_MESSAGE,{data:new ce(this,t,void 0,e.messageType)})}},getKeyId:function(){return this.keyId},getSessionId:function(){return e.sessionId},getSessionType:function(){return this.sessionType},getExpirationTime:function(){return e.expiration},getKeyStatuses:function(){return e.keyStatuses},getUsable:function(){var t=!1;return e.keyStatuses.forEach((function(){"usable"===b(arguments).status&&(t=!0)})),t}};return e.addEventListener("keystatuseschange",n),e.addEventListener("message",n),e.closed.then((function(){v(n),r.debug("DRM: Session closed.  SessionID = "+n.getSessionId()),c.trigger(d.KEY_SESSION_CLOSED,{data:n.getSessionId()})})),a.push(n),n}return t={getAllInitData:function(){for(var e=[],t=0;t<a.length;t++)a[t].initData&&e.push(a[t].initData);return e},getSessions:function(){return a},requestKeySystemAccess:function(e){return new Promise((function(t,r){m(e,0,t,r)}))},selectKeySystem:function(e){return new Promise((function(t,r){e.mksa.createMediaKeys().then((function(t){return n=e.keySystem,o=t,i?i.setMediaKeys(o):Promise.resolve()})).then((function(){t(n)})).catch((function(){r({error:"Error selecting keys system ("+e.keySystem.systemString+")! Could not create MediaKeys -- TODO"})}))}))},setMediaElement:function(e){i!==e&&(i&&(i.removeEventListener("encrypted",s),i.setMediaKeys&&i.setMediaKeys(null)),(i=e)&&(i.addEventListener("encrypted",s),i.setMediaKeys&&o&&i.setMediaKeys(o)))},setServerCertificate:function(e){if(!n||!o)throw new Error("Can not set server certificate until you have selected a key system");o.setServerCertificate(e).then((function(){r.info("DRM: License server certificate successfully updated."),c.trigger(d.SERVER_CERTIFICATE_UPDATED)})).catch((function(e){c.trigger(d.SERVER_CERTIFICATE_UPDATED,{error:new h.Z(f.SERVER_CERTIFICATE_UPDATED_ERROR_CODE,f.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE+e.name)})}))},createKeySession:function(e){if(!n||!o)throw new Error("Can not create sessions until you have selected a key system");var t=o.createSession(e.sessionType),i=_(t,e),a=n.systemString===M.CLEARKEY_KEYSTEM_STRING&&(e.initData||e.protData&&e.protData.clearkeys)?M.INITIALIZATION_DATA_TYPE_KEYIDS:M.INITIALIZATION_DATA_TYPE_CENC;t.generateRequest(a,e.initData).then((function(){r.debug("DRM: Session created.  SessionID = "+i.getSessionId()),c.trigger(d.KEY_SESSION_CREATED,{data:i})})).catch((function(e){v(i),c.trigger(d.KEY_SESSION_CREATED,{data:null,error:new h.Z(f.KEY_SESSION_CREATED_ERROR_CODE,f.KEY_SESSION_CREATED_ERROR_MESSAGE+"Error generating key request -- "+e.name)})}))},updateKeySession:function(e,t){var r=e.session;l.isClearKey(n)&&(t=t.toJWK()),r.update(t).then((function(){c.trigger(d.KEY_SESSION_UPDATED)})).catch((function(t){c.trigger(d.KEY_ERROR,{error:new h.Z(f.MEDIA_KEYERR_CODE,"Error sending update() message! "+t.name,e)})}))},loadKeySession:function(e){if(!n||!o)throw new Error("Can not load sessions until you have selected a key system");for(var t=e.sessionId,i=0;i<a.length;i++)if(t===a[i].sessionId)return void r.warn("DRM: Ignoring session ID because we have already seen it!");var s=o.createSession(e.sessionType),l=_(s,e);s.load(t).then((function(e){e?(r.debug("DRM: Session loaded.  SessionID = "+l.getSessionId()),c.trigger(d.KEY_SESSION_CREATED,{data:l})):(v(l),c.trigger(d.KEY_SESSION_CREATED,{data:null,error:new h.Z(f.KEY_SESSION_CREATED_ERROR_CODE,f.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session! Invalid Session ID ("+t+")")}))})).catch((function(e){v(l),c.trigger(d.KEY_SESSION_CREATED,{data:null,error:new h.Z(f.KEY_SESSION_CREATED_ERROR_CODE,f.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session ("+t+")! "+e.name)})}))},removeKeySession:function(e){e.session.remove().then((function(){r.debug("DRM: Session removed.  SessionID = "+e.getSessionId()),c.trigger(d.KEY_SESSION_REMOVED,{data:e.getSessionId()})}),(function(t){c.trigger(d.KEY_SESSION_REMOVED,{data:null,error:"Error removing session ("+e.getSessionId()+"). "+t.name})}))},closeKeySession:function(e){y(e).catch((function(t){v(e),c.trigger(d.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+e.getSessionId()+") "+t.name})}))},stop:function(){for(var e,t=0;t<a.length;t++)(e=a[t]).getUsable()||(y(e),v(e))},reset:function(){var e,t=a.length;0!==t?function(){for(var r=function(e){v(e),0===a.length&&(i?(i.removeEventListener("encrypted",s),i.setMediaKeys(null).then((function(){c.trigger(d.TEARDOWN_COMPLETE)}))):c.trigger(d.TEARDOWN_COMPLETE))},n=0;n<t;n++)!function(t){y(e),r(t)}(e=a[n])}():c.trigger(d.TEARDOWN_COMPLETE)}},r=p.getLogger(t),n=null,i=null,o=null,a=[],l=ne(u).getInstance(),s={handleEvent:function(e){if("encrypted"===e.type&&e.initData){var t=ArrayBuffer.isView(e.initData)?e.initData.buffer:e.initData;c.trigger(d.NEED_KEY,{key:new ue(t,e.initDataType)})}}},t}fe[M.PLAYREADY_KEYSTEM_STRING]=[M.PLAYREADY_KEYSTEM_STRING,M.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING],fe[M.WIDEVINE_KEYSTEM_STRING]=[M.WIDEVINE_KEYSTEM_STRING],fe[M.CLEARKEY_KEYSTEM_STRING]=[M.CLEARKEY_KEYSTEM_STRING],he.__dashjs_factory_name="ProtectionModel_21Jan2015";var pe=dashjs.FactoryMaker.getClassFactory(he);function me(e){e=e||{};var t,r,n,i,o,a,l,u,c,d=this.context,p=e.eventBus,m=e.events,g=e.debug,y=e.api;function v(){try{for(var e=0;e<l.length;e++)b(l[e]);n&&n.removeEventListener(y.needkey,u),p.trigger(m.TEARDOWN_COMPLETE)}catch(e){p.trigger(m.TEARDOWN_COMPLETE,{error:"Error tearing down key sessions and MediaKeys! -- "+e.message})}}function b(e){var t=e.session;t.removeEventListener(y.error,e),t.removeEventListener(y.message,e),t.removeEventListener(y.ready,e),t.removeEventListener(y.close,e);for(var r=0;r<l.length;r++)if(l[r]===e){l.splice(r,1);break}t[y.release]()}function _(){var e=null,t=function(){n.removeEventListener("loadedmetadata",e),n[y.setMediaKeys](o),p.trigger(m.VIDEO_ELEMENT_SELECTED)};n.readyState>=1?t():(e=t.bind(this),n.addEventListener("loadedmetadata",e))}return t={getAllInitData:function(){for(var e=[],t=0;t<l.length;t++)e.push(l[t].initData);return e},getSessions:function(){return l},requestKeySystemAccess:function(e){return new Promise((function(t,r){for(var n=!1,i=0;i<e.length;i++)for(var o=e[i].ks.systemString,a=e[i].configs,l=null,u=null,d=0;d<a.length;d++){var f=a[d].audioCapabilities,h=a[d].videoCapabilities;if(f&&0!==f.length){l=[];for(var g=0;g<f.length;g++)window[y.MediaKeys].isTypeSupported(o,f[g].contentType)&&l.push(f[g])}if(h&&0!==h.length){u=[];for(var v=0;v<h.length;v++)window[y.MediaKeys].isTypeSupported(o,h[v].contentType)&&u.push(h[v])}if(!(!l&&!u||l&&0===l.length||u&&0===u.length)){n=!0;var b=new s(l,u),_=c.getKeySystemBySystemString(o),w=new de(_,b);p.trigger(m.KEY_SYSTEM_ACCESS_COMPLETE,{data:w}),t({data:w});break}}if(!n){var E="Key system access denied! -- No valid audio/video content configurations detected!";p.trigger(m.KEY_SYSTEM_ACCESS_COMPLETE,{error:E}),r({error:E})}}))},selectKeySystem:function(e){return new Promise((function(t,r){try{o=e.mediaKeys=new window[y.MediaKeys](e.keySystem.systemString),i=e.keySystem,a=e,n&&_(),t(i)}catch(e){r({error:"Error selecting keys system ("+i.systemString+")! Could not create MediaKeys -- TODO"})}}))},setMediaElement:function(e){n!==e&&(n&&n.removeEventListener(y.needkey,u),(n=e)&&(n.addEventListener(y.needkey,u),o&&_()))},createKeySession:function(e){if(!i||!o||!a)throw new Error("Can not create sessions until you have selected a key system");var t=null;if(a.ksConfiguration.videoCapabilities&&a.ksConfiguration.videoCapabilities.length>0&&(t=a.ksConfiguration.videoCapabilities[0]),null===t&&a.ksConfiguration.audioCapabilities&&a.ksConfiguration.audioCapabilities.length>0&&(t=a.ksConfiguration.audioCapabilities[0]),null===t)throw new Error("Can not create sessions for unknown content types.");var n=t.contentType,s=o.createSession(n,new Uint8Array(e.initData),e.cdmData?new Uint8Array(e.cdmData):null),u=function(e,t){return{session:e,keyId:t.keyId,initData:t.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.session.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},handleEvent:function(e){switch(e.type){case y.error:p.trigger(m.KEY_ERROR,{error:new h.Z(f.MEDIA_KEYERR_CODE,"KeyError",this)});break;case y.message:var t=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;p.trigger(m.INTERNAL_KEY_MESSAGE,{data:new ce(this,t,e.destinationURL)});break;case y.ready:r.debug("DRM: Key added."),p.trigger(m.KEY_ADDED);break;case y.close:r.debug("DRM: Session closed.  SessionID = "+this.getSessionId()),p.trigger(m.KEY_SESSION_CLOSED,{data:this.getSessionId()})}}}}(s,e);s.addEventListener(y.error,u),s.addEventListener(y.message,u),s.addEventListener(y.ready,u),s.addEventListener(y.close,u),l.push(u),r.debug("DRM: Session created.  SessionID = "+u.getSessionId()),p.trigger(m.KEY_SESSION_CREATED,{data:u})},updateKeySession:function(e,t){var r=e.session;c.isClearKey(i)?r.update(new Uint8Array(t.toJWK())):r.update(new Uint8Array(t)),p.trigger(m.KEY_SESSION_UPDATED)},closeKeySession:b,setServerCertificate:function(){},loadKeySession:function(){},removeKeySession:function(){},stop:v,reset:v},r=g.getLogger(t),n=null,i=null,o=null,a=null,l=[],c=ne(d).getInstance(),u={handleEvent:function(e){if(e.type===y.needkey&&e.initData){var t=ArrayBuffer.isView(e.initData)?e.initData.buffer:e.initData;p.trigger(m.NEED_KEY,{key:new ue(t,"cenc")})}}},t}me.__dashjs_factory_name="ProtectionModel_3Feb2014";var ge=dashjs.FactoryMaker.getClassFactory(me);function ye(e){e=e||{};var t,r,n,i,o,a,l,u,c,d=this.context,p=e.eventBus,m=e.events,g=e.debug,y=e.api,v=e.errHandler;function b(){n&&E();for(var e=0;e<l.length;e++)_(l[e]);p.trigger(m.TEARDOWN_COMPLETE)}function _(e){try{n[y.cancelKeyRequest](i.systemString,e.sessionId)}catch(t){p.trigger(m.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+e.sessionId+") "+t.message})}}function w(e,t){if(t&&e){for(var r=e.length,n=0;n<r;n++)if(e[n].sessionId==t)return e[n];return null}return null}function E(){n.removeEventListener(y.keyerror,c),n.removeEventListener(y.needkey,c),n.removeEventListener(y.keymessage,c),n.removeEventListener(y.keyadded,c)}return t={getAllInitData:function(){for(var e=[],t=0;t<a.length;t++)e.push(a[t].initData);for(var r=0;r<l.length;r++)e.push(l[r].initData);return e},getSessions:function(){return l.concat(a)},requestKeySystemAccess:function(e){return new Promise((function(t,r){var i=n;i||(i=document.createElement("video"));for(var a=!1,l=0;l<e.length;l++)for(var u=e[l].ks.systemString,c=e[l].configs,d=null,f=0;f<c.length;f++){var h=c[f].videoCapabilities;if(h&&0!==h.length){d=[];for(var g=0;g<h.length;g++)""!==i.canPlayType(h[g].contentType,u)&&d.push(h[g])}if(d&&(!d||0!==d.length)){a=!0;var y=new s(null,d),v=o.getKeySystemBySystemString(u),b=new de(v,y);p.trigger(m.KEY_SYSTEM_ACCESS_COMPLETE,{data:b}),t({data:b});break}}if(!a){var _="Key system access denied! -- No valid audio/video content configurations detected!";p.trigger(m.KEY_SYSTEM_ACCESS_COMPLETE,{error:_}),r({error:_})}}))},selectKeySystem:function(e){return i=e.keySystem,Promise.resolve(i)},setMediaElement:function(e){if(n!==e){if(n){E();for(var t=0;t<l.length;t++)_(l[t]);l=[]}(n=e)&&(n.addEventListener(y.keyerror,c),n.addEventListener(y.needkey,c),n.addEventListener(y.keymessage,c),n.addEventListener(y.keyadded,c),p.trigger(m.VIDEO_ELEMENT_SELECTED))}},createKeySession:function(e){if(!i)throw new Error("Can not create sessions until you have selected a key system");if(u||0===l.length){var t={sessionId:null,keyId:e.keyId,initData:e.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"}};return a.push(t),n[y.generateKeyRequest](i.systemString,new Uint8Array(e.initData)),t}throw new Error("Multiple sessions not allowed!")},updateKeySession:function(e,t){var r=e.sessionId;if(o.isClearKey(i))for(var a=0;a<t.keyPairs.length;a++)n[y.addKey](i.systemString,t.keyPairs[a].key,t.keyPairs[a].keyID,r);else n[y.addKey](i.systemString,new Uint8Array(t),new Uint8Array(e.initData),r);p.trigger(m.KEY_SESSION_UPDATED)},closeKeySession:_,setServerCertificate:function(){},loadKeySession:function(){},removeKeySession:function(){},stop:b,reset:b},r=g.getLogger(t),n=null,i=null,a=[],l=[],o=ne(d).getInstance(),c={handleEvent:function(e){var t=null;switch(e.type){case y.needkey:var n=ArrayBuffer.isView(e.initData)?e.initData.buffer:e.initData;p.trigger(m.NEED_KEY,{key:new ue(n,"cenc")});break;case y.keyerror:if((t=w(l,e.sessionId))||(t=w(a,e.sessionId)),t){var i=f.MEDIA_KEYERR_CODE,o="";switch(e.errorCode.code){case 1:i=f.MEDIA_KEYERR_UNKNOWN_CODE,o+="MEDIA_KEYERR_UNKNOWN - "+f.MEDIA_KEYERR_UNKNOWN_MESSAGE;break;case 2:i=f.MEDIA_KEYERR_CLIENT_CODE,o+="MEDIA_KEYERR_CLIENT - "+f.MEDIA_KEYERR_CLIENT_MESSAGE;break;case 3:i=f.MEDIA_KEYERR_SERVICE_CODE,o+="MEDIA_KEYERR_SERVICE - "+f.MEDIA_KEYERR_SERVICE_MESSAGE;break;case 4:i=f.MEDIA_KEYERR_OUTPUT_CODE,o+="MEDIA_KEYERR_OUTPUT - "+f.MEDIA_KEYERR_OUTPUT_MESSAGE;break;case 5:i=f.MEDIA_KEYERR_HARDWARECHANGE_CODE,o+="MEDIA_KEYERR_HARDWARECHANGE - "+f.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE;break;case 6:i=f.MEDIA_KEYERR_DOMAIN_CODE,o+="MEDIA_KEYERR_DOMAIN - "+f.MEDIA_KEYERR_DOMAIN_MESSAGE}o+="  System Code = "+e.systemCode,p.trigger(m.KEY_ERROR,{error:new h.Z(i,o,t)})}else r.error("No session token found for key error");break;case y.keyadded:(t=w(l,e.sessionId))||(t=w(a,e.sessionId)),t?(r.debug("DRM: Key added."),p.trigger(m.KEY_ADDED,{data:t})):r.debug("No session token found for key added");break;case y.keymessage:if((u=null!==e.sessionId&&void 0!==e.sessionId)?!(t=w(l,e.sessionId))&&a.length>0&&(t=a.shift(),l.push(t),t.sessionId=e.sessionId,p.trigger(m.KEY_SESSION_CREATED,{data:t})):a.length>0&&(t=a.shift(),l.push(t),0!==a.length&&v.error(new h.Z(f.MEDIA_KEY_MESSAGE_ERROR_CODE,f.MEDIA_KEY_MESSAGE_ERROR_MESSAGE))),t){var s=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;t.keyMessage=s,p.trigger(m.INTERNAL_KEY_MESSAGE,{data:new ce(t,s,e.defaultURL)})}else r.warn("No session token found for key message")}}},t}ye.__dashjs_factory_name="ProtectionModel_01b";var ve=dashjs.FactoryMaker.getClassFactory(ye),be=[{generateKeyRequest:"generateKeyRequest",addKey:"addKey",cancelKeyRequest:"cancelKeyRequest",needkey:"needkey",keyerror:"keyerror",keyadded:"keyadded",keymessage:"keymessage"},{generateKeyRequest:"webkitGenerateKeyRequest",addKey:"webkitAddKey",cancelKeyRequest:"webkitCancelKeyRequest",needkey:"webkitneedkey",keyerror:"webkitkeyerror",keyadded:"webkitkeyadded",keymessage:"webkitkeymessage"}],_e=[{setMediaKeys:"setMediaKeys",MediaKeys:"MediaKeys",release:"close",needkey:"needkey",error:"keyerror",message:"keymessage",ready:"keyadded",close:"keyclose"},{setMediaKeys:"msSetMediaKeys",MediaKeys:"MSMediaKeys",release:"close",needkey:"msneedkey",error:"mskeyerror",message:"mskeymessage",ready:"mskeyadded",close:"mskeyclose"}];function we(){var e,t=this.context;function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];if("function"==typeof e[n[Object.keys(n)[0]]])return n}return null}return e={createProtectionSystem:function(n){var i=null,o=ne(t).getInstance();o.setConfig({debug:n.debug,BASE64:n.BASE64,settings:n.settings}),o.initialize();var a=function(n){var i=n.debug,o=i.getLogger(e),a=n.eventBus,s=n.errHandler,l=n.videoModel?n.videoModel.getElement():null;return l&&void 0===l.onencrypted||l&&void 0===l.mediaKeys?r(l,_e)?(o.info("EME detected on this user agent! (ProtectionModel_3Feb2014)"),ge(t).create({debug:i,eventBus:a,events:n.events,api:r(l,_e)})):r(l,be)?(o.info("EME detected on this user agent! (ProtectionModel_01b)"),ve(t).create({debug:i,eventBus:a,errHandler:s,events:n.events,api:r(l,be)})):(o.warn("No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!"),null):(o.info("EME detected on this user agent! (ProtectionModel_21Jan2015)"),pe(t).create({debug:i,eventBus:a,events:n.events}))}(n);return!i&&a&&(i=E(t).create({protectionModel:a,protectionKeyController:o,eventBus:n.eventBus,debug:n.debug,events:n.events,BASE64:n.BASE64,constants:n.constants,cmcdModel:n.cmcdModel,customParametersModel:n.customParametersModel,settings:n.settings}),n.capabilities.setEncryptedMediaSupported(!0)),i}}}we.__dashjs_factory_name="Protection";var Ee=dashjs.FactoryMaker.getClassFactory(we);Ee.events=le,Ee.errors=f,dashjs.FactoryMaker.updateClassFactory(we.__dashjs_factory_name,Ee);var xe=Ee},2068:function(e,t,r){"use strict";var n=r(5448),i={DEFAULT:.5,STRONG:1,WEAK:0};function o(e,t,r){var n,o;return n=void 0===e?-1:e,o=function(e){var t=i.DEFAULT;return e!==i.DEFAULT&&e!==i.STRONG&&e!==i.WEAK||(t=e),t}(r),{quality:n,reason:void 0===t?null:t,priority:o}}o.__dashjs_factory_name="SwitchRequest";var a=n.Z.getClassFactory(o);a.NO_CHANGE=-1,a.PRIORITY=i,n.Z.updateClassFactory(o.__dashjs_factory_name,a),t.Z=a},1767:function(e,t,r){"use strict";var n=r(5628),i=r(6535),o=r(7423),a=r(895),s=r(6070),l=r(3112),u=r(1914),c=r(5435),d=r(5448),f=r(2068),h=r(3393),p="qualitySwitchRules",m="abandonFragmentRules";function g(e){e=e||{};var t,r,d=this.context,g=e.mediaPlayerModel,y=e.customParametersModel,v=e.dashMetrics,b=e.settings;function _(e){return e.filter((function(e){return e.quality>f.Z.NO_CHANGE}))}function w(e){var t,r,n,i,o,a={},s=null;if(0!==e.length){for(a[f.Z.PRIORITY.STRONG]={quality:f.Z.NO_CHANGE,reason:null},a[f.Z.PRIORITY.WEAK]={quality:f.Z.NO_CHANGE,reason:null},a[f.Z.PRIORITY.DEFAULT]={quality:f.Z.NO_CHANGE,reason:null},t=0,r=e.length;t<r;t+=1)(n=e[t]).quality!==f.Z.NO_CHANGE&&(a[n.priority].quality===f.Z.NO_CHANGE||a[n.priority].quality>n.quality)&&(a[n.priority].quality=n.quality,a[n.priority].reason=n.reason||null);return a[f.Z.PRIORITY.WEAK].quality!==f.Z.NO_CHANGE&&(s=a[f.Z.PRIORITY.WEAK]),a[f.Z.PRIORITY.DEFAULT].quality!==f.Z.NO_CHANGE&&(s=a[f.Z.PRIORITY.DEFAULT]),a[f.Z.PRIORITY.STRONG].quality!==f.Z.NO_CHANGE&&(s=a[f.Z.PRIORITY.STRONG]),s&&(i=s.quality,o=s.reason),(0,f.Z)(d).create(i,o)}}return{initialize:function(){t=[],r=[],b.get().streaming.abr.useDefaultABRRules&&(b.get().streaming.abr.ABRStrategy===h.Z.ABR_STRATEGY_L2A?t.push((0,u.Z)(d).create({dashMetrics:v,settings:b})):b.get().streaming.abr.ABRStrategy===h.Z.ABR_STRATEGY_LoLP?t.push((0,c.Z)(d).create({dashMetrics:v})):(t.push((0,l.Z)(d).create({dashMetrics:v,mediaPlayerModel:g,settings:b})),t.push((0,n.Z)(d).create({dashMetrics:v})),b.get().streaming.abr.additionalAbrRules.insufficientBufferRule&&t.push((0,i.Z)(d).create({dashMetrics:v,settings:b})),b.get().streaming.abr.additionalAbrRules.switchHistoryRule&&t.push((0,s.Z)(d).create()),b.get().streaming.abr.additionalAbrRules.droppedFramesRule&&t.push((0,a.Z)(d).create()),b.get().streaming.abr.additionalAbrRules.abandonRequestsRule&&r.push((0,o.Z)(d).create({dashMetrics:v,mediaPlayerModel:g,settings:b})))),y.getAbrCustomRules().forEach((function(e){e.type===p&&t.push(e.rule(d).create()),e.type===m&&r.push(e.rule(d).create())}))},reset:function(){[t,r].forEach((function(e){e&&e.length&&e.forEach((function(e){return e.reset&&e.reset()}))})),t=[],r=[]},getMaxQuality:function(e){return w(_(t.map((function(t){return t.getMaxIndex(e)}))))||(0,f.Z)(d).create()},getMinSwitchRequest:w,shouldAbandonFragment:function(e,t){var n=w(_(r.map((function(r){return r.shouldAbandon(e,t)}))));return n&&(n.reason.forceAbandon=!0),n||(0,f.Z)(d).create()},getQualitySwitchRules:function(){return t}}}g.__dashjs_factory_name="ABRRulesCollection";var y=d.Z.getClassFactory(g);y.QUALITY_SWITCH_RULES=p,y.ABANDON_FRAGMENT_RULES=m,d.Z.updateSingletonFactory(g.__dashjs_factory_name,y),t.Z=y},7423:function(e,t,r){"use strict";var n=r(2068),i=r(5448),o=r(6398);function a(e){e=e||{};var t,r,i,s,l,u=this.context,c=e.mediaPlayerModel,d=e.dashMetrics,f=e.settings;function h(){i={},s={},l=[]}return t={shouldAbandon:function(e){var t=(0,n.Z)(u).create(n.Z.NO_CHANGE,{name:a.__dashjs_factory_name});if(!(e&&e.hasOwnProperty("getMediaInfo")&&e.hasOwnProperty("getMediaType")&&e.hasOwnProperty("getCurrentRequest")&&e.hasOwnProperty("getRepresentationInfo")&&e.hasOwnProperty("getAbrController")))return t;var o,h,p=e.getMediaInfo(),m=e.getMediaType(),g=e.getStreamInfo(),y=g?g.id:null,v=e.getCurrentRequest();if(!isNaN(v.index)){o=m,h=v.index,i[o]=i[o]||{},i[o][h]=i[o][h]||{};var b=c.getStableBufferTime();if(d.getCurrentBufferLevel(m)>b)return t;var _=i[m][v.index];if(null===_||null===v.firstByteDate||s.hasOwnProperty(_.id))return t;if(void 0===_.firstByteTime&&(l[m]=[],_.firstByteTime=v.firstByteDate.getTime(),_.segmentDuration=v.duration,_.bytesTotal=v.bytesTotal,_.id=v.index),_.bytesLoaded=v.bytesLoaded,_.elapsedTime=(new Date).getTime()-_.firstByteTime,_.bytesLoaded>0&&_.elapsedTime>0&&function(e,t){l[e]=l[e]||[],l[e].push(t)}(m,Math.round(8*_.bytesLoaded/_.elapsedTime)),l[m].length>=f.get().streaming.abr.abrRulesParameters.abandonRequestsRule.minLengthToAverage&&_.elapsedTime>f.get().streaming.abr.abrRulesParameters.abandonRequestsRule.graceTimeThreshold&&_.bytesLoaded<_.bytesTotal){var w=l[m].reduce((function(e,t){return e+t}),0);if(_.measuredBandwidthInKbps=Math.round(w/l[m].length),_.estimatedTimeOfDownload=+(8*_.bytesTotal/_.measuredBandwidthInKbps/1e3).toFixed(2),_.estimatedTimeOfDownload<_.segmentDuration*f.get().streaming.abr.abrRulesParameters.abandonRequestsRule.abandonMultiplier||0===e.getRepresentationInfo().quality)return t;if(!s.hasOwnProperty(_.id)){var E=e.getAbrController(),x=_.bytesTotal-_.bytesLoaded,S=E.getBitrateList(p),T=E.getQualityForBitrate(p,_.measuredBandwidthInKbps*f.get().streaming.abr.bandwidthSafetyFactor,y),A=E.getMinAllowedIndexFor(m,y),M=void 0!==A?Math.max(A,T):T;x>_.bytesTotal*S[M].bitrate/S[E.getQualityFor(m,y)].bitrate&&(t.quality=M,t.reason.throughput=_.measuredBandwidthInKbps,t.reason.fragmentID=_.id,t.reason.rule=this.getClassName(),s[_.id]=_,r.debug("["+m+"] frag id",_.id," is asking to abandon and switch to quality to ",M," measured bandwidth was",_.measuredBandwidthInKbps),delete i[m][_.id])}}else _.bytesLoaded===_.bytesTotal&&delete i[m][_.id]}return t},reset:h},r=(0,o.Z)(u).getInstance().getLogger(t),h(),t}a.__dashjs_factory_name="AbandonRequestsRule",t.Z=i.Z.getClassFactory(a)},3112:function(e,t,r){"use strict";var n=r(3860),i=r(2068),o=r(5448),a=r(7855),s=r(5595),l=r(8512),u=r(6398),c=r(8825),d=r(3393),f=10;function h(e){e=e||{};var t,r,o,h=this.context,p=e.dashMetrics,m=e.mediaPlayerModel,g=(0,s.Z)(h).getInstance();function y(e,t,r){var n=r.reduce((function(e,t,n){return t>r[e]?n:e}),0);if(0===n)return null;var i=Math.max(e,f+2*t.length),o=(r[n]-1)/(i/f-1);return{gp:o,Vp:f/o}}function v(e){e.placeholderBuffer=0,e.mostAdvancedSegmentStart=NaN,e.lastSegmentWasReplacement=!1,e.lastSegmentStart=NaN,e.lastSegmentDurationS=NaN,e.lastSegmentRequestTimeMs=NaN,e.lastSegmentFinishTimeMs=NaN}function b(e,t){var r=m.getStableBufferTime();if(e.stableBufferTime!==r){var n=y(r,e.bitrates,e.utilities);if(n.Vp!==e.Vp||n.gp!==e.gp){var i=p.getCurrentBufferLevel(t),o=i+e.placeholderBuffer;o-=f,o*=n.Vp/e.Vp,o+=f,e.stableBufferTime=r,e.Vp=n.Vp,e.gp=n.gp,e.placeholderBuffer=Math.max(0,o-i)}}}function _(e,t){return e.Vp*(e.utilities[t]+e.gp)}function w(e,t){for(var r=e.bitrates[t],n=e.utilities[t],i=0,o=t-1;o>=0;--o)if(e.utilities[o]<e.utilities[t]){var a=e.bitrates[o],s=e.utilities[o],l=e.Vp*(e.gp+(r*s-a*n)/(r-a));i=Math.max(i,l)}return i}function E(e){var t=e.mediaType===d.Z.AUDIO?[d.Z.AUDIO]:o;for(var r in t)o.hasOwnProperty(r)&&2===o[r].state&&(o[r].placeholderBuffer=0)}function x(){for(var e in o)if(o.hasOwnProperty(e)){var t=o[e];0!==t.state&&(t.state=1,v(t))}}function S(e){if(e&&e.chunk&&e.chunk.mediaInfo){var t=o[e.chunk.mediaInfo.type];if(t&&0!==t.state){var r=e.chunk.start;isNaN(t.mostAdvancedSegmentStart)||r>t.mostAdvancedSegmentStart?(t.mostAdvancedSegmentStart=r,t.lastSegmentWasReplacement=!1):t.lastSegmentWasReplacement=!0,t.lastSegmentStart=r,t.lastSegmentDurationS=e.chunk.duration,t.lastQuality=e.chunk.quality,A(t,e.chunk.mediaInfo.type)}}}function T(e){if(e&&e.metric===n.Z.HTTP_REQUEST&&e.value&&e.value.type===a.w.MEDIA_SEGMENT_TYPE&&e.value.trace&&e.value.trace.length){var t=o[e.mediaType];t&&0!==t.state&&(t.lastSegmentRequestTimeMs=e.value.trequest.getTime(),t.lastSegmentFinishTimeMs=e.value._tfinish.getTime(),A(t,e.mediaType))}}function A(e,t){if(!isNaN(e.lastSegmentStart)&&!isNaN(e.lastSegmentRequestTimeMs)&&!isNaN(e.placeholderBuffer)){if(e.placeholderBuffer*=.99,!isNaN(e.lastSegmentFinishTimeMs)){var r=p.getCurrentBufferLevel(t)+.001*(e.lastSegmentFinishTimeMs-e.lastSegmentRequestTimeMs),n=_(e,e.lastQuality),i=Math.max(0,n-r);e.placeholderBuffer=Math.min(i,e.placeholderBuffer)}e.lastSegmentWasReplacement&&!isNaN(e.lastSegmentDurationS)&&(e.placeholderBuffer+=e.lastSegmentDurationS),e.lastSegmentStart=NaN,e.lastSegmentRequestTimeMs=NaN}}function M(e){if(e){var t=o[e.mediaType];t&&0!==t.state&&(t.abrQuality=e.newQuality)}}function R(e){if(e){var t=o[e.mediaType];if(t&&0!==t.state){var r,n=p.getCurrentBufferLevel(e.mediaType);r=t.abrQuality>0?w(t,t.abrQuality):f;var i=Math.max(0,r-n);t.placeholderBuffer=Math.min(t.placeholderBuffer,i)}}}function C(){o={}}return t={getMaxIndex:function(e){var t=(0,i.Z)(h).create();if(!(e&&e.hasOwnProperty("getMediaInfo")&&e.hasOwnProperty("getMediaType")&&e.hasOwnProperty("getScheduleController")&&e.hasOwnProperty("getStreamInfo")&&e.hasOwnProperty("getAbrController")&&e.hasOwnProperty("useBufferOccupancyABR")))return t;var n=e.getMediaInfo(),a=e.getMediaType(),s=e.getScheduleController(),l=e.getStreamInfo(),u=e.getAbrController(),c=u.getThroughputHistory(),d=l?l.id:null,f=l&&l.manifestInfo&&l.manifestInfo.isDynamic,g=e.useBufferOccupancyABR();if(t.reason=t.reason||{},!g)return t;s.setTimeToLoadDelay(0);var E=function(e){var t=e.getMediaType(),r=o[t];return r?0!==r.state&&b(r,t):(r=function(e){var t={},r=e.getMediaInfo().bitrateList.map((function(e){return e.bandwidth})),n=function(e){return e.map((function(e){return Math.log(e)}))}(r);n=n.map((function(e){return e-n[0]+1}));var i=m.getStableBufferTime(),o=y(i,r,n);return o?(t.state=1,t.bitrates=r,t.utilities=n,t.stableBufferTime=i,t.Vp=o.Vp,t.gp=o.gp,t.lastQuality=0,v(t)):t.state=0,t}(e),o[t]=r),r}(e);if(0===E.state)return t;var x,S=p.getCurrentBufferLevel(a),T=c.getAverageThroughput(a,f),A=c.getSafeAverageThroughput(a,f),M=c.getAverageLatency(a);if(t.reason.state=E.state,t.reason.throughput=T,t.reason.latency=M,isNaN(T))return t;switch(E.state){case 1:x=u.getQualityForBitrate(n,A,d,M),t.quality=x,t.reason.throughput=A,E.placeholderBuffer=Math.max(0,w(E,x)-S),E.lastQuality=x,!isNaN(E.lastSegmentDurationS)&&S>=E.lastSegmentDurationS&&(E.state=2);break;case 2:!function(e,t){var r=Date.now();if(isNaN(e.lastSegmentFinishTimeMs)){if(!isNaN(e.lastCallTimeMs)){var n=.001*(r-e.lastCallTimeMs);e.placeholderBuffer+=Math.max(0,n)}}else{var i=.001*(r-e.lastSegmentFinishTimeMs);e.placeholderBuffer+=Math.max(0,i)}e.lastCallTimeMs=r,e.lastSegmentStart=NaN,e.lastSegmentRequestTimeMs=NaN,e.lastSegmentFinishTimeMs=NaN,b(e,t)}(E,a),x=function(e,t){for(var r=e.bitrates.length,n=NaN,i=NaN,o=0;o<r;++o){var a=(e.Vp*(e.utilities[o]+e.gp)-t)/e.bitrates[o];(isNaN(i)||a>=i)&&(i=a,n=o)}return n}(E,S+E.placeholderBuffer);var R=u.getQualityForBitrate(n,A,d,M);x>E.lastQuality&&x>R&&(x=Math.max(R,E.lastQuality));var C=Math.max(0,S+E.placeholderBuffer-_(E,x));C<=E.placeholderBuffer?(E.placeholderBuffer-=C,C=0):(C-=E.placeholderBuffer,E.placeholderBuffer=0,x<u.getMaxAllowedIndexFor(a,d)?s.setTimeToLoadDelay(1e3*C):C=0),t.quality=x,t.reason.throughput=T,t.reason.latency=M,t.reason.bufferLevel=S,t.reason.placeholderBuffer=E.placeholderBuffer,t.reason.delay=C,E.lastQuality=x;break;default:r.debug("BOLA ABR rule invoked in bad state."),t.quality=u.getQualityForBitrate(n,A,d,M),t.reason.state=E.state,t.reason.throughput=A,t.reason.latency=M,E.state=1,v(E)}return t},reset:function(){C(),g.off(c.Z.BUFFER_EMPTY,E,t),g.off(c.Z.PLAYBACK_SEEKING,x,t),g.off(c.Z.METRIC_ADDED,T,t),g.off(c.Z.QUALITY_CHANGE_REQUESTED,M,t),g.off(c.Z.FRAGMENT_LOADING_ABANDONED,R,t),g.off(l.Z.MEDIA_FRAGMENT_LOADED,S,t)}},r=(0,u.Z)(h).getInstance().getLogger(t),C(),g.on(c.Z.BUFFER_EMPTY,E,t),g.on(c.Z.PLAYBACK_SEEKING,x,t),g.on(c.Z.METRIC_ADDED,T,t),g.on(c.Z.QUALITY_CHANGE_REQUESTED,M,t),g.on(c.Z.FRAGMENT_LOADING_ABANDONED,R,t),g.on(l.Z.MEDIA_FRAGMENT_LOADED,S,t),t}h.__dashjs_factory_name="BolaRule",t.Z=o.Z.getClassFactory(h)},895:function(e,t,r){"use strict";var n=r(5448),i=r(2068),o=r(6398);function a(){var e,t,r=this.context;return e={getMaxIndex:function(e){var n=(0,i.Z)(r).create();if(!e||!e.hasOwnProperty("getDroppedFramesHistory"))return n;var o=e.getDroppedFramesHistory(),a=e.getStreamInfo().id;if(o){var s=o.getFrameHistory(a);if(!s||0===s.length)return n;for(var l=0,u=0,c=i.Z.NO_CHANGE,d=1;d<s.length;d++)if(s[d]&&(l=s[d].droppedVideoFrames,(u=s[d].totalVideoFrames)>375&&l/u>.15)){c=d-1,t.debug("index: "+c+" Dropped Frames: "+l+" Total Frames: "+u);break}return(0,i.Z)(r).create(c,{droppedFrames:l})}return n}},t=(0,o.Z)(r).getInstance().getLogger(e),e}a.__dashjs_factory_name="DroppedFramesRule",t.Z=n.Z.getClassFactory(a)},6535:function(e,t,r){"use strict";var n=r(5595),i=r(8512),o=r(5448),a=r(6398),s=r(2068),l=r(3393),u=r(3860),c=r(8825);function d(e){e=e||{};var t,r,o,d=this.context,f=(0,n.Z)(d).getInstance(),h=e.dashMetrics;function p(){(o={})[l.Z.VIDEO]={ignoreCount:2},o[l.Z.AUDIO]={ignoreCount:2}}function m(){p()}function g(e){isNaN(e.startTime)||e.mediaType!==l.Z.AUDIO&&e.mediaType!==l.Z.VIDEO||o[e.mediaType].ignoreCount>0&&o[e.mediaType].ignoreCount--}return t={getMaxIndex:function(e){var t=(0,s.Z)(d).create();if(!e||!e.hasOwnProperty("getMediaType"))return t;!function(){if(!h||!h.hasOwnProperty("getCurrentBufferLevel")||!h.hasOwnProperty("getCurrentBufferState"))throw new Error(l.Z.MISSING_CONFIG_ERROR)}();var n=e.getMediaType(),i=h.getCurrentBufferState(n),a=e.getRepresentationInfo().fragmentDuration,c=e.getStreamInfo(),f=c?c.id:null,p=e.getScheduleController(),m=c&&c.manifestInfo&&c.manifestInfo.isDynamic;if(function(e,t){return!e&&o[t].ignoreCount>0}(p.getPlaybackController().getLowLatencyModeEnabled(),n)||!a)return t;if(i&&i.state===u.Z.BUFFER_EMPTY)r.debug("["+n+"] Switch to index 0; buffer is empty."),t.quality=0,t.reason="InsufficientBufferRule: Buffer is empty";else{var g=e.getMediaInfo(),y=e.getAbrController(),v=y.getThroughputHistory(),b=h.getCurrentBufferLevel(n),_=v.getAverageThroughput(n,m),w=v.getAverageLatency(n),E=_*(b/a)*.5;t.quality=y.getQualityForBitrate(g,E,f,w),t.reason="InsufficientBufferRule: being conservative to avoid immediate rebuffering"}return t},reset:function(){p(),f.off(c.Z.PLAYBACK_SEEKING,m,t),f.off(i.Z.BYTES_APPENDED_END_FRAGMENT,g,t)}},r=(0,a.Z)(d).getInstance().getLogger(t),p(),f.on(c.Z.PLAYBACK_SEEKING,m,t),f.on(i.Z.BYTES_APPENDED_END_FRAGMENT,g,t),t}d.__dashjs_factory_name="InsufficientBufferRule",t.Z=o.Z.getClassFactory(d)},1914:function(e,t,r){"use strict";var n=r(3860),i=r(2068),o=r(5448),a=r(7855),s=r(5595),l=r(8512),u=r(6398),c=r(3393);function d(e){e=e||{};var t,r,o,d,f=this.context,h=e.dashMetrics,p=(0,s.Z)(f).getInstance();function m(e){e.placeholderBuffer=0,e.mostAdvancedSegmentStart=NaN,e.lastSegmentWasReplacement=!1,e.lastSegmentStart=NaN,e.lastSegmentDurationS=NaN,e.lastSegmentRequestTimeMs=NaN,e.lastSegmentFinishTimeMs=NaN,e.lastSegmentUrl=""}function g(){for(var e in r)if(r.hasOwnProperty(e)){var t=r[e];0!==t.state&&(t.state=1,m(t))}}function y(e){if(e&&e.chunk&&e.chunk.mediaInfo){var t=r[e.chunk.mediaInfo.type],n=o[e.chunk.mediaInfo.type];if(t&&0!==t.state){var i=e.chunk.start;isNaN(t.mostAdvancedSegmentStart)||i>t.mostAdvancedSegmentStart?(t.mostAdvancedSegmentStart=i,t.lastSegmentWasReplacement=!1):t.lastSegmentWasReplacement=!0,t.lastSegmentStart=i,t.lastSegmentDurationS=e.chunk.duration,t.lastQuality=e.chunk.quality,b(t,n)}}}function v(e){if(e&&e.metric===n.Z.HTTP_REQUEST&&e.value&&e.value.type===a.w.MEDIA_SEGMENT_TYPE&&e.value.trace&&e.value.trace.length){var t=r[e.mediaType],i=o[e.mediaType];t&&0!==t.state&&(t.lastSegmentRequestTimeMs=e.value.trequest.getTime(),t.lastSegmentFinishTimeMs=e.value._tfinish.getTime(),b(t,i))}}function b(e,t){isNaN(e.lastSegmentStart)||isNaN(e.lastSegmentRequestTimeMs)||(t.segment_request_start_s=.001*e.lastSegmentRequestTimeMs,t.segment_download_finish_s=.001*e.lastSegmentFinishTimeMs,e.lastSegmentStart=NaN,e.lastSegmentRequestTimeMs=NaN)}function _(e){if(e&&e.mediaType){var t=r[e.mediaType];t&&0!==t.state&&(t.abrQuality=e.newQuality)}}function w(e,t){if(e.length!==t.length)return-1;for(var r=0,n=0;n<e.length;n++)r+=e[n]*t[n];return r}function E(){r={},o={}}return t={getMaxIndex:function(e){var t,n=(0,i.Z)(f).create(),s=Math.pow(4,.99),l=Math.max(Math.pow(4,1),s*Math.sqrt(4)),u=e.getMediaInfo(),p=e.getMediaType(),g=u.bitrateList.map((function(e){return e.bandwidth})),y=g.length,v=e.getScheduleController(),b=e.getStreamInfo(),_=e.getAbrController(),E=_.getThroughputHistory(),x=b&&b.manifestInfo&&b.manifestInfo.isDynamic,S=e.useL2AABR(),T=h.getCurrentBufferLevel(p,!0),A=E.getSafeAverageThroughput(p,x),M=E.getAverageThroughput(p,x),R=E.getAverageLatency(p),C=e.getVideoModel().getPlaybackRate();if(!(e&&e.hasOwnProperty("getMediaInfo")&&e.hasOwnProperty("getMediaType")&&e.hasOwnProperty("getScheduleController")&&e.hasOwnProperty("getStreamInfo")&&e.hasOwnProperty("getAbrController")&&e.hasOwnProperty("useL2AABR")))return n;if(n.reason=n.reason||{},!S||p===c.Z.AUDIO)return n;v.setTimeToLoadDelay(0);var I=function(e){var t=e.getMediaType(),n=r[t];return n||(n=function(e){var t={},r=e.getMediaInfo(),n=r.bitrateList.map((function(e){return e.bandwidth/1e3}));return t.state=1,t.bitrates=n,t.lastQuality=0,function(e){e&&e.type&&(o[e.type]={},o[e.type].w=[],o[e.type].prev_w=[],o[e.type].Q=0,o[e.type].segment_request_start_s=0,o[e.type].segment_download_finish_s=0,o[e.type].B_target=1.5)}(r),m(t),t}(e),r[t]=n),n}(e);if(0===I.state)return n;var k=o[p];if(!k)return n;if(n.reason.state=I.state,n.reason.throughput=M,n.reason.latency=R,isNaN(M))return n;switch(I.state){case 1:if(t=_.getQualityForBitrate(u,A,b.id,R),n.quality=t,n.reason.throughput=A,I.lastQuality=t,!isNaN(I.lastSegmentDurationS)&&T>=k.B_target){I.state=2,k.Q=s;for(var P=0;P<y;++P)P===I.lastQuality?k.prev_w[P]=1:k.prev_w[P]=0}break;case 2:var O=[],j=h.getCurrentHttpRequest(p).trace.reduce((function(e,t){return e+t.d}),0),N=h.getCurrentHttpRequest(p).trace.reduce((function(e,t){return e+t.b[0]}),0),L=Math.round(8*N/j),D=h.getCurrentHttpRequest(p);if(L<1&&(L=1),D.url===I.lastSegmentUrl||D.type===a.w.INIT_SEGMENT_TYPE)t=I.lastQuality;else{for(var F=I.lastSegmentDurationS,U=1,B=0;B<y;++B)g[B]=g[B]/1e3,C*g[B]>L&&(U=-1),k.w[B]=k.prev_w[B]+U*(F/(2*l))*((k.Q+s)*(C*g[B]/L));k.w=function(e){for(var t=e.length,r=!1,n=[],i=0;i<t;++i)n[i]=e[i];for(var o=e.sort((function(e,t){return t-e})),a=0,s=0,l=[],u=0;u<t-1;++u)if((s=((a+=o[u])-1)/(u+1))>=o[u+1]){r=!0;break}r||(s=(a+o[t-1]-1)/t);for(var c=0;c<t;++c)l[c]=Math.max(n[c]-s,0);return l}(k.w);for(var G=0;G<y;++G)O[G]=k.w[G]-k.prev_w[G],k.prev_w[G]=k.w[G];k.Q=Math.max(0,k.Q-F+F*C*((w(g,k.prev_w)+w(g,O))/L));for(var z=[],V=0;V<y;++V)z[V]=Math.abs(g[V]-w(k.w,g));(t=z.indexOf(Math.min.apply(Math,z)))>I.lastQuality&&g[I.lastQuality+1]<=L&&(t=I.lastQuality+1),g[t]>=L&&(k.Q=2*Math.max(s,k.Q)),I.lastSegmentUrl=D.url}n.quality=t,n.reason.throughput=M,n.reason.latency=R,n.reason.bufferLevel=T,I.lastQuality=n.quality;break;default:d.debug("L2A ABR rule invoked in bad state."),n.quality=_.getQualityForBitrate(u,A,b.id,R),n.reason.state=I.state,n.reason.throughput=A,n.reason.latency=R,I.state=1,m(I)}return n},reset:function(){E(),p.off(l.Z.PLAYBACK_SEEKING,g,t),p.off(l.Z.MEDIA_FRAGMENT_LOADED,y,t),p.off(l.Z.METRIC_ADDED,v,t),p.off(l.Z.QUALITY_CHANGE_REQUESTED,_,t)}},d=(0,u.Z)(f).getInstance().getLogger(t),E(),p.on(l.Z.PLAYBACK_SEEKING,g,t),p.on(l.Z.MEDIA_FRAGMENT_LOADED,y,t),p.on(l.Z.METRIC_ADDED,v,t),p.on(l.Z.QUALITY_CHANGE_REQUESTED,_,t),t}d.__dashjs_factory_name="L2ARule",t.Z=o.Z.getClassFactory(d)},6070:function(e,t,r){"use strict";var n=r(5448),i=r(6398),o=r(2068);function a(){var e,t,r=this.context;return e={getMaxIndex:function(e){for(var n=e?e.getSwitchHistory():null,i=n?n.getSwitchRequests():[],a=0,s=0,l=0,u=(0,o.Z)(r).create(),c=0;c<i.length;c++)if(void 0!==i[c]&&(a+=i[c].drops,s+=i[c].noDrops,l+=i[c].dropSize,a+s>=6&&a/s>.075)){u.quality=c>0&&i[c].drops>0?c-1:c,u.reason={index:u.quality,drops:a,noDrops:s,dropSize:l},t.debug("Switch history rule index: "+u.quality+" samples: "+(a+s)+" drops: "+a);break}return u}},t=(0,i.Z)(r).getInstance().getLogger(e),e}a.__dashjs_factory_name="SwitchHistoryRule",t.Z=n.Z.getClassFactory(a)},5628:function(e,t,r){"use strict";var n=r(5448),i=r(2068),o=r(3393),a=r(3860);function s(e){e=e||{};var t=this.context,r=e.dashMetrics;return{getMaxIndex:function(e){var n=(0,i.Z)(t).create();if(!(e&&e.hasOwnProperty("getMediaInfo")&&e.hasOwnProperty("getMediaType")&&e.hasOwnProperty("useBufferOccupancyABR")&&e.hasOwnProperty("getAbrController")&&e.hasOwnProperty("getScheduleController")))return n;!function(){if(!r||!r.hasOwnProperty("getCurrentBufferState"))throw new Error(o.Z.MISSING_CONFIG_ERROR)}();var s=e.getMediaInfo(),l=e.getMediaType(),u=r.getCurrentBufferState(l),c=e.getScheduleController(),d=e.getAbrController(),f=e.getStreamInfo(),h=f?f.id:null,p=f&&f.manifestInfo?f.manifestInfo.isDynamic:null,m=d.getThroughputHistory(),g=m.getSafeAverageThroughput(l,p),y=m.getAverageLatency(l),v=e.useBufferOccupancyABR();return isNaN(g)||!u||v||d.getAbandonmentStateFor(h,l)!==a.Z.ABANDON_LOAD&&(u.state===a.Z.BUFFER_LOADED||p)&&(n.quality=d.getQualityForBitrate(s,g,h,y),c.setTimeToLoadDelay(0),n.reason={throughput:g,latency:y}),n},reset:function(){}}}s.__dashjs_factory_name="ThroughputRule",t.Z=n.Z.getClassFactory(s)},4722:function(e,t,r){"use strict";var n=r(5448),i=r(6398);function o(){var e,t,r,n,o,a,s,l,u,c=this.context;function d(){r=null,n=1,o=100,a=0,s=null,l=null,u="dynamic_weight_selection"}function f(){var e=0;if(r)for(var t=0;t<r.length;t++){var n=r[t];n.state.throughput>e&&(e=n.state.throughput)}return e}function h(e,t,r){var n=e.map((function(e,n){return r[n]*Math.pow(e-t[n],2)})).reduce((function(e,t){return e+t}));return(n<0?-1:1)*Math.sqrt(Math.abs(n))}function p(e,t){return h([e.state.throughput,e.state.latency,e.state.rebuffer,e.state.switch],[t.state.throughput,t.state.latency,t.state.rebuffer,t.state.switch],[1,1,1,1])}function m(e,t,r){for(var n=0;n<t.length;n++){var i=t[n],o=p(i,e);g(i,r,Math.exp(-1*Math.pow(o,2)/(2*Math.pow(.1,2))))}}function g(e,t,r){var n=e.state,i=[.01,.01,.01,.01];n.throughput=n.throughput+(t[0]-n.throughput)*i[0]*r,n.latency=n.latency+(t[1]-n.latency)*i[1]*r,n.rebuffer=n.rebuffer+(t[2]-n.rebuffer)*i[2]*r,n.switch=n.switch+(t[3]-n.switch)*i[3]*r}return e={getNextQuality:function(e,i,c,d,p,g,y){var v=c,b=d,_=i,w=function(e){if(!r){r=[];var t=e.bitrateList,i=[];a=t[0].bandwidth,t.forEach((function(e){i.push(e.bandwidth),e.bandwidth<a&&(a=e.bandwidth)})),u=i.map((function(e){return Math.pow(e,2)})).reduce((function(e,t){return e+t})),n=Math.sqrt(u);for(var o=0;o<t.length;o++){var s={qualityIndex:o,bitrate:t[o].bandwidth,state:{throughput:t[o].bandwidth/n,latency:0,rebuffer:0,switch:0}};r.push(s)}l=function(e){var t=[],r=function(e){for(var t=[],r=0;r<e;r++){var n=[Math.random()*f(),Math.random(),Math.random(),Math.random()];t.push(n)}return t}(Math.pow(e.length,2));t.push(r[0]);for(var n=[1,1,1,1],i=1;i<e.length;i++){for(var o=null,a=null,s=0;s<r.length;s++){for(var l=r[s],u=null,c=0;c<t.length;c++){var d=h(l,t[c],n);(null===u||d<u)&&(u=d)}(null===a||u>a)&&(o=l,a=u)}t.push(o)}for(var p=null,m=null,g=0;g<t.length;g++){for(var y=0,v=0;v<t.length;v++)g!==v&&(y+=h(t[g],t[v],n));(null===p||y>p)&&(p=y,m=g)}var b=[];for(b.push(t[m]),t.splice(m,1);t.length>0;){for(var _=null,w=null,E=0;E<t.length;E++){var x=h(b[0],t[E],n);(null===_||x<_)&&(_=x,w=E)}b.push(t[w]),t.splice(w,1)}return b}(r)}var u;return r}(e),E=i/n;E>1&&(E=f()),c/=o,t.debug("getNextQuality called throughput:".concat(E," latency:").concat(c," bufferSize:").concat(d," currentQualityIndex:").concat(g," playbackRate:").concat(p));var x=w[g],S=x.bitrate*y.getSegmentDuration()/_,T=Math.max(0,S-b);if(b-S<y.getMinBuffer())return t.debug("Buffer is low for bitrate= ".concat(x.bitrate," downloadTime=").concat(S," currentBuffer=").concat(b," rebuffer=").concat(T)),function(e,t){var n=0,i=e;if(r)for(var o=0;o<r.length;o++){var a=r[o];a.bitrate<e.bitrate&&a.bitrate>n&&t>a.bitrate&&(n=a.bitrate,i=a)}return i}(x,_).qualityIndex;switch(u){case"manual_weight_selection":s=[.4,.4,.4,.4];break;case"random_weight_selection":!function(e){s=function(e,t){for(var r=[],n=Math.sqrt(2/e),i=0;i<4;i++)r.push(Math.random()*n);return s=r}(e.length)}(w);break;default:!function(e,t,r,n,i,o,a){s||(s=l[l.length-1]);var u=e.findWeightVector(t,r,n,i,o,a);null!==u&&-1!==u&&(s=u)}(y,w,v,b,T,_,p)}for(var A=null,M=null,R=null,C=0;C<w.length;C++){var I=w[C],k=I.state,P=[k.throughput,k.latency,k.rebuffer,k.switch],O=s.slice(),j=y.getNextBufferWithBitrate(I.bitrate,b,_),N=j<y.getMinBuffer();N&&t.debug("Buffer is low for bitrate=".concat(I.bitrate," downloadTime=").concat(S," currentBuffer=").concat(b," nextBuffer=").concat(j)),(I.bitrate>i-1e4||N)&&I.bitrate!==a&&(O[0]=100);var L=h(P,[E,0,0,0],O);(null===A||L<A)&&(A=L,M=I.qualityIndex,R=I)}var D=Math.abs(x.bitrate-R.bitrate)/n;return m(x,w,[E,c,T,D]),m(R,w,[E,0,0,D]),M},reset:function(){d()}},t=(0,i.Z)(c).getInstance().getLogger(e),d(),e}o.__dashjs_factory_name="LearningAbrController",t.Z=n.Z.getClassFactory(o)},5317:function(e,t,r){"use strict";var n=r(5448),i=r(2298);function o(){var e,t,r,n,o;function a(){t=null,r=null,n=null,o=null}function s(e,t,r,n){var o=new i.Z;return o.type=e,o.weights.bitrateReward=t||1,o.weights.bitrateSwitchPenalty=1,o.weights.rebufferPenalty=r||1e3,o.weights.latencyPenalty=[],o.weights.latencyPenalty.push({threshold:1.1,penalty:.05*n}),o.weights.latencyPenalty.push({threshold:1e8,penalty:.1*r}),o.weights.playbackSpeedPenalty=n||200,o}function l(e,t,r,n,i){i.bitrateWSum+=i.weights.bitrateReward*e,i.lastBitrate&&(i.bitrateSwitchWSum+=i.weights.bitrateSwitchPenalty*Math.abs(e-i.lastBitrate)),i.lastBitrate=e,i.rebufferWSum+=i.weights.rebufferPenalty*t;for(var o=0;o<i.weights.latencyPenalty.length;o++){var a=i.weights.latencyPenalty[o];if(r<=a.threshold){i.latencyWSum+=a.penalty*r;break}}i.playbackSpeedWSum+=i.weights.playbackSpeedPenalty*Math.abs(1-n),i.totalQoe=i.bitrateWSum-i.bitrateSwitchWSum-i.rebufferWSum-i.latencyWSum-i.playbackSpeedWSum}return e={setupPerSegmentQoe:function(e,i,a){t=s("segment",e,i,a),r=e,n=i,o=a},logSegmentMetrics:function(e,r,n,i){t&&l(e,r,n,i,t)},getPerSegmentQoe:function(){return t},calculateSingleUseQoe:function(e,t,i,a){var u=null;return r&&n&&o&&(u=s("segment",r,n,o)),u?(l(e,t,i,a,u),u.totalQoe):0},reset:function(){a()}},a(),e}o.__dashjs_factory_name="LoLpQoeEvaluator",t.Z=n.Z.getClassFactory(o)},5435:function(e,t,r){"use strict";var n=r(6398),i=r(5448),o=r(4722),a=r(5317),s=r(2068),l=r(3860),u=r(6523),c=r(3393);function d(e){var t,r,i,d,f=(e=e||{}).dashMetrics,h=this.context;return r={getMaxIndex:function(e){try{var r=(0,s.Z)(h).create(),n=e.getMediaInfo().type,o=e.getAbrController(),a=e.getStreamInfo(),p=o.getQualityFor(n,a.id),m=e.getMediaInfo(),g=f.getCurrentBufferState(n),y=e.getScheduleController(),v=f.getCurrentBufferLevel(n,!0),b=a&&a.manifestInfo?a.manifestInfo.isDynamic:null,_=y.getPlaybackController(),w=_.getCurrentLiveLatency();if(!e.useLoLPABR()||n===c.Z.AUDIO)return r;w||(w=0);var E=_.getPlaybackRate(),x=o.getThroughputHistory().getSafeAverageThroughput(n,b);if(t.debug("Throughput ".concat(Math.round(x)," kbps")),isNaN(x)||!g)return r;if(o.getAbandonmentStateFor(a.id,n)===l.Z.ABANDON_LOAD)return r;for(var S=m.bitrateList,T=e.getRepresentationInfo().fragmentDuration,A=S[0].bandwidth/1e3,M=S[S.length-1].bandwidth/1e3,R=0;R<S.length;R++){var C=S[R].bandwidth/1e3;C>M?M=C:C<A&&(A=C)}var I=S[p].bandwidth/1e3,k=f.getCurrentHttpRequest(n,!0),P=(k.tresponse.getTime()-k.trequest.getTime())/1e3,O=P>T?P-T:0;d.setupPerSegmentQoe(T,M,A),d.logSegmentMetrics(I,O,w,E);var j=(0,u.Z)(h).create({targetLatency:1.5,bufferMin:.3,segmentDuration:T,qoeEvaluator:d});return r.quality=i.getNextQuality(m,1e3*x,w,v,E,p,j),r.reason={throughput:x,latency:w},r.priority=s.Z.PRIORITY.STRONG,y.setTimeToLoadDelay(0),r.quality!==p&&t.debug("[TgcLearningRule]["+n+"] requesting switch to index: ",r.quality,"Average throughput",Math.round(x),"kbps"),r}catch(e){throw e}},reset:function(){i.reset(),d.reset()}},t=(0,n.Z)(h).getInstance().getLogger(r),i=(0,o.Z)(h).create(),d=(0,a.Z)(h).create(),r}d.__dashjs_factory_name="LoLPRule",t.Z=i.Z.getClassFactory(d)},6523:function(e,t,r){"use strict";var n=r(5448);function i(e){var t,r,n,i,o=e.targetLatency,a=e.bufferMin,s=e.segmentDuration,l=e.qoeEvaluator;function u(){return s}function c(e,t){var r=u();return t>r?e-r:e+r-t}return t={getMinBuffer:function(){return a},getSegmentDuration:u,getNextBufferWithBitrate:function(e,t,r){return c(t,e*s/r)},getNextBuffer:c,findWeightVector:function(e,t,i,u,d,f){var h=null,p=null,m=null,g=Math.abs(t-n);return e.forEach((function(e){r.forEach((function(r){r[0];var n=r[1],u=r[2],y=(r[3],e.bitrate*s/d),v=c(i,y),b=(0===u?10:1/u)*Math.max(1e-5,y-v),_=(0===n?10:1/n)*e.state.latency,w=l.calculateSingleUseQoe(e.bitrate,b,_,f);(null===h||w>h)&&function(e,t,r){return!(e>o+r)&&t>=a}(t,v,g)&&(h=w,p=r,m=e.bitrate)}))})),null===p&&null===m&&(p=-1),n=t,p}},r=function e(t,r,n){if(n===r)return t;for(var o=t.length,a=0;a<o;a++)for(var s=t.shift(),l=0;l<i.length;l++)t.push(s.concat(i[l]));return e(t,r,n+1)}((i=[.2,.4,.6,.8,1]).map((function(e){return[e]})),4,1),n=0,t}i.__dashjs_factory_name="LoLpWeightSelector",t.Z=n.Z.getClassFactory(i)},2298:function(e,t){"use strict";t.Z=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type=null,this.lastBitrate=null,this.weights={},this.weights.bitrateReward=null,this.weights.bitrateSwitchPenalty=null,this.weights.rebufferPenalty=null,this.weights.latencyPenalty=null,this.weights.playbackSpeedPenalty=null,this.bitrateWSum=0,this.bitrateSwitchWSum=0,this.rebufferWSum=0,this.latencyWSum=0,this.playbackSpeedWSum=0,this.totalQoe=0}},7803:function(e,t,r){"use strict";r.d(t,{Y:function(){return h}});var n=r(3393),i=r(1553),o=r(5448),a=r(2128),s=r(2594),l=r(7387),u=r(7417),c=r(9032),d=r(9326),f=r(7802),h=["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"];function p(e){var t,r,o,p,m,g,y,v,b=this.context,_=e.adapter,w=e.baseURLController,E=e.streamInfo,x=e.timelineConverter,S=e.debug,T=e.eventBus,A=e.events,M=e.dashConstants,R=(0,s.Z)(b).getInstance();function C(e,t){var n=new a.Z;n.id=e.id,n.bitrate=e.bandwidth,n.width=e.width,n.height=e.height,n.tilesHor=1,n.tilesVert=1,e.essentialProperties&&e.essentialProperties.forEach((function(e){if(h.indexOf(e.schemeIdUri)>=0&&e.value){var t=e.value.split("x");2!==t.length||isNaN(t[0])||isNaN(t[1])||(n.tilesHor=parseInt(t[0],10),n.tilesVert=parseInt(t[1],10))}})),t?g.updateSegmentData(e).then((function(t){!function(e,t,r){var n=[],i=function(e,t){var r,n,i,o,a=[],s=0;for(r=0,n=e.segments.length;r<n;r++)i=e.segments[r],(o=(0,l.TJ)(x,_.getIsDynamic(),t,i.startTime,i.duration,i.timescale,i.media,i.mediaRange,s))&&(a.push(o),o=null,s++);return a}(r,t);t.segments=i,e.segmentDuration=t.segments[0].duration,e.readThumbnail=function(e,r){var i=null;n.some((function(t){if(t.start<=e&&t.end>e)return i=t.url,!0})),i?r(i):t.segments.some((function(i){if(i.mediaStartTime<=e&&i.mediaStartTime+i.duration>e){var o=w.resolve(t.path);return y.load({method:"get",url:o.url,request:{range:i.mediaRange,responseType:"arraybuffer"},onload:function(e){var t=v.getSamplesInfo(e.target.response),o=new Blob([e.target.response.slice(t.sampleList[0].offset,t.sampleList[0].offset+t.sampleList[0].size)],{type:"image/jpeg"}),a=window.URL.createObjectURL(o);n.push({start:i.mediaStartTime,end:i.mediaStartTime+i.duration,url:a}),r&&r(a)}}),!0}}))}}(n,e,t)})):(n.startNumber=e.startNumber,n.segmentDuration=e.segmentDuration,n.timescale=e.timescale,n.templateUrl=function(e){var t=R.isRelative(e.media)?R.resolve(e.media,w.resolve(e.path).url):e.media;return t?(0,l.Aj)(t,e.id):""}(e)),n.tilesHor>0&&n.tilesVert>0&&(n.widthPerTile=n.width/n.tilesHor,n.heightPerTile=n.height/n.tilesVert,r.push(n))}function I(){r=[],p=-1,m=null}return t={getTracks:function(){return r},addTracks:function(){if(E&&_&&(m=_.getMediaInfoForType(E,n.Z.IMAGE))){var e=_.getVoRepresentations(m);e&&e.length>0&&e.forEach((function(e){(e.segmentInfoType===i.Z.SEGMENT_TEMPLATE&&e.segmentDuration>0&&e.media||e.segmentInfoType===i.Z.SEGMENT_TIMELINE)&&C(e),e.segmentInfoType===i.Z.SEGMENT_BASE&&C(e,!0)})),r.length>0&&r.sort((function(e,t){return e.bitrate-t.bitrate}))}},reset:I,setTrackByIndex:function(e){r&&0!==r.length&&(e>=r.length&&(e=r.length-1),p=e)},getCurrentTrack:function(){return p<0?null:r[p]},getCurrentTrackIndex:function(){return p},getThumbnailRequestForTime:function(e){for(var t,n=_.getVoRepresentations(m),i=0;i<n.length;i++)if(r[p].id===n[i].id){t=n[i];break}return o.getSegmentRequestForTime(m,t,e)}},I(),y=(0,c.Z)(b).create({}),v=(0,u.Z)(b).getInstance(),g=(0,f.Z)(b).create({events:A,eventBus:T,streamInfo:E,timelineConverter:x,dashConstants:M,dashMetrics:e.dashMetrics,segmentBaseController:e.segmentBaseController,type:n.Z.IMAGE}),(o=(0,d.Z)(b).create({streamInfo:E,type:n.Z.IMAGE,timelineConverter:x,segmentsController:g,baseURLController:w,debug:S,eventBus:T,events:A,dashConstants:M,urlUtils:R})).initialize(!!_&&_.getIsDynamic()),t}p.__dashjs_factory_name="ThumbnailTracks",t.Z=o.Z.getClassFactory(p)},7417:function(e,t,r){"use strict";var n=r(6398),i=r(8260),o=r(5448),a=r(6934),s=r(9597);function l(){var e,t,r=this.context;function o(e){if(!e)return null;void 0===e.fileStart&&(e.fileStart=0);var t=a.parseBuffer(e),n=(0,i.Z)(r).create();return n.setData(t),n}function l(e,t){return e[t+3]>>>0|e[t+2]<<8>>>0|e[t+1]<<16>>>0|e[t]<<24>>>0}function u(e,t){return String.fromCharCode(e[t++])+String.fromCharCode(e[t++])+String.fromCharCode(e[t++])+String.fromCharCode(e[t])}return t={parse:o,findLastTopIsoBoxCompleted:function(e,t,r){if(void 0===r&&(r=0),!t||r+8>=t.byteLength)return new s.Z(0,!1);for(var n,i=t instanceof ArrayBuffer?new Uint8Array(t):t,o=0;r<i.byteLength;){var a=l(i,r),c=u(i,r+4);if(0===a)break;r+a<=i.byteLength&&(e.indexOf(c)>=0?n=new s.Z(r,!0,a):o=r+a),r+=a}return n||new s.Z(o,!1)},getMediaTimescaleFromMoov:function(e){var t=o(e),r=t?t.getBox("mdhd"):void 0;return r?r.timescale:NaN},getSamplesInfo:function(e){if(!e||0===e.byteLength)return{sampleList:[],lastSequenceNumber:NaN,totalDuration:NaN,numSequences:NaN};var t,r,n,i,a,s,l,u,c,d,f,h,p,m,g,y,v=o(e),b=v.getBoxes("moof"),_=v.getBoxes("mfhd");g=v.getBoxes("moof").length,m=_[_.length-1].sequence_number,r=0,a=[];var w=-1,E=-1;for(d=0;d<b.length;d++){var x=b[d],S=x.getChildBoxes("traf");for(u=0;u<S.length;u++){var T=S[u],A=T.getChildBox("tfhd"),M=T.getChildBox("tfdt");i=M.baseMediaDecodeTime;var R=T.getChildBoxes("trun"),C=T.getChildBoxes("subs");for(c=0;c<R.length;c++){var I=R[c];for(r=I.sample_count,p=(A.base_data_offset||0)+(I.data_offset||0),l=0;l<r;l++){t=void 0!==(s=I.samples[l]).sample_duration?s.sample_duration:A.default_sample_duration,n=void 0!==s.sample_size?s.sample_size:A.default_sample_size;var k={dts:i,cts:i+(void 0!==s.sample_composition_time_offset?s.sample_composition_time_offset:0),duration:t,offset:x.offset+p,size:n,subSizes:[n]};if(C)for(f=0;f<C.length;f++){var P=C[f];if(w<P.entry_count-1&&l>E&&(w++,E+=P.entries[w].sample_delta),l==E){k.subSizes=[];var O=P.entries[w];for(h=0;h<O.subsample_count;h++)k.subSizes.push(O.subsamples[h].subsample_size)}}a.push(k),p+=n,i+=t}}y=i-M.baseMediaDecodeTime}}return{sampleList:a,lastSequenceNumber:m,totalDuration:y,numSequences:g}},findInitRange:function(t){var r=null,n=o(t);if(!n)return r;var i=n.getBox("ftyp"),a=n.getBox("moov");return e.debug("Searching for initialization."),a&&a.isComplete&&(r=(i?i.offset:a.offset)+"-"+(a.offset+a.size-1),e.debug("Found the initialization.  Range: "+r)),r},parsePayload:function(e,t,r){if(void 0===r&&(r=0),!t||r+8>=t.byteLength)return new s.Z(0,!1);for(var n,i=t instanceof ArrayBuffer?new Uint8Array(t):t,o=0;r<i.byteLength;){var a=l(i,r),c=u(i,r+4);if(0===a)break;r+a<=i.byteLength&&(e.indexOf(c)>=0?n=new s.Z(r,!0,a,c):o=r+a),r+=a}return n||new s.Z(o,!1)}},e=(0,n.Z)(r).getInstance().getLogger(t),t}l.__dashjs_factory_name="BoxParser",t.Z=o.Z.getSingletonFactory(l)},1715:function(e,t,r){"use strict";r.d(t,{B:function(){return s}});var n=r(5448),i=r(7803),o=r(3393),a=[{codec:"avc1",compatibleCodecs:["avc3"]},{codec:"avc3",compatibleCodecs:["avc1"]}];function s(){var e="ManagedMediaSource"in window,t="WebKitMediaSource"in window,r="MediaSource"in window;return e||t||r}function l(){var e,t,r;return e={setConfig:function(e){e&&e.settings&&(t=e.settings)},supportsMediaSource:s,supportsEncryptedMedia:function(){return r},supportsCodec:function(e,r){return r!==o.Z.AUDIO&&r!==o.Z.VIDEO?Promise.resolve(!0):function(e,r){return t.get().streaming.capabilities.useMediaCapabilitiesApi&&navigator.mediaCapabilities&&navigator.mediaCapabilities.decodingInfo&&(e.codec&&r===o.Z.AUDIO||r===o.Z.VIDEO&&e.codec&&e.width&&e.height&&e.bitrate&&e.framerate)}(e,r)?function(e,t){return new Promise((function(r){if(e&&e.codec){var n={type:"media-source"};n[t]={},n[t].contentType=e.codec,n[t].width=e.width,n[t].height=e.height,n[t].bitrate=parseInt(e.bitrate),n[t].framerate=parseFloat(e.framerate),navigator.mediaCapabilities.decodingInfo(n).then((function(e){r(e.supported)})).catch((function(){r(!1)}))}else r(!1)}))}(e,r):function(e){return new Promise((function(t){if(e&&e.codec){var r=e.codec;e.width&&e.height&&(r+=';width="'+e.width+'";height="'+e.height+'"'),"ManagedMediaSource"in window&&ManagedMediaSource.isTypeSupported(r)||"MediaSource"in window&&MediaSource.isTypeSupported(r)||"WebKitMediaSource"in window&&WebKitMediaSource.isTypeSupported(r)?t(!0):t(!1)}else t(!1)}))}(e)},setEncryptedMediaSupported:function(e){r=e},supportsEssentialProperty:function(e){try{return-1!==i.Y.indexOf(e.schemeIdUri)}catch(e){return!0}},codecRootCompatibleWithCodec:function(e,t){for(var r,n=e.split(".")[0],i=0===t.indexOf(n),o=0;o<a.length;o++)if(a[o].codec===n){r=a[o];break}return r?i||r.compatibleCodecs.some((function(e){return 0===t.indexOf(e)})):i}},r=!1,e}l.__dashjs_factory_name="Capabilities",t.Z=n.Z.getSingletonFactory(l)},2295:function(e,t,r){"use strict";var n=r(5448),i=r(3106);function o(){return{customTimeRangeArray:[],length:0,add:function(e,t){var r;for(r=0;r<this.customTimeRangeArray.length&&e>this.customTimeRangeArray[r].start;r++);for(this.customTimeRangeArray.splice(r,0,{start:e,end:t}),r=0;r<this.customTimeRangeArray.length-1;r++)this.mergeRanges(r,r+1)&&r--;this.length=this.customTimeRangeArray.length},clear:function(){this.customTimeRangeArray=[],this.length=0},remove:function(e,t){for(var r=0;r<this.customTimeRangeArray.length;r++)if(e<=this.customTimeRangeArray[r].start&&t>=this.customTimeRangeArray[r].end)this.customTimeRangeArray.splice(r,1),r--;else{if(e>this.customTimeRangeArray[r].start&&t<this.customTimeRangeArray[r].end){this.customTimeRangeArray.splice(r+1,0,{start:t,end:this.customTimeRangeArray[r].end}),this.customTimeRangeArray[r].end=e;break}e>this.customTimeRangeArray[r].start&&e<this.customTimeRangeArray[r].end?this.customTimeRangeArray[r].end=e:t>this.customTimeRangeArray[r].start&&t<this.customTimeRangeArray[r].end&&(this.customTimeRangeArray[r].start=t)}this.length=this.customTimeRangeArray.length},mergeRanges:function(e,t){var r=this.customTimeRangeArray[e],n=this.customTimeRangeArray[t];return r.start<=n.start&&n.start<=r.end&&r.end<=n.end?(r.end=n.end,this.customTimeRangeArray.splice(t,1),!0):n.start<=r.start&&r.start<=n.end&&n.end<=r.end?(r.start=n.start,this.customTimeRangeArray.splice(t,1),!0):n.start<=r.start&&r.start<=n.end&&r.end<=n.end?(this.customTimeRangeArray.splice(e,1),!0):r.start<=n.start&&n.start<=r.end&&n.end<=r.end&&(this.customTimeRangeArray.splice(t,1),!0)},start:function(e){return(0,i.SE)(e),e>=this.customTimeRangeArray.length||e<0?NaN:this.customTimeRangeArray[e].start},end:function(e){return(0,i.SE)(e),e>=this.customTimeRangeArray.length||e<0?NaN:this.customTimeRangeArray[e].end}}}o.__dashjs_factory_name="CustomTimeRanges",t.Z=n.Z.getClassFactory(o)},5:function(e,t,r){"use strict";var n=r(5448);function i(){var e,t=/^[a-z][a-z0-9+\-_.]*:/i,r=/^https?:\/\//i,n=/^https:\/\//i,i=/^([a-z][a-z0-9+\-_.]*:\/\/[^\/]+)\/?/i,o=function(e,t){try{return new window.URL(e,t).toString()}catch(t){return e}},a=function(e,t){var r=s;if(!t)return e;if(!c(e))return e;d(e)&&(r=l),f(e)&&(r=u);var n=r(t),i="/"!==n.charAt(n.length-1)&&"/"!==e.charAt(0)?"/":"";return[n,e].join(i)};function s(e){var t=e.indexOf("/"),r=e.lastIndexOf("/");return-1!==t?r===t+1?e:(-1!==e.indexOf("?")&&(e=e.substring(0,e.indexOf("?"))),e.substring(0,r+1)):""}function l(e){var t=e.match(i);return t?t[1]:""}function u(e){var r=e.match(t);return r?r[0]:""}function c(e){return!t.test(e)}function d(e){return c(e)&&"/"===e.charAt(0)}function f(e){return 0===e.indexOf("//")}return function(){try{new window.URL("x","http://y"),e=o}catch(e){}finally{e=e||a}}(),{parseBaseUrl:s,parseOrigin:l,parseScheme:u,isRelative:c,isPathAbsolute:d,isSchemeRelative:f,isHTTPURL:function(e){return r.test(e)},isHTTPS:function(e){return n.test(e)},removeHostname:function(e){return/^(?:\w+\:\/\/)?([^\/]+)(.*)$/.exec(e)[2].substring(1)},resolve:function(t,r){return e(t,r)}}}i.__dashjs_factory_name="DefaultURLUtils",t.Z=n.Z.getSingletonFactory(i)},8260:function(e,t,r){"use strict";var n=r(2839),i=r(5448);function o(){var e;function t(t){var n=[];if(!t||!e||"function"!=typeof e.fetchAll)return n;for(var i,o=e.fetchAll(t),a=0,s=o.length;a<s;a++)(i=r(o[a]))&&n.push(i);return n}function r(e){if(!e)return null;var t=new n.Z(e);return e.hasOwnProperty("_incomplete")&&(t.isComplete=!e._incomplete),t}return{getBox:function(t){return t&&e&&e.boxes&&0!==e.boxes.length&&"function"==typeof e.fetch?r(e.fetch(t)):null},getBoxes:t,setData:function(t){e=t},getLastBox:function(){if(!e||!e.boxes||!e.boxes.length)return null;var r=t(e.boxes[e.boxes.length-1].type);return r.length>0?r[r.length-1]:null}}}o.__dashjs_factory_name="IsoFile",t.Z=i.Z.getClassFactory(o)},7473:function(e,t,r){"use strict";r.d(t,{k:function(){return i}});var n=r(5448);function i(e,t){var r={url:e.url,method:e.method,headers:Object.assign({},e.headers),credentials:e.withCredentials?"include":void 0};return Promise.resolve(t.modifyRequest(r)).then((function(){return Object.assign(e,r,{withCredentials:"include"===r.credentials})}))}function o(){return{modifyRequest:null,modifyRequestURL:function(e){return e},modifyRequestHeader:function(e,t){return t.url,e}}}o.__dashjs_factory_name="RequestModifier",t.Z=n.Z.getSingletonFactory(o)},3106:function(e,t,r){"use strict";r.d(t,{PS:function(){return o},SE:function(){return a}});var n=r(3393);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){if(i(e)!==t)throw n.Z.BAD_ARGUMENT_ERROR}function a(e){if(null===e||isNaN(e)||e%1!=0)throw n.Z.BAD_ARGUMENT_ERROR+" : argument is not an integer"}},2594:function(e,t,r){"use strict";var n=r(5448),i=r(5);function o(){var e,t=[],r=this.context;function n(r,n,i){var o=function(r){var n;for(n=0;n<t.length;n++)if(t[n].regex.test(r))return t[n].utils;return e}(i||n);return o&&"function"==typeof o[r]?o[r](n,i):e[r](n,i)}return e=(0,i.Z)(r).getInstance(),{registerUrlRegex:function(e,r){t.push({regex:e,utils:r})},parseBaseUrl:function(e){return n("parseBaseUrl",e)},parseOrigin:function(e){return n("parseOrigin",e)},parseScheme:function(e){return n("parseScheme",e)},isRelative:function(e){return n("isRelative",e)},isPathAbsolute:function(e){return n("isPathAbsolute",e)},isSchemeRelative:function(e){return n("isSchemeRelative",e)},isHTTPURL:function(e){return n("isHTTPURL",e)},isHTTPS:function(e){return n("isHTTPS",e)},removeHostname:function(e){return n("removeHostname",e)},resolve:function(e,t){return n("resolve",e,t)}}}o.__dashjs_factory_name="URLUtils";var a=n.Z.getSingletonFactory(o);t.Z=a},5459:function(e,t){"use strict";t.Z=function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.code=t||null,this.message=r||null,this.data=n||null}},3186:function(e,t,r){"use strict";var n=r(7855);function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.action=e.ACTION_DOWNLOAD,this.startTime=NaN,this.mediaStartTime=NaN,this.mediaType=null,this.mediaInfo=null,this.type=null,this.duration=NaN,this.timescale=NaN,this.range=null,this.url=t||null,this.serviceLocation=null,this.requestStartDate=null,this.firstByteDate=null,this.requestEndDate=null,this.quality=NaN,this.index=NaN,this.availabilityStartTime=null,this.availabilityEndTime=null,this.wallStartTime=null,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.responseType="arraybuffer",this.representationId=null}var t;return(t=[{key:"isInitializationRequest",value:function(){return this.type&&this.type===n.w.INIT_SEGMENT_TYPE}},{key:"setInfo",value:function(e){this.type=e&&e.init?n.w.INIT_SEGMENT_TYPE:n.w.MEDIA_SEGMENT_TYPE,this.url=e&&e.url?e.url:null,this.range=e&&e.range?e.range.start+"-"+e.range.end:null,this.mediaType=e&&e.mediaType?e.mediaType:null}}])&&i(e.prototype,t),e}();o.ACTION_DOWNLOAD="download",o.ACTION_COMPLETE="complete",t.Z=o},2839:function(e,t){"use strict";function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var n=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.offset=t._offset,this.type=t.type,this.size=t.size,this.boxes=[],t.boxes)for(var r=0;r<t.boxes.length;r++)this.boxes.push(new e(t.boxes[r]));switch(this.isComplete=!0,t.type){case"sidx":if(this.timescale=t.timescale,this.earliest_presentation_time=t.earliest_presentation_time,this.first_offset=t.first_offset,this.references=t.references,t.references){this.references=[];for(var n=0;n<t.references.length;n++){var i={reference_type:t.references[n].reference_type,referenced_size:t.references[n].referenced_size,subsegment_duration:t.references[n].subsegment_duration};this.references.push(i)}}break;case"emsg":this.id=t.id,this.version=1===t.version?1:0,this.value=t.value,this.timescale=t.timescale,this.scheme_id_uri=t.scheme_id_uri,this.presentation_time_delta=1===t.version?t.presentation_time:t.presentation_time_delta,this.event_duration=t.event_duration,this.message_data=t.message_data;break;case"mdhd":this.timescale=t.timescale;break;case"mfhd":this.sequence_number=t.sequence_number;break;case"subs":this.entry_count=t.entry_count,this.entries=t.entries;break;case"tfhd":this.base_data_offset=t.base_data_offset,this.sample_description_index=t.sample_description_index,this.default_sample_duration=t.default_sample_duration,this.default_sample_size=t.default_sample_size,this.default_sample_flags=t.default_sample_flags,this.flags=t.flags;break;case"tfdt":this.version=t.version,this.baseMediaDecodeTime=t.baseMediaDecodeTime,this.flags=t.flags;break;case"trun":if(this.sample_count=t.sample_count,this.first_sample_flags=t.first_sample_flags,this.data_offset=t.data_offset,this.flags=t.flags,this.samples=t.samples,t.samples){this.samples=[];for(var o=0,a=t.samples.length;o<a;o++){var s={sample_size:t.samples[o].sample_size,sample_duration:t.samples[o].sample_duration,sample_composition_time_offset:t.samples[o].sample_composition_time_offset};this.samples.push(s)}}break;case"prft":this.version=t.version,this.reference_track_ID=t.reference_track_ID,this.ntp_timestamp_sec=t.ntp_timestamp_sec,this.ntp_timestamp_frac=t.ntp_timestamp_frac,this.media_time=t.media_time,this.flags=t.flags}}var t;return(t=[{key:"getChildBox",value:function(e){for(var t=0;t<this.boxes.length;t++)if(this.boxes[t].type===e)return this.boxes[t]}},{key:"getChildBoxes",value:function(e){for(var t=[],r=0;r<this.boxes.length;r++)this.boxes[r].type===e&&t.push(this.boxes[r]);return t}}])&&r(e.prototype,t),e}();t.Z=n},9597:function(e,t){"use strict";t.Z=function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.lastCompletedOffset=t,this.found=r,this.size=n}},2128:function(e,t){"use strict";t.Z=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bitrate=0,this.width=0,this.height=0,this.tilesHor=0,this.tilesVert=0,this.widthPerTile=0,this.heightPerTile=0,this.startNumber=0,this.segmentDuration=0,this.timescale=0,this.templateUrl="",this.id=""}},7855:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,{O:function(){return o},w:function(){return i}});var i=function e(){n(this,e),this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this.cmsd=null,this._stream=null,this._tfinish=null,this._mediaduration=null,this._quality=null,this._responseHeaders=null,this._serviceLocation=null,this._fileLoaderType=null},o=function e(){n(this,e),this.s=null,this.d=null,this.b=[]};i.GET="GET",i.HEAD="HEAD",i.MPD_TYPE="MPD",i.XLINK_EXPANSION_TYPE="XLinkExpansion",i.INIT_SEGMENT_TYPE="InitializationSegment",i.INDEX_SEGMENT_TYPE="IndexSegment",i.MEDIA_SEGMENT_TYPE="MediaSegment",i.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",i.MSS_FRAGMENT_INFO_SEGMENT_TYPE="FragmentInfoSegment",i.DVB_REPORTING_TYPE="DVBReporting",i.LICENSE="license",i.CONTENT_STEERING_TYPE="ContentSteering",i.OTHER_TYPE="other"},3039:function(e,t){"use strict";function r(e,t){return function(r,i){for(var o,a,s,l=n(r,"tag"),u=n(null==i?"*":i,"range"),c=[],d=-1;++d<u.length;)if(o=u[d].toLowerCase(),t||"*"!==o){for(a=-1,s=[];++a<l.length;)if(e(l[a].toLowerCase(),o)){if(!t)return l[a];c.push(l[a])}else s.push(l[a]);l=s}return t?c:void 0}}function n(e,t){var r=e&&"string"==typeof e?[e]:e;if(!r||"object"!=typeof r||!("length"in r))throw new Error("Invalid "+t+" `"+r+"`, expected non-empty string");return r}t.basicFilter=r((function(e,t){return"*"===t||e===t||e.indexOf(t+"-")>-1}),!0),t.extendedFilter=r((function(e,t){var r=e.split("-"),n=t.split("-"),i=0,o=0;if("*"!==n[o]&&r[i]!==n[o])return!1;for(i++,o++;o<n.length;)if("*"!==n[o]){if(!r[i])return!1;if(r[i]!==n[o]){if(1===r[i].length)return!1;i++}else i++,o++}else o++;return!0}),!0),t.lookup=r((function(e,t){for(var r,n=t;;){if("*"===n||e===n)return!0;if((r=n.lastIndexOf("-"))<0)return!1;"-"===n.charAt(r-2)&&(r-=2),n=n.slice(0,r)}}))},3973:function(e,t,r){"use strict";e.exports=r(3854)},3854:function(e,t,r){"use strict";var n=r(2415),i=r(3039),o=r(7778),a=r(5813),s=r(3165),l=r(9460);e.exports=function(e,t){var r,c=t||{},g=n.parse(String(e||"").toLowerCase(),c),y=n.stringify(g),v=-1;if(!y)return y;for(;++v<o.length;)i.extendedFilter(y,o[v].from).length&&(f(g,o[v].from,o[v].to),y=n.stringify(g));for(v=-1;++v<a.length;)h(g,a[v].from.field,a[v].from.value)&&p(g,a[v].to.field,a[v].to.value);for(y=n.stringify(Object.assign({},g,d)),v=-1;++v<s.length;)y===s[v]&&(f(g,s[v],s[v].split("-").slice(0,-1).join("-")),y=n.stringify(Object.assign({},g,d)));if(g.extensions.sort(m),c.warning)for(r in l)u.call(l[r],g[r])&&c.warning("Deprecated "+r+" `"+g[r]+"`, expected one of `"+l[r][g[r]].join("`, `")+"`",null,7);return g.script&&(g.script=g.script.charAt(0).toUpperCase()+g.script.slice(1)),g.region&&(g.region=g.region.toUpperCase()),n.stringify(g)};var u={}.hasOwnProperty,c=new Intl.Collator,d={variants:[],extensions:[],privateuse:[],irregular:null,regular:null};function f(e,t,r){var i,o=n.parse(t),a=n.parse(r),s=[];for(i in o)o[i]&&o[i].length&&h(e,i,o[i])&&s.push(i);for(i in a)a[i]&&a[i].length&&(s.indexOf(i)>-1||!e[i]||!e[i].length)&&p(e,i,a[i])}function h(e,t,r){var n,i,o,a,s=!1;if(r){if(i=n=e[t],n&&"object"==typeof n)for(i=[],o=-1;++o<n.length;)a=n[o],r.indexOf(a)<0?i.push(a):s=!0;else n===r&&(i=null,s=!0);e[t]=i}return s}function p(e,t,r){var n,i,o,a=e[t];if(a&&"object"==typeof a)for(n=[].concat(r),i=-1;++i<n.length;)o=n[i],a.indexOf(o)<0&&a.push(o);else e[t]=r}function m(e,t){return c.compare(e.singleton,t.singleton)}},2415:function(e,t,r){"use strict";t.parse=r(6903),t.stringify=r(6713)},6903:function(e,t,r){"use strict";var n=r(2219),i=r(3516),o=r(395),a=r(858),s=r(8589);e.exports=function e(t,r){var u,c,d,f=r||{},h={language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null},p=String(t),m=p.toLowerCase(),g=0;if(null==t)throw new Error("Expected string, got `"+t+"`");if(l.call(s,m))return(null==f.normalize||f.normalize)&&s[m]?e(s[m]):(h[-1===a.indexOf(m)?"irregular":"regular"]=p,h);for(;i(m.charCodeAt(g))&&g<9;)g++;if(g>1&&g<9){if(h.language=p.slice(0,g),g<4)for(c=0;45===m.charCodeAt(g)&&i(m.charCodeAt(g+1))&&i(m.charCodeAt(g+2))&&i(m.charCodeAt(g+3))&&!i(m.charCodeAt(g+4));){if(c>2)return y(g,3,"Too many extended language subtags, expected at most 3 subtags");h.extendedLanguageSubtags.push(p.slice(g+1,g+4)),g+=4,c++}for(45===m.charCodeAt(g)&&i(m.charCodeAt(g+1))&&i(m.charCodeAt(g+2))&&i(m.charCodeAt(g+3))&&i(m.charCodeAt(g+4))&&!i(m.charCodeAt(g+5))&&(h.script=p.slice(g+1,g+5),g+=5),45===m.charCodeAt(g)&&(i(m.charCodeAt(g+1))&&i(m.charCodeAt(g+2))&&!i(m.charCodeAt(g+3))?(h.region=p.slice(g+1,g+3),g+=3):o(m.charCodeAt(g+1))&&o(m.charCodeAt(g+2))&&o(m.charCodeAt(g+3))&&!o(m.charCodeAt(g+4))&&(h.region=p.slice(g+1,g+4),g+=4));45===m.charCodeAt(g);){for(d=u=g+1;n(m.charCodeAt(d));){if(d-u>7)return y(d,1,"Too long variant, expected at most 8 characters");d++}if(!(d-u>4||d-u>3&&o(m.charCodeAt(u))))break;h.variants.push(p.slice(u,d)),g=d}for(;45===m.charCodeAt(g)&&120!==m.charCodeAt(g+1)&&n(m.charCodeAt(g+1))&&45===m.charCodeAt(g+2)&&n(m.charCodeAt(g+3));){for(d=g+2,c=0;45===m.charCodeAt(d)&&n(m.charCodeAt(d+1))&&n(m.charCodeAt(d+2));)for(d=(u=d+1)+2,c++;n(m.charCodeAt(d));){if(d-u>7)return y(d,2,"Too long extension, expected at most 8 characters");d++}if(!c)return y(d,4,"Empty extension, extensions must have at least 2 characters of content");h.extensions.push({singleton:p.charAt(g+1),extensions:p.slice(g+3,d).split("-")}),g=d}}else g=0;if(0===g&&120===m.charCodeAt(g)||45===m.charCodeAt(g)&&120===m.charCodeAt(g+1))for(d=g=g?g+2:1;45===m.charCodeAt(d)&&n(m.charCodeAt(d+1));){for(d=u=g+1;n(m.charCodeAt(d));){if(d-u>7)return y(d,5,"Too long private-use area, expected at most 8 characters");d++}h.privateuse.push(p.slice(g+1,d)),g=d}return g!==p.length?y(g,6,"Found superfluous content after tag"):h;function y(e,t,r){return f.warning&&f.warning(r,t,e),f.forgiving?h:{language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null}}};var l={}.hasOwnProperty},6713:function(e){"use strict";e.exports=function(e){var t,r,n,i=e||{},o=[];if(i.irregular||i.regular)return i.irregular||i.regular;if(i.language)for(o=o.concat(i.language,i.extendedLanguageSubtags||[],i.script||[],i.region||[],i.variants||[]),t=i.extensions||[],r=-1;++r<t.length;)(n=t[r]).singleton&&n.extensions&&n.extensions.length&&(o=o.concat(n.singleton,n.extensions));return i.privateuse&&i.privateuse.length&&(o=o.concat("x",i.privateuse)),o.join("-")}},1549:function(e,t,r){"use strict";var n=r(6693),i=r(2165),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=l,t.SlowBuffer=function(e){return+e!=e&&(e=0),l.alloc(+e)},t.INSPECT_MAX_BYTES=50;var a=2147483647;function s(e){if(e>a)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,l.prototype),t}function l(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return u(e,t,r)}function u(e,t,r){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!l.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|m(e,t),n=s(r),i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(G(e,Uint8Array)){var t=new Uint8Array(e);return h(t.buffer,t.byteOffset,t.byteLength)}return f(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(G(e,ArrayBuffer)||e&&G(e.buffer,ArrayBuffer))return h(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(G(e,SharedArrayBuffer)||e&&G(e.buffer,SharedArrayBuffer)))return h(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return l.from(n,t,r);var i=function(e){if(l.isBuffer(e)){var t=0|p(e.length),r=s(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||z(e.length)?s(0):f(e):"Buffer"===e.type&&Array.isArray(e.data)?f(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return l.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return c(e),s(e<0?0:0|p(e))}function f(e){for(var t=e.length<0?0:0|p(e.length),r=s(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function h(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,l.prototype),n}function p(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function m(e,t){if(l.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||G(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return F(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return U(e).length;default:if(i)return n?-1:F(e).length;t=(""+t).toLowerCase(),i=!0}}function g(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return I(this,t,r);case"utf8":case"utf-8":return A(this,t,r);case"ascii":return R(this,t,r);case"latin1":case"binary":return C(this,t,r);case"base64":return T(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function y(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function v(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),z(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=l.from(t,n)),l.isBuffer(t))return 0===t.length?-1:b(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):b(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function b(e,t,r,n,i){var o,a=1,s=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,r/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var c=-1;for(o=r;o<s;o++)if(u(e,o)===u(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===l)return c*a}else-1!==c&&(o-=o-c),c=-1}else for(r+l>s&&(r=s-l),o=r;o>=0;o--){for(var d=!0,f=0;f<l;f++)if(u(e,o+f)!==u(t,f)){d=!1;break}if(d)return o}return-1}function _(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(z(s))return a;e[r+a]=s}return a}function w(e,t,r,n){return B(F(t,e.length-r),e,r,n)}function E(e,t,r,n){return B(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function x(e,t,r,n){return B(U(t),e,r,n)}function S(e,t,r,n){return B(function(e,t){for(var r,n,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=(r=e.charCodeAt(a))>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function T(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function A(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,a,s,l,u=e[i],c=null,d=u>239?4:u>223?3:u>191?2:1;if(i+d<=r)switch(d){case 1:u<128&&(c=u);break;case 2:128==(192&(o=e[i+1]))&&(l=(31&u)<<6|63&o)>127&&(c=l);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(l=(15&u)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(l=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(c=l)}null===c?(c=65533,d=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),i+=d}return function(e){var t=e.length;if(t<=M)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=M));return r}(n)}t.kMaxLength=a,l.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),l.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(e,t,r){return u(e,t,r)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(e,t,r){return function(e,t,r){return c(e),e<=0?s(e):void 0!==t?"string"==typeof r?s(e).fill(t,r):s(e).fill(t):s(e)}(e,t,r)},l.allocUnsafe=function(e){return d(e)},l.allocUnsafeSlow=function(e){return d(e)},l.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==l.prototype},l.compare=function(e,t){if(G(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),G(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=l.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(G(o,Uint8Array))i+o.length>n.length?l.from(o).copy(n,i):Uint8Array.prototype.set.call(n,o,i);else{if(!l.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i)}i+=o.length}return n},l.byteLength=m,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},l.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?A(this,0,e):g.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},o&&(l.prototype[o]=l.prototype.inspect),l.prototype.compare=function(e,t,r,n,i){if(G(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0),s=Math.min(o,a),u=this.slice(n,i),c=e.slice(t,r),d=0;d<s;++d)if(u[d]!==c[d]){o=u[d],a=c[d];break}return o<a?-1:a<o?1:0},l.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},l.prototype.indexOf=function(e,t,r){return v(this,e,t,r,!0)},l.prototype.lastIndexOf=function(e,t,r){return v(this,e,t,r,!1)},l.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return _(this,e,t,r);case"utf8":case"utf-8":return w(this,e,t,r);case"ascii":case"latin1":case"binary":return E(this,e,t,r);case"base64":return x(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var M=4096;function R(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function C(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function I(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=V[e[o]];return i}function k(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function P(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function O(e,t,r,n,i,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function j(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function N(e,t,r,n,o){return t=+t,r>>>=0,o||j(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function L(e,t,r,n,o){return t=+t,r>>>=0,o||j(e,0,r,8),i.write(e,t,r,n,52,8),r+8}l.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,l.prototype),n},l.prototype.readUintLE=l.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||P(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},l.prototype.readUintBE=l.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||P(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},l.prototype.readUint8=l.prototype.readUInt8=function(e,t){return e>>>=0,t||P(e,1,this.length),this[e]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(e,t){return e>>>=0,t||P(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(e,t){return e>>>=0,t||P(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(e,t){return e>>>=0,t||P(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(e,t){return e>>>=0,t||P(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||P(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},l.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||P(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return e>>>=0,t||P(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){e>>>=0,t||P(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt16BE=function(e,t){e>>>=0,t||P(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt32LE=function(e,t){return e>>>=0,t||P(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return e>>>=0,t||P(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return e>>>=0,t||P(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return e>>>=0,t||P(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return e>>>=0,t||P(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return e>>>=0,t||P(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||O(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||O(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},l.prototype.writeUint8=l.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,1,255,0),this[t]=255&e,t+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);O(this,e,t,r,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<r&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},l.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);O(this,e,t,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},l.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},l.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeFloatLE=function(e,t,r){return N(this,e,t,!0,r)},l.prototype.writeFloatBE=function(e,t,r){return N(this,e,t,!1,r)},l.prototype.writeDoubleLE=function(e,t,r){return L(this,e,t,!0,r)},l.prototype.writeDoubleBE=function(e,t,r){return L(this,e,t,!1,r)},l.prototype.copy=function(e,t,r,n){if(!l.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},l.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var i=e.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(e=i)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var a=l.isBuffer(e)?e:l.from(e,n),s=a.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<r-t;++o)this[o+t]=a[o%s]}return this};var D=/[^+/0-9A-Za-z-_]/g;function F(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function U(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(D,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function B(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function G(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function z(e){return e!=e}var V=function(){for(var e="0123456789abcdef",t=new Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)t[n+i]=e[r]+e[i];return t}()},6693:function(e,t){"use strict";t.byteLength=function(e){var t=l(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,o=l(e),a=o[0],s=o[1],u=new i(function(e,t,r){return 3*(t+r)/4-r}(0,a,s)),c=0,d=s>0?a-4:a;for(r=0;r<d;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],u[c++]=t>>16&255,u[c++]=t>>8&255,u[c++]=255&t;return 2===s&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,u[c++]=255&t),1===s&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,u[c++]=t>>8&255,u[c++]=255&t),u},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=16383,s=0,l=n-i;s<l;s+=a)o.push(u(e,s,s+a>l?l:s+a));return 1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),o.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=o.length;a<s;++a)r[a]=o[a],n[o.charCodeAt(a)]=a;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function u(e,t,n){for(var i,o,a=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},2165:function(e,t){t.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,l=(1<<s)-1,u=l>>1,c=-7,d=r?i-1:0,f=r?-1:1,h=e[t+d];for(d+=f,o=h&(1<<-c)-1,h>>=-c,c+=s;c>0;o=256*o+e[t+d],d+=f,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=n;c>0;a=256*a+e[t+d],d+=f,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,n),o-=u}return(h?-1:1)*a*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var a,s,l,u=8*o-i-1,c=(1<<u)-1,d=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:o-1,p=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+d>=1?f/l:f*Math.pow(2,1-d))*l>=2&&(a++,l/=2),a+d>=c?(s=0,a=c):a+d>=1?(s=(t*l-1)*Math.pow(2,i),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[r+h]=255&s,h+=p,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[r+h]=255&a,h+=p,a/=256,u-=8);e[r+h-p]|=128*m}},6934:function(e,t){var r={parseBuffer:function(e){return new n(e).parse()},addBoxProcessor:function(e,t){"string"==typeof e&&"function"==typeof t&&(i.prototype._boxProcessors[e]=t)},createFile:function(){return new n},createBox:function(e,t,r){var n=i.create(e);return t&&t.append(n,r),n},createFullBox:function(e,t,n){var i=r.createBox(e,t,n);return i.version=0,i.flags=0,i},Utils:{}};r.Utils.dataViewToString=function(e,t){var r=t||"utf-8";if("undefined"!=typeof TextDecoder)return new TextDecoder(r).decode(e);var n=[],i=0;if("utf-8"===r)for(;i<e.byteLength;){var o=e.getUint8(i++);o<128||(o<224?(o=(31&o)<<6,o|=63&e.getUint8(i++)):o<240?(o=(15&o)<<12,o|=(63&e.getUint8(i++))<<6,o|=63&e.getUint8(i++)):(o=(7&o)<<18,o|=(63&e.getUint8(i++))<<12,o|=(63&e.getUint8(i++))<<6,o|=63&e.getUint8(i++))),n.push(String.fromCharCode(o))}else for(;i<e.byteLength;)n.push(String.fromCharCode(e.getUint8(i++)));return n.join("")},r.Utils.utf8ToByteArray=function(e){var t,r;if("undefined"!=typeof TextEncoder)t=(new TextEncoder).encode(e);else for(t=[],r=0;r<e.length;++r){var n=e.charCodeAt(r);n<128?t.push(n):n<2048?(t.push(192|n>>6),t.push(128|63&n)):n<65536?(t.push(224|n>>12),t.push(128|63&n>>6),t.push(128|63&n)):(t.push(240|n>>18),t.push(128|63&n>>12),t.push(128|63&n>>6),t.push(128|63&n))}return t},r.Utils.appendBox=function(e,t,r){if(t._offset=e._cursor.offset,t._root=e._root?e._root:e,t._raw=e._raw,t._parent=e,-1!==r)if(null!=r){var n,i=-1;if("number"==typeof r)i=r;else{if("string"==typeof r)n=r;else{if("object"!=typeof r||!r.type)return void e.boxes.push(t);n=r.type}for(var o=0;o<e.boxes.length;o++)if(n===e.boxes[o].type){i=o+1;break}}e.boxes.splice(i,0,t)}else e.boxes.push(t)},t.parseBuffer=r.parseBuffer,t.addBoxProcessor=r.addBoxProcessor,t.createFile=r.createFile,t.createBox=r.createBox,t.createFullBox=r.createFullBox,t.Utils=r.Utils,r.Cursor=function(e){this.offset=void 0===e?0:e};var n=function(e){this._cursor=new r.Cursor,this.boxes=[],e&&(this._raw=new DataView(e))};n.prototype.fetch=function(e){var t=this.fetchAll(e,!0);return t.length?t[0]:null},n.prototype.fetchAll=function(e,t){var r=[];return n._sweep.call(this,e,r,t),r},n.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var e=i.parse(this);if(void 0===e.type)break;this.boxes.push(e)}return this},n._sweep=function(e,t,r){for(var i in this.type&&this.type==e&&t.push(this),this.boxes){if(t.length&&r)return;n._sweep.call(this.boxes[i],e,t,r)}},n.prototype.write=function(){var e,t=0;for(e=0;e<this.boxes.length;e++)t+=this.boxes[e].getLength(!1);var r=new Uint8Array(t);for(this._rawo=new DataView(r.buffer),this.bytes=r,this._cursor.offset=0,e=0;e<this.boxes.length;e++)this.boxes[e].write();return r.buffer},n.prototype.append=function(e,t){r.Utils.appendBox(this,e,t)};var i=function(){this._cursor=new r.Cursor};i.parse=function(e){var t=new i;return t._offset=e._cursor.offset,t._root=e._root?e._root:e,t._raw=e._raw,t._parent=e,t._parseBox(),e._cursor.offset=t._raw.byteOffset+t._raw.byteLength,t},i.create=function(e){var t=new i;return t.type=e,t.boxes=[],t},i.prototype._boxContainers=["dinf","edts","mdia","meco","mfra","minf","moof","moov","mvex","stbl","strk","traf","trak","tref","udta","vttc","sinf","schi","encv","enca"],i.prototype._boxProcessors={},i.prototype._procField=function(e,t,r){this._parsing?this[e]=this._readField(t,r):this._writeField(t,r,this[e])},i.prototype._procFieldArray=function(e,t,r,n){var i;if(this._parsing)for(this[e]=[],i=0;i<t;i++)this[e][i]=this._readField(r,n);else for(i=0;i<this[e].length;i++)this._writeField(r,n,this[e][i])},i.prototype._procFullBox=function(){this._procField("version","uint",8),this._procField("flags","uint",24)},i.prototype._procEntries=function(e,t,r){var n;if(this._parsing)for(this[e]=[],n=0;n<t;n++)this[e].push({}),r.call(this,this[e][n]);else for(n=0;n<t;n++)r.call(this,this[e][n])},i.prototype._procSubEntries=function(e,t,r,n){var i;if(this._parsing)for(e[t]=[],i=0;i<r;i++)e[t].push({}),n.call(this,e[t][i]);else for(i=0;i<r;i++)n.call(this,e[t][i])},i.prototype._procEntryField=function(e,t,r,n){this._parsing?e[t]=this._readField(r,n):this._writeField(r,n,e[t])},i.prototype._procSubBoxes=function(e,t){var r;if(this._parsing)for(this[e]=[],r=0;r<t;r++)this[e].push(i.parse(this));else for(r=0;r<t;r++)this._rawo?this[e][r].write():this.size+=this[e][r].getLength()},i.prototype._readField=function(e,t){switch(e){case"uint":return this._readUint(t);case"int":return this._readInt(t);case"template":return this._readTemplate(t);case"string":return-1===t?this._readTerminatedString():this._readString(t);case"data":return this._readData(t);case"utf8":return this._readUTF8String();default:return-1}},i.prototype._readInt=function(e){var t=null,r=this._cursor.offset-this._raw.byteOffset;switch(e){case 8:t=this._raw.getInt8(r);break;case 16:t=this._raw.getInt16(r);break;case 32:t=this._raw.getInt32(r);break;case 64:var n=this._raw.getInt32(r),i=this._raw.getInt32(r+4);t=n*Math.pow(2,32)+i}return this._cursor.offset+=e>>3,t},i.prototype._readUint=function(e){var t,r,n=null,i=this._cursor.offset-this._raw.byteOffset;switch(e){case 8:n=this._raw.getUint8(i);break;case 16:n=this._raw.getUint16(i);break;case 24:n=((t=this._raw.getUint16(i))<<8)+(r=this._raw.getUint8(i+2));break;case 32:n=this._raw.getUint32(i);break;case 64:t=this._raw.getUint32(i),r=this._raw.getUint32(i+4),n=t*Math.pow(2,32)+r}return this._cursor.offset+=e>>3,n},i.prototype._readString=function(e){for(var t="",r=0;r<e;r++){var n=this._readUint(8);t+=String.fromCharCode(n)}return t},i.prototype._readTemplate=function(e){return this._readUint(e/2)+this._readUint(e/2)/Math.pow(2,e/2)},i.prototype._readTerminatedString=function(){for(var e="";this._cursor.offset-this._offset<this._raw.byteLength;){var t=this._readUint(8);if(0===t)break;e+=String.fromCharCode(t)}return e},i.prototype._readData=function(e){var t=e>0?e:this._raw.byteLength-(this._cursor.offset-this._offset);if(t>0){var r=new Uint8Array(this._raw.buffer,this._cursor.offset,t);return this._cursor.offset+=t,r}return null},i.prototype._readUTF8String=function(){var e=this._raw.byteLength-(this._cursor.offset-this._offset),t=null;return e>0&&(t=new DataView(this._raw.buffer,this._cursor.offset,e),this._cursor.offset+=e),t?r.Utils.dataViewToString(t):t},i.prototype._parseBox=function(){if(this._parsing=!0,this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)this._root._incomplete=!0;else{switch(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}this._incomplete||(this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type)?this._parseContainerBox():this._data=this._readData())}},i.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},i.prototype._parseContainerBox=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(i.parse(this))},i.prototype.append=function(e,t){r.Utils.appendBox(this,e,t)},i.prototype.getLength=function(){if(this._parsing=!1,this._rawo=null,this.size=0,this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var e=0;e<this.boxes.length;e++)this.size+=this.boxes[e].getLength();return this._data&&this._writeData(this._data),this.size},i.prototype.write=function(){switch(this._parsing=!1,this._cursor.offset=this._parent._cursor.offset,this.size){case 0:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.parent._rawo.byteLength-this._cursor.offset);break;case 1:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.largesize);break;default:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.size)}if(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var e=0;e<this.boxes.length;e++)this.boxes[e].write();return this._data&&this._writeData(this._data),this._parent._cursor.offset+=this.size,this.size},i.prototype._writeInt=function(e,t){if(this._rawo){var r=this._cursor.offset-this._rawo.byteOffset;switch(e){case 8:this._rawo.setInt8(r,t);break;case 16:this._rawo.setInt16(r,t);break;case 32:this._rawo.setInt32(r,t);break;case 64:var n=Math.floor(t/Math.pow(2,32)),i=t-n*Math.pow(2,32);this._rawo.setUint32(r,n),this._rawo.setUint32(r+4,i)}this._cursor.offset+=e>>3}else this.size+=e>>3},i.prototype._writeUint=function(e,t){if(this._rawo){var r,n,i=this._cursor.offset-this._rawo.byteOffset;switch(e){case 8:this._rawo.setUint8(i,t);break;case 16:this._rawo.setUint16(i,t);break;case 24:r=(16776960&t)>>8,n=255&t,this._rawo.setUint16(i,r),this._rawo.setUint8(i+2,n);break;case 32:this._rawo.setUint32(i,t);break;case 64:n=t-(r=Math.floor(t/Math.pow(2,32)))*Math.pow(2,32),this._rawo.setUint32(i,r),this._rawo.setUint32(i+4,n)}this._cursor.offset+=e>>3}else this.size+=e>>3},i.prototype._writeString=function(e,t){for(var r=0;r<e;r++)this._writeUint(8,t.charCodeAt(r))},i.prototype._writeTerminatedString=function(e){if(0!==e.length){for(var t=0;t<e.length;t++)this._writeUint(8,e.charCodeAt(t));this._writeUint(8,0)}},i.prototype._writeTemplate=function(e,t){var r=Math.floor(t),n=(t-r)*Math.pow(2,e/2);this._writeUint(e/2,r),this._writeUint(e/2,n)},i.prototype._writeData=function(e){if(e)if(this._rawo){if(e instanceof Array){for(var t=this._cursor.offset-this._rawo.byteOffset,r=0;r<e.length;r++)this._rawo.setInt8(t+r,e[r]);this._cursor.offset+=e.length}e instanceof Uint8Array&&(this._root.bytes.set(e,this._cursor.offset),this._cursor.offset+=e.length)}else this.size+=e.length},i.prototype._writeUTF8String=function(e){var t=r.Utils.utf8ToByteArray(e);if(this._rawo)for(var n=new DataView(this._rawo.buffer,this._cursor.offset,t.length),i=0;i<t.length;i++)n.setUint8(i,t[i]);else this.size+=t.length},i.prototype._writeField=function(e,t,r){switch(e){case"uint":this._writeUint(t,r);break;case"int":this._writeInt(t,r);break;case"template":this._writeTemplate(t,r);break;case"string":-1==t?this._writeTerminatedString(r):this._writeString(t,r);break;case"data":this._writeData(r);break;case"utf8":this._writeUTF8String(r)}},i.prototype._boxProcessors.avc1=i.prototype._boxProcessors.avc2=i.prototype._boxProcessors.avc3=i.prototype._boxProcessors.avc4=i.prototype._boxProcessors.hvc1=i.prototype._boxProcessors.hev1=i.prototype._boxProcessors.encv=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procField("pre_defined1","uint",16),this._procField("reserved2","uint",16),this._procFieldArray("pre_defined2",3,"uint",32),this._procField("width","uint",16),this._procField("height","uint",16),this._procField("horizresolution","template",32),this._procField("vertresolution","template",32),this._procField("reserved3","uint",32),this._procField("frame_count","uint",16),this._procFieldArray("compressorname",32,"uint",8),this._procField("depth","uint",16),this._procField("pre_defined3","int",16),this._procField("config","data",-1)},i.prototype._boxProcessors.ctts=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,(function(e){this._procEntryField(e,"sample_count","uint",32),this._procEntryField(e,"sample_offset",1===this.version?"int":"uint",32)}))},i.prototype._boxProcessors.dref=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},i.prototype._boxProcessors.elst=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,(function(e){this._procEntryField(e,"segment_duration","uint",1===this.version?64:32),this._procEntryField(e,"media_time","int",1===this.version?64:32),this._procEntryField(e,"media_rate_integer","int",16),this._procEntryField(e,"media_rate_fraction","int",16)}))},i.prototype._boxProcessors.emsg=function(){this._procFullBox(),1==this.version?(this._procField("timescale","uint",32),this._procField("presentation_time","uint",64),this._procField("event_duration","uint",32),this._procField("id","uint",32),this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1)):(this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1),this._procField("timescale","uint",32),this._procField("presentation_time_delta","uint",32),this._procField("event_duration","uint",32),this._procField("id","uint",32)),this._procField("message_data","data",-1)},i.prototype._boxProcessors.free=i.prototype._boxProcessors.skip=function(){this._procField("data","data",-1)},i.prototype._boxProcessors.frma=function(){this._procField("data_format","uint",32)},i.prototype._boxProcessors.ftyp=i.prototype._boxProcessors.styp=function(){this._procField("major_brand","string",4),this._procField("minor_version","uint",32);var e=-1;this._parsing&&(e=(this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset))/4),this._procFieldArray("compatible_brands",e,"string",4)},i.prototype._boxProcessors.hdlr=function(){this._procFullBox(),this._procField("pre_defined","uint",32),this._procField("handler_type","string",4),this._procFieldArray("reserved",3,"uint",32),this._procField("name","string",-1)},i.prototype._boxProcessors.mdat=function(){this._procField("data","data",-1)},i.prototype._boxProcessors.mdhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),this._parsing||"string"!=typeof this.language||(this.language=this.language.charCodeAt(0)-96<<10|this.language.charCodeAt(1)-96<<5|this.language.charCodeAt(2)-96),this._procField("language","uint",16),this._parsing&&(this.language=String.fromCharCode(96+(this.language>>10&31),96+(this.language>>5&31),96+(31&this.language))),this._procField("pre_defined","uint",16)},i.prototype._boxProcessors.mehd=function(){this._procFullBox(),this._procField("fragment_duration","uint",1==this.version?64:32)},i.prototype._boxProcessors.mfhd=function(){this._procFullBox(),this._procField("sequence_number","uint",32)},i.prototype._boxProcessors.mfro=function(){this._procFullBox(),this._procField("mfra_size","uint",32)},i.prototype._boxProcessors.mp4a=i.prototype._boxProcessors.enca=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procField("channelcount","uint",16),this._procField("samplesize","uint",16),this._procField("pre_defined","uint",16),this._procField("reserved3","uint",16),this._procField("samplerate","template",32),this._procField("esds","data",-1)},i.prototype._boxProcessors.mvhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procField("rate","template",32),this._procField("volume","template",16),this._procField("reserved1","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procFieldArray("matrix",9,"template",32),this._procFieldArray("pre_defined",6,"uint",32),this._procField("next_track_ID","uint",32)},i.prototype._boxProcessors.payl=function(){this._procField("cue_text","utf8")},i.prototype._boxProcessors.prft=function(){this._procFullBox(),this._procField("reference_track_ID","uint",32),this._procField("ntp_timestamp_sec","uint",32),this._procField("ntp_timestamp_frac","uint",32),this._procField("media_time","uint",1==this.version?64:32)},i.prototype._boxProcessors.pssh=function(){this._procFullBox(),this._procFieldArray("SystemID",16,"uint",8),this._procField("DataSize","uint",32),this._procFieldArray("Data",this.DataSize,"uint",8)},i.prototype._boxProcessors.schm=function(){this._procFullBox(),this._procField("scheme_type","uint",32),this._procField("scheme_version","uint",32),1&this.flags&&this._procField("scheme_uri","string",-1)},i.prototype._boxProcessors.sdtp=function(){this._procFullBox();var e=-1;this._parsing&&(e=this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset)),this._procFieldArray("sample_dependency_table",e,"uint",8)},i.prototype._boxProcessors.sidx=function(){this._procFullBox(),this._procField("reference_ID","uint",32),this._procField("timescale","uint",32),this._procField("earliest_presentation_time","uint",1==this.version?64:32),this._procField("first_offset","uint",1==this.version?64:32),this._procField("reserved","uint",16),this._procField("reference_count","uint",16),this._procEntries("references",this.reference_count,(function(e){this._parsing||(e.reference=(1&e.reference_type)<<31,e.reference|=2147483647&e.referenced_size,e.sap=(1&e.starts_with_SAP)<<31,e.sap|=(3&e.SAP_type)<<28,e.sap|=268435455&e.SAP_delta_time),this._procEntryField(e,"reference","uint",32),this._procEntryField(e,"subsegment_duration","uint",32),this._procEntryField(e,"sap","uint",32),this._parsing&&(e.reference_type=e.reference>>31&1,e.referenced_size=2147483647&e.reference,e.starts_with_SAP=e.sap>>31&1,e.SAP_type=e.sap>>28&7,e.SAP_delta_time=268435455&e.sap)}))},i.prototype._boxProcessors.smhd=function(){this._procFullBox(),this._procField("balance","uint",16),this._procField("reserved","uint",16)},i.prototype._boxProcessors.ssix=function(){this._procFullBox(),this._procField("subsegment_count","uint",32),this._procEntries("subsegments",this.subsegment_count,(function(e){this._procEntryField(e,"ranges_count","uint",32),this._procSubEntries(e,"ranges",e.ranges_count,(function(e){this._procEntryField(e,"level","uint",8),this._procEntryField(e,"range_size","uint",24)}))}))},i.prototype._boxProcessors.stsd=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},i.prototype._boxProcessors.sttg=function(){this._procField("settings","utf8")},i.prototype._boxProcessors.stts=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,(function(e){this._procEntryField(e,"sample_count","uint",32),this._procEntryField(e,"sample_delta","uint",32)}))},i.prototype._boxProcessors.subs=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,(function(e){this._procEntryField(e,"sample_delta","uint",32),this._procEntryField(e,"subsample_count","uint",16),this._procSubEntries(e,"subsamples",e.subsample_count,(function(e){this._procEntryField(e,"subsample_size","uint",1===this.version?32:16),this._procEntryField(e,"subsample_priority","uint",8),this._procEntryField(e,"discardable","uint",8),this._procEntryField(e,"codec_specific_parameters","uint",32)}))}))},i.prototype._boxProcessors.tenc=function(){this._procFullBox(),this._procField("default_IsEncrypted","uint",24),this._procField("default_IV_size","uint",8),this._procFieldArray("default_KID",16,"uint",8)},i.prototype._boxProcessors.tfdt=function(){this._procFullBox(),this._procField("baseMediaDecodeTime","uint",1==this.version?64:32)},i.prototype._boxProcessors.tfhd=function(){this._procFullBox(),this._procField("track_ID","uint",32),1&this.flags&&this._procField("base_data_offset","uint",64),2&this.flags&&this._procField("sample_description_offset","uint",32),8&this.flags&&this._procField("default_sample_duration","uint",32),16&this.flags&&this._procField("default_sample_size","uint",32),32&this.flags&&this._procField("default_sample_flags","uint",32)},i.prototype._boxProcessors.tfra=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._parsing||(this.reserved=0,this.reserved|=(48&this.length_size_of_traf_num)<<4,this.reserved|=(12&this.length_size_of_trun_num)<<2,this.reserved|=3&this.length_size_of_sample_num),this._procField("reserved","uint",32),this._parsing&&(this.length_size_of_traf_num=(48&this.reserved)>>4,this.length_size_of_trun_num=(12&this.reserved)>>2,this.length_size_of_sample_num=3&this.reserved),this._procField("number_of_entry","uint",32),this._procEntries("entries",this.number_of_entry,(function(e){this._procEntryField(e,"time","uint",1===this.version?64:32),this._procEntryField(e,"moof_offset","uint",1===this.version?64:32),this._procEntryField(e,"traf_number","uint",8*(this.length_size_of_traf_num+1)),this._procEntryField(e,"trun_number","uint",8*(this.length_size_of_trun_num+1)),this._procEntryField(e,"sample_number","uint",8*(this.length_size_of_sample_num+1))}))},i.prototype._boxProcessors.tkhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("track_ID","uint",32),this._procField("reserved1","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procFieldArray("reserved2",2,"uint",32),this._procField("layer","uint",16),this._procField("alternate_group","uint",16),this._procField("volume","template",16),this._procField("reserved3","uint",16),this._procFieldArray("matrix",9,"template",32),this._procField("width","template",32),this._procField("height","template",32)},i.prototype._boxProcessors.trex=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._procField("default_sample_description_index","uint",32),this._procField("default_sample_duration","uint",32),this._procField("default_sample_size","uint",32),this._procField("default_sample_flags","uint",32)},i.prototype._boxProcessors.trun=function(){this._procFullBox(),this._procField("sample_count","uint",32),1&this.flags&&this._procField("data_offset","int",32),4&this.flags&&this._procField("first_sample_flags","uint",32),this._procEntries("samples",this.sample_count,(function(e){256&this.flags&&this._procEntryField(e,"sample_duration","uint",32),512&this.flags&&this._procEntryField(e,"sample_size","uint",32),1024&this.flags&&this._procEntryField(e,"sample_flags","uint",32),2048&this.flags&&this._procEntryField(e,"sample_composition_time_offset",1===this.version?"int":"uint",32)}))},i.prototype._boxProcessors["url "]=i.prototype._boxProcessors["urn "]=function(){this._procFullBox(),"urn "===this.type&&this._procField("name","string",-1),this._procField("location","string",-1)},i.prototype._boxProcessors.vlab=function(){this._procField("source_label","utf8")},i.prototype._boxProcessors.vmhd=function(){this._procFullBox(),this._procField("graphicsmode","uint",16),this._procFieldArray("opcolor",3,"uint",16)},i.prototype._boxProcessors.vttC=function(){this._procField("config","utf8")},i.prototype._boxProcessors.vtte=function(){}},5530:function(e,t,r){"use strict";e.exports=r(6146).polyfill()},6146:function(e,t,r){e.exports=function(){"use strict";function e(e){return"function"==typeof e}var t=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},n=0,i=void 0,o=void 0,a=function(e,t){h[n]=e,h[n+1]=t,2===(n+=2)&&(o?o(p):b())},s="undefined"!=typeof window?window:void 0,l=s||{},u=l.MutationObserver||l.WebKitMutationObserver,c="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),d="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function f(){var e=setTimeout;return function(){return e(p,1)}}var h=new Array(1e3);function p(){for(var e=0;e<n;e+=2)(0,h[e])(h[e+1]),h[e]=void 0,h[e+1]=void 0;n=0}var m,g,y,v,b=void 0;function _(e,t){var r=this,n=new this.constructor(x);void 0===n[E]&&j(n);var i=r._state;if(i){var o=arguments[i-1];a((function(){return P(i,n,o,r._result)}))}else I(r,n,e,t);return n}function w(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(x);return A(t,e),t}b=c?function(){return process.nextTick(p)}:u?(g=0,y=new u(p),v=document.createTextNode(""),y.observe(v,{characterData:!0}),function(){v.data=g=++g%2}):d?((m=new MessageChannel).port1.onmessage=p,function(){return m.port2.postMessage(0)}):void 0===s?function(){try{var e=Function("return this")().require("vertx");return void 0!==(i=e.runOnLoop||e.runOnContext)?function(){i(p)}:f()}catch(e){return f()}}():f();var E=Math.random().toString(36).substring(2);function x(){}var S=void 0;function T(t,r,n){r.constructor===t.constructor&&n===_&&r.constructor.resolve===w?function(e,t){1===t._state?R(e,t._result):2===t._state?C(e,t._result):I(t,void 0,(function(t){return A(e,t)}),(function(t){return C(e,t)}))}(t,r):void 0===n?R(t,r):e(n)?function(e,t,r){a((function(e){var n=!1,i=function(e,t,r,n){try{e.call(t,r,n)}catch(e){return e}}(r,t,(function(r){n||(n=!0,t!==r?A(e,r):R(e,r))}),(function(t){n||(n=!0,C(e,t))}),e._label);!n&&i&&(n=!0,C(e,i))}),e)}(t,r,n):R(t,r)}function A(e,t){if(e===t)C(e,new TypeError("You cannot resolve a promise with itself"));else if(i=typeof(n=t),null===n||"object"!==i&&"function"!==i)R(e,t);else{var r=void 0;try{r=t.then}catch(t){return void C(e,t)}T(e,t,r)}var n,i}function M(e){e._onerror&&e._onerror(e._result),k(e)}function R(e,t){e._state===S&&(e._result=t,e._state=1,0!==e._subscribers.length&&a(k,e))}function C(e,t){e._state===S&&(e._state=2,e._result=t,a(M,e))}function I(e,t,r,n){var i=e._subscribers,o=i.length;e._onerror=null,i[o]=t,i[o+1]=r,i[o+2]=n,0===o&&e._state&&a(k,e)}function k(e){var t=e._subscribers,r=e._state;if(0!==t.length){for(var n=void 0,i=void 0,o=e._result,a=0;a<t.length;a+=3)n=t[a],i=t[a+r],n?P(r,n,i,o):i(o);e._subscribers.length=0}}function P(t,r,n,i){var o=e(n),a=void 0,s=void 0,l=!0;if(o){try{a=n(i)}catch(e){l=!1,s=e}if(r===a)return void C(r,new TypeError("A promises callback cannot return that same promise."))}else a=i;r._state!==S||(o&&l?A(r,a):!1===l?C(r,s):1===t?R(r,a):2===t&&C(r,a))}var O=0;function j(e){e[E]=O++,e._state=void 0,e._result=void 0,e._subscribers=[]}var N=function(){function e(e,r){this._instanceConstructor=e,this.promise=new e(x),this.promise[E]||j(this.promise),t(r)?(this.length=r.length,this._remaining=r.length,this._result=new Array(this.length),0===this.length?R(this.promise,this._result):(this.length=this.length||0,this._enumerate(r),0===this._remaining&&R(this.promise,this._result))):C(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;this._state===S&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var r=this._instanceConstructor,n=r.resolve;if(n===w){var i=void 0,o=void 0,a=!1;try{i=e.then}catch(e){a=!0,o=e}if(i===_&&e._state!==S)this._settledAt(e._state,t,e._result);else if("function"!=typeof i)this._remaining--,this._result[t]=e;else if(r===L){var s=new r(x);a?C(s,o):T(s,e,i),this._willSettleAt(s,t)}else this._willSettleAt(new r((function(t){return t(e)})),t)}else this._willSettleAt(n(e),t)},e.prototype._settledAt=function(e,t,r){var n=this.promise;n._state===S&&(this._remaining--,2===e?C(n,r):this._result[t]=r),0===this._remaining&&R(n,this._result)},e.prototype._willSettleAt=function(e,t){var r=this;I(e,void 0,(function(e){return r._settledAt(1,t,e)}),(function(e){return r._settledAt(2,t,e)}))},e}(),L=function(){function t(e){this[E]=O++,this._result=this._state=void 0,this._subscribers=[],x!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(e,t){try{t((function(t){A(e,t)}),(function(t){C(e,t)}))}catch(t){C(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var r=this,n=r.constructor;return e(t)?r.then((function(e){return n.resolve(t()).then((function(){return e}))}),(function(e){return n.resolve(t()).then((function(){throw e}))})):r.then(t,t)},t}();return L.prototype.then=_,L.all=function(e){return new N(this,e).promise},L.race=function(e){var r=this;return t(e)?new r((function(t,n){for(var i=e.length,o=0;o<i;o++)r.resolve(e[o]).then(t,n)})):new r((function(e,t){return t(new TypeError("You must pass an array to race."))}))},L.resolve=w,L.reject=function(e){var t=new this(x);return C(t,e),t},L._setScheduler=function(e){o=e},L._setAsap=function(e){a=e},L._asap=a,L.polyfill=function(){var e=void 0;if(void 0!==r.g)e=r.g;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=L},L.Promise=L,L}()},1159:function(e){"use strict";var t,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise((function(r,n){function i(r){e.removeListener(t,o),n(r)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}m(e,t,o,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&m(e,"error",t,{once:!0})}(e,i)}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function s(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function u(e,t,r,n){var i,o,a,u;if(s(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),a=o[t]),void 0===a)a=o[t]=r,++e._eventsCount;else if("function"==typeof a?a=o[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(i=l(e))>0&&a.length>i&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=a.length,u=c,console&&console.warn&&console.warn(u)}return e}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=c.bind(n);return i.listener=r,n.wrapFn=i,i}function f(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):p(i,i.length)}function h(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function p(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function m(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){n.once&&e.removeEventListener(t,i),r(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return l(this)},o.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=o[e];if(void 0===l)return!1;if("function"==typeof l)n(l,this,t);else{var u=l.length,c=p(l,u);for(r=0;r<u;++r)n(c[r],this,t)}return!0},o.prototype.addListener=function(e,t){return u(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return u(this,e,t,!0)},o.prototype.once=function(e,t){return s(t),this.on(e,d(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,d(this,e,t)),this},o.prototype.removeListener=function(e,t){var r,n,i,o,a;if(s(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){a=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},o.prototype.listeners=function(e){return f(this,e,!0)},o.prototype.rawListeners=function(e){return f(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},o.prototype.listenerCount=h,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},3101:function(e){"use strict";var t=Array.isArray,r=Object.keys,n=Object.prototype.hasOwnProperty;e.exports=function e(i,o){if(i===o)return!0;if(i&&o&&"object"==typeof i&&"object"==typeof o){var a,s,l,u=t(i),c=t(o);if(u&&c){if((s=i.length)!=o.length)return!1;for(a=s;0!=a--;)if(!e(i[a],o[a]))return!1;return!0}if(u!=c)return!1;var d=i instanceof Date,f=o instanceof Date;if(d!=f)return!1;if(d&&f)return i.getTime()==o.getTime();var h=i instanceof RegExp,p=o instanceof RegExp;if(h!=p)return!1;if(h&&p)return i.toString()==o.toString();var m=r(i);if((s=m.length)!==r(o).length)return!1;for(a=s;0!=a--;)if(!n.call(o,m[a]))return!1;for(a=s;0!=a--;)if(!e(i[l=m[a]],o[l]))return!1;return!0}return i!=i&&o!=o}},3362:function(e,t,r){!function(e,t,r,n,i){function o(e){if("contents"in e)for(var t=("styleAttrs"in e?e.styleAttrs[n.byName.ruby.qname]:null),r="span"===e.kind&&("container"===t||"textContainer"===t||"baseContainer"===t),i=e.contents.length-1;i>=0;i--)!r||"styleAttrs"in e.contents[i]&&n.byName.ruby.qname in e.contents[i].styleAttrs?o(e.contents[i]):delete e.contents[i]}function a(e,t,r,n){var i=n&&"seq"===n.timeContainer,o=0;n&&(o=i&&r?r.end:n.begin),t.begin=t.explicit_begin?t.explicit_begin+o:o;var s=t.begin,l=null;if("sets"in t)for(var u=0;u<t.sets.length;u++)a(e,t.sets[u],l,t),s="seq"===t.timeContainer?t.sets[u].end:Math.max(s,t.sets[u].end),l=t.sets[u];if("contents"in t){if("contents"in t)for(var c=0;c<t.contents.length;c++)a(e,t.contents[c],l,t),s="seq"===t.timeContainer?t.contents[c].end:Math.max(s,t.contents[c].end),l=t.contents[c]}else s=i?t.begin:Number.POSITIVE_INFINITY;null!==t.explicit_end&&null!==t.explicit_dur?t.end=Math.min(t.begin+t.explicit_dur,o+t.explicit_end):null===t.explicit_end&&null!==t.explicit_dur?t.end=t.begin+t.explicit_dur:null!==t.explicit_end&&null===t.explicit_dur?t.end=o+t.explicit_end:t.end=s,delete t.explicit_begin,delete t.explicit_dur,delete t.explicit_end,e._registerEvent(t)}function s(e){this.node=e}function l(){this.events=[],this.head=new u,this.body=null}function u(){this.styling=new c,this.layout=new h}function c(){this.styles={},this.initials={}}function d(){this.id=null,this.styleAttrs=null,this.styleRefs=null}function f(){this.styleAttrs=null}function h(){this.regions={}}function p(e,t){m.call(this,"image"),this.src=e,this.type=t}function m(e){this.kind=e}function g(e){this.id=e}function y(e){this.regionID=e}function v(e){this.styleAttrs=e}function b(e){this.sets=e}function _(e){this.contents=e}function w(e,t,r){this.explicit_begin=e,this.explicit_end=t,this.explicit_dur=r}function E(){m.call(this,"body")}function x(){m.call(this,"div")}function S(){m.call(this,"p")}function T(){m.call(this,"span")}function A(){m.call(this,"span")}function M(){m.call(this,"br")}function R(){}function C(){}function I(e){return e&&"xml:id"in e.attributes&&e.attributes["xml:id"].value||null}function k(e){return e&&"style"in e.attributes?e.attributes.style.value.split(" "):[]}function P(e,t){var r={};if(null!==e)for(var i in e.attributes){var o=e.attributes[i].uri+" "+e.attributes[i].local,a=n.byQName[o];if(void 0!==a){var s=a.parse(e.attributes[i].value);null!==s?(r[o]=s,a===n.byName.zIndex&&F(t,"zIndex attribute present but not used by IMSC1 since regions do not overlap")):U(t,"Cannot parse styling attribute "+o+" --\x3e "+e.attributes[i].value)}}return r}function O(e,t,r){for(var n in e.attributes)if(e.attributes[n].uri===t&&e.attributes[n].local===r)return e.attributes[n].value;return null}function j(e,t,r){var n,i=null;return null!==(n=/^(\d+(?:\.\d+)?)f$/.exec(r))?null!==t&&(i=parseFloat(n[1])/t):null!==(n=/^(\d+(?:\.\d+)?)t$/.exec(r))?null!==e&&(i=parseFloat(n[1])/e):null!==(n=/^(\d+(?:\.\d+)?)ms$/.exec(r))?i=parseFloat(n[1])/1e3:null!==(n=/^(\d+(?:\.\d+)?)s$/.exec(r))?i=parseFloat(n[1]):null!==(n=/^(\d+(?:\.\d+)?)h$/.exec(r))?i=3600*parseFloat(n[1]):null!==(n=/^(\d+(?:\.\d+)?)m$/.exec(r))?i=60*parseFloat(n[1]):null!==(n=/^(\d{2,}):(\d\d):(\d\d(?:\.\d+)?)$/.exec(r))?i=3600*parseInt(n[1])+60*parseInt(n[2])+parseFloat(n[3]):null!==(n=/^(\d{2,}):(\d\d):(\d\d)\:(\d{2,})$/.exec(r))&&null!==t&&(i=3600*parseInt(n[1])+60*parseInt(n[2])+parseInt(n[3])+(null===n[4]?0:parseInt(n[4])/t)),i}function N(e,t,r){for(;t.styleRefs.length>0;){var n=t.styleRefs.pop();n in e.styles?(N(e,e.styles[n],r),D(e.styles[n].styleAttrs,t.styleAttrs)):U(r,"Non-existant style id referenced")}}function L(e,t,r,n){for(var i=t.length-1;i>=0;i--){var o=t[i];o in e.styles?D(e.styles[o].styleAttrs,r):U(n,"Non-existant style id referenced")}}function D(e,t){for(var r in e)e.hasOwnProperty(r)&&(r in t||(t[r]=e[r]))}function F(e,t){if(e&&e.warn&&e.warn(t))throw t}function U(e,t){if(e&&e.error&&e.error(t))throw t}function B(e,t){throw e&&e.fatal&&e.fatal(t),t}function G(e,t){for(var r,n=0,i=e.length-1;n<=i;){var o=e[r=Math.floor((n+i)/2)];if(o<t)n=r+1;else{if(!(o>t))return{found:!0,index:r};i=r-1}}return{found:!1,index:n}}e.fromXML=function(e,i,m){var g=t.parser(!0,{xmlns:!0}),y=[],v=[],b=[],_=0,w=null;g.onclosetag=function(e){if(y[0]instanceof R)null!==w.head&&null!==w.head.styling&&L(w.head.styling,y[0].styleRefs,y[0].styleAttrs,i),delete y[0].styleRefs;else if(y[0]instanceof c)for(var t in y[0].styles)y[0].styles.hasOwnProperty(t)&&N(y[0],y[0].styles[t],i);else if(y[0]instanceof S||y[0]instanceof T){if(y[0].contents.length>1){var n,o=[y[0].contents[0]];for(n=1;n<y[0].contents.length;n++)y[0].contents[n]instanceof A&&o[o.length-1]instanceof A?o[o.length-1].text+=y[0].contents[n].text:o.push(y[0].contents[n]);y[0].contents=o}y[0]instanceof T&&1===y[0].contents.length&&y[0].contents[0]instanceof A&&(y[0].text=y[0].contents[0].text,delete y[0].contents)}else y[0]instanceof s&&(y[0].node.uri===r.ns_tt&&"metadata"===y[0].node.local?_--:_>0&&m&&"onCloseTag"in m&&m.onCloseTag());b.shift(),v.shift(),y.shift()},g.ontext=function(e){if(void 0===y[0]);else if(y[0]instanceof T||y[0]instanceof S){if(y[0]instanceof T){var t=y[0].styleAttrs[n.byName.ruby.qname];if("container"===t||"textContainer"===t||"baseContainer"===t)return}var r=new A;r.initFromText(w,y[0],e,v[0],b[0],i),y[0].contents.push(r)}else y[0]instanceof s&&_>0&&m&&"onText"in m&&m.onText(e)},g.onopentag=function(e){var t=e.attributes["xml:space"];t?b.unshift(t.value):0===b.length?b.unshift("default"):b.unshift(b[0]);var o=e.attributes["xml:lang"];if(o?v.unshift(o.value):0===v.length?v.unshift(""):v.unshift(v[0]),e.uri===r.ns_tt)if("tt"===e.local)null!==w&&B(i,"Two <tt> elements at ("+this.line+","+this.column+")"),(w=new l).initFromNode(e,v[0],i),y.unshift(w);else if("head"===e.local)y[0]instanceof l||B(i,"Parent of <head> element is not <tt> at ("+this.line+","+this.column+")"),y.unshift(w.head);else if("styling"===e.local)y[0]instanceof u||B(i,"Parent of <styling> element is not <head> at ("+this.line+","+this.column+")"),y.unshift(w.head.styling);else if("style"===e.local){var a;y[0]instanceof c?((a=new d).initFromNode(e,i),a.id?w.head.styling.styles[a.id]=a:U(i,"<style> element missing @id attribute"),y.unshift(a)):y[0]instanceof R?((a=new d).initFromNode(e,i),D(a.styleAttrs,y[0].styleAttrs),y.unshift(a)):B(i,"Parent of <style> element is not <styling> or <region> at ("+this.line+","+this.column+")")}else if("initial"===e.local){var g;if(y[0]instanceof c){for(var A in(g=new f).initFromNode(e,i),g.styleAttrs)g.styleAttrs.hasOwnProperty(A)&&(w.head.styling.initials[A]=g.styleAttrs[A]);y.unshift(g)}else B(i,"Parent of <initial> element is not <styling> at ("+this.line+","+this.column+")")}else if("layout"===e.local)y[0]instanceof u||B(i,"Parent of <layout> element is not <head> at "+this.line+","+this.column+")"),y.unshift(w.head.layout);else if("region"===e.local){y[0]instanceof h||B(i,"Parent of <region> element is not <layout> at "+this.line+","+this.column+")");var I=new R;I.initFromNode(w,e,v[0],i),!I.id||I.id in w.head.layout.regions?U(i,"Ignoring <region> with duplicate or missing @id at "+this.line+","+this.column+")"):w.head.layout.regions[I.id]=I,y.unshift(I)}else if("body"===e.local){y[0]instanceof l||B(i,"Parent of <body> element is not <tt> at "+this.line+","+this.column+")"),null!==w.body&&B(i,"Second <body> element at "+this.line+","+this.column+")");var k=new E;k.initFromNode(w,e,v[0],i),w.body=k,y.unshift(k)}else if("div"===e.local){y[0]instanceof x||y[0]instanceof E||B(i,"Parent of <div> element is not <body> or <div> at "+this.line+","+this.column+")");var P=new x;P.initFromNode(w,y[0],e,v[0],i);var O=P.styleAttrs[n.byName.backgroundImage.qname];O&&(P.contents.push(new p(O)),delete P.styleAttrs[n.byName.backgroundImage.qname]),y[0].contents.push(P),y.unshift(P)}else if("image"===e.local){y[0]instanceof x||B(i,"Parent of <image> element is not <div> at "+this.line+","+this.column+")");var j=new p;j.initFromNode(w,y[0],e,v[0],i),y[0].contents.push(j),y.unshift(j)}else if("p"===e.local){y[0]instanceof x||B(i,"Parent of <p> element is not <div> at "+this.line+","+this.column+")");var N=new S;N.initFromNode(w,y[0],e,v[0],i),y[0].contents.push(N),y.unshift(N)}else if("span"===e.local){y[0]instanceof T||y[0]instanceof S||B(i,"Parent of <span> element is not <span> or <p> at "+this.line+","+this.column+")");var L=new T;L.initFromNode(w,y[0],e,v[0],b[0],i),y[0].contents.push(L),y.unshift(L)}else if("br"===e.local){y[0]instanceof T||y[0]instanceof S||B(i,"Parent of <br> element is not <span> or <p> at "+this.line+","+this.column+")");var F=new M;F.initFromNode(w,y[0],e,v[0],i),y[0].contents.push(F),y.unshift(F)}else if("set"===e.local){y[0]instanceof T||y[0]instanceof S||y[0]instanceof x||y[0]instanceof E||y[0]instanceof R||y[0]instanceof M||B(i,"Parent of <set> element is not a content element or a region at "+this.line+","+this.column+")");var G=new C;G.initFromNode(w,y[0],e,i),y[0].sets.push(G),y.unshift(G)}else y.unshift(new s(e));else y.unshift(new s(e));if(y[0]instanceof s)if(e.uri===r.ns_tt&&"metadata"===e.local)_++;else if(_>0&&m&&"onOpenTag"in m){var z=[];for(var V in e.attributes)z[e.attributes[V].uri+" "+e.attributes[V].local]={uri:e.attributes[V].uri,local:e.attributes[V].local,value:e.attributes[V].value};m.onOpenTag(e.uri,e.local,z)}},g.write(e).close(),delete w.head.styling.styles;var I=!1;for(var k in w.head.layout.regions)if(w.head.layout.regions.hasOwnProperty(k)){I=!0;break}if(!I){var P=R.prototype.createDefaultRegion(w.lang);w.head.layout.regions[P.id]=P}for(var O in w.head.layout.regions)w.head.layout.regions.hasOwnProperty(O)&&a(w,w.head.layout.regions[O],null,null);return w.body&&a(w,w.body,null,null),w.body&&o(w.body),w},l.prototype.initFromNode=function(e,t,n){var o=function(e,t){var n=O(e,r.ns_ttp,"cellResolution"),i=15,o=32;if(null!==n){var a=/(\d+) (\d+)/.exec(n);null!==a?(o=parseInt(a[1]),i=parseInt(a[2])):F(t,"Malformed cellResolution value (using initial value instead)")}return{w:o,h:i}}(e,n);this.cellLength={h:new i.ComputedLength(0,1/o.h),w:new i.ComputedLength(1/o.w,0)};var a=function(e,t){var n,i=O(e,r.ns_ttp,"frameRate"),o=30;null!==i&&(null!==(n=/(\d+)/.exec(i))?o=parseInt(n[1]):F(t,"Malformed frame rate attribute (using initial value instead)"));var a=O(e,r.ns_ttp,"frameRateMultiplier"),s=1;null!==a&&(null!==(n=/(\d+) (\d+)/.exec(a))?s=parseInt(n[1])/parseInt(n[2]):F(t,"Malformed frame rate multiplier attribute (using initial value instead)"));var l=s*o,u=1,c=O(e,r.ns_ttp,"tickRate");return null===c?null!==i&&(u=l):null!==(n=/(\d+)/.exec(c))?u=parseInt(n[1]):F(t,"Malformed tick rate attribute (using initial value instead)"),{effectiveFrameRate:l,tickRate:u}}(e,n);this.effectiveFrameRate=a.effectiveFrameRate,this.tickRate=a.tickRate,this.aspectRatio=function(e,t){var n=O(e,r.ns_ittp,"aspectRatio");null===n&&(n=O(e,r.ns_ttp,"displayAspectRatio"));var i=null;if(null!==n){var o=/(\d+)\s+(\d+)/.exec(n);if(null!==o){var a=parseInt(o[1]),s=parseInt(o[2]);0!==a&&0!==s?i=a/s:U(t,"Illegal aspectRatio values (ignoring)")}else U(t,"Malformed aspectRatio attribute (ignoring)")}return i}(e,n);var s=O(e,r.ns_ttp,"timeBase");null!==s&&"media"!==s&&B(n,"Unsupported time base");var l=function(e,t){var n=O(e,r.ns_tts,"extent");if(null===n)return null;var o=n.split(" ");if(2!==o.length)return F(t,"Malformed extent (ignoring)"),null;var a=i.parseLength(o[0]),s=i.parseLength(o[1]);return s&&a?{h:s,w:a}:(F(t,"Malformed extent values (ignoring)"),null)}(e,n);null===l?this.pxLength={h:null,w:null}:("px"===l.h.unit&&"px"===l.w.unit||B(n,"Extent on TT must be in px or absent"),this.pxLength={h:new i.ComputedLength(0,1/l.h.value),w:new i.ComputedLength(1/l.w.value,0)}),this.dimensions={h:new i.ComputedLength(0,1),w:new i.ComputedLength(1,0)},this.lang=t},l.prototype._registerEvent=function(e){if(!(e.end<=e.begin)){var t=G(this.events,e.begin);if(t.found||this.events.splice(t.index,0,e.begin),e.end!==Number.POSITIVE_INFINITY){var r=G(this.events,e.end);r.found||this.events.splice(r.index,0,e.end)}}},l.prototype.getMediaTimeRange=function(){return[this.events[0],this.events[this.events.length-1]]},l.prototype.getMediaTimeEvents=function(){return this.events},d.prototype.initFromNode=function(e,t){this.id=I(e),this.styleAttrs=P(e,t),this.styleRefs=k(e)},f.prototype.initFromNode=function(e,t){for(var n in this.styleAttrs={},e.attributes)if(e.attributes[n].uri===r.ns_itts||e.attributes[n].uri===r.ns_ebutts||e.attributes[n].uri===r.ns_tts){var i=e.attributes[n].uri+" "+e.attributes[n].local;this.styleAttrs[i]=e.attributes[n].value}},p.prototype.initFromNode=function(e,t,r,n,i){this.src="src"in r.attributes?r.attributes.src.value:null,this.src||U(i,"Invalid image@src attribute"),this.type="type"in r.attributes?r.attributes.type.value:null,this.type||U(i,"Invalid image@type attribute"),v.prototype.initFromNode.call(this,e,t,r,i),w.prototype.initFromNode.call(this,e,t,r,i),b.prototype.initFromNode.call(this,e,t,r,i),y.prototype.initFromNode.call(this,e,t,r,i),this.lang=n},g.prototype.initFromNode=function(e,t,r,n){this.id=I(r)},y.prototype.initFromNode=function(e,t,r,n){this.regionID=function(e){return e&&"region"in e.attributes?e.attributes.region.value:""}(r)},v.prototype.initFromNode=function(e,t,r,n){this.styleAttrs=P(r,n),null!==e.head&&null!==e.head.styling&&L(e.head.styling,k(r),this.styleAttrs,n)},b.prototype.initFromNode=function(e,t,r,n){this.sets=[]},_.prototype.initFromNode=function(e,t,r,n){this.contents=[]},w.prototype.initFromNode=function(e,t,r,n){var i=function(e,t,r,n){var i=null;r&&"begin"in r.attributes&&null===(i=j(e.tickRate,e.effectiveFrameRate,r.attributes.begin.value))&&F(n,"Malformed begin value "+r.attributes.begin.value+" (using 0)");var o=null;r&&"dur"in r.attributes&&null===(o=j(e.tickRate,e.effectiveFrameRate,r.attributes.dur.value))&&F(n,"Malformed dur value "+r.attributes.dur.value+" (ignoring)");var a=null;return r&&"end"in r.attributes&&null===(a=j(e.tickRate,e.effectiveFrameRate,r.attributes.end.value))&&F(n,"Malformed end value (ignoring)"),{explicit_begin:i,explicit_end:a,explicit_dur:o}}(e,0,r,n);this.explicit_begin=i.explicit_begin,this.explicit_end=i.explicit_end,this.explicit_dur=i.explicit_dur,this.timeContainer=function(e,t){var r=e&&"timeContainer"in e.attributes?e.attributes.timeContainer.value:null;return r&&"par"!==r?"seq"===r?"seq":(U(t,"Illegal value of timeContainer (assuming 'par')"),"par"):"par"}(r,n)},E.prototype.initFromNode=function(e,t,r,n){v.prototype.initFromNode.call(this,e,null,t,n),w.prototype.initFromNode.call(this,e,null,t,n),b.prototype.initFromNode.call(this,e,null,t,n),y.prototype.initFromNode.call(this,e,null,t,n),_.prototype.initFromNode.call(this,e,null,t,n),this.lang=r},x.prototype.initFromNode=function(e,t,r,n,i){v.prototype.initFromNode.call(this,e,t,r,i),w.prototype.initFromNode.call(this,e,t,r,i),b.prototype.initFromNode.call(this,e,t,r,i),y.prototype.initFromNode.call(this,e,t,r,i),_.prototype.initFromNode.call(this,e,t,r,i),this.lang=n},S.prototype.initFromNode=function(e,t,r,n,i){v.prototype.initFromNode.call(this,e,t,r,i),w.prototype.initFromNode.call(this,e,t,r,i),b.prototype.initFromNode.call(this,e,t,r,i),y.prototype.initFromNode.call(this,e,t,r,i),_.prototype.initFromNode.call(this,e,t,r,i),this.lang=n},T.prototype.initFromNode=function(e,t,r,n,i,o){v.prototype.initFromNode.call(this,e,t,r,o),w.prototype.initFromNode.call(this,e,t,r,o),b.prototype.initFromNode.call(this,e,t,r,o),y.prototype.initFromNode.call(this,e,t,r,o),_.prototype.initFromNode.call(this,e,t,r,o),this.space=i,this.lang=n},A.prototype.initFromText=function(e,t,r,n,i,o){w.prototype.initFromNode.call(this,e,t,null,o),this.text=r,this.space=i,this.lang=n},M.prototype.initFromNode=function(e,t,r,n,i){y.prototype.initFromNode.call(this,e,t,r,i),w.prototype.initFromNode.call(this,e,t,r,i),this.lang=n},R.prototype.createDefaultRegion=function(e){var t=new R;return g.call(t,""),v.call(t,{}),b.call(t,[]),w.call(t,0,Number.POSITIVE_INFINITY,null),this.lang=e,t},R.prototype.initFromNode=function(e,t,r,n){g.prototype.initFromNode.call(this,e,null,t,n),w.prototype.initFromNode.call(this,e,null,t,n),b.prototype.initFromNode.call(this,e,null,t,n),this.styleAttrs=P(t,n),this.styleRefs=k(t),this.lang=r},C.prototype.initFromNode=function(e,t,r,n){w.prototype.initFromNode.call(this,e,t,r,n);var i=P(r,n);for(var o in this.qname=null,this.value=null,i)if(i.hasOwnProperty(o)){if(this.qname){U(n,"More than one style specified on set");break}this.qname=o,this.value=i[o]}}}(t,"undefined"==typeof sax?r(5378):sax,"undefined"==typeof imscNames?r(210):imscNames,"undefined"==typeof imscStyles?r(6811):imscStyles,"undefined"==typeof imscUtils?r(5926):imscUtils)},506:function(e,t,r){var n=/firefox/i.test(navigator.userAgent);!function(e,t,r){function i(e,t,d,h){var p;if("region"===d.kind)(p=document.createElement("div")).style.position="absolute";else if("body"===d.kind)p=document.createElement("div");else if("div"===d.kind)p=document.createElement("div");else if("image"===d.kind){if(p=document.createElement("img"),null!==e.imgResolver&&null!==d.src){var y=e.imgResolver(d.src,p);y&&(p.src=y),p.height=e.regionH,p.width=e.regionW}}else if("p"===d.kind)p=document.createElement("p");else if("span"===d.kind)if("container"===d.styleAttrs[r.byName.ruby.qname])p=document.createElement("ruby"),e.ruby=!0;else if("base"===d.styleAttrs[r.byName.ruby.qname])p=document.createElement("span");else if("text"===d.styleAttrs[r.byName.ruby.qname])p=document.createElement("rt");else if("baseContainer"===d.styleAttrs[r.byName.ruby.qname])p=document.createElement("rbc");else if("textContainer"===d.styleAttrs[r.byName.ruby.qname])p=document.createElement("rtc");else{if("delimiter"===d.styleAttrs[r.byName.ruby.qname])return;p=document.createElement("span")}else"br"===d.kind&&(p=document.createElement("br"));if(p){if(d.lang&&("region"!==d.kind&&d.lang===h.lang||(p.lang=d.lang)),t.appendChild(p),p.style.margin="0","region"===d.kind){var _=d.styleAttrs[r.byName.writingMode.qname];"lrtb"===_||"lr"===_?(e.ipd="lr",e.bpd="tb"):"rltb"===_||"rl"===_?(e.ipd="rl",e.bpd="tb"):"tblr"===_?(e.ipd="tb",e.bpd="lr"):"tbrl"!==_&&"tb"!==_||(e.ipd="tb",e.bpd="rl")}else if("p"===d.kind&&"tb"===e.bpd){var w=d.styleAttrs[r.byName.direction.qname];e.ipd="ltr"===w?"lr":"rl"}for(var E=0;E<f.length;E++){var x=f[E],S=d.styleAttrs[x.qname];void 0!==S&&null!==x.map&&x.map(e,p,d,S)}var T=p,A=d.styleAttrs[r.byName.linePadding.qname];if(A&&!A.isZero()){var M=A.toUsedLength(e.w,e.h);if(M>0){var R=Math.ceil(M)+"px";"tb"===e.bpd?(T.style.paddingLeft=R,T.style.paddingRight=R):(T.style.paddingTop=R,T.style.paddingBottom=R),e.lp=A}}var C=d.styleAttrs[r.byName.multiRowAlign.qname];if(C&&"auto"!==C){var I=document.createElement("span");I.style.display="inline-block",I.style.textAlign=C,p.appendChild(I),T=I,e.mra=C}var k=d.styleAttrs[r.byName.rubyReserve.qname];if(k&&"none"!==k[0]&&(e.rubyReserve=k),d.styleAttrs[r.byName.fillLineGap.qname]&&(e.flg=!0),"span"===d.kind&&d.text){var P=d.styleAttrs[r.byName.textEmphasis.qname];if(P&&"none"!==P.style&&(e.textEmphasis=!0),r.byName.textCombine.qname in d.styleAttrs&&"all"===d.styleAttrs[r.byName.textCombine.qname])p.textContent=d.text,p._isd_element=d,P&&c(e,p,0,P);else for(var O="",j=0;j<d.text.length;j++){O+=d.text.charAt(j);var N=d.text.charCodeAt(j);if(N<55296||N>56319||j===d.text.length-1){var L=document.createElement("span");L.textContent=O,P&&c(e,L,0,P),p.appendChild(L),O="",L._isd_element=d}}}if("contents"in d)for(var D=0;D<d.contents.length;D++)i(e,T,d.contents[D],d);var F=[];if("p"===d.kind&&(u(e,T,F,null),e.rubyReserve&&(function(e,t){for(var r=0;r<e.length;r++){var n,i,o=document.createElement("ruby"),a=document.createElement("span");a.textContent="\u200b",o.appendChild(a);var s,l=t.rubyReserve[1].toUsedLength(t.w,t.h)+"px";"both"===t.rubyReserve[0]||"outside"===t.rubyReserve[0]&&1==e.length?((n=document.createElement("rtc")).style[g]=m?"after":"under",n.textContent="\u200b",n.style.fontSize=l,(i=document.createElement("rtc")).style[g]=m?"before":"over",i.textContent="\u200b",i.style.fontSize=l,o.appendChild(n),o.appendChild(i)):((n=document.createElement("rtc")).textContent="\u200b",n.style.fontSize=l,s="after"===t.rubyReserve[0]||"outside"===t.rubyReserve[0]&&r>0?m?"after":"tb"===t.bpd||"rl"===t.bpd?"under":"over":m?"before":"tb"===t.bpd||"rl"===t.bpd?"over":"under",n.style[g]=s,o.appendChild(n));for(var u=null,c=0;c<e[r].rbc.length;c++)if("ruby"===e[r].rbc[c].localName){u=e[r].rbc[c];for(var d=0;d<u.style.length;d++)o.style.setProperty(u.style.item(d),u.style.getPropertyValue(u.style.item(d)));break}(u=u||e[r].elements[0].node).parentElement.insertBefore(o,u)}}(F,e),e.rubyReserve=null),(e.ruby||e.rubyReserve)&&(function(e,t){for(var r=0;r<e.length;r++)for(var n=0;n<e[r].rbc.length;n++){var i;e[r].rbc[n].style[g]||(i=m?0===r?"before":"after":"tb"===t.bpd||"rl"===t.bpd?0===r?"over":"under":0===r?"under":"over",e[r].rbc[n].style[g]=i)}}(F,e),e.ruby=null),e.textEmphasis&&(function(e,t){for(var r=0;r<e.length;r++)for(var n=0;n<e[r].te.length;n++){var i;e[r].te[n].style[v]&&"none"!==e[r].te[n].style[v]||(i="tb"===t.bpd?0===r?"left over":"left under":"rl"===t.bpd?0===r?"right under":"left under":0===r?"left under":"right under",e[r].te[n].style[v]=i)}}(F,e),e.textEmphasis=null),e.mra&&(function(e){for(var t=0;t<e.length-1;t++){var r=e[t].elements.length;if(0!==r&&!1===e[t].br){var n=document.createElement("br"),i=e[t].elements[r-1].node;i.parentElement.insertBefore(n,i.nextSibling)}}}(F),e.mra=null),e.lp&&(function(e,t,r){if(null!==e)for(var i=0;i<e.length;i++){var o=e[i].elements.length,a=Math.ceil(t)+"px",s="-"+Math.ceil(t)+"px";if(0!==o){var l=e[i].elements[e[i].start_elem],u=e[i].elements[e[i].end_elem];if(l===u){var c=l.node.getBoundingClientRect();if(0==c.width||0==c.height)continue}"lr"===r.ipd?(l.node.style.marginLeft=s,l.node.style.paddingLeft=a):"rl"===r.ipd?(l.node.style.paddingRight=a,l.node.style.marginRight=s):"tb"===r.ipd&&(l.node.style.paddingTop=a,l.node.style.marginTop=s),"lr"===r.ipd?(n||(u.node.style.marginRight=s),u.node.style.paddingRight=a):"rl"===r.ipd?(u.node.style.paddingLeft=a,n||(u.node.style.marginLeft=s)):"tb"===r.ipd&&(u.node.style.paddingBottom=a,u.node.style.marginBottom=s)}}}(F,e.lp.toUsedLength(e.w,e.h),e),e.lp=null),function(e,t){for(var r=0;r<e.length;r++)for(var n=e[r],i=1;i<n.elements.length;){var s=n.elements[i-1],l=n.elements[i];a(s.node,l.node,t)?n.elements.splice(i,1):i++}for(var u,c,d=[],f=0;f<e.length;f++)for(var h=0;h<e[f].elements.length;h++)(c=o(u=e[f].elements[h].node,d,!1))&&(u.style.backgroundColor=c);for(var p=0;p<d.length;p++)d[p].style.backgroundColor=""}(F,e),e.flg)){var U=l(T.getBoundingClientRect(),e);!function(e,t,r,n,i){for(var o=Math.sign(r-t),a=0;a<=e.length;a++){var s,l,u,c;if(s=0===a?Math.round(t):a===e.length?Math.round(r):Math.round((e[a-1].after+e[a].before)/2),a>0&&e[a-1])for(u=0;u<e[a-1].elements.length;u++)l=o*(s-(c=e[a-1].elements[u]).after)+"px","lr"===n.bpd?c.node.style.paddingRight=l:"rl"===n.bpd?c.node.style.paddingLeft=l:"tb"===n.bpd&&(c.node.style.paddingBottom=l);if(a<e.length)for(u=0;u<e[a].elements.length;u++)l=o*((c=e[a].elements[u]).before-s)+"px","lr"===n.bpd?c.node.style.paddingLeft=l:"rl"===n.bpd?c.node.style.paddingRight=l:"tb"===n.bpd&&(c.node.style.paddingTop=l)}}(F,U.before,U.after,e),e.flg=null}if("region"===d.kind&&"tb"===e.bpd&&e.enableRollUp&&d.contents.length>0&&"after"===d.styleAttrs[r.byName.displayAlign.qname]){u(e,T,F,null);var B=new s(""===d.id?"_":d.id,F);if(e.currentISDState[B.id]=B,e.previousISDState&&B.id in e.previousISDState&&e.previousISDState[B.id].plist.length>0&&B.plist.length>1&&B.plist[B.plist.length-2].text===e.previousISDState[B.id].plist[e.previousISDState[B.id].plist.length-1].text){var G=p.firstElementChild,z=B.plist[B.plist.length-1].after-B.plist[B.plist.length-1].before;G.style.bottom="-"+z+"px",G.style.transition="transform 0.4s",G.style.position="relative",G.style.transform="translateY(-"+z+"px)"}}}else b(e.errorHandler,"Error processing ISD element kind: "+d.kind)}function o(e,t,r){return e.style.backgroundColor?(r&&!t.includes(e)&&t.push(e),e.style.backgroundColor):"SPAN"===e.parentElement.nodeName||"RUBY"===e.parentElement.nodeName||"RBC"===e.parentElement.nodeName||"RTC"===e.parentElement.nodeName||"RT"===e.parentElement.nodeName?o(e.parentElement,t,!0):void 0}function a(e,t,r){if("SPAN"===e.tagName&&"SPAN"===t.tagName&&e._isd_element===t._isd_element){if(!e._isd_element)return b(r.errorHandler,"Internal error: HTML span is not linked to a source element; cannot merge spans."),!1;e.textContent+=t.textContent;for(var n=0;n<t.style.length;n++){var i=t.style[n];(i.indexOf("border")>=0||i.indexOf("padding")>=0||i.indexOf("margin")>=0)&&(e.style[i]=t.style[i])}return t.parentElement.removeChild(t),!0}return!1}function s(e,t){this.id=e,this.plist=t}function l(e,t){var r={before:null,after:null,start:null,end:null};return"tb"===t.bpd?(r.before=e.top,r.after=e.bottom,"lr"===t.ipd?(r.start=e.left,r.end=e.right):(r.start=e.right,r.end=e.left)):"lr"===t.bpd?(r.before=e.left,r.after=e.right,r.start=e.top,r.end=e.bottom):"rl"===t.bpd&&(r.before=e.right,r.after=e.left,r.start=e.top,r.end=e.bottom),r}function u(e,t,r,n){if("rt"!==t.localName&&"rtc"!==t.localName){var i,o,a,s,c=t.style.backgroundColor||n;if(0===t.childElementCount)if("span"===t.localName||"rb"===t.localName){var d=l(t.getBoundingClientRect(),e);if(0!==r.length&&(i=d.before,o=d.after,a=r[r.length-1].before,o<(s=r[r.length-1].after)&&i>a||s<=o&&a>=i)){var f=Math.sign(d.after-d.before),h=Math.sign(d.end-d.start);f*(d.before-r[r.length-1].before)<0&&(r[r.length-1].before=d.before),f*(d.after-r[r.length-1].after)>0&&(r[r.length-1].after=d.after),h*(d.start-r[r.length-1].start)<0&&(r[r.length-1].start=d.start,r[r.length-1].start_elem=r[r.length-1].elements.length),h*(d.end-r[r.length-1].end)>0&&(r[r.length-1].end=d.end,r[r.length-1].end_elem=r[r.length-1].elements.length)}else r.push({before:d.before,after:d.after,start:d.start,end:d.end,start_elem:0,end_elem:0,elements:[],rbc:[],te:[],text:"",br:!1});r[r.length-1].text+=t.textContent,r[r.length-1].elements.push({node:t,bgcolor:c,before:d.before,after:d.after})}else"br"===t.localName&&0!==r.length&&(r[r.length-1].br=!0);else for(var p=t.firstChild;p;)p.nodeType===Node.ELEMENT_NODE&&(u(e,p,r,c),"ruby"===p.localName||"rtc"===p.localName?r.length>0&&r[r.length-1].rbc.push(p):"span"===p.localName&&p.style[y]&&"none"!==p.style[y]&&r.length>0&&r[r.length-1].te.push(p)),p=p.nextSibling}}function c(e,t,r,n){var i;"none"!==n.style&&("auto"===n.style?t.style[y]="filled":t.style[y]=n.style+" "+n.symbol,("before"===n.position||"after"===n.position)&&(i="tb"===e.bpd?"before"===n.position?"left over":"left under":"rl"===e.bpd?"before"===n.position?"right under":"left under":"before"===n.position?"left under":"right under",t.style[v]=i))}function d(e,t){this.qname=e,this.map=t}e.render=function(e,t,r,n,o,a,s,l,u){var c=n||t.clientHeight,d=o||t.clientWidth;if(null!==e.aspectRatio){var f=c*e.aspectRatio;f>d?c=Math.round(d/e.aspectRatio):d=f}var h=document.createElement("div");h.style.position="relative",h.style.width=d+"px",h.style.height=c+"px",h.style.margin="auto",h.style.top=0,h.style.bottom=0,h.style.left=0,h.style.right=0,h.style.zIndex=0;var p={h:c,w:d,regionH:null,regionW:null,imgResolver:r,displayForcedOnlyMode:a||!1,isd:e,errorHandler:s,previousISDState:l,enableRollUp:u||!1,currentISDState:{},flg:null,lp:null,mra:null,ipd:null,bpd:null,ruby:null,textEmphasis:null,rubyReserve:null};if(t.appendChild(h),"contents"in e)for(var m=0;m<e.contents.length;m++)i(p,h,e.contents[m],e);return p.currentISDState};for(var f=[new d("http://www.w3.org/ns/ttml#styling backgroundColor",(function(e,t,r,n){0!==n[3]&&(t.style.backgroundColor="rgba("+n[0].toString()+","+n[1].toString()+","+n[2].toString()+","+(n[3]/255).toString()+")")})),new d("http://www.w3.org/ns/ttml#styling color",(function(e,t,r,n){t.style.color="rgba("+n[0].toString()+","+n[1].toString()+","+n[2].toString()+","+(n[3]/255).toString()+")"})),new d("http://www.w3.org/ns/ttml#styling direction",(function(e,t,r,n){t.style.direction=n})),new d("http://www.w3.org/ns/ttml#styling display",(function(e,t,r,n){})),new d("http://www.w3.org/ns/ttml#styling displayAlign",(function(e,t,r,n){t.style.display="flex",t.style.flexDirection="column","before"===n?t.style.justifyContent="flex-start":"center"===n?t.style.justifyContent="center":"after"===n&&(t.style.justifyContent="flex-end")})),new d("http://www.w3.org/ns/ttml#styling extent",(function(e,t,r,n){e.regionH=n.h.toUsedLength(e.w,e.h),e.regionW=n.w.toUsedLength(e.w,e.h);var i=0,o=0,a=r.styleAttrs["http://www.w3.org/ns/ttml#styling padding"];a&&(i=a[0].toUsedLength(e.w,e.h)+a[2].toUsedLength(e.w,e.h),o=a[1].toUsedLength(e.w,e.h)+a[3].toUsedLength(e.w,e.h)),t.style.height=e.regionH-i+"px",t.style.width=e.regionW-o+"px"})),new d("http://www.w3.org/ns/ttml#styling fontFamily",(function(e,t,r,n){for(var i=[],o=0;o<n.length;o++)n[o]=n[o].trim(),"monospaceSerif"===n[o]?(i.push("Courier New"),i.push('"Liberation Mono"'),i.push("Courier"),i.push("monospace")):"proportionalSansSerif"===n[o]?(i.push("Arial"),i.push("Helvetica"),i.push('"Liberation Sans"'),i.push("sans-serif")):"monospace"===n[o]?i.push("monospace"):"sansSerif"===n[o]?i.push("sans-serif"):"serif"===n[o]?i.push("serif"):"monospaceSansSerif"===n[o]?(i.push("Consolas"),i.push("monospace")):"proportionalSerif"===n[o]?i.push("serif"):i.push(n[o]);if(i.length>0){for(var a=[i[0]],s=1;s<i.length;s++)-1==a.indexOf(i[s])&&a.push(i[s]);i=a}t.style.fontFamily=i.join(",")})),new d("http://www.w3.org/ns/ttml#styling shear",(function(e,t,r,n){if(0!==n){var i=-.9*n;"tb"===e.bpd?t.style.transform="skewX("+i+"deg)":t.style.transform="skewY("+i+"deg)"}})),new d("http://www.w3.org/ns/ttml#styling fontSize",(function(e,t,r,n){t.style.fontSize=n.toUsedLength(e.w,e.h)+"px"})),new d("http://www.w3.org/ns/ttml#styling fontStyle",(function(e,t,r,n){t.style.fontStyle=n})),new d("http://www.w3.org/ns/ttml#styling fontWeight",(function(e,t,r,n){t.style.fontWeight=n})),new d("http://www.w3.org/ns/ttml#styling lineHeight",(function(e,t,r,n){t.style.lineHeight="normal"===n?"normal":n.toUsedLength(e.w,e.h)+"px"})),new d("http://www.w3.org/ns/ttml#styling opacity",(function(e,t,r,n){t.style.opacity=n})),new d("http://www.w3.org/ns/ttml#styling origin",(function(e,t,r,n){t.style.top=n.h.toUsedLength(e.w,e.h)+"px",t.style.left=n.w.toUsedLength(e.w,e.h)+"px"})),new d("http://www.w3.org/ns/ttml#styling overflow",(function(e,t,r,n){t.style.overflow=n})),new d("http://www.w3.org/ns/ttml#styling padding",(function(e,t,r,n){var i=[];i[0]=n[0].toUsedLength(e.w,e.h)+"px",i[1]=n[3].toUsedLength(e.w,e.h)+"px",i[2]=n[2].toUsedLength(e.w,e.h)+"px",i[3]=n[1].toUsedLength(e.w,e.h)+"px",t.style.padding=i.join(" ")})),new d("http://www.w3.org/ns/ttml#styling position",(function(e,t,r,n){t.style.top=n.h.toUsedLength(e.w,e.h)+"px",t.style.left=n.w.toUsedLength(e.w,e.h)+"px"})),new d("http://www.w3.org/ns/ttml#styling rubyAlign",(function(e,t,r,n){t.style.rubyAlign="spaceAround"===n?"space-around":"center"})),new d("http://www.w3.org/ns/ttml#styling rubyPosition",(function(e,t,r,n){var i;"before"!==n&&"after"!==n||(i=m?n:"tb"===e.bpd||"rl"===e.bpd?"before"===n?"over":"under":"before"===n?"under":"over",t.parentElement.style[g]=i)})),new d("http://www.w3.org/ns/ttml#styling showBackground",null),new d("http://www.w3.org/ns/ttml#styling textAlign",(function(e,t,r,n){var i;i="start"===n?"rl"===e.ipd?"right":"left":"end"===n?"rl"===e.ipd?"left":"right":n,t.style.textAlign=i})),new d("http://www.w3.org/ns/ttml#styling textDecoration",(function(e,t,r,n){t.style.textDecoration=n.join(" ").replace("lineThrough","line-through")})),new d("http://www.w3.org/ns/ttml#styling textOutline",(function(e,t,r,n){})),new d("http://www.w3.org/ns/ttml#styling textShadow",(function(e,t,n,i){var o=n.styleAttrs[r.byName.textOutline.qname];if("none"===i&&"none"===o)t.style.textShadow="";else{var a=[];if("none"!==o){var s="rgba("+o.color[0].toString()+","+o.color[1].toString()+","+o.color[2].toString()+","+(o.color[3]/255).toString()+")";a.push("1px 1px 1px "+s),a.push("-1px 1px 1px "+s),a.push("1px -1px 1px "+s),a.push("-1px -1px 1px "+s)}if("none"!==i)for(var l=0;l<i.length;l++)a.push(i[l].x_off.toUsedLength(e.w,e.h)+"px "+i[l].y_off.toUsedLength(e.w,e.h)+"px "+i[l].b_radius.toUsedLength(e.w,e.h)+"px rgba("+i[l].color[0].toString()+","+i[l].color[1].toString()+","+i[l].color[2].toString()+","+(i[l].color[3]/255).toString()+")");t.style.textShadow=a.join(",")}})),new d("http://www.w3.org/ns/ttml#styling textCombine",(function(e,t,r,n){t.style.textCombineUpright=n})),new d("http://www.w3.org/ns/ttml#styling textEmphasis",(function(e,t,r,n){})),new d("http://www.w3.org/ns/ttml#styling unicodeBidi",(function(e,t,r,n){var i;i="bidiOverride"===n?"bidi-override":n,t.style.unicodeBidi=i})),new d("http://www.w3.org/ns/ttml#styling visibility",(function(e,t,r,n){t.style.visibility=n})),new d("http://www.w3.org/ns/ttml#styling wrapOption",(function(e,t,r,n){"wrap"===n?"preserve"===r.space?t.style.whiteSpace="pre-wrap":t.style.whiteSpace="normal":"preserve"===r.space?t.style.whiteSpace="pre":t.style.whiteSpace="noWrap"})),new d("http://www.w3.org/ns/ttml#styling writingMode",(function(e,t,r,n){"lrtb"===n||"lr"===n||"rltb"===n||"rl"===n?t.style.writingMode="horizontal-tb":"tblr"===n?t.style.writingMode="vertical-lr":"tbrl"!==n&&"tb"!==n||(t.style.writingMode="vertical-rl")})),new d("http://www.w3.org/ns/ttml#styling zIndex",(function(e,t,r,n){t.style.zIndex=n})),new d("http://www.w3.org/ns/ttml/profile/imsc1#styling forcedDisplay",(function(e,t,r,n){e.displayForcedOnlyMode&&!1===n&&(t.style.visibility="hidden")}))],h={},p=0;p<f.length;p++)h[f[p].qname]=f[p];var m="webkitRubyPosition"in window.getComputedStyle(document.documentElement),g=m?"webkitRubyPosition":"rubyPosition",y="webkitTextEmphasisStyle"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisStyle":"textEmphasisStyle",v="webkitTextEmphasisPosition"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisPosition":"textEmphasisPosition";function b(e,t){if(e&&e.error&&e.error(t))throw t}}(t,"undefined"==typeof imscNames?r(210):imscNames,"undefined"==typeof imscStyles?r(6811):imscStyles,"undefined"==typeof imscUtils?r(5926):imscUtils)},4080:function(e,t,r){!function(e,t,r,n){e.generateISD=function(e,t,n){var i,a=new l(e),s={},u={},c=e.head.styling.initials[r.byName.showBackground.qname],d=e.head.styling.initials[r.byName.backgroundColor.qname];for(var f in e.head.layout.regions)if(e.head.layout.regions.hasOwnProperty(f)){var h=e.head.layout.regions[f],p=h.styleAttrs[r.byName.showBackground.qname]||c,m=h.styleAttrs[r.byName.backgroundColor.qname]||d;u[h.id]=("always"===p||void 0===p)&&void 0!==m&&!(t<h.begin||t>=h.end)}for(var g in e.body&&e.body.regionID&&(u[e.body.regionID]=!0),i=null!==e.body?function e(t,r){if(r.contents){var n={};for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i]);return n.contents=[],r.contents.filter((function(e){return!(t<e.begin||t>=e.end)})).forEach((function(r){var i=e(t,r);i.regionID&&(u[i.regionID]=!0),null!==i&&n.contents.push(i)})),n}return r}(t,e.body):null,void 0!==u[""]&&(u[""]=!0),u)if(u[g]){var y=o(e,t,e.head.layout.regions[g],i,null,"",e.head.layout.regions[g],n,s);null!==y&&a.contents.push(y.element)}return a};var i=[r.byName.color.qname,r.byName.textCombine.qname,r.byName.textDecoration.qname,r.byName.textEmphasis.qname,r.byName.textOutline.qname,r.byName.textShadow.qname];function o(e,t,l,d,f,h,p,m,g){if(t<p.begin||t>=p.end)return null;var y="regionID"in p&&""!==p.regionID?p.regionID:h;if(null!==f&&y!==l.id&&(!("contents"in p)||"contents"in p&&0===p.contents.length||""!==y))return null;var v=new u(p);if("sets"in p)for(var b=0;b<p.sets.length;b++)t<p.sets[b].begin||t>=p.sets[b].end||(v.styleAttrs[p.sets[b].qname]=p.sets[b].value);var _={};for(var w in v.styleAttrs)if(v.styleAttrs.hasOwnProperty(w)&&(_[w]=!0,"region"===v.kind&&w===r.byName.writingMode.qname&&!(r.byName.direction.qname in v.styleAttrs))){var E=v.styleAttrs[w];"lrtb"===E||"lr"===E?v.styleAttrs[r.byName.direction.qname]="ltr":"rltb"!==E&&"rl"!==E||(v.styleAttrs[r.byName.direction.qname]="rtl")}if(null!==f)for(var x=0;x<r.all.length;x++){var S=r.all[x];if(S.qname===r.byName.textDecoration.qname){var T=f.styleAttrs[S.qname],A=v.styleAttrs[S.qname],M=[];void 0===A?M=T:-1===A.indexOf("none")?((-1===A.indexOf("noUnderline")&&-1!==T.indexOf("underline")||-1!==A.indexOf("underline"))&&M.push("underline"),(-1===A.indexOf("noLineThrough")&&-1!==T.indexOf("lineThrough")||-1!==A.indexOf("lineThrough"))&&M.push("lineThrough"),(-1===A.indexOf("noOverline")&&-1!==T.indexOf("overline")||-1!==A.indexOf("overline"))&&M.push("overline")):M.push("none"),v.styleAttrs[S.qname]=M}else if(S.qname!==r.byName.fontSize.qname||S.qname in v.styleAttrs||"span"!==v.kind||"textContainer"!==v.styleAttrs[r.byName.ruby.qname])if(S.qname!==r.byName.fontSize.qname||S.qname in v.styleAttrs||"span"!==v.kind||"text"!==v.styleAttrs[r.byName.ruby.qname])S.inherit&&S.qname in f.styleAttrs&&!(S.qname in v.styleAttrs)&&(v.styleAttrs[S.qname]=f.styleAttrs[S.qname]);else{var R=f.styleAttrs[r.byName.fontSize.qname];"textContainer"===f.styleAttrs[r.byName.ruby.qname]?v.styleAttrs[S.qname]=R:v.styleAttrs[S.qname]=new n.ComputedLength(.5*R.rw,.5*R.rh)}else{var C=f.styleAttrs[r.byName.fontSize.qname];v.styleAttrs[S.qname]=new n.ComputedLength(.5*C.rw,.5*C.rh)}}for(var I=0;I<r.all.length;I++){var k=r.all[I];if(!(k.qname in v.styleAttrs)&&!(k.qname===r.byName.position.qname&&r.byName.origin.qname in v.styleAttrs||k.qname===r.byName.origin.qname&&r.byName.position.qname in v.styleAttrs)){var P=e.head.styling.initials[k.qname]||k.initial;if(null!==P&&("region"===v.kind||!1===k.inherit&&null!==P)){var O=k.parse(P);null!==O?(v.styleAttrs[k.qname]=O,_[k.qname]=!0):c(m,"Invalid initial value for '"+k.qname+"' on element '"+v.kind)}}}for(var j=0;j<r.all.length;j++){var N=r.all[j];if(N.qname in _&&null!==N.compute){var L=N.compute(e,f,v,v.styleAttrs[N.qname],g);null!==L?v.styleAttrs[N.qname]=L:(v.styleAttrs[N.qname]=N.compute(e,f,v,N.parse(N.initial),g),c(m,"Style '"+N.qname+"' on element '"+v.kind+"' cannot be computed"))}}if("none"===v.styleAttrs[r.byName.display.qname])return null;var D=null;null===f?D=null===d?[]:[d]:"contents"in p&&(D=p.contents);for(var F=0;null!==D&&F<D.length;F++){var U=o(e,t,l,d,v,y,D[F],m,g);null!==U&&v.contents.push(U.element)}for(var B in v.styleAttrs)if(v.styleAttrs.hasOwnProperty(B)){var G=!1;if("span"===v.kind){var z=v.styleAttrs[r.byName.ruby.qname];(G=("container"===z||"textContainer"===z||"baseContainer"===z)&&-1!==i.indexOf(B))||(G="container"!==z&&B===r.byName.rubyAlign.qname),G||(G=!("textContainer"===z||"text"===z)&&B===r.byName.rubyPosition.qname)}if(!G){var V=r.byQName[B];"applies"in V&&(G=-1===V.applies.indexOf(v.kind))}G&&delete v.styleAttrs[B]}var H=v.styleAttrs[r.byName.ruby.qname];if("p"===v.kind||"span"===v.kind&&("textContainer"===H||"text"===H)){var W=[];a(v,W),function(e){for(var t,r=0;r<e.length;)if("br"!==(t=e[r]).kind&&"preserve"!==t.space){var n=t.text.replace(/[\t\r\n ]+/g," ");/^[ ]/.test(n)&&(0===r||"br"===(i=e[r-1]).kind||/[\r\n\t ]$/.test(i.text))&&(n=n.substring(1)),t.text=n,0===n.length?e.splice(r,1):r++}else r++;var i,o;for(r=0;r<e.length;r++)"br"!==(t=e[r]).kind&&"preserve"!==t.space?/[ ]$/.test(t.text)&&(r===e.length-1||"br"===(o=e[r+1]).kind||"preserve"===o.space&&/^[\r\n]/.test(o.text))&&(t.text=t.text.slice(0,-1)):r++}(W),s(v)}return"div"===v.kind&&r.byName.backgroundImage.qname in v.styleAttrs||"br"===v.kind||"image"===v.kind||"contents"in v&&v.contents.length>0||"span"===v.kind&&null!==v.text||"region"===v.kind&&"always"===v.styleAttrs[r.byName.showBackground.qname]?{region_id:y,element:v}:null}function a(e,t){if("contents"in e)for(var n=0;n<e.contents.length;n++){var i=e.contents[n],o=i.styleAttrs[r.byName.ruby.qname];("span"!==i.kind||"textContainer"!==o&&"text"!==o)&&("contents"in i?a(i,t):("span"===i.kind&&0!==i.text.length||"br"===i.kind)&&t.push(i))}}function s(e){if("br"===e.kind)return!1;if("text"in e)return 0===e.text.length;if("contents"in e){for(var t=e.contents.length;t--;)s(e.contents[t])&&e.contents.splice(t,1);return 0===e.contents.length}}function l(e){this.contents=[],this.aspectRatio=e.aspectRatio,this.lang=e.lang}function u(e){for(var t in this.kind=e.kind||"region",this.lang=e.lang,e.id&&(this.id=e.id),this.styleAttrs={},e.styleAttrs)e.styleAttrs.hasOwnProperty(t)&&(this.styleAttrs[t]=e.styleAttrs[t]);"src"in e&&(this.src=e.src),"type"in e&&(this.type=e.type),"text"in e?this.text=e.text:("region"===this.kind||"contents"in e)&&(this.contents=[]),"space"in e&&(this.space=e.space)}function c(e,t){if(e&&e.error&&e.error(t))throw t}}(t,"undefined"==typeof imscNames?r(210):imscNames,"undefined"==typeof imscStyles?r(6811):imscStyles,"undefined"==typeof imscUtils?r(5926):imscUtils)},4403:function(e,t,r){t.generateISD=r(4080).generateISD,t.fromXML=r(3362).fromXML,t.renderHTML=r(506).render},210:function(e,t){!function(e){e.ns_tt="http://www.w3.org/ns/ttml",e.ns_tts="http://www.w3.org/ns/ttml#styling",e.ns_ttp="http://www.w3.org/ns/ttml#parameter",e.ns_xml="http://www.w3.org/XML/1998/namespace",e.ns_itts="http://www.w3.org/ns/ttml/profile/imsc1#styling",e.ns_ittp="http://www.w3.org/ns/ttml/profile/imsc1#parameter",e.ns_smpte="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt",e.ns_ebutts="urn:ebu:tt:style"}(t)},6811:function(e,t,r){!function(e,t,r){function n(e,t,r,n,i,o,a,s){this.name=t,this.ns=e,this.qname=e+" "+t,this.inherit=i,this.animatable=o,this.initial=r,this.applies=n,this.parse=a,this.compute=s}for(var i in e.all=[new n(t.ns_tts,"backgroundColor","transparent",["body","div","p","region","span"],!1,!0,r.parseColor,null),new n(t.ns_tts,"color","white",["span"],!0,!0,r.parseColor,null),new n(t.ns_tts,"direction","ltr",["p","span"],!0,!0,(function(e){return e}),null),new n(t.ns_tts,"display","auto",["body","div","p","region","span"],!1,!0,(function(e){return e}),null),new n(t.ns_tts,"displayAlign","before",["region"],!1,!0,(function(e){return e}),null),new n(t.ns_tts,"extent","auto",["tt","region"],!1,!0,(function(e){if("auto"===e)return e;var t=e.split(" ");if(2!==t.length)return null;var n=r.parseLength(t[0]),i=r.parseLength(t[1]);return i&&n?{h:i,w:n}:null}),(function(e,t,n,i,o){var a,s;if("auto"===i)a=new r.ComputedLength(0,1);else if(null===(a=r.toComputedLength(i.h.value,i.h.unit,null,e.dimensions.h,null,e.pxLength.h)))return null;if("auto"===i)s=new r.ComputedLength(1,0);else if(null===(s=r.toComputedLength(i.w.value,i.w.unit,null,e.dimensions.w,null,e.pxLength.w)))return null;return{h:a,w:s}})),new n(t.ns_tts,"fontFamily","default",["span","p"],!0,!0,(function(e){for(var t=e.split(","),r=[],n=0;n<t.length;n++)"'"!==t[n].charAt(0)&&'"'!==t[n].charAt(0)&&"default"===t[n]?r.push("monospaceSerif"):r.push(t[n]);return r}),null),new n(t.ns_tts,"shear","0%",["p"],!0,!0,r.parseLength,(function(e,t,r,n){return"%"!==n.unit?null:Math.abs(n.value)>100?100*Math.sign(n.value):n.value})),new n(t.ns_tts,"fontSize","1c",["span","p"],!0,!0,r.parseLength,(function(t,n,i,o,a){return r.toComputedLength(o.value,o.unit,null!==n?n.styleAttrs[e.byName.fontSize.qname]:t.cellLength.h,null!==n?n.styleAttrs[e.byName.fontSize.qname]:t.cellLength.h,t.cellLength.h,t.pxLength.h)})),new n(t.ns_tts,"fontStyle","normal",["span","p"],!0,!0,(function(e){return e}),null),new n(t.ns_tts,"fontWeight","normal",["span","p"],!0,!0,(function(e){return e}),null),new n(t.ns_tts,"lineHeight","normal",["p"],!0,!0,(function(e){return"normal"===e?e:r.parseLength(e)}),(function(t,n,i,o,a){var s;if("normal"===o)s=o;else if(null===(s=r.toComputedLength(o.value,o.unit,i.styleAttrs[e.byName.fontSize.qname],i.styleAttrs[e.byName.fontSize.qname],t.cellLength.h,t.pxLength.h)))return null;return s})),new n(t.ns_tts,"opacity",1,["region"],!1,!0,parseFloat,null),new n(t.ns_tts,"origin","auto",["region"],!1,!0,(function(e){if("auto"===e)return e;var t=e.split(" ");if(2!==t.length)return null;var n=r.parseLength(t[0]),i=r.parseLength(t[1]);return i&&n?{h:i,w:n}:null}),(function(e,t,n,i,o){var a,s;if("auto"===i)a=new r.ComputedLength(0,0);else if(null===(a=r.toComputedLength(i.h.value,i.h.unit,null,e.dimensions.h,null,e.pxLength.h)))return null;if("auto"===i)s=new r.ComputedLength(0,0);else if(null===(s=r.toComputedLength(i.w.value,i.w.unit,null,e.dimensions.w,null,e.pxLength.w)))return null;return{h:a,w:s}})),new n(t.ns_tts,"overflow","hidden",["region"],!1,!0,(function(e){return e}),null),new n(t.ns_tts,"padding","0px",["region"],!1,!0,(function(e){var t=e.split(" ");if(t.length>4)return null;for(var n=[],i=0;i<t.length;i++){var o=r.parseLength(t[i]);if(!o)return null;n.push(o)}return n}),(function(t,n,i,o,a){var s;if(1===o.length)s=[o[0],o[0],o[0],o[0]];else if(2===o.length)s=[o[0],o[1],o[0],o[1]];else if(3===o.length)s=[o[0],o[1],o[2],o[1]];else{if(4!==o.length)return null;s=[o[0],o[1],o[2],o[3]]}var l=i.styleAttrs[e.byName.writingMode.qname];if("lrtb"===l||"lr"===l)s=[s[0],s[3],s[2],s[1]];else if("rltb"===l||"rl"===l)s=[s[0],s[1],s[2],s[3]];else if("tblr"===l)s=[s[3],s[0],s[1],s[2]];else{if("tbrl"!==l&&"tb"!==l)return null;s=[s[3],s[2],s[1],s[0]]}for(var u=[],c=0;c<s.length;c++)if(0===s[c].value)u[c]=new r.ComputedLength(0,0);else if(u[c]=r.toComputedLength(s[c].value,s[c].unit,i.styleAttrs[e.byName.fontSize.qname],0===c||2===c?i.styleAttrs[e.byName.extent.qname].h:i.styleAttrs[e.byName.extent.qname].w,0===c||2===c?t.cellLength.h:t.cellLength.w,0===c||2===c?t.pxLength.h:t.pxLength.w),null===u[c])return null;return u})),new n(t.ns_tts,"position","top left",["region"],!1,!0,(function(e){return r.parsePosition(e)}),(function(t,n,i,o){var a,s;return null===(a=r.toComputedLength(o.v.offset.value,o.v.offset.unit,null,new r.ComputedLength(-i.styleAttrs[e.byName.extent.qname].h.rw,t.dimensions.h.rh-i.styleAttrs[e.byName.extent.qname].h.rh),null,t.pxLength.h))?null:("bottom"===o.v.edge&&(a=new r.ComputedLength(-a.rw-i.styleAttrs[e.byName.extent.qname].h.rw,t.dimensions.h.rh-a.rh-i.styleAttrs[e.byName.extent.qname].h.rh)),s=r.toComputedLength(o.h.offset.value,o.h.offset.unit,null,new r.ComputedLength(t.dimensions.w.rw-i.styleAttrs[e.byName.extent.qname].w.rw,-i.styleAttrs[e.byName.extent.qname].w.rh),null,t.pxLength.w),null===a?null:("right"===o.h.edge&&(s=new r.ComputedLength(t.dimensions.w.rw-s.rw-i.styleAttrs[e.byName.extent.qname].w.rw,-s.rh-i.styleAttrs[e.byName.extent.qname].w.rh)),{h:a,w:s}))})),new n(t.ns_tts,"ruby","none",["span"],!1,!0,(function(e){return e}),null),new n(t.ns_tts,"rubyAlign","center",["span"],!0,!0,(function(e){return"center"!==e&&"spaceAround"!==e?null:e}),null),new n(t.ns_tts,"rubyPosition","outside",["span"],!0,!0,(function(e){return e}),null),new n(t.ns_tts,"rubyReserve","none",["p"],!0,!0,(function(e){var t=e.split(" "),n=[null,null];if(0===t.length||t.length>2)return null;if("none"!==t[0]&&"both"!==t[0]&&"after"!==t[0]&&"before"!==t[0]&&"outside"!==t[0])return null;if(n[0]=t[0],2===t.length&&"none"!==t[0]){var i=r.parseLength(t[1]);if(!i)return null;n[1]=i}return n}),(function(t,n,i,o,a){return"none"===o[0]?o:null===(s=null===o[1]?new r.ComputedLength(.5*i.styleAttrs[e.byName.fontSize.qname].rw,.5*i.styleAttrs[e.byName.fontSize.qname].rh):r.toComputedLength(o[1].value,o[1].unit,i.styleAttrs[e.byName.fontSize.qname],i.styleAttrs[e.byName.fontSize.qname],t.cellLength.h,t.pxLength.h))?null:[o[0],s];var s})),new n(t.ns_tts,"showBackground","always",["region"],!1,!0,(function(e){return e}),null),new n(t.ns_tts,"textAlign","start",["p"],!0,!0,(function(e){return e}),(function(e,t,r,n,i){return"left"===n?"start":"right"===n?"end":n})),new n(t.ns_tts,"textCombine","none",["span"],!0,!0,(function(e){return"none"===e||"all"===e?e:null}),null),new n(t.ns_tts,"textDecoration","none",["span"],!0,!0,(function(e){return e.split(" ")}),null),new n(t.ns_tts,"textEmphasis","none",["span"],!0,!0,(function(e){for(var t=e.split(" "),n={style:null,symbol:null,color:null,position:null},i=0;i<t.length;i++)if("none"===t[i]||"auto"===t[i])n.style=t[i];else if("filled"===t[i]||"open"===t[i])n.style=t[i];else if("circle"===t[i]||"dot"===t[i]||"sesame"===t[i])n.symbol=t[i];else if("current"===t[i])n.color=t[i];else if("outside"===t[i]||"before"===t[i]||"after"===t[i])n.position=t[i];else if(n.color=r.parseColor(t[i]),null===n.color)return null;return null==n.style&&null==n.symbol?n.style="auto":(n.symbol=n.symbol||"circle",n.style=n.style||"filled"),n.position=n.position||"outside",n.color=n.color||"current",n}),null),new n(t.ns_tts,"textOutline","none",["span"],!0,!0,(function(e){if("none"===e)return e;var t={},n=e.split(" ");if(0===n.length||n.length>2)return null;var i=r.parseColor(n[0]);if(t.color=i,null!==i&&n.shift(),1!==n.length)return null;var o=r.parseLength(n[0]);return o?(t.thickness=o,t):null}),(function(t,n,i,o,a){if("none"===o)return o;var s={};return null===o.color?s.color=i.styleAttrs[e.byName.color.qname]:s.color=o.color,s.thickness=r.toComputedLength(o.thickness.value,o.thickness.unit,i.styleAttrs[e.byName.fontSize.qname],i.styleAttrs[e.byName.fontSize.qname],t.cellLength.h,t.pxLength.h),null===s.thickness?null:s})),new n(t.ns_tts,"textShadow","none",["span"],!0,!0,r.parseTextShadow,(function(t,n,i,o){if("none"===o)return o;for(var a=[],s=0;s<o.length;s++){var l={};if(l.x_off=r.toComputedLength(o[s][0].value,o[s][0].unit,null,i.styleAttrs[e.byName.fontSize.qname],null,t.pxLength.w),null===l.x_off)return null;if(l.y_off=r.toComputedLength(o[s][1].value,o[s][1].unit,null,i.styleAttrs[e.byName.fontSize.qname],null,t.pxLength.h),null===l.y_off)return null;if(null===o[s][2])l.b_radius=0;else if(l.b_radius=r.toComputedLength(o[s][2].value,o[s][2].unit,null,i.styleAttrs[e.byName.fontSize.qname],null,t.pxLength.h),null===l.b_radius)return null;null===o[s][3]?l.color=i.styleAttrs[e.byName.color.qname]:l.color=o[s][3],a.push(l)}return a})),new n(t.ns_tts,"unicodeBidi","normal",["span","p"],!1,!0,(function(e){return e}),null),new n(t.ns_tts,"visibility","visible",["body","div","p","region","span"],!0,!0,(function(e){return e}),null),new n(t.ns_tts,"wrapOption","wrap",["span"],!0,!0,(function(e){return e}),null),new n(t.ns_tts,"writingMode","lrtb",["region"],!1,!0,(function(e){return e}),null),new n(t.ns_tts,"zIndex","auto",["region"],!1,!0,(function(e){var t;return"auto"===e?t=e:(t=parseInt(e),isNaN(t)&&(t=null)),t}),null),new n(t.ns_ebutts,"linePadding","0c",["p"],!0,!1,r.parseLength,(function(e,t,n,i,o){return r.toComputedLength(i.value,i.unit,null,null,e.cellLength.w,null)})),new n(t.ns_ebutts,"multiRowAlign","auto",["p"],!0,!1,(function(e){return e}),null),new n(t.ns_smpte,"backgroundImage",null,["div"],!1,!1,(function(e){return e}),null),new n(t.ns_itts,"forcedDisplay","false",["body","div","p","region","span"],!0,!0,(function(e){return"true"===e}),null),new n(t.ns_itts,"fillLineGap","false",["p"],!0,!0,(function(e){return"true"===e}),null)],e.byQName={},e.all)e.byQName[e.all[i].qname]=e.all[i];for(var o in e.byName={},e.all)e.byName[e.all[o].name]=e.all[o]}(t,"undefined"==typeof imscNames?r(210):imscNames,"undefined"==typeof imscUtils?r(5926):imscUtils)},5926:function(e,t){!function(e){var t=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?/,r=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,n=/rgba\(\s*(\d+),\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,i={transparent:[0,0,0,0],black:[0,0,0,255],silver:[192,192,192,255],gray:[128,128,128,255],white:[255,255,255,255],maroon:[128,0,0,255],red:[255,0,0,255],purple:[128,0,128,255],fuchsia:[255,0,255,255],magenta:[255,0,255,255],green:[0,128,0,255],lime:[0,255,0,255],olive:[128,128,0,255],yellow:[255,255,0,255],navy:[0,0,128,255],blue:[0,0,255,255],teal:[0,128,128,255],aqua:[0,255,255,255],cyan:[0,255,255,255]};e.parseColor=function(e){var o,a=null,s=i[e.toLowerCase()];return void 0!==s?a=s:null!==(o=t.exec(e))?a=[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16),void 0!==o[4]?parseInt(o[4],16):255]:null!==(o=r.exec(e))?a=[parseInt(o[1]),parseInt(o[2]),parseInt(o[3]),255]:null!==(o=n.exec(e))&&(a=[parseInt(o[1]),parseInt(o[2]),parseInt(o[3]),parseInt(o[4])]),a};var o=/^((?:\+|\-)?\d*(?:\.\d+)?)(px|em|c|%|rh|rw)$/;e.parseLength=function(e){var t,r=null;return null!==(t=o.exec(e))&&(r={value:parseFloat(t[1]),unit:t[2]}),r},e.parseTextShadow=function(t){for(var r=t.match(/([^\(,\)]|\([^\)]+\))+/g),n=[],i=0;i<r.length;i++){var o=r[i].split(" ");if(1===o.length&&"none"===o[0])return"none";if(o.length>1&&o.length<5){var a=[null,null,null,null],s=e.parseLength(o.shift());if(null===s)return null;if(a[0]=s,null===(s=e.parseLength(o.shift())))return null;if(a[1]=s,0===o.length){n.push(a);continue}if(null!==(s=e.parseLength(o[0]))&&(a[2]=s,o.shift()),0===o.length){n.push(a);continue}var l=e.parseColor(o[0]);if(null===l)return null;a[3]=l,n.push(a)}}return n},e.parsePosition=function(t){var r=t.split(" "),n=function(e){return"center"===e||"left"===e||"top"===e||"bottom"===e||"right"===e};if(r.length>4)return null;for(var i=0;i<r.length;i++)if(!n(r[i])){var o=e.parseLength(r[i]);if(null===o)return null;r[i]=o}for(var a={h:{edge:"left",offset:{value:50,unit:"%"}},v:{edge:"top",offset:{value:50,unit:"%"}}},s=0;s<r.length;){var l=r[s++];if(n(l)){var u={value:0,unit:"%"};2!==r.length&&s<r.length&&!n(r[s])&&(u=r[s++]),"right"===l?(a.h.edge=l,a.h.offset=u):"bottom"===l?(a.v.edge=l,a.v.offset=u):"left"===l?a.h.offset=u:"top"===l&&(a.v.offset=u)}else{if(1!==r.length&&2!==r.length)return null;1===s?a.h.offset=l:a.v.offset=l}}return a},e.ComputedLength=function(e,t){this.rw=e,this.rh=t},e.ComputedLength.prototype.toUsedLength=function(e,t){return e*this.rw+t*this.rh},e.ComputedLength.prototype.isZero=function(){return 0===this.rw&&0===this.rh},e.toComputedLength=function(t,r,n,i,o,a){return"%"===r&&i?new e.ComputedLength(i.rw*t/100,i.rh*t/100):"em"===r&&n?new e.ComputedLength(n.rw*t,n.rh*t):"c"===r&&o?new e.ComputedLength(t*o.rw,t*o.rh):"px"===r&&a?new e.ComputedLength(t*a.rw,t*a.rh):"rh"===r?new e.ComputedLength(0,t/100):"rw"===r?new e.ComputedLength(t/100,0):null}}(t)},3516:function(e){"use strict";e.exports=function(e){var t="string"==typeof e?e.charCodeAt(0):e;return t>=97&&t<=122||t>=65&&t<=90}},2219:function(e,t,r){"use strict";var n=r(3516),i=r(395);e.exports=function(e){return n(e)||i(e)}},395:function(e){"use strict";e.exports=function(e){var t="string"==typeof e?e.charCodeAt(0):e;return t>=48&&t<=57}},3875:function(e){"use strict";function t(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function r(e,t){for(var r,n="",i=0,o=-1,a=0,s=0;s<=e.length;++s){if(s<e.length)r=e.charCodeAt(s);else{if(47===r)break;r=47}if(47===r){if(o===s-1||1===a);else if(o!==s-1&&2===a){if(n.length<2||2!==i||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(n.length>2){var l=n.lastIndexOf("/");if(l!==n.length-1){-1===l?(n="",i=0):i=(n=n.slice(0,l)).length-1-n.lastIndexOf("/"),o=s,a=0;continue}}else if(2===n.length||1===n.length){n="",i=0,o=s,a=0;continue}t&&(n.length>0?n+="/..":n="..",i=2)}else n.length>0?n+="/"+e.slice(o+1,s):n=e.slice(o+1,s),i=s-o-1;o=s,a=0}else 46===r&&-1!==a?++a:a=-1}return n}var n={resolve:function(){for(var e,n="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var a;o>=0?a=arguments[o]:(void 0===e&&(e=process.cwd()),a=e),t(a),0!==a.length&&(n=a+"/"+n,i=47===a.charCodeAt(0))}return n=r(n,!i),i?n.length>0?"/"+n:"/":n.length>0?n:"."},normalize:function(e){if(t(e),0===e.length)return".";var n=47===e.charCodeAt(0),i=47===e.charCodeAt(e.length-1);return 0!==(e=r(e,!n)).length||n||(e="."),e.length>0&&i&&(e+="/"),n?"/"+e:e},isAbsolute:function(e){return t(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,r=0;r<arguments.length;++r){var i=arguments[r];t(i),i.length>0&&(void 0===e?e=i:e+="/"+i)}return void 0===e?".":n.normalize(e)},relative:function(e,r){if(t(e),t(r),e===r)return"";if((e=n.resolve(e))===(r=n.resolve(r)))return"";for(var i=1;i<e.length&&47===e.charCodeAt(i);++i);for(var o=e.length,a=o-i,s=1;s<r.length&&47===r.charCodeAt(s);++s);for(var l=r.length-s,u=a<l?a:l,c=-1,d=0;d<=u;++d){if(d===u){if(l>u){if(47===r.charCodeAt(s+d))return r.slice(s+d+1);if(0===d)return r.slice(s+d)}else a>u&&(47===e.charCodeAt(i+d)?c=d:0===d&&(c=0));break}var f=e.charCodeAt(i+d);if(f!==r.charCodeAt(s+d))break;47===f&&(c=d)}var h="";for(d=i+c+1;d<=o;++d)d!==o&&47!==e.charCodeAt(d)||(0===h.length?h+="..":h+="/..");return h.length>0?h+r.slice(s+c):(s+=c,47===r.charCodeAt(s)&&++s,r.slice(s))},_makeLong:function(e){return e},dirname:function(e){if(t(e),0===e.length)return".";for(var r=e.charCodeAt(0),n=47===r,i=-1,o=!0,a=e.length-1;a>=1;--a)if(47===(r=e.charCodeAt(a))){if(!o){i=a;break}}else o=!1;return-1===i?n?"/":".":n&&1===i?"//":e.slice(0,i)},basename:function(e,r){if(void 0!==r&&"string"!=typeof r)throw new TypeError('"ext" argument must be a string');t(e);var n,i=0,o=-1,a=!0;if(void 0!==r&&r.length>0&&r.length<=e.length){if(r.length===e.length&&r===e)return"";var s=r.length-1,l=-1;for(n=e.length-1;n>=0;--n){var u=e.charCodeAt(n);if(47===u){if(!a){i=n+1;break}}else-1===l&&(a=!1,l=n+1),s>=0&&(u===r.charCodeAt(s)?-1==--s&&(o=n):(s=-1,o=l))}return i===o?o=l:-1===o&&(o=e.length),e.slice(i,o)}for(n=e.length-1;n>=0;--n)if(47===e.charCodeAt(n)){if(!a){i=n+1;break}}else-1===o&&(a=!1,o=n+1);return-1===o?"":e.slice(i,o)},extname:function(e){t(e);for(var r=-1,n=0,i=-1,o=!0,a=0,s=e.length-1;s>=0;--s){var l=e.charCodeAt(s);if(47!==l)-1===i&&(o=!1,i=s+1),46===l?-1===r?r=s:1!==a&&(a=1):-1!==r&&(a=-1);else if(!o){n=s+1;break}}return-1===r||-1===i||0===a||1===a&&r===i-1&&r===n+1?"":e.slice(r,i)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var r=t.dir||t.root,n=t.base||(t.name||"")+(t.ext||"");return r?r===t.root?r+n:r+"/"+n:n}(0,e)},parse:function(e){t(e);var r={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return r;var n,i=e.charCodeAt(0),o=47===i;o?(r.root="/",n=1):n=0;for(var a=-1,s=0,l=-1,u=!0,c=e.length-1,d=0;c>=n;--c)if(47!==(i=e.charCodeAt(c)))-1===l&&(u=!1,l=c+1),46===i?-1===a?a=c:1!==d&&(d=1):-1!==a&&(d=-1);else if(!u){s=c+1;break}return-1===a||-1===l||0===d||1===d&&a===l-1&&a===s+1?-1!==l&&(r.base=r.name=0===s&&o?e.slice(1,l):e.slice(s,l)):(0===s&&o?(r.name=e.slice(1,a),r.base=e.slice(1,l)):(r.name=e.slice(s,a),r.base=e.slice(s,l)),r.ext=e.slice(a,l)),s>0?r.dir=e.slice(0,s-1):o&&(r.dir="/"),r},sep:"/",delimiter:":",win32:null,posix:null};n.posix=n,e.exports=n},8387:function(e,t,r){var n=r(1549),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=a),o(i,a),a.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},5378:function(e,t,r){!function(e){e.parser=function(e,t){return new i(e,t)},e.SAXParser=i,e.SAXStream=a,e.createStream=function(e,t){return new a(e,t)},e.MAX_BUFFER_LENGTH=65536;var t,n=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function i(t,r){if(!(this instanceof i))return new i(t,r);var o=this;!function(e){for(var t=0,r=n.length;t<r;t++)e[n[t]]=""}(o),o.q=o.c="",o.bufferCheckPosition=e.MAX_BUFFER_LENGTH,o.opt=r||{},o.opt.lowercase=o.opt.lowercase||o.opt.lowercasetags,o.looseCase=o.opt.lowercase?"toLowerCase":"toUpperCase",o.tags=[],o.closed=o.closedRoot=o.sawRoot=!1,o.tag=o.error=null,o.strict=!!t,o.noscript=!(!t&&!o.opt.noscript),o.state=T.BEGIN,o.strictEntities=o.opt.strictEntities,o.ENTITIES=o.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),o.attribList=[],o.opt.xmlns&&(o.ns=Object.create(p)),o.trackPosition=!1!==o.opt.position,o.trackPosition&&(o.position=o.line=o.column=0),M(o,"onready")}e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(e){function t(){}return t.prototype=e,new t}),Object.keys||(Object.keys=function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);return t}),i.prototype={end:function(){P(this)},write:function(t){var r=this;if(this.error)throw this.error;if(r.closed)return k(r,"Cannot write after close. Assign an onready handler.");if(null===t)return P(r);"object"==typeof t&&(t=t.toString());for(var i=0,o="";o=G(t,i++),r.c=o,o;)switch(r.trackPosition&&(r.position++,"\n"===o?(r.line++,r.column=0):r.column++),r.state){case T.BEGIN:if(r.state=T.BEGIN_WHITESPACE,"\ufeff"===o)continue;B(r,o);continue;case T.BEGIN_WHITESPACE:B(r,o);continue;case T.TEXT:if(r.sawRoot&&!r.closedRoot){for(var a=i-1;o&&"<"!==o&&"&"!==o;)(o=G(t,i++))&&r.trackPosition&&(r.position++,"\n"===o?(r.line++,r.column=0):r.column++);r.textNode+=t.substring(a,i-1)}"<"!==o||r.sawRoot&&r.closedRoot&&!r.strict?(!w(s,o)||r.sawRoot&&!r.closedRoot||O(r,"Text data outside of root node."),"&"===o?r.state=T.TEXT_ENTITY:r.textNode+=o):(r.state=T.OPEN_WAKA,r.startTagPosition=r.position);continue;case T.SCRIPT:"<"===o?r.state=T.SCRIPT_ENDING:r.script+=o;continue;case T.SCRIPT_ENDING:"/"===o?r.state=T.CLOSE_TAG:(r.script+="<"+o,r.state=T.SCRIPT);continue;case T.OPEN_WAKA:if("!"===o)r.state=T.SGML_DECL,r.sgmlDecl="";else if(_(s,o));else if(_(m,o))r.state=T.OPEN_TAG,r.tagName=o;else if("/"===o)r.state=T.CLOSE_TAG,r.tagName="";else if("?"===o)r.state=T.PROC_INST,r.procInstName=r.procInstBody="";else{if(O(r,"Unencoded <"),r.startTagPosition+1<r.position){var l=r.position-r.startTagPosition;o=new Array(l).join(" ")+o}r.textNode+="<"+o,r.state=T.TEXT}continue;case T.SGML_DECL:"[CDATA["===(r.sgmlDecl+o).toUpperCase()?(R(r,"onopencdata"),r.state=T.CDATA,r.sgmlDecl="",r.cdata=""):r.sgmlDecl+o==="--"?(r.state=T.COMMENT,r.comment="",r.sgmlDecl=""):"DOCTYPE"===(r.sgmlDecl+o).toUpperCase()?(r.state=T.DOCTYPE,(r.doctype||r.sawRoot)&&O(r,"Inappropriately located doctype declaration"),r.doctype="",r.sgmlDecl=""):">"===o?(R(r,"onsgmldeclaration",r.sgmlDecl),r.sgmlDecl="",r.state=T.TEXT):_(c,o)?(r.state=T.SGML_DECL_QUOTED,r.sgmlDecl+=o):r.sgmlDecl+=o;continue;case T.SGML_DECL_QUOTED:o===r.q&&(r.state=T.SGML_DECL,r.q=""),r.sgmlDecl+=o;continue;case T.DOCTYPE:">"===o?(r.state=T.TEXT,R(r,"ondoctype",r.doctype),r.doctype=!0):(r.doctype+=o,"["===o?r.state=T.DOCTYPE_DTD:_(c,o)&&(r.state=T.DOCTYPE_QUOTED,r.q=o));continue;case T.DOCTYPE_QUOTED:r.doctype+=o,o===r.q&&(r.q="",r.state=T.DOCTYPE);continue;case T.DOCTYPE_DTD:r.doctype+=o,"]"===o?r.state=T.DOCTYPE:_(c,o)&&(r.state=T.DOCTYPE_DTD_QUOTED,r.q=o);continue;case T.DOCTYPE_DTD_QUOTED:r.doctype+=o,o===r.q&&(r.state=T.DOCTYPE_DTD,r.q="");continue;case T.COMMENT:"-"===o?r.state=T.COMMENT_ENDING:r.comment+=o;continue;case T.COMMENT_ENDING:"-"===o?(r.state=T.COMMENT_ENDED,r.comment=I(r.opt,r.comment),r.comment&&R(r,"oncomment",r.comment),r.comment=""):(r.comment+="-"+o,r.state=T.COMMENT);continue;case T.COMMENT_ENDED:">"!==o?(O(r,"Malformed comment"),r.comment+="--"+o,r.state=T.COMMENT):r.state=T.TEXT;continue;case T.CDATA:"]"===o?r.state=T.CDATA_ENDING:r.cdata+=o;continue;case T.CDATA_ENDING:"]"===o?r.state=T.CDATA_ENDING_2:(r.cdata+="]"+o,r.state=T.CDATA);continue;case T.CDATA_ENDING_2:">"===o?(r.cdata&&R(r,"oncdata",r.cdata),R(r,"onclosecdata"),r.cdata="",r.state=T.TEXT):"]"===o?r.cdata+="]":(r.cdata+="]]"+o,r.state=T.CDATA);continue;case T.PROC_INST:"?"===o?r.state=T.PROC_INST_ENDING:_(s,o)?r.state=T.PROC_INST_BODY:r.procInstName+=o;continue;case T.PROC_INST_BODY:if(!r.procInstBody&&_(s,o))continue;"?"===o?r.state=T.PROC_INST_ENDING:r.procInstBody+=o;continue;case T.PROC_INST_ENDING:">"===o?(R(r,"onprocessinginstruction",{name:r.procInstName,body:r.procInstBody}),r.procInstName=r.procInstBody="",r.state=T.TEXT):(r.procInstBody+="?"+o,r.state=T.PROC_INST_BODY);continue;case T.OPEN_TAG:_(g,o)?r.tagName+=o:(j(r),">"===o?D(r):"/"===o?r.state=T.OPEN_TAG_SLASH:(w(s,o)&&O(r,"Invalid character in tag name"),r.state=T.ATTRIB));continue;case T.OPEN_TAG_SLASH:">"===o?(D(r,!0),F(r)):(O(r,"Forward-slash in opening tag not followed by >"),r.state=T.ATTRIB);continue;case T.ATTRIB:if(_(s,o))continue;">"===o?D(r):"/"===o?r.state=T.OPEN_TAG_SLASH:_(m,o)?(r.attribName=o,r.attribValue="",r.state=T.ATTRIB_NAME):O(r,"Invalid attribute name");continue;case T.ATTRIB_NAME:"="===o?r.state=T.ATTRIB_VALUE:">"===o?(O(r,"Attribute without value"),r.attribValue=r.attribName,L(r),D(r)):_(s,o)?r.state=T.ATTRIB_NAME_SAW_WHITE:_(g,o)?r.attribName+=o:O(r,"Invalid attribute name");continue;case T.ATTRIB_NAME_SAW_WHITE:if("="===o)r.state=T.ATTRIB_VALUE;else{if(_(s,o))continue;O(r,"Attribute without value"),r.tag.attributes[r.attribName]="",r.attribValue="",R(r,"onattribute",{name:r.attribName,value:""}),r.attribName="",">"===o?D(r):_(m,o)?(r.attribName=o,r.state=T.ATTRIB_NAME):(O(r,"Invalid attribute name"),r.state=T.ATTRIB)}continue;case T.ATTRIB_VALUE:if(_(s,o))continue;_(c,o)?(r.q=o,r.state=T.ATTRIB_VALUE_QUOTED):(O(r,"Unquoted attribute value"),r.state=T.ATTRIB_VALUE_UNQUOTED,r.attribValue=o);continue;case T.ATTRIB_VALUE_QUOTED:if(o!==r.q){"&"===o?r.state=T.ATTRIB_VALUE_ENTITY_Q:r.attribValue+=o;continue}L(r),r.q="",r.state=T.ATTRIB_VALUE_CLOSED;continue;case T.ATTRIB_VALUE_CLOSED:_(s,o)?r.state=T.ATTRIB:">"===o?D(r):"/"===o?r.state=T.OPEN_TAG_SLASH:_(m,o)?(O(r,"No whitespace between attributes"),r.attribName=o,r.attribValue="",r.state=T.ATTRIB_NAME):O(r,"Invalid attribute name");continue;case T.ATTRIB_VALUE_UNQUOTED:if(w(d,o)){"&"===o?r.state=T.ATTRIB_VALUE_ENTITY_U:r.attribValue+=o;continue}L(r),">"===o?D(r):r.state=T.ATTRIB;continue;case T.CLOSE_TAG:if(r.tagName)">"===o?F(r):_(g,o)?r.tagName+=o:r.script?(r.script+="</"+r.tagName,r.tagName="",r.state=T.SCRIPT):(w(s,o)&&O(r,"Invalid tagname in closing tag"),r.state=T.CLOSE_TAG_SAW_WHITE);else{if(_(s,o))continue;w(m,o)?r.script?(r.script+="</"+o,r.state=T.SCRIPT):O(r,"Invalid tagname in closing tag."):r.tagName=o}continue;case T.CLOSE_TAG_SAW_WHITE:if(_(s,o))continue;">"===o?F(r):O(r,"Invalid characters in closing tag");continue;case T.TEXT_ENTITY:case T.ATTRIB_VALUE_ENTITY_Q:case T.ATTRIB_VALUE_ENTITY_U:var u,f;switch(r.state){case T.TEXT_ENTITY:u=T.TEXT,f="textNode";break;case T.ATTRIB_VALUE_ENTITY_Q:u=T.ATTRIB_VALUE_QUOTED,f="attribValue";break;case T.ATTRIB_VALUE_ENTITY_U:u=T.ATTRIB_VALUE_UNQUOTED,f="attribValue"}";"===o?(r[f]+=U(r),r.entity="",r.state=u):_(r.entity.length?v:y,o)?r.entity+=o:(O(r,"Invalid character in entity name"),r[f]+="&"+r.entity+o,r.entity="",r.state=u);continue;default:throw new Error(r,"Unknown state: "+r.state)}return r.position>=r.bufferCheckPosition&&function(t){for(var r=Math.max(e.MAX_BUFFER_LENGTH,10),i=0,o=0,a=n.length;o<a;o++){var s=t[n[o]].length;if(s>r)switch(n[o]){case"textNode":C(t);break;case"cdata":R(t,"oncdata",t.cdata),t.cdata="";break;case"script":R(t,"onscript",t.script),t.script="";break;default:k(t,"Max buffer length exceeded: "+n[o])}i=Math.max(i,s)}var l=e.MAX_BUFFER_LENGTH-i;t.bufferCheckPosition=l+t.position}(r),r},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var e;C(e=this),""!==e.cdata&&(R(e,"oncdata",e.cdata),e.cdata=""),""!==e.script&&(R(e,"onscript",e.script),e.script="")}};try{t=r(182).Stream}catch(e){t=function(){}}var o=e.EVENTS.filter((function(e){return"error"!==e&&"end"!==e}));function a(e,r){if(!(this instanceof a))return new a(e,r);t.apply(this),this._parser=new i(e,r),this.writable=!0,this.readable=!0;var n=this;this._parser.onend=function(){n.emit("end")},this._parser.onerror=function(e){n.emit("error",e),n._parser.error=null},this._decoder=null,o.forEach((function(e){Object.defineProperty(n,"on"+e,{get:function(){return n._parser["on"+e]},set:function(t){if(!t)return n.removeAllListeners(e),n._parser["on"+e]=t,t;n.on(e,t)},enumerable:!0,configurable:!1})}))}a.prototype=Object.create(t.prototype,{constructor:{value:a}}),a.prototype.write=function(e){if("function"==typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(e)){if(!this._decoder){var t=r(7503).s;this._decoder=new t("utf8")}e=this._decoder.write(e)}return this._parser.write(e.toString()),this.emit("data",e),!0},a.prototype.end=function(e){return e&&e.length&&this.write(e),this._parser.end(),!0},a.prototype.on=function(e,r){var n=this;return n._parser["on"+e]||-1===o.indexOf(e)||(n._parser["on"+e]=function(){var t=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);t.splice(0,0,e),n.emit.apply(n,t)}),t.prototype.on.call(n,e,r)};var s="\r\n\t ",l="0124356789",u="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",c="'\"",d=s+">",f="http://www.w3.org/XML/1998/namespace",h="http://www.w3.org/2000/xmlns/",p={xml:f,xmlns:h};s=b(s),l=b(l),u=b(u);var m=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,g=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,y=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,v=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;function b(e){return e.split("").reduce((function(e,t){return e[t]=!0,e}),{})}function _(e,t){return function(e){return"[object RegExp]"===Object.prototype.toString.call(e)}(e)?!!t.match(e):e[t]}function w(e,t){return!_(e,t)}c=b(c),d=b(d);var E,x,S,T=0;for(var A in e.STATE={BEGIN:T++,BEGIN_WHITESPACE:T++,TEXT:T++,TEXT_ENTITY:T++,OPEN_WAKA:T++,SGML_DECL:T++,SGML_DECL_QUOTED:T++,DOCTYPE:T++,DOCTYPE_QUOTED:T++,DOCTYPE_DTD:T++,DOCTYPE_DTD_QUOTED:T++,COMMENT_STARTING:T++,COMMENT:T++,COMMENT_ENDING:T++,COMMENT_ENDED:T++,CDATA:T++,CDATA_ENDING:T++,CDATA_ENDING_2:T++,PROC_INST:T++,PROC_INST_BODY:T++,PROC_INST_ENDING:T++,OPEN_TAG:T++,OPEN_TAG_SLASH:T++,ATTRIB:T++,ATTRIB_NAME:T++,ATTRIB_NAME_SAW_WHITE:T++,ATTRIB_VALUE:T++,ATTRIB_VALUE_QUOTED:T++,ATTRIB_VALUE_CLOSED:T++,ATTRIB_VALUE_UNQUOTED:T++,ATTRIB_VALUE_ENTITY_Q:T++,ATTRIB_VALUE_ENTITY_U:T++,CLOSE_TAG:T++,CLOSE_TAG_SAW_WHITE:T++,SCRIPT:T++,SCRIPT_ENDING:T++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach((function(t){var r=e.ENTITIES[t],n="number"==typeof r?String.fromCharCode(r):r;e.ENTITIES[t]=n})),e.STATE)e.STATE[e.STATE[A]]=A;function M(e,t,r){e[t]&&e[t](r)}function R(e,t,r){e.textNode&&C(e),M(e,t,r)}function C(e){e.textNode=I(e.opt,e.textNode),e.textNode&&M(e,"ontext",e.textNode),e.textNode=""}function I(e,t){return e.trim&&(t=t.trim()),e.normalize&&(t=t.replace(/\s+/g," ")),t}function k(e,t){return C(e),e.trackPosition&&(t+="\nLine: "+e.line+"\nColumn: "+e.column+"\nChar: "+e.c),t=new Error(t),e.error=t,M(e,"onerror",t),e}function P(e){return e.sawRoot&&!e.closedRoot&&O(e,"Unclosed root tag"),e.state!==T.BEGIN&&e.state!==T.BEGIN_WHITESPACE&&e.state!==T.TEXT&&k(e,"Unexpected end"),C(e),e.c="",e.closed=!0,M(e,"onend"),i.call(e,e.strict,e.opt),e}function O(e,t){if("object"!=typeof e||!(e instanceof i))throw new Error("bad call to strictFail");e.strict&&k(e,t)}function j(e){e.strict||(e.tagName=e.tagName[e.looseCase]());var t=e.tags[e.tags.length-1]||e,r=e.tag={name:e.tagName,attributes:{}};e.opt.xmlns&&(r.ns=t.ns),e.attribList.length=0,R(e,"onopentagstart",r)}function N(e,t){var r=e.indexOf(":")<0?["",e]:e.split(":"),n=r[0],i=r[1];return t&&"xmlns"===e&&(n="xmlns",i=""),{prefix:n,local:i}}function L(e){if(e.strict||(e.attribName=e.attribName[e.looseCase]()),-1!==e.attribList.indexOf(e.attribName)||e.tag.attributes.hasOwnProperty(e.attribName))e.attribName=e.attribValue="";else{if(e.opt.xmlns){var t=N(e.attribName,!0),r=t.prefix,n=t.local;if("xmlns"===r)if("xml"===n&&e.attribValue!==f)O(e,"xml: prefix must be bound to "+f+"\nActual: "+e.attribValue);else if("xmlns"===n&&e.attribValue!==h)O(e,"xmlns: prefix must be bound to "+h+"\nActual: "+e.attribValue);else{var i=e.tag,o=e.tags[e.tags.length-1]||e;i.ns===o.ns&&(i.ns=Object.create(o.ns)),i.ns[n]=e.attribValue}e.attribList.push([e.attribName,e.attribValue])}else e.tag.attributes[e.attribName]=e.attribValue,R(e,"onattribute",{name:e.attribName,value:e.attribValue});e.attribName=e.attribValue=""}}function D(e,t){if(e.opt.xmlns){var r=e.tag,n=N(e.tagName);r.prefix=n.prefix,r.local=n.local,r.uri=r.ns[n.prefix]||"",r.prefix&&!r.uri&&(O(e,"Unbound namespace prefix: "+JSON.stringify(e.tagName)),r.uri=n.prefix);var i=e.tags[e.tags.length-1]||e;r.ns&&i.ns!==r.ns&&Object.keys(r.ns).forEach((function(t){R(e,"onopennamespace",{prefix:t,uri:r.ns[t]})}));for(var o=0,a=e.attribList.length;o<a;o++){var s=e.attribList[o],l=s[0],u=s[1],c=N(l,!0),d=c.prefix,f=c.local,h=""===d?"":r.ns[d]||"",p={name:l,value:u,prefix:d,local:f,uri:h};d&&"xmlns"!==d&&!h&&(O(e,"Unbound namespace prefix: "+JSON.stringify(d)),p.uri=d),e.tag.attributes[l]=p,R(e,"onattribute",p)}e.attribList.length=0}e.tag.isSelfClosing=!!t,e.sawRoot=!0,e.tags.push(e.tag),R(e,"onopentag",e.tag),t||(e.noscript||"script"!==e.tagName.toLowerCase()?e.state=T.TEXT:e.state=T.SCRIPT,e.tag=null,e.tagName=""),e.attribName=e.attribValue="",e.attribList.length=0}function F(e){if(!e.tagName)return O(e,"Weird empty close tag."),e.textNode+="</>",void(e.state=T.TEXT);if(e.script){if("script"!==e.tagName)return e.script+="</"+e.tagName+">",e.tagName="",void(e.state=T.SCRIPT);R(e,"onscript",e.script),e.script=""}var t=e.tags.length,r=e.tagName;e.strict||(r=r[e.looseCase]());for(var n=r;t--&&e.tags[t].name!==n;)O(e,"Unexpected close tag");if(t<0)return O(e,"Unmatched closing tag: "+e.tagName),e.textNode+="</"+e.tagName+">",void(e.state=T.TEXT);e.tagName=r;for(var i=e.tags.length;i-- >t;){var o=e.tag=e.tags.pop();e.tagName=e.tag.name,R(e,"onclosetag",e.tagName);var a={};for(var s in o.ns)a[s]=o.ns[s];var l=e.tags[e.tags.length-1]||e;e.opt.xmlns&&o.ns!==l.ns&&Object.keys(o.ns).forEach((function(t){var r=o.ns[t];R(e,"onclosenamespace",{prefix:t,uri:r})}))}0===t&&(e.closedRoot=!0),e.tagName=e.attribValue=e.attribName="",e.attribList.length=0,e.state=T.TEXT}function U(e){var t,r=e.entity,n=r.toLowerCase(),i="";return e.ENTITIES[r]?e.ENTITIES[r]:e.ENTITIES[n]?e.ENTITIES[n]:("#"===(r=n).charAt(0)&&("x"===r.charAt(1)?(r=r.slice(2),i=(t=parseInt(r,16)).toString(16)):(r=r.slice(1),i=(t=parseInt(r,10)).toString(10))),r=r.replace(/^0+/,""),i.toLowerCase()!==r?(O(e,"Invalid character entity"),"&"+e.entity+";"):String.fromCodePoint(t))}function B(e,t){"<"===t?(e.state=T.OPEN_WAKA,e.startTagPosition=e.position):w(s,t)&&(O(e,"Non-whitespace before first tag."),e.textNode=t,e.state=T.TEXT)}function G(e,t){var r="";return t<e.length&&(r=e.charAt(t)),r}T=e.STATE,String.fromCodePoint||(E=String.fromCharCode,x=Math.floor,S=function(){var e,t,r=16384,n=[],i=-1,o=arguments.length;if(!o)return"";for(var a="";++i<o;){var s=Number(arguments[i]);if(!isFinite(s)||s<0||s>1114111||x(s)!==s)throw RangeError("Invalid code point: "+s);s<=65535?n.push(s):(e=55296+((s-=65536)>>10),t=s%1024+56320,n.push(e,t)),(i+1===o||n.length>r)&&(a+=E.apply(null,n),n.length=0)}return a},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:S,configurable:!0,writable:!0}):String.fromCodePoint=S)}(t)},182:function(e,t,r){e.exports=i;var n=r(1159).EventEmitter;function i(){n.call(this)}r(1765)(i,n),i.Readable=r(2846),i.Writable=r(8318),i.Duplex=r(6138),i.Transform=r(9798),i.PassThrough=r(5472),i.finished=r(8800),i.pipeline=r(7295),i.Stream=i,i.prototype.pipe=function(e,t){var r=this;function i(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function o(){r.readable&&r.resume&&r.resume()}r.on("data",i),e.on("drain",o),e._isStdio||t&&!1===t.end||(r.on("end",s),r.on("close",l));var a=!1;function s(){a||(a=!0,e.end())}function l(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function u(e){if(c(),0===n.listenerCount(this,"error"))throw e}function c(){r.removeListener("data",i),e.removeListener("drain",o),r.removeListener("end",s),r.removeListener("close",l),r.removeListener("error",u),e.removeListener("error",u),r.removeListener("end",c),r.removeListener("close",c),e.removeListener("close",c)}return r.on("error",u),e.on("error",u),r.on("end",c),r.on("close",c),e.on("close",c),e.emit("pipe",r),e}},1765:function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},3690:function(e){"use strict";var t={};function r(e,r,n){n||(n=Error);var i=function(e){var t,n;function i(t,n,i){return e.call(this,function(e,t,n){return"string"==typeof r?r:r(e,t,n)}(t,n,i))||this}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i}(n);i.prototype.name=n.name,i.prototype.code=e,t[e]=i}function n(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}r("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(e,t,r){var i,o,a,s,l;if("string"==typeof t&&(o="not ",t.substr(0,o.length)===o)?(i="must not be",t=t.replace(/^not /,"")):i="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))a="The ".concat(e," ").concat(i," ").concat(n(t,"type"));else{var u=("number"!=typeof l&&(l=0),l+1>(s=e).length||-1===s.indexOf(".",l)?"argument":"property");a='The "'.concat(e,'" ').concat(u," ").concat(i," ").concat(n(t,"type"))}return a+". Received type ".concat(typeof r)}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},6138:function(e,t,r){"use strict";var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=u;var i=r(2846),o=r(8318);r(1765)(u,i);for(var a=n(o.prototype),s=0;s<a.length;s++){var l=a[s];u.prototype[l]||(u.prototype[l]=o.prototype[l])}function u(e){if(!(this instanceof u))return new u(e);i.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",c)))}function c(){this._writableState.ended||process.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},5472:function(e,t,r){"use strict";e.exports=i;var n=r(9798);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r(1765)(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},2846:function(e,t,r){"use strict";var n;e.exports=S,S.ReadableState=x,r(1159).EventEmitter;var i,o=function(e,t){return e.listeners(t).length},a=r(9299),s=r(1549).Buffer,l=r.g.Uint8Array||function(){},u=r(964);i=u&&u.debuglog?u.debuglog("stream"):function(){};var c,d,f,h=r(8393),p=r(6163),m=r(7269).getHighWaterMark,g=r(3690).q,y=g.ERR_INVALID_ARG_TYPE,v=g.ERR_STREAM_PUSH_AFTER_EOF,b=g.ERR_METHOD_NOT_IMPLEMENTED,_=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(1765)(S,a);var w=p.errorOrDestroy,E=["error","close","destroy","pause","resume"];function x(e,t,i){n=n||r(6138),e=e||{},"boolean"!=typeof i&&(i=t instanceof n),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=m(this,e,"readableHighWaterMark",i),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(c||(c=r(7503).s),this.decoder=new c(e.encoding),this.encoding=e.encoding)}function S(e){if(n=n||r(6138),!(this instanceof S))return new S(e);var t=this instanceof n;this._readableState=new x(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function T(e,t,r,n,o){i("readableAddChunk",t);var a,u=e._readableState;if(null===t)u.reading=!1,function(e,t){if(i("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?C(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,I(e)))}}(e,u);else if(o||(a=function(e,t){var r,n;return n=t,s.isBuffer(n)||n instanceof l||"string"==typeof t||void 0===t||e.objectMode||(r=new y("chunk",["string","Buffer","Uint8Array"],t)),r}(u,t)),a)w(e,a);else if(u.objectMode||t&&t.length>0)if("string"==typeof t||u.objectMode||Object.getPrototypeOf(t)===s.prototype||(t=function(e){return s.from(e)}(t)),n)u.endEmitted?w(e,new _):A(e,u,t,!0);else if(u.ended)w(e,new v);else{if(u.destroyed)return!1;u.reading=!1,u.decoder&&!r?(t=u.decoder.write(t),u.objectMode||0!==t.length?A(e,u,t,!1):k(e,u)):A(e,u,t,!1)}else n||(u.reading=!1,k(e,u));return!u.ended&&(u.length<u.highWaterMark||0===u.length)}function A(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&C(e)),k(e,t)}Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),S.prototype.destroy=p.destroy,S.prototype._undestroy=p.undestroy,S.prototype._destroy=function(e,t){t(e)},S.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=s.from(e,t),t=""),r=!0),T(this,e,t,!1,r)},S.prototype.unshift=function(e){return T(this,e,null,!0,!1)},S.prototype.isPaused=function(){return!1===this._readableState.flowing},S.prototype.setEncoding=function(e){c||(c=r(7503).s);var t=new c(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var M=1073741824;function R(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=M?e=M:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function C(e){var t=e._readableState;i("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(i("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(I,e))}function I(e){var t=e._readableState;i("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,L(e)}function k(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(P,e,t))}function P(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(i("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function O(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function j(e){i("readable nexttick read 0"),e.read(0)}function N(e,t){i("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),L(e),t.flowing&&!t.reading&&e.read(0)}function L(e){var t=e._readableState;for(i("flow",t.flowing);t.flowing&&null!==e.read(););}function D(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function F(e){var t=e._readableState;i("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(U,t,e))}function U(e,t){if(i("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function B(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}S.prototype.read=function(e){i("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return i("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?F(this):C(this),null;if(0===(e=R(e,t))&&t.ended)return 0===t.length&&F(this),null;var n,o=t.needReadable;return i("need readable",o),(0===t.length||t.length-e<t.highWaterMark)&&i("length less than watermark",o=!0),t.ended||t.reading?i("reading or ended",o=!1):o&&(i("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=R(r,t))),null===(n=e>0?D(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&F(this)),null!==n&&this.emit("data",n),n},S.prototype._read=function(e){w(this,new b("_read()"))},S.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,i("pipe count=%d opts=%j",n.pipesCount,t);var a=t&&!1===t.end||e===process.stdout||e===process.stderr?p:s;function s(){i("onend"),e.end()}n.endEmitted?process.nextTick(a):r.once("end",a),e.on("unpipe",(function t(o,a){i("onunpipe"),o===r&&a&&!1===a.hasUnpiped&&(a.hasUnpiped=!0,i("cleanup"),e.removeListener("close",f),e.removeListener("finish",h),e.removeListener("drain",l),e.removeListener("error",d),e.removeListener("unpipe",t),r.removeListener("end",s),r.removeListener("end",p),r.removeListener("data",c),u=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}));var l=function(e){return function(){var t=e._readableState;i("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&o(e,"data")&&(t.flowing=!0,L(e))}}(r);e.on("drain",l);var u=!1;function c(t){i("ondata");var o=e.write(t);i("dest.write",o),!1===o&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==B(n.pipes,e))&&!u&&(i("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function d(t){i("onerror",t),p(),e.removeListener("error",d),0===o(e,"error")&&w(e,t)}function f(){e.removeListener("finish",h),p()}function h(){i("onfinish"),e.removeListener("close",f),p()}function p(){i("unpipe"),r.unpipe(e)}return r.on("data",c),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",d),e.once("close",f),e.once("finish",h),e.emit("pipe",r),n.flowing||(i("pipe resume"),r.resume()),e},S.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=B(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},S.prototype.on=function(e,t){var r=a.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,i("on readable",n.length,n.reading),n.length?C(this):n.reading||process.nextTick(j,this))),r},S.prototype.addListener=S.prototype.on,S.prototype.removeListener=function(e,t){var r=a.prototype.removeListener.call(this,e,t);return"readable"===e&&process.nextTick(O,this),r},S.prototype.removeAllListeners=function(e){var t=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||process.nextTick(O,this),t},S.prototype.resume=function(){var e=this._readableState;return e.flowing||(i("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(N,e,t))}(this,e)),e.paused=!1,this},S.prototype.pause=function(){return i("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(i("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},S.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var o in e.on("end",(function(){if(i("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(o){i("wrapped data"),r.decoder&&(o=r.decoder.write(o)),r.objectMode&&null==o||(r.objectMode||o&&o.length)&&(t.push(o)||(n=!0,e.pause()))})),e)void 0===this[o]&&"function"==typeof e[o]&&(this[o]=function(t){return function(){return e[t].apply(e,arguments)}}(o));for(var a=0;a<E.length;a++)e.on(E[a],this.emit.bind(this,E[a]));return this._read=function(t){i("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(S.prototype[Symbol.asyncIterator]=function(){return void 0===d&&(d=r(7299)),d(this)}),Object.defineProperty(S.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(S.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(S.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),S._fromList=D,Object.defineProperty(S.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(S.from=function(e,t){return void 0===f&&(f=r(6233)),f(S,e,t)})},9798:function(e,t,r){"use strict";e.exports=c;var n=r(3690).q,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,a=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=n.ERR_TRANSFORM_WITH_LENGTH_0,l=r(6138);function u(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function c(e){if(!(this instanceof c))return new c(e);l.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",d)}function d(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush((function(t,r){f(e,t,r)}))}function f(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new s;if(e._transformState.transforming)throw new a;return e.push(null)}r(1765)(c,l),c.prototype.push=function(e,t){return this._transformState.needTransform=!1,l.prototype.push.call(this,e,t)},c.prototype._transform=function(e,t,r){r(new i("_transform()"))},c.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},c.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},c.prototype._destroy=function(e,t){l.prototype._destroy.call(this,e,(function(e){t(e)}))}},8318:function(e,t,r){"use strict";function n(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(void 0),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var i;e.exports=S,S.WritableState=x;var o,a={deprecate:r(7839)},s=r(9299),l=r(1549).Buffer,u=r.g.Uint8Array||function(){},c=r(6163),d=r(7269).getHighWaterMark,f=r(3690).q,h=f.ERR_INVALID_ARG_TYPE,p=f.ERR_METHOD_NOT_IMPLEMENTED,m=f.ERR_MULTIPLE_CALLBACK,g=f.ERR_STREAM_CANNOT_PIPE,y=f.ERR_STREAM_DESTROYED,v=f.ERR_STREAM_NULL_VALUES,b=f.ERR_STREAM_WRITE_AFTER_END,_=f.ERR_UNKNOWN_ENCODING,w=c.errorOrDestroy;function E(){}function x(e,t,o){i=i||r(6138),e=e||{},"boolean"!=typeof o&&(o=t instanceof i),this.objectMode=!!e.objectMode,o&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=d(this,e,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===e.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if("function"!=typeof i)throw new m;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){--t.pendingcb,r?(process.nextTick(i,n),process.nextTick(I,e,t),e._writableState.errorEmitted=!0,w(e,n)):(i(n),e._writableState.errorEmitted=!0,w(e,n),I(e,t))}(e,r,n,t,i);else{var o=R(r)||e.destroyed;o||r.corked||r.bufferProcessing||!r.bufferedRequest||M(e,r),n?process.nextTick(A,e,r,o,i):A(e,r,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function S(e){var t=this instanceof(i=i||r(6138));if(!t&&!o.call(S,this))return new S(e);this._writableState=new x(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),s.call(this)}function T(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new y("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function A(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),I(e,t)}function M(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=t.bufferedRequestCount,o=new Array(i),a=t.corkedRequestsFree;a.entry=r;for(var s=0,l=!0;r;)o[s]=r,r.isBuf||(l=!1),r=r.next,s+=1;o.allBuffers=l,T(e,t,!0,t.length,o,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new n(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,c=r.encoding,d=r.callback;if(T(e,t,!1,t.objectMode?1:u.length,u,c,d),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function R(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function C(e,t){e._final((function(r){t.pendingcb--,r&&w(e,r),t.prefinished=!0,e.emit("prefinish"),I(e,t)}))}function I(e,t){var r=R(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,process.nextTick(C,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}r(1765)(S,s),x.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(x.prototype,"buffer",{get:a.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(o=Function.prototype[Symbol.hasInstance],Object.defineProperty(S,Symbol.hasInstance,{value:function(e){return!!o.call(this,e)||this===S&&e&&e._writableState instanceof x}})):o=function(e){return e instanceof this},S.prototype.pipe=function(){w(this,new g)},S.prototype.write=function(e,t,r){var n,i=this._writableState,o=!1,a=!i.objectMode&&(n=e,l.isBuffer(n)||n instanceof u);return a&&!l.isBuffer(e)&&(e=function(e){return l.from(e)}(e)),"function"==typeof t&&(r=t,t=null),a?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof r&&(r=E),i.ending?function(e,t){var r=new b;w(e,r),process.nextTick(t,r)}(this,r):(a||function(e,t,r,n){var i;return null===r?i=new v:"string"==typeof r||t.objectMode||(i=new h("chunk",["string","Buffer"],r)),!i||(w(e,i),process.nextTick(n,i),!1)}(this,i,e,r))&&(i.pendingcb++,o=function(e,t,r,n,i,o){if(!r){var a=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=l.from(t,r)),t}(t,n,i);n!==a&&(r=!0,i="buffer",n=a)}var s=t.objectMode?1:n.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else T(e,t,!1,s,n,i,o);return u}(this,i,a,e,t,r)),o},S.prototype.cork=function(){this._writableState.corked++},S.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||M(this,e))},S.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new _(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(S.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(S.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),S.prototype._write=function(e,t,r){r(new p("_write()"))},S.prototype._writev=null,S.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,I(e,t),r&&(t.finished?process.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,n,r),this},Object.defineProperty(S.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),S.prototype.destroy=c.destroy,S.prototype._undestroy=c.undestroy,S.prototype._destroy=function(e,t){t(e)}},7299:function(e,t,r){"use strict";var n;function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=r(8800),a=Symbol("lastResolve"),s=Symbol("lastReject"),l=Symbol("error"),u=Symbol("ended"),c=Symbol("lastPromise"),d=Symbol("handlePromise"),f=Symbol("stream");function h(e,t){return{value:e,done:t}}function p(e){var t=e[a];if(null!==t){var r=e[f].read();null!==r&&(e[c]=null,e[a]=null,e[s]=null,t(h(r,!1)))}}function m(e){process.nextTick(p,e)}var g=Object.getPrototypeOf((function(){})),y=Object.setPrototypeOf((i(n={get stream(){return this[f]},next:function(){var e=this,t=this[l];if(null!==t)return Promise.reject(t);if(this[u])return Promise.resolve(h(void 0,!0));if(this[f].destroyed)return new Promise((function(t,r){process.nextTick((function(){e[l]?r(e[l]):t(h(void 0,!0))}))}));var r,n=this[c];if(n)r=new Promise(function(e,t){return function(r,n){e.then((function(){t[u]?r(h(void 0,!0)):t[d](r,n)}),n)}}(n,this));else{var i=this[f].read();if(null!==i)return Promise.resolve(h(i,!1));r=new Promise(this[d])}return this[c]=r,r}},Symbol.asyncIterator,(function(){return this})),i(n,"return",(function(){var e=this;return new Promise((function(t,r){e[f].destroy(null,(function(e){e?r(e):t(h(void 0,!0))}))}))})),n),g);e.exports=function(e){var t,r=Object.create(y,(i(t={},f,{value:e,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,l,{value:null,writable:!0}),i(t,u,{value:e._readableState.endEmitted,writable:!0}),i(t,d,{value:function(e,t){var n=r[f].read();n?(r[c]=null,r[a]=null,r[s]=null,e(h(n,!1))):(r[a]=e,r[s]=t)},writable:!0}),t));return r[c]=null,o(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[s];return null!==t&&(r[c]=null,r[a]=null,r[s]=null,t(e)),void(r[l]=e)}var n=r[a];null!==n&&(r[c]=null,r[a]=null,r[s]=null,n(h(void 0,!0))),r[u]=!0})),e.on("readable",m.bind(null,r)),r}},8393:function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=r(1549).Buffer,s=r(9862).inspect,l=s&&s.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t;return t=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return a.alloc(0);for(var t,r,n,i=a.allocUnsafe(e>>>0),o=this.head,s=0;o;)t=o.data,r=i,n=s,a.prototype.copy.call(t,r,n),s+=o.data.length,o=o.next;return i}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0==(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=a.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0==(e-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,t}},{key:l,value:function(e,t){return s(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}],t&&o(e.prototype,t),e}()},6163:function(e){"use strict";function t(e,t){n(e,t),r(e)}function r(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function n(e,t){e.emit("error",t)}e.exports={destroy:function(e,i){var o=this,a=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return a||s?(i?i(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(n,this,e)):process.nextTick(n,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!i&&e?o._writableState?o._writableState.errorEmitted?process.nextTick(r,o):(o._writableState.errorEmitted=!0,process.nextTick(t,o,e)):process.nextTick(t,o,e):i?(process.nextTick(r,o),i(e)):process.nextTick(r,o)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}},8800:function(e,t,r){"use strict";var n=r(3690).q.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,r,o){if("function"==typeof r)return e(t,null,r);r||(r={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(o||i);var a=r.readable||!1!==r.readable&&t.readable,s=r.writable||!1!==r.writable&&t.writable,l=function(){t.writable||c()},u=t._writableState&&t._writableState.finished,c=function(){s=!1,u=!0,a||o.call(t)},d=t._readableState&&t._readableState.endEmitted,f=function(){a=!1,d=!0,s||o.call(t)},h=function(e){o.call(t,e)},p=function(){var e;return a&&!d?(t._readableState&&t._readableState.ended||(e=new n),o.call(t,e)):s&&!u?(t._writableState&&t._writableState.ended||(e=new n),o.call(t,e)):void 0},m=function(){t.req.on("finish",c)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",c),t.on("abort",p),t.req?m():t.on("request",m)):s&&!t._writableState&&(t.on("end",l),t.on("close",l)),t.on("end",f),t.on("finish",c),!1!==r.error&&t.on("error",h),t.on("close",p),function(){t.removeListener("complete",c),t.removeListener("abort",p),t.removeListener("request",m),t.req&&t.req.removeListener("finish",c),t.removeListener("end",l),t.removeListener("close",l),t.removeListener("finish",c),t.removeListener("end",f),t.removeListener("error",h),t.removeListener("close",p)}}},6233:function(e){e.exports=function(){throw new Error("Readable.from is not available in the browser")}},7295:function(e,t,r){"use strict";var n,i=r(3690).q,o=i.ERR_MISSING_ARGS,a=i.ERR_STREAM_DESTROYED;function s(e){if(e)throw e}function l(e,t,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var s=!1;e.on("close",(function(){s=!0})),void 0===n&&(n=r(8800)),n(e,{readable:t,writable:i},(function(e){if(e)return o(e);s=!0,o()}));var l=!1;return function(t){if(!s&&!l)return l=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new a("pipe"))}}function u(e){e()}function c(e,t){return e.pipe(t)}function d(e){return e.length?"function"!=typeof e[e.length-1]?s:e.pop():s}e.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=d(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var a=t.map((function(e,r){var o=r<t.length-1;return l(e,o,r>0,(function(e){n||(n=e),e&&a.forEach(u),o||(a.forEach(u),i(n))}))}));return t.reduce(c)}},7269:function(e,t,r){"use strict";var n=r(3690).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,i){var o=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new n(i?r:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},9299:function(e,t,r){e.exports=r(1159).EventEmitter},7503:function(e,t,r){"use strict";var n=r(8387).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=u,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=c,this.end=d,t=3;break;default:return this.write=f,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function c(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.s=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=a(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=a(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=a(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},1067:function(e,t,r){var n;!function(i,o){"use strict";var a="function",s="undefined",l="object",u="string",c="model",d="name",f="type",h="vendor",p="version",m="architecture",g="console",y="mobile",v="tablet",b="smarttv",_="wearable",w="embedded",E="Amazon",x="Apple",S="ASUS",T="BlackBerry",A="Browser",M="Chrome",R="Firefox",C="Google",I="Huawei",k="LG",P="Microsoft",O="Motorola",j="Opera",N="Samsung",L="Sony",D="Xiaomi",F="Zebra",U="Facebook",B=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].toUpperCase()]=e[r];return t},G=function(e,t){return typeof e===u&&-1!==z(t).indexOf(z(e))},z=function(e){return e.toLowerCase()},V=function(e,t){if(typeof e===u)return e=e.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof t===s?e:e.substring(0,255)},H=function(e,t){for(var r,n,i,s,u,c,d=0;d<t.length&&!u;){var f=t[d],h=t[d+1];for(r=n=0;r<f.length&&!u;)if(u=f[r++].exec(e))for(i=0;i<h.length;i++)c=u[++n],typeof(s=h[i])===l&&s.length>0?2===s.length?typeof s[1]==a?this[s[0]]=s[1].call(this,c):this[s[0]]=s[1]:3===s.length?typeof s[1]!==a||s[1].exec&&s[1].test?this[s[0]]=c?c.replace(s[1],s[2]):o:this[s[0]]=c?s[1].call(this,c,s[2]):o:4===s.length&&(this[s[0]]=c?s[3].call(this,c.replace(s[1],s[2])):o):this[s]=c||o;d+=2}},W=function(e,t){for(var r in t)if(typeof t[r]===l&&t[r].length>0){for(var n=0;n<t[r].length;n++)if(G(t[r][n],e))return"?"===r?o:r}else if(G(t[r],e))return"?"===r?o:r;return e},Z={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},q={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[p,[d,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[p,[d,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[d,p],[/opios[\/ ]+([\w\.]+)/i],[p,[d,j+" Mini"]],[/\bopr\/([\w\.]+)/i],[p,[d,j]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[d,p],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[p,[d,"UC"+A]],[/\bqbcore\/([\w\.]+)/i],[p,[d,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[p,[d,"WeChat"]],[/konqueror\/([\w\.]+)/i],[p,[d,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[p,[d,"IE"]],[/yabrowser\/([\w\.]+)/i],[p,[d,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[d,/(.+)/,"$1 Secure "+A],p],[/\bfocus\/([\w\.]+)/i],[p,[d,R+" Focus"]],[/\bopt\/([\w\.]+)/i],[p,[d,j+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[p,[d,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[p,[d,"Dolphin"]],[/coast\/([\w\.]+)/i],[p,[d,j+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[p,[d,"MIUI "+A]],[/fxios\/([-\w\.]+)/i],[p,[d,R]],[/\bqihu|(qi?ho?o?|360)browser/i],[[d,"360 "+A]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[d,/(.+)/,"$1 "+A],p],[/(comodo_dragon)\/([\w\.]+)/i],[[d,/_/g," "],p],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[d,p],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[d],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[d,U],p],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[d,p],[/\bgsa\/([\w\.]+) .*safari\//i],[p,[d,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[p,[d,M+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[d,M+" WebView"],p],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[p,[d,"Android "+A]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[d,p],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[p,[d,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[p,d],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[d,[p,W,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[d,p],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[d,"Netscape"],p],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[p,[d,R+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[d,p]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[m,"amd64"]],[/(ia32(?=;))/i],[[m,z]],[/((?:i[346]|x)86)[;\)]/i],[[m,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[m,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[m,"armhf"]],[/windows (ce|mobile); ppc;/i],[[m,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[m,/ower/,"",z]],[/(sun4\w)[;\)]/i],[[m,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[m,z]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[c,[h,N],[f,v]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[c,[h,N],[f,y]],[/\((ip(?:hone|od)[\w ]*);/i],[c,[h,x],[f,y]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[c,[h,x],[f,v]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[c,[h,I],[f,v]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[c,[h,I],[f,y]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[c,/_/g," "],[h,D],[f,y]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[c,/_/g," "],[h,D],[f,v]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[c,[h,"OPPO"],[f,y]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[c,[h,"Vivo"],[f,y]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[c,[h,"Realme"],[f,y]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[c,[h,O],[f,y]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[c,[h,O],[f,v]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[c,[h,k],[f,v]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[c,[h,k],[f,y]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[c,[h,"Lenovo"],[f,v]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[c,/_/g," "],[h,"Nokia"],[f,y]],[/(pixel c)\b/i],[c,[h,C],[f,v]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[c,[h,C],[f,y]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[c,[h,L],[f,y]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[c,"Xperia Tablet"],[h,L],[f,v]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[c,[h,"OnePlus"],[f,y]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[c,[h,E],[f,v]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[c,/(.+)/g,"Fire Phone $1"],[h,E],[f,y]],[/(playbook);[-\w\),; ]+(rim)/i],[c,h,[f,v]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[c,[h,T],[f,y]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[c,[h,S],[f,v]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[c,[h,S],[f,y]],[/(nexus 9)/i],[c,[h,"HTC"],[f,v]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[h,[c,/_/g," "],[f,y]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[c,[h,"Acer"],[f,v]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[c,[h,"Meizu"],[f,y]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[c,[h,"Sharp"],[f,y]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[h,c,[f,y]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[h,c,[f,v]],[/(surface duo)/i],[c,[h,P],[f,v]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[c,[h,"Fairphone"],[f,y]],[/(u304aa)/i],[c,[h,"AT&T"],[f,y]],[/\bsie-(\w*)/i],[c,[h,"Siemens"],[f,y]],[/\b(rct\w+) b/i],[c,[h,"RCA"],[f,v]],[/\b(venue[\d ]{2,7}) b/i],[c,[h,"Dell"],[f,v]],[/\b(q(?:mv|ta)\w+) b/i],[c,[h,"Verizon"],[f,v]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[c,[h,"Barnes & Noble"],[f,v]],[/\b(tm\d{3}\w+) b/i],[c,[h,"NuVision"],[f,v]],[/\b(k88) b/i],[c,[h,"ZTE"],[f,v]],[/\b(nx\d{3}j) b/i],[c,[h,"ZTE"],[f,y]],[/\b(gen\d{3}) b.+49h/i],[c,[h,"Swiss"],[f,y]],[/\b(zur\d{3}) b/i],[c,[h,"Swiss"],[f,v]],[/\b((zeki)?tb.*\b) b/i],[c,[h,"Zeki"],[f,v]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[h,"Dragon Touch"],c,[f,v]],[/\b(ns-?\w{0,9}) b/i],[c,[h,"Insignia"],[f,v]],[/\b((nxa|next)-?\w{0,9}) b/i],[c,[h,"NextBook"],[f,v]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[h,"Voice"],c,[f,y]],[/\b(lvtel\-)?(v1[12]) b/i],[[h,"LvTel"],c,[f,y]],[/\b(ph-1) /i],[c,[h,"Essential"],[f,y]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[c,[h,"Envizen"],[f,v]],[/\b(trio[-\w\. ]+) b/i],[c,[h,"MachSpeed"],[f,v]],[/\btu_(1491) b/i],[c,[h,"Rotor"],[f,v]],[/(shield[\w ]+) b/i],[c,[h,"Nvidia"],[f,v]],[/(sprint) (\w+)/i],[h,c,[f,y]],[/(kin\.[onetw]{3})/i],[[c,/\./g," "],[h,P],[f,y]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[c,[h,F],[f,v]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[c,[h,F],[f,y]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[h,c,[f,g]],[/droid.+; (shield) bui/i],[c,[h,"Nvidia"],[f,g]],[/(playstation [345portablevi]+)/i],[c,[h,L],[f,g]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[c,[h,P],[f,g]],[/smart-tv.+(samsung)/i],[h,[f,b]],[/hbbtv.+maple;(\d+)/i],[[c,/^/,"SmartTV"],[h,N],[f,b]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[h,k],[f,b]],[/(apple) ?tv/i],[h,[c,x+" TV"],[f,b]],[/crkey/i],[[c,M+"cast"],[h,C],[f,b]],[/droid.+aft(\w)( bui|\))/i],[c,[h,E],[f,b]],[/\(dtv[\);].+(aquos)/i],[c,[h,"Sharp"],[f,b]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[h,V],[c,V],[f,b]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[f,b]],[/((pebble))app/i],[h,c,[f,_]],[/droid.+; (glass) \d/i],[c,[h,C],[f,_]],[/droid.+; (wt63?0{2,3})\)/i],[c,[h,F],[f,_]],[/(quest( 2)?)/i],[c,[h,U],[f,_]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[h,[f,w]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[c,[f,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[c,[f,v]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[f,v]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[f,y]],[/(android[-\w\. ]{0,9});.+buil/i],[c,[h,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[p,[d,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[p,[d,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[d,p],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[p,d]],os:[[/microsoft (windows) (vista|xp)/i],[d,p],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[d,[p,W,Z]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[d,"Windows"],[p,W,Z]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[p,/_/g,"."],[d,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[d,"Mac OS"],[p,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[p,d],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[d,p],[/\(bb(10);/i],[p,[d,T]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[p,[d,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[p,[d,R+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[p,[d,"webOS"]],[/crkey\/([\d\.]+)/i],[p,[d,M+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[d,"Chromium OS"],p],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[d,p],[/(sunos) ?([\w\.\d]*)/i],[[d,"Solaris"],p],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[d,p]]},Y=function e(t,r){if(typeof t===l&&(r=t,t=o),!(this instanceof e))return new e(t,r).getResult();var n=t||(typeof i!==s&&i.navigator&&i.navigator.userAgent?i.navigator.userAgent:""),a=r?function(e,t){var r={};for(var n in e)t[n]&&t[n].length%2==0?r[n]=t[n].concat(e[n]):r[n]=e[n];return r}(q,r):q;return this.getBrowser=function(){var e,t={};return t[d]=o,t[p]=o,H.call(t,n,a.browser),t.major=typeof(e=t.version)===u?e.replace(/[^\d\.]/g,"").split(".")[0]:o,t},this.getCPU=function(){var e={};return e[m]=o,H.call(e,n,a.cpu),e},this.getDevice=function(){var e={};return e[h]=o,e[c]=o,e[f]=o,H.call(e,n,a.device),e},this.getEngine=function(){var e={};return e[d]=o,e[p]=o,H.call(e,n,a.engine),e},this.getOS=function(){var e={};return e[d]=o,e[p]=o,H.call(e,n,a.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===u&&e.length>255?V(e,255):e,this},this.setUA(n),this};Y.VERSION="1.0.2",Y.BROWSER=B([d,p,"major"]),Y.CPU=B([m]),Y.DEVICE=B([c,h,f,g,y,b,v,_,w]),Y.ENGINE=Y.OS=B([d,p]),typeof t!==s?(e.exports&&(t=e.exports=Y),t.UAParser=Y):r.amdO?(n=function(){return Y}.call(t,r,t,e))===o||(e.exports=n):typeof i!==s&&(i.UAParser=Y);var X=typeof i!==s&&(i.jQuery||i.Zepto);if(X&&!X.ua){var K=new Y;X.ua=K.getResult(),X.ua.get=function(){return K.getUA()},X.ua.set=function(e){K.setUA(e);var t=K.getResult();for(var r in t)X.ua[r]=t[r]}}}("object"==typeof window?window:this)},7839:function(e,t,r){function n(e){try{if(!r.g.localStorage)return!1}catch(e){return!1}var t=r.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}},9862:function(){},964:function(){},3165:function(e){"use strict";e.exports=JSON.parse('["mni-beng-in","mni-mtei-in","sat-deva-in","sat-olck-in","shi-latn-ma","shi-tfng-ma","vai-latn-lr","vai-vaii-lr","yue-hans-cn","yue-hant-hk","az-arab-ir","az-cyrl-az","az-latn-az","bm-nkoo-ml","bs-cyrl-ba","bs-latn-ba","en-dsrt-us","ff-adlm-gn","ff-latn-sn","ha-arab-ng","hi-latn-in","iu-latn-ca","ks-arab-in","ks-deva-in","mn-mong-cn","ms-arab-my","pa-arab-pk","pa-guru-in","sd-arab-pk","sd-deva-in","sr-cyrl-rs","sr-latn-rs","su-latn-id","uz-arab-af","uz-cyrl-uz","uz-latn-uz","zh-hans-cn","zh-hant-tw","mni-beng","sat-olck","shi-tfng","vai-vaii","yue-hant","az-latn","bs-latn","ff-latn","jbo-001","ks-arab","pa-guru","prg-001","sd-arab","sr-cyrl","su-latn","uz-latn","zh-hans","agq-cm","ar-001","arn-cl","asa-tz","ast-es","bas-cm","bem-zm","bez-tz","bgn-pk","blt-vn","brx-in","bss-cm","byn-er","cad-us","cch-ng","ccp-bd","ceb-ph","cgg-ug","chr-us","cic-us","ckb-iq","dav-ke","dje-ne","doi-in","dsb-de","dua-cm","dyo-sn","ebu-ke","eo-001","ewo-cm","fil-ph","fur-it","gaa-gh","gez-et","gsw-ch","guz-ke","haw-us","hsb-de","ia-001","ife-tg","io-001","jgo-cm","jmc-tz","kab-dz","kaj-ng","kam-ke","kcg-ng","kde-tz","kea-cv","ken-cm","khq-ml","kkj-cm","kln-ke","kok-in","kpe-lr","ksb-tz","ksf-cm","ksh-de","lag-tz","lkt-us","lrc-ir","luo-ke","luy-ke","mai-in","mas-ke","mer-ke","mfe-mu","mgh-mz","mgo-cm","moh-ca","mua-cm","mus-us","myv-ru","mzn-ir","naq-na","nds-de","nmg-cm","nnh-cm","nqo-gn","nso-za","nus-ss","nyn-ug","osa-us","pcm-ng","quc-gt","rof-tz","rwk-tz","sah-ru","saq-ke","sbp-tz","scn-it","sdh-ir","seh-mz","ses-ml","sid-et","sma-se","smj-se","smn-fi","sms-fi","ssy-er","syr-iq","szl-pl","teo-ug","tig-er","trv-tw","trw-pk","twq-ne","tzm-ma","vo-001","vun-tz","wae-ch","wal-et","wbp-au","xog-ug","yav-cm","yi-001","zgh-ma","aa-et","af-za","ak-gh","am-et","an-es","as-in","ba-ru","be-by","bg-bg","bm-ml","bn-bd","bo-cn","br-fr","ca-es","ce-ru","co-fr","cs-cz","cu-ru","cv-ru","cy-gb","da-dk","de-de","dv-mv","dz-bt","ee-gh","el-gr","en-us","es-es","et-ee","eu-es","fa-ir","fi-fi","fo-fo","fr-fr","fy-nl","ga-ie","gd-gb","gl-es","gn-py","gu-in","gv-im","ha-ng","he-il","hi-in","hr-hr","hu-hu","hy-am","id-id","ig-ng","ii-cn","is-is","it-it","iu-ca","ja-jp","jv-id","ka-ge","ki-ke","kk-kz","kl-gl","km-kh","kn-in","ko-kr","ku-tr","kw-gb","ky-kg","lb-lu","lg-ug","ln-cd","lo-la","lt-lt","lu-cd","lv-lv","mg-mg","mi-nz","mk-mk","ml-in","mn-mn","mr-in","ms-my","mt-mt","my-mm","nb-no","nd-zw","ne-np","nl-nl","nn-no","nr-za","nv-us","ny-mw","oc-fr","om-et","or-in","os-ge","pl-pl","ps-af","pt-br","qu-pe","rm-ch","rn-bi","ro-ro","ru-ru","rw-rw","sa-in","sc-it","se-no","sg-cf","si-lk","sk-sk","sl-si","sn-zw","so-so","sq-al","ss-za","st-za","sv-se","sw-tz","ta-in","te-in","tg-tj","th-th","ti-et","tk-tm","tn-za","to-to","tr-tr","ts-za","tt-ru","ug-cn","uk-ua","ur-pk","ve-za","vi-vn","wa-be","wo-sn","xh-za","yo-ng","zu-za"]')},5813:function(e){"use strict";e.exports=JSON.parse('[{"from":{"field":"script","value":"qaai"},"to":{"field":"script","value":"zinh"}},{"from":{"field":"region","value":"bu"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"ct"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"dd"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"dy"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"fx"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"hv"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"jt"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"mi"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"nh"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"nq"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"pu"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"pz"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"qu"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"rh"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"tp"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"uk"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"vd"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"wk"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"yd"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"zr"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"230"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"280"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"736"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"886"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"958"},"to":{"field":"region","value":"aa"}},{"from":{"field":"region","value":"020"},"to":{"field":"region","value":"ad"}},{"from":{"field":"region","value":"784"},"to":{"field":"region","value":"ae"}},{"from":{"field":"region","value":"004"},"to":{"field":"region","value":"af"}},{"from":{"field":"region","value":"028"},"to":{"field":"region","value":"ag"}},{"from":{"field":"region","value":"660"},"to":{"field":"region","value":"ai"}},{"from":{"field":"region","value":"008"},"to":{"field":"region","value":"al"}},{"from":{"field":"region","value":"051"},"to":{"field":"region","value":"am"}},{"from":{"field":"region","value":"024"},"to":{"field":"region","value":"ao"}},{"from":{"field":"region","value":"010"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"032"},"to":{"field":"region","value":"ar"}},{"from":{"field":"region","value":"016"},"to":{"field":"region","value":"as"}},{"from":{"field":"region","value":"040"},"to":{"field":"region","value":"at"}},{"from":{"field":"region","value":"036"},"to":{"field":"region","value":"au"}},{"from":{"field":"region","value":"533"},"to":{"field":"region","value":"aw"}},{"from":{"field":"region","value":"248"},"to":{"field":"region","value":"ax"}},{"from":{"field":"region","value":"031"},"to":{"field":"region","value":"az"}},{"from":{"field":"region","value":"070"},"to":{"field":"region","value":"ba"}},{"from":{"field":"region","value":"052"},"to":{"field":"region","value":"bb"}},{"from":{"field":"region","value":"050"},"to":{"field":"region","value":"bd"}},{"from":{"field":"region","value":"056"},"to":{"field":"region","value":"be"}},{"from":{"field":"region","value":"854"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"100"},"to":{"field":"region","value":"bg"}},{"from":{"field":"region","value":"048"},"to":{"field":"region","value":"bh"}},{"from":{"field":"region","value":"108"},"to":{"field":"region","value":"bi"}},{"from":{"field":"region","value":"204"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"652"},"to":{"field":"region","value":"bl"}},{"from":{"field":"region","value":"060"},"to":{"field":"region","value":"bm"}},{"from":{"field":"region","value":"096"},"to":{"field":"region","value":"bn"}},{"from":{"field":"region","value":"068"},"to":{"field":"region","value":"bo"}},{"from":{"field":"region","value":"535"},"to":{"field":"region","value":"bq"}},{"from":{"field":"region","value":"076"},"to":{"field":"region","value":"br"}},{"from":{"field":"region","value":"044"},"to":{"field":"region","value":"bs"}},{"from":{"field":"region","value":"064"},"to":{"field":"region","value":"bt"}},{"from":{"field":"region","value":"104"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"074"},"to":{"field":"region","value":"bv"}},{"from":{"field":"region","value":"072"},"to":{"field":"region","value":"bw"}},{"from":{"field":"region","value":"112"},"to":{"field":"region","value":"by"}},{"from":{"field":"region","value":"084"},"to":{"field":"region","value":"bz"}},{"from":{"field":"region","value":"124"},"to":{"field":"region","value":"ca"}},{"from":{"field":"region","value":"166"},"to":{"field":"region","value":"cc"}},{"from":{"field":"region","value":"180"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"140"},"to":{"field":"region","value":"cf"}},{"from":{"field":"region","value":"178"},"to":{"field":"region","value":"cg"}},{"from":{"field":"region","value":"756"},"to":{"field":"region","value":"ch"}},{"from":{"field":"region","value":"384"},"to":{"field":"region","value":"ci"}},{"from":{"field":"region","value":"184"},"to":{"field":"region","value":"ck"}},{"from":{"field":"region","value":"152"},"to":{"field":"region","value":"cl"}},{"from":{"field":"region","value":"120"},"to":{"field":"region","value":"cm"}},{"from":{"field":"region","value":"156"},"to":{"field":"region","value":"cn"}},{"from":{"field":"region","value":"170"},"to":{"field":"region","value":"co"}},{"from":{"field":"region","value":"188"},"to":{"field":"region","value":"cr"}},{"from":{"field":"region","value":"192"},"to":{"field":"region","value":"cu"}},{"from":{"field":"region","value":"132"},"to":{"field":"region","value":"cv"}},{"from":{"field":"region","value":"531"},"to":{"field":"region","value":"cw"}},{"from":{"field":"region","value":"162"},"to":{"field":"region","value":"cx"}},{"from":{"field":"region","value":"196"},"to":{"field":"region","value":"cy"}},{"from":{"field":"region","value":"203"},"to":{"field":"region","value":"cz"}},{"from":{"field":"region","value":"278"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"276"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"262"},"to":{"field":"region","value":"dj"}},{"from":{"field":"region","value":"208"},"to":{"field":"region","value":"dk"}},{"from":{"field":"region","value":"212"},"to":{"field":"region","value":"dm"}},{"from":{"field":"region","value":"214"},"to":{"field":"region","value":"do"}},{"from":{"field":"region","value":"012"},"to":{"field":"region","value":"dz"}},{"from":{"field":"region","value":"218"},"to":{"field":"region","value":"ec"}},{"from":{"field":"region","value":"233"},"to":{"field":"region","value":"ee"}},{"from":{"field":"region","value":"818"},"to":{"field":"region","value":"eg"}},{"from":{"field":"region","value":"732"},"to":{"field":"region","value":"eh"}},{"from":{"field":"region","value":"232"},"to":{"field":"region","value":"er"}},{"from":{"field":"region","value":"724"},"to":{"field":"region","value":"es"}},{"from":{"field":"region","value":"231"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"246"},"to":{"field":"region","value":"fi"}},{"from":{"field":"region","value":"242"},"to":{"field":"region","value":"fj"}},{"from":{"field":"region","value":"238"},"to":{"field":"region","value":"fk"}},{"from":{"field":"region","value":"583"},"to":{"field":"region","value":"fm"}},{"from":{"field":"region","value":"234"},"to":{"field":"region","value":"fo"}},{"from":{"field":"region","value":"250"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"249"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"266"},"to":{"field":"region","value":"ga"}},{"from":{"field":"region","value":"826"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"308"},"to":{"field":"region","value":"gd"}},{"from":{"field":"region","value":"268"},"to":{"field":"region","value":"ge"}},{"from":{"field":"region","value":"254"},"to":{"field":"region","value":"gf"}},{"from":{"field":"region","value":"831"},"to":{"field":"region","value":"gg"}},{"from":{"field":"region","value":"288"},"to":{"field":"region","value":"gh"}},{"from":{"field":"region","value":"292"},"to":{"field":"region","value":"gi"}},{"from":{"field":"region","value":"304"},"to":{"field":"region","value":"gl"}},{"from":{"field":"region","value":"270"},"to":{"field":"region","value":"gm"}},{"from":{"field":"region","value":"324"},"to":{"field":"region","value":"gn"}},{"from":{"field":"region","value":"312"},"to":{"field":"region","value":"gp"}},{"from":{"field":"region","value":"226"},"to":{"field":"region","value":"gq"}},{"from":{"field":"region","value":"300"},"to":{"field":"region","value":"gr"}},{"from":{"field":"region","value":"239"},"to":{"field":"region","value":"gs"}},{"from":{"field":"region","value":"320"},"to":{"field":"region","value":"gt"}},{"from":{"field":"region","value":"316"},"to":{"field":"region","value":"gu"}},{"from":{"field":"region","value":"624"},"to":{"field":"region","value":"gw"}},{"from":{"field":"region","value":"328"},"to":{"field":"region","value":"gy"}},{"from":{"field":"region","value":"344"},"to":{"field":"region","value":"hk"}},{"from":{"field":"region","value":"334"},"to":{"field":"region","value":"hm"}},{"from":{"field":"region","value":"340"},"to":{"field":"region","value":"hn"}},{"from":{"field":"region","value":"191"},"to":{"field":"region","value":"hr"}},{"from":{"field":"region","value":"332"},"to":{"field":"region","value":"ht"}},{"from":{"field":"region","value":"348"},"to":{"field":"region","value":"hu"}},{"from":{"field":"region","value":"360"},"to":{"field":"region","value":"id"}},{"from":{"field":"region","value":"372"},"to":{"field":"region","value":"ie"}},{"from":{"field":"region","value":"376"},"to":{"field":"region","value":"il"}},{"from":{"field":"region","value":"833"},"to":{"field":"region","value":"im"}},{"from":{"field":"region","value":"356"},"to":{"field":"region","value":"in"}},{"from":{"field":"region","value":"086"},"to":{"field":"region","value":"io"}},{"from":{"field":"region","value":"368"},"to":{"field":"region","value":"iq"}},{"from":{"field":"region","value":"364"},"to":{"field":"region","value":"ir"}},{"from":{"field":"region","value":"352"},"to":{"field":"region","value":"is"}},{"from":{"field":"region","value":"380"},"to":{"field":"region","value":"it"}},{"from":{"field":"region","value":"832"},"to":{"field":"region","value":"je"}},{"from":{"field":"region","value":"388"},"to":{"field":"region","value":"jm"}},{"from":{"field":"region","value":"400"},"to":{"field":"region","value":"jo"}},{"from":{"field":"region","value":"392"},"to":{"field":"region","value":"jp"}},{"from":{"field":"region","value":"404"},"to":{"field":"region","value":"ke"}},{"from":{"field":"region","value":"417"},"to":{"field":"region","value":"kg"}},{"from":{"field":"region","value":"116"},"to":{"field":"region","value":"kh"}},{"from":{"field":"region","value":"296"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"174"},"to":{"field":"region","value":"km"}},{"from":{"field":"region","value":"659"},"to":{"field":"region","value":"kn"}},{"from":{"field":"region","value":"408"},"to":{"field":"region","value":"kp"}},{"from":{"field":"region","value":"410"},"to":{"field":"region","value":"kr"}},{"from":{"field":"region","value":"414"},"to":{"field":"region","value":"kw"}},{"from":{"field":"region","value":"136"},"to":{"field":"region","value":"ky"}},{"from":{"field":"region","value":"398"},"to":{"field":"region","value":"kz"}},{"from":{"field":"region","value":"418"},"to":{"field":"region","value":"la"}},{"from":{"field":"region","value":"422"},"to":{"field":"region","value":"lb"}},{"from":{"field":"region","value":"662"},"to":{"field":"region","value":"lc"}},{"from":{"field":"region","value":"438"},"to":{"field":"region","value":"li"}},{"from":{"field":"region","value":"144"},"to":{"field":"region","value":"lk"}},{"from":{"field":"region","value":"430"},"to":{"field":"region","value":"lr"}},{"from":{"field":"region","value":"426"},"to":{"field":"region","value":"ls"}},{"from":{"field":"region","value":"440"},"to":{"field":"region","value":"lt"}},{"from":{"field":"region","value":"442"},"to":{"field":"region","value":"lu"}},{"from":{"field":"region","value":"428"},"to":{"field":"region","value":"lv"}},{"from":{"field":"region","value":"434"},"to":{"field":"region","value":"ly"}},{"from":{"field":"region","value":"504"},"to":{"field":"region","value":"ma"}},{"from":{"field":"region","value":"492"},"to":{"field":"region","value":"mc"}},{"from":{"field":"region","value":"498"},"to":{"field":"region","value":"md"}},{"from":{"field":"region","value":"499"},"to":{"field":"region","value":"me"}},{"from":{"field":"region","value":"663"},"to":{"field":"region","value":"mf"}},{"from":{"field":"region","value":"450"},"to":{"field":"region","value":"mg"}},{"from":{"field":"region","value":"584"},"to":{"field":"region","value":"mh"}},{"from":{"field":"region","value":"807"},"to":{"field":"region","value":"mk"}},{"from":{"field":"region","value":"466"},"to":{"field":"region","value":"ml"}},{"from":{"field":"region","value":"496"},"to":{"field":"region","value":"mn"}},{"from":{"field":"region","value":"446"},"to":{"field":"region","value":"mo"}},{"from":{"field":"region","value":"580"},"to":{"field":"region","value":"mp"}},{"from":{"field":"region","value":"474"},"to":{"field":"region","value":"mq"}},{"from":{"field":"region","value":"478"},"to":{"field":"region","value":"mr"}},{"from":{"field":"region","value":"500"},"to":{"field":"region","value":"ms"}},{"from":{"field":"region","value":"470"},"to":{"field":"region","value":"mt"}},{"from":{"field":"region","value":"480"},"to":{"field":"region","value":"mu"}},{"from":{"field":"region","value":"462"},"to":{"field":"region","value":"mv"}},{"from":{"field":"region","value":"454"},"to":{"field":"region","value":"mw"}},{"from":{"field":"region","value":"484"},"to":{"field":"region","value":"mx"}},{"from":{"field":"region","value":"458"},"to":{"field":"region","value":"my"}},{"from":{"field":"region","value":"508"},"to":{"field":"region","value":"mz"}},{"from":{"field":"region","value":"516"},"to":{"field":"region","value":"na"}},{"from":{"field":"region","value":"540"},"to":{"field":"region","value":"nc"}},{"from":{"field":"region","value":"562"},"to":{"field":"region","value":"ne"}},{"from":{"field":"region","value":"574"},"to":{"field":"region","value":"nf"}},{"from":{"field":"region","value":"566"},"to":{"field":"region","value":"ng"}},{"from":{"field":"region","value":"558"},"to":{"field":"region","value":"ni"}},{"from":{"field":"region","value":"528"},"to":{"field":"region","value":"nl"}},{"from":{"field":"region","value":"578"},"to":{"field":"region","value":"no"}},{"from":{"field":"region","value":"524"},"to":{"field":"region","value":"np"}},{"from":{"field":"region","value":"520"},"to":{"field":"region","value":"nr"}},{"from":{"field":"region","value":"570"},"to":{"field":"region","value":"nu"}},{"from":{"field":"region","value":"554"},"to":{"field":"region","value":"nz"}},{"from":{"field":"region","value":"512"},"to":{"field":"region","value":"om"}},{"from":{"field":"region","value":"591"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"604"},"to":{"field":"region","value":"pe"}},{"from":{"field":"region","value":"258"},"to":{"field":"region","value":"pf"}},{"from":{"field":"region","value":"598"},"to":{"field":"region","value":"pg"}},{"from":{"field":"region","value":"608"},"to":{"field":"region","value":"ph"}},{"from":{"field":"region","value":"586"},"to":{"field":"region","value":"pk"}},{"from":{"field":"region","value":"616"},"to":{"field":"region","value":"pl"}},{"from":{"field":"region","value":"666"},"to":{"field":"region","value":"pm"}},{"from":{"field":"region","value":"612"},"to":{"field":"region","value":"pn"}},{"from":{"field":"region","value":"630"},"to":{"field":"region","value":"pr"}},{"from":{"field":"region","value":"275"},"to":{"field":"region","value":"ps"}},{"from":{"field":"region","value":"620"},"to":{"field":"region","value":"pt"}},{"from":{"field":"region","value":"585"},"to":{"field":"region","value":"pw"}},{"from":{"field":"region","value":"600"},"to":{"field":"region","value":"py"}},{"from":{"field":"region","value":"634"},"to":{"field":"region","value":"qa"}},{"from":{"field":"region","value":"959"},"to":{"field":"region","value":"qm"}},{"from":{"field":"region","value":"960"},"to":{"field":"region","value":"qn"}},{"from":{"field":"region","value":"962"},"to":{"field":"region","value":"qp"}},{"from":{"field":"region","value":"963"},"to":{"field":"region","value":"qq"}},{"from":{"field":"region","value":"964"},"to":{"field":"region","value":"qr"}},{"from":{"field":"region","value":"965"},"to":{"field":"region","value":"qs"}},{"from":{"field":"region","value":"966"},"to":{"field":"region","value":"qt"}},{"from":{"field":"region","value":"967"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"968"},"to":{"field":"region","value":"qv"}},{"from":{"field":"region","value":"969"},"to":{"field":"region","value":"qw"}},{"from":{"field":"region","value":"970"},"to":{"field":"region","value":"qx"}},{"from":{"field":"region","value":"971"},"to":{"field":"region","value":"qy"}},{"from":{"field":"region","value":"972"},"to":{"field":"region","value":"qz"}},{"from":{"field":"region","value":"638"},"to":{"field":"region","value":"re"}},{"from":{"field":"region","value":"642"},"to":{"field":"region","value":"ro"}},{"from":{"field":"region","value":"688"},"to":{"field":"region","value":"rs"}},{"from":{"field":"region","value":"643"},"to":{"field":"region","value":"ru"}},{"from":{"field":"region","value":"646"},"to":{"field":"region","value":"rw"}},{"from":{"field":"region","value":"682"},"to":{"field":"region","value":"sa"}},{"from":{"field":"region","value":"090"},"to":{"field":"region","value":"sb"}},{"from":{"field":"region","value":"690"},"to":{"field":"region","value":"sc"}},{"from":{"field":"region","value":"729"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"752"},"to":{"field":"region","value":"se"}},{"from":{"field":"region","value":"702"},"to":{"field":"region","value":"sg"}},{"from":{"field":"region","value":"654"},"to":{"field":"region","value":"sh"}},{"from":{"field":"region","value":"705"},"to":{"field":"region","value":"si"}},{"from":{"field":"region","value":"744"},"to":{"field":"region","value":"sj"}},{"from":{"field":"region","value":"703"},"to":{"field":"region","value":"sk"}},{"from":{"field":"region","value":"694"},"to":{"field":"region","value":"sl"}},{"from":{"field":"region","value":"674"},"to":{"field":"region","value":"sm"}},{"from":{"field":"region","value":"686"},"to":{"field":"region","value":"sn"}},{"from":{"field":"region","value":"706"},"to":{"field":"region","value":"so"}},{"from":{"field":"region","value":"740"},"to":{"field":"region","value":"sr"}},{"from":{"field":"region","value":"728"},"to":{"field":"region","value":"ss"}},{"from":{"field":"region","value":"678"},"to":{"field":"region","value":"st"}},{"from":{"field":"region","value":"222"},"to":{"field":"region","value":"sv"}},{"from":{"field":"region","value":"534"},"to":{"field":"region","value":"sx"}},{"from":{"field":"region","value":"760"},"to":{"field":"region","value":"sy"}},{"from":{"field":"region","value":"748"},"to":{"field":"region","value":"sz"}},{"from":{"field":"region","value":"796"},"to":{"field":"region","value":"tc"}},{"from":{"field":"region","value":"148"},"to":{"field":"region","value":"td"}},{"from":{"field":"region","value":"260"},"to":{"field":"region","value":"tf"}},{"from":{"field":"region","value":"768"},"to":{"field":"region","value":"tg"}},{"from":{"field":"region","value":"764"},"to":{"field":"region","value":"th"}},{"from":{"field":"region","value":"762"},"to":{"field":"region","value":"tj"}},{"from":{"field":"region","value":"772"},"to":{"field":"region","value":"tk"}},{"from":{"field":"region","value":"626"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"795"},"to":{"field":"region","value":"tm"}},{"from":{"field":"region","value":"788"},"to":{"field":"region","value":"tn"}},{"from":{"field":"region","value":"776"},"to":{"field":"region","value":"to"}},{"from":{"field":"region","value":"792"},"to":{"field":"region","value":"tr"}},{"from":{"field":"region","value":"780"},"to":{"field":"region","value":"tt"}},{"from":{"field":"region","value":"798"},"to":{"field":"region","value":"tv"}},{"from":{"field":"region","value":"158"},"to":{"field":"region","value":"tw"}},{"from":{"field":"region","value":"834"},"to":{"field":"region","value":"tz"}},{"from":{"field":"region","value":"804"},"to":{"field":"region","value":"ua"}},{"from":{"field":"region","value":"800"},"to":{"field":"region","value":"ug"}},{"from":{"field":"region","value":"581"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"840"},"to":{"field":"region","value":"us"}},{"from":{"field":"region","value":"858"},"to":{"field":"region","value":"uy"}},{"from":{"field":"region","value":"860"},"to":{"field":"region","value":"uz"}},{"from":{"field":"region","value":"336"},"to":{"field":"region","value":"va"}},{"from":{"field":"region","value":"670"},"to":{"field":"region","value":"vc"}},{"from":{"field":"region","value":"862"},"to":{"field":"region","value":"ve"}},{"from":{"field":"region","value":"092"},"to":{"field":"region","value":"vg"}},{"from":{"field":"region","value":"850"},"to":{"field":"region","value":"vi"}},{"from":{"field":"region","value":"704"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"548"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"876"},"to":{"field":"region","value":"wf"}},{"from":{"field":"region","value":"882"},"to":{"field":"region","value":"ws"}},{"from":{"field":"region","value":"973"},"to":{"field":"region","value":"xa"}},{"from":{"field":"region","value":"974"},"to":{"field":"region","value":"xb"}},{"from":{"field":"region","value":"975"},"to":{"field":"region","value":"xc"}},{"from":{"field":"region","value":"976"},"to":{"field":"region","value":"xd"}},{"from":{"field":"region","value":"977"},"to":{"field":"region","value":"xe"}},{"from":{"field":"region","value":"978"},"to":{"field":"region","value":"xf"}},{"from":{"field":"region","value":"979"},"to":{"field":"region","value":"xg"}},{"from":{"field":"region","value":"980"},"to":{"field":"region","value":"xh"}},{"from":{"field":"region","value":"981"},"to":{"field":"region","value":"xi"}},{"from":{"field":"region","value":"982"},"to":{"field":"region","value":"xj"}},{"from":{"field":"region","value":"983"},"to":{"field":"region","value":"xk"}},{"from":{"field":"region","value":"984"},"to":{"field":"region","value":"xl"}},{"from":{"field":"region","value":"985"},"to":{"field":"region","value":"xm"}},{"from":{"field":"region","value":"986"},"to":{"field":"region","value":"xn"}},{"from":{"field":"region","value":"987"},"to":{"field":"region","value":"xo"}},{"from":{"field":"region","value":"988"},"to":{"field":"region","value":"xp"}},{"from":{"field":"region","value":"989"},"to":{"field":"region","value":"xq"}},{"from":{"field":"region","value":"990"},"to":{"field":"region","value":"xr"}},{"from":{"field":"region","value":"991"},"to":{"field":"region","value":"xs"}},{"from":{"field":"region","value":"992"},"to":{"field":"region","value":"xt"}},{"from":{"field":"region","value":"993"},"to":{"field":"region","value":"xu"}},{"from":{"field":"region","value":"994"},"to":{"field":"region","value":"xv"}},{"from":{"field":"region","value":"995"},"to":{"field":"region","value":"xw"}},{"from":{"field":"region","value":"996"},"to":{"field":"region","value":"xx"}},{"from":{"field":"region","value":"997"},"to":{"field":"region","value":"xy"}},{"from":{"field":"region","value":"998"},"to":{"field":"region","value":"xz"}},{"from":{"field":"region","value":"720"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"887"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"175"},"to":{"field":"region","value":"yt"}},{"from":{"field":"region","value":"710"},"to":{"field":"region","value":"za"}},{"from":{"field":"region","value":"894"},"to":{"field":"region","value":"zm"}},{"from":{"field":"region","value":"716"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"999"},"to":{"field":"region","value":"zz"}},{"from":{"field":"variants","value":"aaland"},"to":{"field":"region","value":"ax"}},{"from":{"field":"variants","value":"polytoni"},"to":{"field":"variants","value":"polyton"}},{"from":{"field":"variants","value":"heploc"},"to":{"field":"variants","value":"alalc97"}},{"from":{"field":"variants","value":"arevela"},"to":{"field":"language","value":"hy"}},{"from":{"field":"variants","value":"arevmda"},"to":{"field":"language","value":"hyw"}}]')},9460:function(e){"use strict";e.exports=JSON.parse('{"region":{"172":["ru","am","az","by","ge","kg","kz","md","tj","tm","ua","uz"],"200":["cz","sk"],"530":["cw","sx","bq"],"532":["cw","sx","bq"],"536":["sa","iq"],"582":["fm","mh","mp","pw"],"810":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"830":["je","gg"],"890":["rs","me","si","hr","mk","ba"],"891":["rs","me"],"an":["cw","sx","bq"],"cs":["rs","me"],"fq":["aq","tf"],"nt":["sa","iq"],"pc":["fm","mh","mp","pw"],"su":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yu":["rs","me"],"062":["034","143"],"ant":["cw","sx","bq"],"scg":["rs","me"],"ntz":["sa","iq"],"sun":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yug":["rs","me"]}}')},7778:function(e){"use strict";e.exports=JSON.parse('[{"from":"in","to":"id"},{"from":"iw","to":"he"},{"from":"ji","to":"yi"},{"from":"jw","to":"jv"},{"from":"mo","to":"ro"},{"from":"scc","to":"sr"},{"from":"scr","to":"hr"},{"from":"aam","to":"aas"},{"from":"adp","to":"dz"},{"from":"aue","to":"ktz"},{"from":"ayx","to":"nun"},{"from":"bgm","to":"bcg"},{"from":"bjd","to":"drl"},{"from":"ccq","to":"rki"},{"from":"cjr","to":"mom"},{"from":"cka","to":"cmr"},{"from":"cmk","to":"xch"},{"from":"coy","to":"pij"},{"from":"cqu","to":"quh"},{"from":"drh","to":"mn"},{"from":"drw","to":"fa-af"},{"from":"gav","to":"dev"},{"from":"gfx","to":"vaj"},{"from":"ggn","to":"gvr"},{"from":"gti","to":"nyc"},{"from":"guv","to":"duz"},{"from":"hrr","to":"jal"},{"from":"ibi","to":"opa"},{"from":"ilw","to":"gal"},{"from":"jeg","to":"oyb"},{"from":"kgc","to":"tdf"},{"from":"kgh","to":"kml"},{"from":"koj","to":"kwv"},{"from":"krm","to":"bmf"},{"from":"ktr","to":"dtp"},{"from":"kvs","to":"gdj"},{"from":"kwq","to":"yam"},{"from":"kxe","to":"tvd"},{"from":"kzj","to":"dtp"},{"from":"kzt","to":"dtp"},{"from":"lii","to":"raq"},{"from":"lmm","to":"rmx"},{"from":"meg","to":"cir"},{"from":"mst","to":"mry"},{"from":"mwj","to":"vaj"},{"from":"myt","to":"mry"},{"from":"nad","to":"xny"},{"from":"ncp","to":"kdz"},{"from":"nnx","to":"ngv"},{"from":"nts","to":"pij"},{"from":"oun","to":"vaj"},{"from":"pcr","to":"adx"},{"from":"pmc","to":"huw"},{"from":"pmu","to":"phr"},{"from":"ppa","to":"bfy"},{"from":"ppr","to":"lcq"},{"from":"pry","to":"prt"},{"from":"puz","to":"pub"},{"from":"sca","to":"hle"},{"from":"skk","to":"oyb"},{"from":"tdu","to":"dtp"},{"from":"thc","to":"tpo"},{"from":"thx","to":"oyb"},{"from":"tie","to":"ras"},{"from":"tkk","to":"twm"},{"from":"tlw","to":"weo"},{"from":"tmp","to":"tyj"},{"from":"tne","to":"kak"},{"from":"tnf","to":"fa-af"},{"from":"tsf","to":"taj"},{"from":"uok","to":"ema"},{"from":"xba","to":"cax"},{"from":"xia","to":"acn"},{"from":"xkh","to":"waw"},{"from":"xsj","to":"suj"},{"from":"ybd","to":"rki"},{"from":"yma","to":"lrr"},{"from":"ymt","to":"mtm"},{"from":"yos","to":"zom"},{"from":"yuu","to":"yug"},{"from":"asd","to":"snz"},{"from":"dit","to":"dif"},{"from":"llo","to":"ngt"},{"from":"myd","to":"aog"},{"from":"nns","to":"nbr"},{"from":"sgn-br","to":"bzs"},{"from":"sgn-co","to":"csn"},{"from":"sgn-de","to":"gsg"},{"from":"sgn-dk","to":"dsl"},{"from":"sgn-fr","to":"fsl"},{"from":"sgn-gb","to":"bfi"},{"from":"sgn-gr","to":"gss"},{"from":"sgn-ie","to":"isg"},{"from":"sgn-it","to":"ise"},{"from":"sgn-jp","to":"jsl"},{"from":"sgn-mx","to":"mfs"},{"from":"sgn-ni","to":"ncs"},{"from":"sgn-nl","to":"dse"},{"from":"sgn-no","to":"nsi"},{"from":"sgn-pt","to":"psr"},{"from":"sgn-se","to":"swl"},{"from":"sgn-us","to":"ase"},{"from":"sgn-za","to":"sfs"},{"from":"no-bokmal","to":"nb"},{"from":"no-nynorsk","to":"nn"},{"from":"aa-saaho","to":"ssy"},{"from":"sh","to":"sr-latn"},{"from":"cnr","to":"sr-me"},{"from":"no","to":"nb"},{"from":"tl","to":"fil"},{"from":"az-az","to":"az-latn-az"},{"from":"bs-ba","to":"bs-latn-ba"},{"from":"ha-latn-gh","to":"ha-gh"},{"from":"ha-latn-ne","to":"ha-ne"},{"from":"ha-latn-ng","to":"ha-ng"},{"from":"kk-cyrl-kz","to":"kk-kz"},{"from":"ky-cyrl-kg","to":"ky-kg"},{"from":"ks-arab-in","to":"ks-in"},{"from":"mn-cyrl-mn","to":"mn-mn"},{"from":"ms-latn-bn","to":"ms-bn"},{"from":"ms-latn-my","to":"ms-my"},{"from":"ms-latn-sg","to":"ms-sg"},{"from":"pa-in","to":"pa-guru-in"},{"from":"pa-pk","to":"pa-arab-pk"},{"from":"shi-ma","to":"shi-tfng-ma"},{"from":"sr-ba","to":"sr-cyrl-ba"},{"from":"sr-me","to":"sr-latn-me"},{"from":"sr-rs","to":"sr-cyrl-rs"},{"from":"sr-xk","to":"sr-cyrl-xk"},{"from":"tzm-latn-ma","to":"tzm-ma"},{"from":"ug-arab-cn","to":"ug-cn"},{"from":"uz-af","to":"uz-arab-af"},{"from":"uz-uz","to":"uz-latn-uz"},{"from":"vai-lr","to":"vai-vaii-lr"},{"from":"yue-cn","to":"yue-hans-cn"},{"from":"yue-hk","to":"yue-hant-hk"},{"from":"zh-cn","to":"zh-hans-cn"},{"from":"zh-hk","to":"zh-hant-hk"},{"from":"zh-mo","to":"zh-hant-mo"},{"from":"zh-sg","to":"zh-hans-sg"},{"from":"zh-tw","to":"zh-hant-tw"},{"from":"aju","to":"jrb"},{"from":"als","to":"sq"},{"from":"arb","to":"ar"},{"from":"ayr","to":"ay"},{"from":"azj","to":"az"},{"from":"bcc","to":"bal"},{"from":"bcl","to":"bik"},{"from":"bxk","to":"luy"},{"from":"bxr","to":"bua"},{"from":"cld","to":"syr"},{"from":"cmn","to":"zh"},{"from":"cwd","to":"cr"},{"from":"dgo","to":"doi"},{"from":"dhd","to":"mwr"},{"from":"dik","to":"din"},{"from":"diq","to":"zza"},{"from":"lbk","to":"bnc"},{"from":"ekk","to":"et"},{"from":"emk","to":"man"},{"from":"esk","to":"ik"},{"from":"fat","to":"ak"},{"from":"fuc","to":"ff"},{"from":"gaz","to":"om"},{"from":"gbo","to":"grb"},{"from":"gno","to":"gon"},{"from":"gug","to":"gn"},{"from":"gya","to":"gba"},{"from":"hdn","to":"hai"},{"from":"hea","to":"hmn"},{"from":"ike","to":"iu"},{"from":"kmr","to":"ku"},{"from":"knc","to":"kr"},{"from":"kng","to":"kg"},{"from":"knn","to":"kok"},{"from":"kpv","to":"kv"},{"from":"lvs","to":"lv"},{"from":"mhr","to":"chm"},{"from":"mup","to":"raj"},{"from":"khk","to":"mn"},{"from":"npi","to":"ne"},{"from":"ojg","to":"oj"},{"from":"ory","to":"or"},{"from":"pbu","to":"ps"},{"from":"pes","to":"fa"},{"from":"plt","to":"mg"},{"from":"pnb","to":"lah"},{"from":"quz","to":"qu"},{"from":"rmy","to":"rom"},{"from":"spy","to":"kln"},{"from":"src","to":"sc"},{"from":"swh","to":"sw"},{"from":"ttq","to":"tmh"},{"from":"tw","to":"ak"},{"from":"umu","to":"del"},{"from":"uzn","to":"uz"},{"from":"xpe","to":"kpe"},{"from":"xsl","to":"den"},{"from":"ydd","to":"yi"},{"from":"zai","to":"zap"},{"from":"zsm","to":"ms"},{"from":"zyb","to":"za"},{"from":"him","to":"srx"},{"from":"mnk","to":"man"},{"from":"bh","to":"bho"},{"from":"prs","to":"fa-af"},{"from":"swc","to":"sw-cd"},{"from":"aar","to":"aa"},{"from":"abk","to":"ab"},{"from":"ave","to":"ae"},{"from":"afr","to":"af"},{"from":"aka","to":"ak"},{"from":"amh","to":"am"},{"from":"arg","to":"an"},{"from":"ara","to":"ar"},{"from":"asm","to":"as"},{"from":"ava","to":"av"},{"from":"aym","to":"ay"},{"from":"aze","to":"az"},{"from":"bak","to":"ba"},{"from":"bel","to":"be"},{"from":"bul","to":"bg"},{"from":"bih","to":"bho"},{"from":"bis","to":"bi"},{"from":"bam","to":"bm"},{"from":"ben","to":"bn"},{"from":"bod","to":"bo"},{"from":"bre","to":"br"},{"from":"bos","to":"bs"},{"from":"cat","to":"ca"},{"from":"che","to":"ce"},{"from":"cha","to":"ch"},{"from":"cos","to":"co"},{"from":"cre","to":"cr"},{"from":"ces","to":"cs"},{"from":"chu","to":"cu"},{"from":"chv","to":"cv"},{"from":"cym","to":"cy"},{"from":"dan","to":"da"},{"from":"deu","to":"de"},{"from":"div","to":"dv"},{"from":"dzo","to":"dz"},{"from":"ewe","to":"ee"},{"from":"ell","to":"el"},{"from":"eng","to":"en"},{"from":"epo","to":"eo"},{"from":"spa","to":"es"},{"from":"est","to":"et"},{"from":"eus","to":"eu"},{"from":"fas","to":"fa"},{"from":"ful","to":"ff"},{"from":"fin","to":"fi"},{"from":"fij","to":"fj"},{"from":"fao","to":"fo"},{"from":"fra","to":"fr"},{"from":"fry","to":"fy"},{"from":"gle","to":"ga"},{"from":"gla","to":"gd"},{"from":"glg","to":"gl"},{"from":"grn","to":"gn"},{"from":"guj","to":"gu"},{"from":"glv","to":"gv"},{"from":"hau","to":"ha"},{"from":"heb","to":"he"},{"from":"hin","to":"hi"},{"from":"hmo","to":"ho"},{"from":"hrv","to":"hr"},{"from":"hat","to":"ht"},{"from":"hun","to":"hu"},{"from":"hye","to":"hy"},{"from":"her","to":"hz"},{"from":"ina","to":"ia"},{"from":"ind","to":"id"},{"from":"ile","to":"ie"},{"from":"ibo","to":"ig"},{"from":"iii","to":"ii"},{"from":"ipk","to":"ik"},{"from":"ido","to":"io"},{"from":"isl","to":"is"},{"from":"ita","to":"it"},{"from":"iku","to":"iu"},{"from":"jpn","to":"ja"},{"from":"jav","to":"jv"},{"from":"kat","to":"ka"},{"from":"kon","to":"kg"},{"from":"kik","to":"ki"},{"from":"kua","to":"kj"},{"from":"kaz","to":"kk"},{"from":"kal","to":"kl"},{"from":"khm","to":"km"},{"from":"kan","to":"kn"},{"from":"kor","to":"ko"},{"from":"kau","to":"kr"},{"from":"kas","to":"ks"},{"from":"kur","to":"ku"},{"from":"kom","to":"kv"},{"from":"cor","to":"kw"},{"from":"kir","to":"ky"},{"from":"lat","to":"la"},{"from":"ltz","to":"lb"},{"from":"lug","to":"lg"},{"from":"lim","to":"li"},{"from":"lin","to":"ln"},{"from":"lao","to":"lo"},{"from":"lit","to":"lt"},{"from":"lub","to":"lu"},{"from":"lav","to":"lv"},{"from":"mlg","to":"mg"},{"from":"mah","to":"mh"},{"from":"mri","to":"mi"},{"from":"mkd","to":"mk"},{"from":"mal","to":"ml"},{"from":"mon","to":"mn"},{"from":"mol","to":"ro"},{"from":"mar","to":"mr"},{"from":"msa","to":"ms"},{"from":"mlt","to":"mt"},{"from":"mya","to":"my"},{"from":"nau","to":"na"},{"from":"nob","to":"nb"},{"from":"nde","to":"nd"},{"from":"nep","to":"ne"},{"from":"ndo","to":"ng"},{"from":"nld","to":"nl"},{"from":"nno","to":"nn"},{"from":"nor","to":"nb"},{"from":"nbl","to":"nr"},{"from":"nav","to":"nv"},{"from":"nya","to":"ny"},{"from":"oci","to":"oc"},{"from":"oji","to":"oj"},{"from":"orm","to":"om"},{"from":"ori","to":"or"},{"from":"oss","to":"os"},{"from":"pan","to":"pa"},{"from":"pli","to":"pi"},{"from":"pol","to":"pl"},{"from":"pus","to":"ps"},{"from":"por","to":"pt"},{"from":"que","to":"qu"},{"from":"roh","to":"rm"},{"from":"run","to":"rn"},{"from":"ron","to":"ro"},{"from":"rus","to":"ru"},{"from":"kin","to":"rw"},{"from":"san","to":"sa"},{"from":"srd","to":"sc"},{"from":"snd","to":"sd"},{"from":"sme","to":"se"},{"from":"sag","to":"sg"},{"from":"hbs","to":"sr-latn"},{"from":"sin","to":"si"},{"from":"slk","to":"sk"},{"from":"slv","to":"sl"},{"from":"smo","to":"sm"},{"from":"sna","to":"sn"},{"from":"som","to":"so"},{"from":"sqi","to":"sq"},{"from":"srp","to":"sr"},{"from":"ssw","to":"ss"},{"from":"sot","to":"st"},{"from":"sun","to":"su"},{"from":"swe","to":"sv"},{"from":"swa","to":"sw"},{"from":"tam","to":"ta"},{"from":"tel","to":"te"},{"from":"tgk","to":"tg"},{"from":"tha","to":"th"},{"from":"tir","to":"ti"},{"from":"tuk","to":"tk"},{"from":"tgl","to":"fil"},{"from":"tsn","to":"tn"},{"from":"ton","to":"to"},{"from":"tur","to":"tr"},{"from":"tso","to":"ts"},{"from":"tat","to":"tt"},{"from":"twi","to":"ak"},{"from":"tah","to":"ty"},{"from":"uig","to":"ug"},{"from":"ukr","to":"uk"},{"from":"urd","to":"ur"},{"from":"uzb","to":"uz"},{"from":"ven","to":"ve"},{"from":"vie","to":"vi"},{"from":"vol","to":"vo"},{"from":"wln","to":"wa"},{"from":"wol","to":"wo"},{"from":"xho","to":"xh"},{"from":"yid","to":"yi"},{"from":"yor","to":"yo"},{"from":"zha","to":"za"},{"from":"zho","to":"zh"},{"from":"zul","to":"zu"},{"from":"alb","to":"sq"},{"from":"arm","to":"hy"},{"from":"baq","to":"eu"},{"from":"bur","to":"my"},{"from":"chi","to":"zh"},{"from":"cze","to":"cs"},{"from":"dut","to":"nl"},{"from":"fre","to":"fr"},{"from":"geo","to":"ka"},{"from":"ger","to":"de"},{"from":"gre","to":"el"},{"from":"ice","to":"is"},{"from":"mac","to":"mk"},{"from":"mao","to":"mi"},{"from":"may","to":"ms"},{"from":"per","to":"fa"},{"from":"rum","to":"ro"},{"from":"slo","to":"sk"},{"from":"tib","to":"bo"},{"from":"wel","to":"cy"}]')},8589:function(e){"use strict";e.exports=JSON.parse('{"en-gb-oed":"en-GB-oxendict","i-ami":"ami","i-bnn":"bnn","i-default":null,"i-enochian":null,"i-hak":"hak","i-klingon":"tlh","i-lux":"lb","i-mingo":null,"i-navajo":"nv","i-pwn":"pwn","i-tao":"tao","i-tay":"tay","i-tsu":"tsu","sgn-be-fr":"sfb","sgn-be-nl":"vgt","sgn-ch-de":"sgg","art-lojban":"jbo","cel-gaulish":null,"no-bok":"nb","no-nyn":"nn","zh-guoyu":"cmn","zh-hakka":"hak","zh-min":null,"zh-min-nan":"nan","zh-xiang":"hsn"}')},858:function(e){"use strict";e.exports=JSON.parse('["art-lojban","cel-gaulish","no-bok","no-nyn","zh-guoyu","zh-hakka","zh-min","zh-min-nan","zh-xiang"]')}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}r.amdO={},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};var n={};return function(){"use strict";r.d(n,{default:function(){return c}}),r(8416);var e,t=r(1715),i=r(8080),o=r(1737),a=r(7688),s=function(){var e,t="application/dash+xml";function r(r,n,i){if(!r||!/^VIDEO$/i.test(r.nodeName))return null;if(r._dashjs_player)return r._dashjs_player;var o,s=r.id||r.name||"video element";if(!(n=n||[].slice.call(r.querySelectorAll("source")).filter((function(e){return e.type==t}))[0])&&r.src)(n=document.createElement("source")).src=r.src;else if(!n&&!r.src)return null;return i=i||{},(o=(0,a.Z)(i).create()).initialize(r,n.src,r.autoplay),e||(e=o.getDebug().getLogger()),e.debug("Converted "+s+" to dash.js player and added content: "+n.src),r._dashjs_player=o,o}function n(e){return/^VIDEO$/i.test(e.nodeName)?e:n(e.parentNode)}return{create:r,createAll:function(e,i){var o=[];e=e||"[data-dashjs-player]";for(var a=(i=i||document).querySelectorAll(e),s=0;s<a.length;s++){var l=r(a[s],null);o.push(l)}for(var u=i.querySelectorAll('source[type="'+t+'"]'),c=0;c<u.length;c++){var d=r(n(u[c]),null);o.push(d)}return o}}}();!("undefined"!=typeof window&&window&&window.dashjs&&window.dashjs.skipAutoCreate)&&"undefined"!=typeof window&&window&&window.addEventListener&&("complete"===window.document.readyState?window.dashjs?s.createAll():e=window.setInterval((function(){window.dashjs&&(window.clearInterval(e),s.createAll())}),500):window.addEventListener("load",(function e(){window.removeEventListener("load",e),s.createAll()})));var l=s,u=r(6398);dashjs.Protection=o.default,dashjs.MetricsReporting=i.default,dashjs.MediaPlayerFactory=l,dashjs.Debug=u.Z,dashjs.supportsMediaSource=t.B;var c=dashjs}(),n.default}()},776:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.Doctype=t.CDATA=t.Tag=t.Style=t.Script=t.Comment=t.Directive=t.Text=t.Root=t.isTag=t.ElementType=void 0,function(e){e.Root="root",e.Text="text",e.Directive="directive",e.Comment="comment",e.Script="script",e.Style="style",e.Tag="tag",e.CDATA="cdata",e.Doctype="doctype"}(r=t.ElementType||(t.ElementType={})),t.isTag=function(e){return e.type===r.Tag||e.type===r.Script||e.type===r.Style},t.Root=r.Root,t.Text=r.Text,t.Directive=r.Directive,t.Comment=r.Comment,t.Script=r.Script,t.Style=r.Style,t.Tag=r.Tag,t.CDATA=r.CDATA,t.Doctype=r.Doctype},79:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.DomHandler=void 0;var o=r(776),a=r(410);i(r(410),t);var s={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},l=function(){function e(e,t,r){this.dom=[],this.root=new a.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,"function"===typeof t&&(r=t,t=s),"object"===typeof e&&(t=e,e=void 0),this.callback=null!==e&&void 0!==e?e:null,this.options=null!==t&&void 0!==t?t:s,this.elementCB=null!==r&&void 0!==r?r:null}return e.prototype.onparserinit=function(e){this.parser=e},e.prototype.onreset=function(){this.dom=[],this.root=new a.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},e.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},e.prototype.onerror=function(e){this.handleCallback(e)},e.prototype.onclosetag=function(){this.lastNode=null;var e=this.tagStack.pop();this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(e)},e.prototype.onopentag=function(e,t){var r=this.options.xmlMode?o.ElementType.Tag:void 0,n=new a.Element(e,t,void 0,r);this.addNode(n),this.tagStack.push(n)},e.prototype.ontext=function(e){var t=this.lastNode;if(t&&t.type===o.ElementType.Text)t.data+=e,this.options.withEndIndices&&(t.endIndex=this.parser.endIndex);else{var r=new a.Text(e);this.addNode(r),this.lastNode=r}},e.prototype.oncomment=function(e){if(this.lastNode&&this.lastNode.type===o.ElementType.Comment)this.lastNode.data+=e;else{var t=new a.Comment(e);this.addNode(t),this.lastNode=t}},e.prototype.oncommentend=function(){this.lastNode=null},e.prototype.oncdatastart=function(){var e=new a.Text(""),t=new a.CDATA([e]);this.addNode(t),e.parent=t,this.lastNode=e},e.prototype.oncdataend=function(){this.lastNode=null},e.prototype.onprocessinginstruction=function(e,t){var r=new a.ProcessingInstruction(e,t);this.addNode(r)},e.prototype.handleCallback=function(e){if("function"===typeof this.callback)this.callback(e,this.dom);else if(e)throw e},e.prototype.addNode=function(e){var t=this.tagStack[this.tagStack.length-1],r=t.children[t.children.length-1];this.options.withStartIndices&&(e.startIndex=this.parser.startIndex),this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),t.children.push(e),r&&(e.prev=r,r.next=e),e.parent=t,this.lastNode=null},e}();t.DomHandler=l,t.default=l},410:function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.cloneNode=t.hasChildren=t.isDocument=t.isDirective=t.isComment=t.isText=t.isCDATA=t.isTag=t.Element=t.Document=t.CDATA=t.NodeWithChildren=t.ProcessingInstruction=t.Comment=t.Text=t.DataNode=t.Node=void 0;var o=r(776),a=function(){function e(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(e){this.parent=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(e){this.prev=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(e){this.next=e},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(e){return void 0===e&&(e=!1),w(this,e)},e}();t.Node=a;var s=function(e){function t(t){var r=e.call(this)||this;return r.data=t,r}return n(t,e),Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(e){this.data=e},enumerable:!1,configurable:!0}),t}(a);t.DataNode=s;var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=o.ElementType.Text,t}return n(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),t}(s);t.Text=l;var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=o.ElementType.Comment,t}return n(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),t}(s);t.Comment=u;var c=function(e){function t(t,r){var n=e.call(this,r)||this;return n.name=t,n.type=o.ElementType.Directive,n}return n(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),t}(s);t.ProcessingInstruction=c;var d=function(e){function t(t){var r=e.call(this)||this;return r.children=t,r}return n(t,e),Object.defineProperty(t.prototype,"firstChild",{get:function(){var e;return null!==(e=this.children[0])&&void 0!==e?e:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(e){this.children=e},enumerable:!1,configurable:!0}),t}(a);t.NodeWithChildren=d;var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=o.ElementType.CDATA,t}return n(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),t}(d);t.CDATA=f;var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=o.ElementType.Root,t}return n(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),t}(d);t.Document=h;var p=function(e){function t(t,r,n,i){void 0===n&&(n=[]),void 0===i&&(i="script"===t?o.ElementType.Script:"style"===t?o.ElementType.Style:o.ElementType.Tag);var a=e.call(this,n)||this;return a.name=t,a.attribs=r,a.type=i,a}return n(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(e){this.name=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var e=this;return Object.keys(this.attribs).map((function(t){var r,n;return{name:t,value:e.attribs[t],namespace:null===(r=e["x-attribsNamespace"])||void 0===r?void 0:r[t],prefix:null===(n=e["x-attribsPrefix"])||void 0===n?void 0:n[t]}}))},enumerable:!1,configurable:!0}),t}(d);function m(e){return(0,o.isTag)(e)}function g(e){return e.type===o.ElementType.CDATA}function y(e){return e.type===o.ElementType.Text}function v(e){return e.type===o.ElementType.Comment}function b(e){return e.type===o.ElementType.Directive}function _(e){return e.type===o.ElementType.Root}function w(e,t){var r;if(void 0===t&&(t=!1),y(e))r=new l(e.data);else if(v(e))r=new u(e.data);else if(m(e)){var n=t?E(e.children):[],o=new p(e.name,i({},e.attribs),n);n.forEach((function(e){return e.parent=o})),null!=e.namespace&&(o.namespace=e.namespace),e["x-attribsNamespace"]&&(o["x-attribsNamespace"]=i({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(o["x-attribsPrefix"]=i({},e["x-attribsPrefix"])),r=o}else if(g(e)){n=t?E(e.children):[];var a=new f(n);n.forEach((function(e){return e.parent=a})),r=a}else if(_(e)){n=t?E(e.children):[];var s=new h(n);n.forEach((function(e){return e.parent=s})),e["x-mode"]&&(s["x-mode"]=e["x-mode"]),r=s}else{if(!b(e))throw new Error("Not implemented yet: ".concat(e.type));var d=new c(e.name,e.data);null!=e["x-name"]&&(d["x-name"]=e["x-name"],d["x-publicId"]=e["x-publicId"],d["x-systemId"]=e["x-systemId"]),r=d}return r.startIndex=e.startIndex,r.endIndex=e.endIndex,null!=e.sourceCodeLocation&&(r.sourceCodeLocation=e.sourceCodeLocation),r}function E(e){for(var t=e.map((function(e){return w(e,!0)})),r=1;r<t.length;r++)t[r].prev=t[r-1],t[r-1].next=t[r];return t}t.Element=p,t.isTag=m,t.isCDATA=g,t.isText=y,t.isComment=v,t.isDirective=b,t.isDocument=_,t.hasChildren=function(e){return Object.prototype.hasOwnProperty.call(e,"children")},t.cloneNode=w},335:function(e,t){"use strict";function r(e){var t=e/1;if(t<1/2.75)return 7.5625*t*t;if(t<2/2.75){var r=t-1.5/2.75;return 7.5625*r*r+.75}if(t<2.5/2.75){var n=t-2.25/2.75;return 7.5625*n*n+.9375}var i=t-2.625/2.75;return 7.5625*i*i+.984375}function n(e){return 1-r(1-e)}Object.defineProperty(t,"__esModule",{value:!0}),t.linear=function(e){return e},t.easeInSine=function(e){return-1*Math.cos(e*(Math.PI/2))+1},t.easeOutSine=function(e){return Math.sin(e*(Math.PI/2))},t.easeInOutSine=function(e){return-.5*(Math.cos(Math.PI*e)-1)},t.easeInQuad=function(e){return e*e},t.easeOutQuad=function(e){return e*(2-e)},t.easeInOutQuad=function(e){return e<.5?2*e*e:(4-2*e)*e-1},t.easeInCubic=function(e){return e*e*e},t.easeOutCubic=function(e){var t=e-1;return t*t*t+1},t.easeInOutCubic=function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},t.easeInQuart=function(e){return e*e*e*e},t.easeOutQuart=function(e){var t=e-1;return 1-t*t*t*t},t.easeInOutQuart=function(e){var t=e-1;return e<.5?8*e*e*e*e:1-8*t*t*t*t},t.easeInQuint=function(e){return e*e*e*e*e},t.easeOutQuint=function(e){var t=e-1;return 1+t*t*t*t*t},t.easeInOutQuint=function(e){var t=e-1;return e<.5?16*e*e*e*e*e:1+16*t*t*t*t*t},t.easeInExpo=function(e){if(0===e)return 0;return Math.pow(2,10*(e-1))},t.easeOutExpo=function(e){if(1===e)return 1;return 1-Math.pow(2,-10*e)},t.easeInOutExpo=function(e){if(0===e||1===e)return e;var t=2*e,r=t-1;if(t<1)return.5*Math.pow(2,10*r);return.5*(2-Math.pow(2,-10*r))},t.easeInCirc=function(e){var t=e/1;return-1*(Math.sqrt(1-t*e)-1)},t.easeOutCirc=function(e){var t=e-1;return Math.sqrt(1-t*t)},t.easeInOutCirc=function(e){var t=2*e,r=t-2;if(t<1)return-.5*(Math.sqrt(1-t*t)-1);return.5*(Math.sqrt(1-r*r)+1)},t.easeInBack=function(e){var t=arguments.length<=1||void 0===arguments[1]?1.70158:arguments[1],r=e/1;return r*r*((t+1)*r-t)},t.easeOutBack=function(e){var t=arguments.length<=1||void 0===arguments[1]?1.70158:arguments[1],r=e/1-1;return r*r*((t+1)*r+t)+1},t.easeInOutBack=function(e){var t=arguments.length<=1||void 0===arguments[1]?1.70158:arguments[1],r=2*e,n=r-2,i=1.525*t;if(r<1)return.5*r*r*((i+1)*r-i);return.5*(n*n*((i+1)*n+i)+2)},t.easeInElastic=function(e){var t=arguments.length<=1||void 0===arguments[1]?.7:arguments[1];if(0===e||1===e)return e;var r=e/1-1,n=1-t,i=n/(2*Math.PI)*Math.asin(1);return-Math.pow(2,10*r)*Math.sin((r-i)*(2*Math.PI)/n)},t.easeOutElastic=function(e){var t=arguments.length<=1||void 0===arguments[1]?.7:arguments[1],r=1-t,n=2*e;if(0===e||1===e)return e;var i=r/(2*Math.PI)*Math.asin(1);return Math.pow(2,-10*n)*Math.sin((n-i)*(2*Math.PI)/r)+1},t.easeInOutElastic=function(e){var t=arguments.length<=1||void 0===arguments[1]?.65:arguments[1],r=1-t;if(0===e||1===e)return e;var n=2*e,i=n-1,o=r/(2*Math.PI)*Math.asin(1);if(n<1)return Math.pow(2,10*i)*Math.sin((i-o)*(2*Math.PI)/r)*-.5;return Math.pow(2,-10*i)*Math.sin((i-o)*(2*Math.PI)/r)*.5+1},t.easeOutBounce=r,t.easeInBounce=n,t.easeInOutBounce=function(e){if(e<.5)return.5*n(2*e);return.5*r(2*e-1)+.5}},127:function(e,t){t.CASE_SENSITIVE_TAG_NAMES=["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"]},409:function(e){var t="html",r="head",n="body",i=/<([a-zA-Z]+[0-9]?)/,o=/<head[^]*>/i,a=/<body[^]*>/i,s=function(){throw new Error("This browser does not support `document.implementation.createHTMLDocument`")},l=function(){throw new Error("This browser does not support `DOMParser.prototype.parseFromString`")},u="object"===typeof window&&window.DOMParser;if("function"===typeof u){var c=new u;s=l=function(e,t){return t&&(e="<"+t+">"+e+"</"+t+">"),c.parseFromString(e,"text/html")}}if("object"===typeof document&&document.implementation){var d=document.implementation.createHTMLDocument();s=function(e,t){return t?(d.documentElement.querySelector(t).innerHTML=e,d):(d.documentElement.innerHTML=e,d)}}var f,h="object"===typeof document?document.createElement("template"):{};h.content&&(f=function(e){return h.innerHTML=e,h.content.childNodes}),e.exports=function(e){var u,c,d,h,p=e.match(i);switch(p&&p[1]&&(u=p[1].toLowerCase()),u){case t:return c=l(e),o.test(e)||(d=c.querySelector(r))&&d.parentNode.removeChild(d),a.test(e)||(d=c.querySelector(n))&&d.parentNode.removeChild(d),c.querySelectorAll(t);case r:case n:return h=(c=s(e)).querySelectorAll(u),a.test(e)&&o.test(e)?h[0].parentNode.childNodes:h;default:return f?f(e):(d=s(e,n).querySelector(n)).childNodes}}},159:function(e,t,r){var n=r(409),i=r(716).formatDOM,o=/<(![a-zA-Z\s]+)>/;e.exports=function(e){if("string"!==typeof e)throw new TypeError("First argument must be a string");if(""===e)return[];var t,r=e.match(o);return r&&r[1]&&(t=r[1]),i(n(e),null,t)}},716:function(e,t,r){for(var n,i=r(79),o=r(127).CASE_SENSITIVE_TAG_NAMES,a=i.Comment,s=i.Element,l=i.ProcessingInstruction,u=i.Text,c={},d=0,f=o.length;d<f;d++)n=o[d],c[n.toLowerCase()]=n;function h(e){for(var t,r={},n=0,i=e.length;n<i;n++)r[(t=e[n]).name]=t.value;return r}function p(e){var t=function(e){return c[e]}(e=e.toLowerCase());return t||e}t.formatAttributes=h,t.formatDOM=function e(t,r,n){r=r||null;for(var i,o=[],c=0,d=t.length;c<d;c++){var f,m=t[c];switch(m.nodeType){case 1:i=p(m.nodeName),(f=new s(i,h(m.attributes))).children=e("template"===i?m.content.childNodes:m.childNodes,f);break;case 3:f=new u(m.nodeValue);break;case 8:f=new a(m.nodeValue);break;default:continue}var g=o[c-1]||null;g&&(g.next=f),f.parent=r,f.prev=g,f.next=null,o.push(f)}return n&&((f=new l(n.substring(0,n.indexOf(" ")).toLowerCase(),n)).next=o[0]||null,f.parent=r,o.unshift(f),o[1]&&(o[1].prev=o[0])),o}},854:function(e,t,r){var n=r(79),i=r(159),o=r(131),a=r(595);i="function"===typeof i.default?i.default:i;var s={lowerCaseAttributeNames:!1};function l(e,t){if("string"!==typeof e)throw new TypeError("First argument must be a string");return""===e?[]:a(i(e,(t=t||{}).htmlparser2||s),t)}l.domToReact=a,l.htmlToDOM=i,l.attributesToProps=o,l.Comment=n.Comment,l.Element=n.Element,l.ProcessingInstruction=n.ProcessingInstruction,l.Text=n.Text,e.exports=l,l.default=l},131:function(e,t,r){var n=r(195),i=r(141),o=["checked","value"],a=["input","select","textarea"],s={reset:!0,submit:!0};function l(e){return n.possibleStandardNames[e]}e.exports=function(e,t){var r,u,c,d,f,h={},p=(e=e||{}).type&&s[e.type];for(r in e)if(c=e[r],n.isCustomAttribute(r))h[r]=c;else if(d=l(u=r.toLowerCase()))switch(f=n.getPropertyInfo(d),-1===o.indexOf(d)||-1===a.indexOf(t)||p||(d=l("default"+u)),h[d]=c,f&&f.type){case n.BOOLEAN:h[d]=!0;break;case n.OVERLOADED_BOOLEAN:""===c&&(h[d]=!0)}else i.PRESERVE_CUSTOM_ATTRIBUTES&&(h[r]=c);return i.setStyleProp(e.style,h),h}},595:function(e,t,r){var n=r(791),i=r(131),o=r(141),a=o.setStyleProp,s=o.canTextBeChildOfNode;function l(e){return o.PRESERVE_CUSTOM_ATTRIBUTES&&"tag"===e.type&&o.isCustomComponent(e.name,e.attribs)}e.exports=function e(t,r){for(var u,c,d,f,h,p=(r=r||{}).library||n,m=p.cloneElement,g=p.createElement,y=p.isValidElement,v=[],b="function"===typeof r.replace,_=r.transform||o.returnFirstArg,w=r.trim,E=0,x=t.length;E<x;E++)if(u=t[E],b&&y(d=r.replace(u)))x>1&&(d=m(d,{key:d.key||E})),v.push(_(d,u,E));else if("text"!==u.type){switch(f=u.attribs,l(u)?a(f.style,f):f&&(f=i(f,u.name)),h=null,u.type){case"script":case"style":u.children[0]&&(f.dangerouslySetInnerHTML={__html:u.children[0].data});break;case"tag":"textarea"===u.name&&u.children[0]?f.defaultValue=u.children[0].data:u.children&&u.children.length&&(h=e(u.children,r));break;default:continue}x>1&&(f.key=E),v.push(_(g(u.name,f,h),u,E))}else{if((c=!u.data.trim().length)&&u.parent&&!s(u.parent))continue;if(w&&c)continue;v.push(_(u.data,u,E))}return 1===v.length?v[0]:v}},141:function(e,t,r){var n=r(791),i=r(792).default;var o=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]);var a={reactCompat:!0};var s=n.version.split(".")[0]>=16,l=new Set(["tr","tbody","thead","tfoot","colgroup","table","head","html","frameset"]);e.exports={PRESERVE_CUSTOM_ATTRIBUTES:s,ELEMENTS_WITH_NO_TEXT_CHILDREN:l,invertObject:function(e,t){if(!e||"object"!==typeof e)throw new TypeError("First argument must be an object");var r="function"===typeof t,n={},i={};for(var o in e){var a=e[o];r&&(n=t(o,a))&&2===n.length?i[n[0]]=n[1]:"string"===typeof a&&(i[a]=o)}return i},isCustomComponent:function(e,t){return-1===e.indexOf("-")?t&&"string"===typeof t.is:!o.has(e)},setStyleProp:function(e,t){if(null!==e&&void 0!==e)try{t.style=i(e,a)}catch(r){t.style={}}},canTextBeChildOfNode:function(e){return!l.has(e.name)},returnFirstArg:function(e){return e}}},65:function(e){var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,r=/\n/g,n=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,s=/^[;\s]*/,l=/^\s+|\s+$/g,u="";function c(e){return e?e.replace(l,u):u}e.exports=function(e,l){if("string"!==typeof e)throw new TypeError("First argument must be a string");if(!e)return[];l=l||{};var d=1,f=1;function h(e){var t=e.match(r);t&&(d+=t.length);var n=e.lastIndexOf("\n");f=~n?e.length-n:f+e.length}function p(){var e={line:d,column:f};return function(t){return t.position=new m(e),b(),t}}function m(e){this.start=e,this.end={line:d,column:f},this.source=l.source}m.prototype.content=e;var g=[];function y(t){var r=new Error(l.source+":"+d+":"+f+": "+t);if(r.reason=t,r.filename=l.source,r.line=d,r.column=f,r.source=e,!l.silent)throw r;g.push(r)}function v(t){var r=t.exec(e);if(r){var n=r[0];return h(n),e=e.slice(n.length),r}}function b(){v(n)}function _(e){var t;for(e=e||[];t=w();)!1!==t&&e.push(t);return e}function w(){var t=p();if("/"==e.charAt(0)&&"*"==e.charAt(1)){for(var r=2;u!=e.charAt(r)&&("*"!=e.charAt(r)||"/"!=e.charAt(r+1));)++r;if(r+=2,u===e.charAt(r-1))return y("End of comment missing");var n=e.slice(2,r-2);return f+=2,h(n),e=e.slice(r),f+=2,t({type:"comment",comment:n})}}function E(){var e=p(),r=v(i);if(r){if(w(),!v(o))return y("property missing ':'");var n=v(a),l=e({type:"declaration",property:c(r[0].replace(t,u)),value:n?c(n[0].replace(t,u)):u});return v(s),l}}return b(),function(){var e,t=[];for(_(t);e=E();)!1!==e&&(t.push(e),_(t));return t}()}},763:function(t,r,n){var i;t=n.nmd(t),function(){var o,a="Expected a function",s="__lodash_hash_undefined__",l="__lodash_placeholder__",u=16,c=32,d=64,f=128,h=256,p=1/0,m=9007199254740991,g=NaN,y=4294967295,v=[["ary",f],["bind",1],["bindKey",2],["curry",8],["curryRight",u],["flip",512],["partial",c],["partialRight",d],["rearg",h]],b="[object Arguments]",_="[object Array]",w="[object Boolean]",E="[object Date]",x="[object Error]",S="[object Function]",T="[object GeneratorFunction]",A="[object Map]",M="[object Number]",R="[object Object]",C="[object Promise]",I="[object RegExp]",k="[object Set]",P="[object String]",O="[object Symbol]",j="[object WeakMap]",N="[object ArrayBuffer]",L="[object DataView]",D="[object Float32Array]",F="[object Float64Array]",U="[object Int8Array]",B="[object Int16Array]",G="[object Int32Array]",z="[object Uint8Array]",V="[object Uint8ClampedArray]",H="[object Uint16Array]",W="[object Uint32Array]",Z=/\b__p \+= '';/g,q=/\b(__p \+=) '' \+/g,Y=/(__e\(.*?\)|\b__t\)) \+\n'';/g,X=/&(?:amp|lt|gt|quot|#39);/g,K=/[&<>"']/g,Q=RegExp(X.source),$=RegExp(K.source),J=/<%-([\s\S]+?)%>/g,ee=/<%([\s\S]+?)%>/g,te=/<%=([\s\S]+?)%>/g,re=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,ie=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,oe=/[\\^$.*+?()[\]{}|]/g,ae=RegExp(oe.source),se=/^\s+/,le=/\s/,ue=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ce=/\{\n\/\* \[wrapped with (.+)\] \*/,de=/,? & /,fe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,he=/[()=,{}\[\]\/\s]/,pe=/\\(\\)?/g,me=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ge=/\w*$/,ye=/^[-+]0x[0-9a-f]+$/i,ve=/^0b[01]+$/i,be=/^\[object .+?Constructor\]$/,_e=/^0o[0-7]+$/i,we=/^(?:0|[1-9]\d*)$/,Ee=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,xe=/($^)/,Se=/['\n\r\u2028\u2029\\]/g,Te="\\ud800-\\udfff",Ae="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Me="\\u2700-\\u27bf",Re="a-z\\xdf-\\xf6\\xf8-\\xff",Ce="A-Z\\xc0-\\xd6\\xd8-\\xde",Ie="\\ufe0e\\ufe0f",ke="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Pe="['\u2019]",Oe="["+Te+"]",je="["+ke+"]",Ne="["+Ae+"]",Le="\\d+",De="["+Me+"]",Fe="["+Re+"]",Ue="[^"+Te+ke+Le+Me+Re+Ce+"]",Be="\\ud83c[\\udffb-\\udfff]",Ge="[^"+Te+"]",ze="(?:\\ud83c[\\udde6-\\uddff]){2}",Ve="[\\ud800-\\udbff][\\udc00-\\udfff]",He="["+Ce+"]",We="\\u200d",Ze="(?:"+Fe+"|"+Ue+")",qe="(?:"+He+"|"+Ue+")",Ye="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Xe="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Ke="(?:"+Ne+"|"+Be+")"+"?",Qe="["+Ie+"]?",$e=Qe+Ke+("(?:"+We+"(?:"+[Ge,ze,Ve].join("|")+")"+Qe+Ke+")*"),Je="(?:"+[De,ze,Ve].join("|")+")"+$e,et="(?:"+[Ge+Ne+"?",Ne,ze,Ve,Oe].join("|")+")",tt=RegExp(Pe,"g"),rt=RegExp(Ne,"g"),nt=RegExp(Be+"(?="+Be+")|"+et+$e,"g"),it=RegExp([He+"?"+Fe+"+"+Ye+"(?="+[je,He,"$"].join("|")+")",qe+"+"+Xe+"(?="+[je,He+Ze,"$"].join("|")+")",He+"?"+Ze+"+"+Ye,He+"+"+Xe,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Le,Je].join("|"),"g"),ot=RegExp("["+We+Te+Ae+Ie+"]"),at=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,st=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],lt=-1,ut={};ut[D]=ut[F]=ut[U]=ut[B]=ut[G]=ut[z]=ut[V]=ut[H]=ut[W]=!0,ut[b]=ut[_]=ut[N]=ut[w]=ut[L]=ut[E]=ut[x]=ut[S]=ut[A]=ut[M]=ut[R]=ut[I]=ut[k]=ut[P]=ut[j]=!1;var ct={};ct[b]=ct[_]=ct[N]=ct[L]=ct[w]=ct[E]=ct[D]=ct[F]=ct[U]=ct[B]=ct[G]=ct[A]=ct[M]=ct[R]=ct[I]=ct[k]=ct[P]=ct[O]=ct[z]=ct[V]=ct[H]=ct[W]=!0,ct[x]=ct[S]=ct[j]=!1;var dt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ft=parseFloat,ht=parseInt,pt="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,mt="object"==typeof self&&self&&self.Object===Object&&self,gt=pt||mt||Function("return this")(),yt=r&&!r.nodeType&&r,vt=yt&&t&&!t.nodeType&&t,bt=vt&&vt.exports===yt,_t=bt&&pt.process,wt=function(){try{var t=vt&&vt.require&&vt.require("util").types;return t||_t&&_t.binding&&_t.binding("util")}catch(e){}}(),Et=wt&&wt.isArrayBuffer,xt=wt&&wt.isDate,St=wt&&wt.isMap,Tt=wt&&wt.isRegExp,At=wt&&wt.isSet,Mt=wt&&wt.isTypedArray;function Rt(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function Ct(e,t,r,n){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(n,a,r(a),e)}return n}function It(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function kt(e,t){for(var r=null==e?0:e.length;r--&&!1!==t(e[r],r,e););return e}function Pt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function Ot(e,t){for(var r=-1,n=null==e?0:e.length,i=0,o=[];++r<n;){var a=e[r];t(a,r,e)&&(o[i++]=a)}return o}function jt(e,t){return!!(null==e?0:e.length)&&Ht(e,t,0)>-1}function Nt(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}function Lt(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}function Dt(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function Ft(e,t,r,n){var i=-1,o=null==e?0:e.length;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r}function Ut(e,t,r,n){var i=null==e?0:e.length;for(n&&i&&(r=e[--i]);i--;)r=t(r,e[i],i,e);return r}function Bt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Gt=Yt("length");function zt(e,t,r){var n;return r(e,(function(e,r,i){if(t(e,r,i))return n=r,!1})),n}function Vt(e,t,r,n){for(var i=e.length,o=r+(n?1:-1);n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function Ht(e,t,r){return t===t?function(e,t,r){var n=r-1,i=e.length;for(;++n<i;)if(e[n]===t)return n;return-1}(e,t,r):Vt(e,Zt,r)}function Wt(e,t,r,n){for(var i=r-1,o=e.length;++i<o;)if(n(e[i],t))return i;return-1}function Zt(e){return e!==e}function qt(e,t){var r=null==e?0:e.length;return r?Qt(e,t)/r:g}function Yt(e){return function(t){return null==t?o:t[e]}}function Xt(e){return function(t){return null==e?o:e[t]}}function Kt(e,t,r,n,i){return i(e,(function(e,i,o){r=n?(n=!1,e):t(r,e,i,o)})),r}function Qt(e,t){for(var r,n=-1,i=e.length;++n<i;){var a=t(e[n]);a!==o&&(r=r===o?a:r+a)}return r}function $t(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function Jt(e){return e?e.slice(0,gr(e)+1).replace(se,""):e}function er(e){return function(t){return e(t)}}function tr(e,t){return Lt(t,(function(t){return e[t]}))}function rr(e,t){return e.has(t)}function nr(e,t){for(var r=-1,n=e.length;++r<n&&Ht(t,e[r],0)>-1;);return r}function ir(e,t){for(var r=e.length;r--&&Ht(t,e[r],0)>-1;);return r}var or=Xt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),ar=Xt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function sr(e){return"\\"+dt[e]}function lr(e){return ot.test(e)}function ur(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function cr(e,t){return function(r){return e(t(r))}}function dr(e,t){for(var r=-1,n=e.length,i=0,o=[];++r<n;){var a=e[r];a!==t&&a!==l||(e[r]=l,o[i++]=r)}return o}function fr(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}function hr(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=[e,e]})),r}function pr(e){return lr(e)?function(e){var t=nt.lastIndex=0;for(;nt.test(e);)++t;return t}(e):Gt(e)}function mr(e){return lr(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.split("")}(e)}function gr(e){for(var t=e.length;t--&&le.test(e.charAt(t)););return t}var yr=Xt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var vr=function t(r){var n=(r=null==r?gt:vr.defaults(gt.Object(),r,vr.pick(gt,st))).Array,i=r.Date,le=r.Error,Te=r.Function,Ae=r.Math,Me=r.Object,Re=r.RegExp,Ce=r.String,Ie=r.TypeError,ke=n.prototype,Pe=Te.prototype,Oe=Me.prototype,je=r["__core-js_shared__"],Ne=Pe.toString,Le=Oe.hasOwnProperty,De=0,Fe=function(){var e=/[^.]+$/.exec(je&&je.keys&&je.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Ue=Oe.toString,Be=Ne.call(Me),Ge=gt._,ze=Re("^"+Ne.call(Le).replace(oe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ve=bt?r.Buffer:o,He=r.Symbol,We=r.Uint8Array,Ze=Ve?Ve.allocUnsafe:o,qe=cr(Me.getPrototypeOf,Me),Ye=Me.create,Xe=Oe.propertyIsEnumerable,Ke=ke.splice,Qe=He?He.isConcatSpreadable:o,$e=He?He.iterator:o,Je=He?He.toStringTag:o,et=function(){try{var t=ho(Me,"defineProperty");return t({},"",{}),t}catch(e){}}(),nt=r.clearTimeout!==gt.clearTimeout&&r.clearTimeout,ot=i&&i.now!==gt.Date.now&&i.now,dt=r.setTimeout!==gt.setTimeout&&r.setTimeout,pt=Ae.ceil,mt=Ae.floor,yt=Me.getOwnPropertySymbols,vt=Ve?Ve.isBuffer:o,_t=r.isFinite,wt=ke.join,Gt=cr(Me.keys,Me),Xt=Ae.max,br=Ae.min,_r=i.now,wr=r.parseInt,Er=Ae.random,xr=ke.reverse,Sr=ho(r,"DataView"),Tr=ho(r,"Map"),Ar=ho(r,"Promise"),Mr=ho(r,"Set"),Rr=ho(r,"WeakMap"),Cr=ho(Me,"create"),Ir=Rr&&new Rr,kr={},Pr=Uo(Sr),Or=Uo(Tr),jr=Uo(Ar),Nr=Uo(Mr),Lr=Uo(Rr),Dr=He?He.prototype:o,Fr=Dr?Dr.valueOf:o,Ur=Dr?Dr.toString:o;function Br(e){if(rs(e)&&!Wa(e)&&!(e instanceof Hr)){if(e instanceof Vr)return e;if(Le.call(e,"__wrapped__"))return Bo(e)}return new Vr(e)}var Gr=function(){function e(){}return function(t){if(!ts(t))return{};if(Ye)return Ye(t);e.prototype=t;var r=new e;return e.prototype=o,r}}();function zr(){}function Vr(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}function Hr(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=y,this.__views__=[]}function Wr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Zr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function qr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Yr(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new qr;++t<r;)this.add(e[t])}function Xr(e){var t=this.__data__=new Zr(e);this.size=t.size}function Kr(e,t){var r=Wa(e),n=!r&&Ha(e),i=!r&&!n&&Xa(e),o=!r&&!n&&!i&&cs(e),a=r||n||i||o,s=a?$t(e.length,Ce):[],l=s.length;for(var u in e)!t&&!Le.call(e,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||_o(u,l))||s.push(u);return s}function Qr(e){var t=e.length;return t?e[Xn(0,t-1)]:o}function $r(e,t){return Lo(Ii(e),ln(t,0,e.length))}function Jr(e){return Lo(Ii(e))}function en(e,t,r){(r!==o&&!Ga(e[t],r)||r===o&&!(t in e))&&an(e,t,r)}function tn(e,t,r){var n=e[t];Le.call(e,t)&&Ga(n,r)&&(r!==o||t in e)||an(e,t,r)}function rn(e,t){for(var r=e.length;r--;)if(Ga(e[r][0],t))return r;return-1}function nn(e,t,r,n){return hn(e,(function(e,i,o){t(n,e,r(e),o)})),n}function on(e,t){return e&&ki(t,Ps(t),e)}function an(e,t,r){"__proto__"==t&&et?et(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function sn(e,t){for(var r=-1,i=t.length,a=n(i),s=null==e;++r<i;)a[r]=s?o:Ms(e,t[r]);return a}function ln(e,t,r){return e===e&&(r!==o&&(e=e<=r?e:r),t!==o&&(e=e>=t?e:t)),e}function un(e,t,r,n,i,a){var s,l=1&t,u=2&t,c=4&t;if(r&&(s=i?r(e,n,i,a):r(e)),s!==o)return s;if(!ts(e))return e;var d=Wa(e);if(d){if(s=function(e){var t=e.length,r=new e.constructor(t);t&&"string"==typeof e[0]&&Le.call(e,"index")&&(r.index=e.index,r.input=e.input);return r}(e),!l)return Ii(e,s)}else{var f=go(e),h=f==S||f==T;if(Xa(e))return Si(e,l);if(f==R||f==b||h&&!i){if(s=u||h?{}:vo(e),!l)return u?function(e,t){return ki(e,mo(e),t)}(e,function(e,t){return e&&ki(t,Os(t),e)}(s,e)):function(e,t){return ki(e,po(e),t)}(e,on(s,e))}else{if(!ct[f])return i?e:{};s=function(e,t,r){var n=e.constructor;switch(t){case N:return Ti(e);case w:case E:return new n(+e);case L:return function(e,t){var r=t?Ti(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case D:case F:case U:case B:case G:case z:case V:case H:case W:return Ai(e,r);case A:return new n;case M:case P:return new n(e);case I:return function(e){var t=new e.constructor(e.source,ge.exec(e));return t.lastIndex=e.lastIndex,t}(e);case k:return new n;case O:return i=e,Fr?Me(Fr.call(i)):{}}var i}(e,f,l)}}a||(a=new Xr);var p=a.get(e);if(p)return p;a.set(e,s),ss(e)?e.forEach((function(n){s.add(un(n,t,r,n,e,a))})):ns(e)&&e.forEach((function(n,i){s.set(i,un(n,t,r,i,e,a))}));var m=d?o:(c?u?oo:io:u?Os:Ps)(e);return It(m||e,(function(n,i){m&&(n=e[i=n]),tn(s,i,un(n,t,r,i,e,a))})),s}function cn(e,t,r){var n=r.length;if(null==e)return!n;for(e=Me(e);n--;){var i=r[n],a=t[i],s=e[i];if(s===o&&!(i in e)||!a(s))return!1}return!0}function dn(e,t,r){if("function"!=typeof e)throw new Ie(a);return Po((function(){e.apply(o,r)}),t)}function fn(e,t,r,n){var i=-1,o=jt,a=!0,s=e.length,l=[],u=t.length;if(!s)return l;r&&(t=Lt(t,er(r))),n?(o=Nt,a=!1):t.length>=200&&(o=rr,a=!1,t=new Yr(t));e:for(;++i<s;){var c=e[i],d=null==r?c:r(c);if(c=n||0!==c?c:0,a&&d===d){for(var f=u;f--;)if(t[f]===d)continue e;l.push(c)}else o(t,d,n)||l.push(c)}return l}Br.templateSettings={escape:J,evaluate:ee,interpolate:te,variable:"",imports:{_:Br}},Br.prototype=zr.prototype,Br.prototype.constructor=Br,Vr.prototype=Gr(zr.prototype),Vr.prototype.constructor=Vr,Hr.prototype=Gr(zr.prototype),Hr.prototype.constructor=Hr,Wr.prototype.clear=function(){this.__data__=Cr?Cr(null):{},this.size=0},Wr.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Wr.prototype.get=function(e){var t=this.__data__;if(Cr){var r=t[e];return r===s?o:r}return Le.call(t,e)?t[e]:o},Wr.prototype.has=function(e){var t=this.__data__;return Cr?t[e]!==o:Le.call(t,e)},Wr.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Cr&&t===o?s:t,this},Zr.prototype.clear=function(){this.__data__=[],this.size=0},Zr.prototype.delete=function(e){var t=this.__data__,r=rn(t,e);return!(r<0)&&(r==t.length-1?t.pop():Ke.call(t,r,1),--this.size,!0)},Zr.prototype.get=function(e){var t=this.__data__,r=rn(t,e);return r<0?o:t[r][1]},Zr.prototype.has=function(e){return rn(this.__data__,e)>-1},Zr.prototype.set=function(e,t){var r=this.__data__,n=rn(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},qr.prototype.clear=function(){this.size=0,this.__data__={hash:new Wr,map:new(Tr||Zr),string:new Wr}},qr.prototype.delete=function(e){var t=co(this,e).delete(e);return this.size-=t?1:0,t},qr.prototype.get=function(e){return co(this,e).get(e)},qr.prototype.has=function(e){return co(this,e).has(e)},qr.prototype.set=function(e,t){var r=co(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},Yr.prototype.add=Yr.prototype.push=function(e){return this.__data__.set(e,s),this},Yr.prototype.has=function(e){return this.__data__.has(e)},Xr.prototype.clear=function(){this.__data__=new Zr,this.size=0},Xr.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Xr.prototype.get=function(e){return this.__data__.get(e)},Xr.prototype.has=function(e){return this.__data__.has(e)},Xr.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Zr){var n=r.__data__;if(!Tr||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new qr(n)}return r.set(e,t),this.size=r.size,this};var hn=ji(wn),pn=ji(En,!0);function mn(e,t){var r=!0;return hn(e,(function(e,n,i){return r=!!t(e,n,i)})),r}function gn(e,t,r){for(var n=-1,i=e.length;++n<i;){var a=e[n],s=t(a);if(null!=s&&(l===o?s===s&&!us(s):r(s,l)))var l=s,u=a}return u}function yn(e,t){var r=[];return hn(e,(function(e,n,i){t(e,n,i)&&r.push(e)})),r}function vn(e,t,r,n,i){var o=-1,a=e.length;for(r||(r=bo),i||(i=[]);++o<a;){var s=e[o];t>0&&r(s)?t>1?vn(s,t-1,r,n,i):Dt(i,s):n||(i[i.length]=s)}return i}var bn=Ni(),_n=Ni(!0);function wn(e,t){return e&&bn(e,t,Ps)}function En(e,t){return e&&_n(e,t,Ps)}function xn(e,t){return Ot(t,(function(t){return $a(e[t])}))}function Sn(e,t){for(var r=0,n=(t=_i(t,e)).length;null!=e&&r<n;)e=e[Fo(t[r++])];return r&&r==n?e:o}function Tn(e,t,r){var n=t(e);return Wa(e)?n:Dt(n,r(e))}function An(t){return null==t?t===o?"[object Undefined]":"[object Null]":Je&&Je in Me(t)?function(t){var r=Le.call(t,Je),n=t[Je];try{t[Je]=o;var i=!0}catch(e){}var a=Ue.call(t);i&&(r?t[Je]=n:delete t[Je]);return a}(t):function(e){return Ue.call(e)}(t)}function Mn(e,t){return e>t}function Rn(e,t){return null!=e&&Le.call(e,t)}function Cn(e,t){return null!=e&&t in Me(e)}function In(e,t,r){for(var i=r?Nt:jt,a=e[0].length,s=e.length,l=s,u=n(s),c=1/0,d=[];l--;){var f=e[l];l&&t&&(f=Lt(f,er(t))),c=br(f.length,c),u[l]=!r&&(t||a>=120&&f.length>=120)?new Yr(l&&f):o}f=e[0];var h=-1,p=u[0];e:for(;++h<a&&d.length<c;){var m=f[h],g=t?t(m):m;if(m=r||0!==m?m:0,!(p?rr(p,g):i(d,g,r))){for(l=s;--l;){var y=u[l];if(!(y?rr(y,g):i(e[l],g,r)))continue e}p&&p.push(g),d.push(m)}}return d}function kn(e,t,r){var n=null==(e=Co(e,t=_i(t,e)))?e:e[Fo(Qo(t))];return null==n?o:Rt(n,e,r)}function Pn(e){return rs(e)&&An(e)==b}function On(e,t,r,n,i){return e===t||(null==e||null==t||!rs(e)&&!rs(t)?e!==e&&t!==t:function(e,t,r,n,i,a){var s=Wa(e),l=Wa(t),u=s?_:go(e),c=l?_:go(t),d=(u=u==b?R:u)==R,f=(c=c==b?R:c)==R,h=u==c;if(h&&Xa(e)){if(!Xa(t))return!1;s=!0,d=!1}if(h&&!d)return a||(a=new Xr),s||cs(e)?ro(e,t,r,n,i,a):function(e,t,r,n,i,o,a){switch(r){case L:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case N:return!(e.byteLength!=t.byteLength||!o(new We(e),new We(t)));case w:case E:case M:return Ga(+e,+t);case x:return e.name==t.name&&e.message==t.message;case I:case P:return e==t+"";case A:var s=ur;case k:var l=1&n;if(s||(s=fr),e.size!=t.size&&!l)return!1;var u=a.get(e);if(u)return u==t;n|=2,a.set(e,t);var c=ro(s(e),s(t),n,i,o,a);return a.delete(e),c;case O:if(Fr)return Fr.call(e)==Fr.call(t)}return!1}(e,t,u,r,n,i,a);if(!(1&r)){var p=d&&Le.call(e,"__wrapped__"),m=f&&Le.call(t,"__wrapped__");if(p||m){var g=p?e.value():e,y=m?t.value():t;return a||(a=new Xr),i(g,y,r,n,a)}}if(!h)return!1;return a||(a=new Xr),function(e,t,r,n,i,a){var s=1&r,l=io(e),u=l.length,c=io(t),d=c.length;if(u!=d&&!s)return!1;var f=u;for(;f--;){var h=l[f];if(!(s?h in t:Le.call(t,h)))return!1}var p=a.get(e),m=a.get(t);if(p&&m)return p==t&&m==e;var g=!0;a.set(e,t),a.set(t,e);var y=s;for(;++f<u;){var v=e[h=l[f]],b=t[h];if(n)var _=s?n(b,v,h,t,e,a):n(v,b,h,e,t,a);if(!(_===o?v===b||i(v,b,r,n,a):_)){g=!1;break}y||(y="constructor"==h)}if(g&&!y){var w=e.constructor,E=t.constructor;w==E||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof E&&E instanceof E||(g=!1)}return a.delete(e),a.delete(t),g}(e,t,r,n,i,a)}(e,t,r,n,On,i))}function jn(e,t,r,n){var i=r.length,a=i,s=!n;if(null==e)return!a;for(e=Me(e);i--;){var l=r[i];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<a;){var u=(l=r[i])[0],c=e[u],d=l[1];if(s&&l[2]){if(c===o&&!(u in e))return!1}else{var f=new Xr;if(n)var h=n(c,d,u,e,t,f);if(!(h===o?On(d,c,3,n,f):h))return!1}}return!0}function Nn(e){return!(!ts(e)||(t=e,Fe&&Fe in t))&&($a(e)?ze:be).test(Uo(e));var t}function Ln(e){return"function"==typeof e?e:null==e?il:"object"==typeof e?Wa(e)?zn(e[0],e[1]):Gn(e):hl(e)}function Dn(e){if(!To(e))return Gt(e);var t=[];for(var r in Me(e))Le.call(e,r)&&"constructor"!=r&&t.push(r);return t}function Fn(e){if(!ts(e))return function(e){var t=[];if(null!=e)for(var r in Me(e))t.push(r);return t}(e);var t=To(e),r=[];for(var n in e)("constructor"!=n||!t&&Le.call(e,n))&&r.push(n);return r}function Un(e,t){return e<t}function Bn(e,t){var r=-1,i=qa(e)?n(e.length):[];return hn(e,(function(e,n,o){i[++r]=t(e,n,o)})),i}function Gn(e){var t=fo(e);return 1==t.length&&t[0][2]?Mo(t[0][0],t[0][1]):function(r){return r===e||jn(r,e,t)}}function zn(e,t){return Eo(e)&&Ao(t)?Mo(Fo(e),t):function(r){var n=Ms(r,e);return n===o&&n===t?Rs(r,e):On(t,n,3)}}function Vn(e,t,r,n,i){e!==t&&bn(t,(function(a,s){if(i||(i=new Xr),ts(a))!function(e,t,r,n,i,a,s){var l=Io(e,r),u=Io(t,r),c=s.get(u);if(c)return void en(e,r,c);var d=a?a(l,u,r+"",e,t,s):o,f=d===o;if(f){var h=Wa(u),p=!h&&Xa(u),m=!h&&!p&&cs(u);d=u,h||p||m?Wa(l)?d=l:Ya(l)?d=Ii(l):p?(f=!1,d=Si(u,!0)):m?(f=!1,d=Ai(u,!0)):d=[]:os(u)||Ha(u)?(d=l,Ha(l)?d=vs(l):ts(l)&&!$a(l)||(d=vo(u))):f=!1}f&&(s.set(u,d),i(d,u,n,a,s),s.delete(u));en(e,r,d)}(e,t,s,r,Vn,n,i);else{var l=n?n(Io(e,s),a,s+"",e,t,i):o;l===o&&(l=a),en(e,s,l)}}),Os)}function Hn(e,t){var r=e.length;if(r)return _o(t+=t<0?r:0,r)?e[t]:o}function Wn(e,t,r){t=t.length?Lt(t,(function(e){return Wa(e)?function(t){return Sn(t,1===e.length?e[0]:e)}:e})):[il];var n=-1;t=Lt(t,er(uo()));var i=Bn(e,(function(e,r,i){var o=Lt(t,(function(t){return t(e)}));return{criteria:o,index:++n,value:e}}));return function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}(i,(function(e,t){return function(e,t,r){var n=-1,i=e.criteria,o=t.criteria,a=i.length,s=r.length;for(;++n<a;){var l=Mi(i[n],o[n]);if(l)return n>=s?l:l*("desc"==r[n]?-1:1)}return e.index-t.index}(e,t,r)}))}function Zn(e,t,r){for(var n=-1,i=t.length,o={};++n<i;){var a=t[n],s=Sn(e,a);r(s,a)&&ei(o,_i(a,e),s)}return o}function qn(e,t,r,n){var i=n?Wt:Ht,o=-1,a=t.length,s=e;for(e===t&&(t=Ii(t)),r&&(s=Lt(e,er(r)));++o<a;)for(var l=0,u=t[o],c=r?r(u):u;(l=i(s,c,l,n))>-1;)s!==e&&Ke.call(s,l,1),Ke.call(e,l,1);return e}function Yn(e,t){for(var r=e?t.length:0,n=r-1;r--;){var i=t[r];if(r==n||i!==o){var o=i;_o(i)?Ke.call(e,i,1):fi(e,i)}}return e}function Xn(e,t){return e+mt(Er()*(t-e+1))}function Kn(e,t){var r="";if(!e||t<1||t>m)return r;do{t%2&&(r+=e),(t=mt(t/2))&&(e+=e)}while(t);return r}function Qn(e,t){return Oo(Ro(e,t,il),e+"")}function $n(e){return Qr(Gs(e))}function Jn(e,t){var r=Gs(e);return Lo(r,ln(t,0,r.length))}function ei(e,t,r,n){if(!ts(e))return e;for(var i=-1,a=(t=_i(t,e)).length,s=a-1,l=e;null!=l&&++i<a;){var u=Fo(t[i]),c=r;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(i!=s){var d=l[u];(c=n?n(d,u,l):o)===o&&(c=ts(d)?d:_o(t[i+1])?[]:{})}tn(l,u,c),l=l[u]}return e}var ti=Ir?function(e,t){return Ir.set(e,t),e}:il,ri=et?function(e,t){return et(e,"toString",{configurable:!0,enumerable:!1,value:tl(t),writable:!0})}:il;function ni(e){return Lo(Gs(e))}function ii(e,t,r){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var a=n(o);++i<o;)a[i]=e[i+t];return a}function oi(e,t){var r;return hn(e,(function(e,n,i){return!(r=t(e,n,i))})),!!r}function ai(e,t,r){var n=0,i=null==e?n:e.length;if("number"==typeof t&&t===t&&i<=2147483647){for(;n<i;){var o=n+i>>>1,a=e[o];null!==a&&!us(a)&&(r?a<=t:a<t)?n=o+1:i=o}return i}return si(e,t,il,r)}function si(e,t,r,n){var i=0,a=null==e?0:e.length;if(0===a)return 0;for(var s=(t=r(t))!==t,l=null===t,u=us(t),c=t===o;i<a;){var d=mt((i+a)/2),f=r(e[d]),h=f!==o,p=null===f,m=f===f,g=us(f);if(s)var y=n||m;else y=c?m&&(n||h):l?m&&h&&(n||!p):u?m&&h&&!p&&(n||!g):!p&&!g&&(n?f<=t:f<t);y?i=d+1:a=d}return br(a,4294967294)}function li(e,t){for(var r=-1,n=e.length,i=0,o=[];++r<n;){var a=e[r],s=t?t(a):a;if(!r||!Ga(s,l)){var l=s;o[i++]=0===a?0:a}}return o}function ui(e){return"number"==typeof e?e:us(e)?g:+e}function ci(e){if("string"==typeof e)return e;if(Wa(e))return Lt(e,ci)+"";if(us(e))return Ur?Ur.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function di(e,t,r){var n=-1,i=jt,o=e.length,a=!0,s=[],l=s;if(r)a=!1,i=Nt;else if(o>=200){var u=t?null:Ki(e);if(u)return fr(u);a=!1,i=rr,l=new Yr}else l=t?[]:s;e:for(;++n<o;){var c=e[n],d=t?t(c):c;if(c=r||0!==c?c:0,a&&d===d){for(var f=l.length;f--;)if(l[f]===d)continue e;t&&l.push(d),s.push(c)}else i(l,d,r)||(l!==s&&l.push(d),s.push(c))}return s}function fi(e,t){return null==(e=Co(e,t=_i(t,e)))||delete e[Fo(Qo(t))]}function hi(e,t,r,n){return ei(e,t,r(Sn(e,t)),n)}function pi(e,t,r,n){for(var i=e.length,o=n?i:-1;(n?o--:++o<i)&&t(e[o],o,e););return r?ii(e,n?0:o,n?o+1:i):ii(e,n?o+1:0,n?i:o)}function mi(e,t){var r=e;return r instanceof Hr&&(r=r.value()),Ft(t,(function(e,t){return t.func.apply(t.thisArg,Dt([e],t.args))}),r)}function gi(e,t,r){var i=e.length;if(i<2)return i?di(e[0]):[];for(var o=-1,a=n(i);++o<i;)for(var s=e[o],l=-1;++l<i;)l!=o&&(a[o]=fn(a[o]||s,e[l],t,r));return di(vn(a,1),t,r)}function yi(e,t,r){for(var n=-1,i=e.length,a=t.length,s={};++n<i;){var l=n<a?t[n]:o;r(s,e[n],l)}return s}function vi(e){return Ya(e)?e:[]}function bi(e){return"function"==typeof e?e:il}function _i(e,t){return Wa(e)?e:Eo(e,t)?[e]:Do(bs(e))}var wi=Qn;function Ei(e,t,r){var n=e.length;return r=r===o?n:r,!t&&r>=n?e:ii(e,t,r)}var xi=nt||function(e){return gt.clearTimeout(e)};function Si(e,t){if(t)return e.slice();var r=e.length,n=Ze?Ze(r):new e.constructor(r);return e.copy(n),n}function Ti(e){var t=new e.constructor(e.byteLength);return new We(t).set(new We(e)),t}function Ai(e,t){var r=t?Ti(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function Mi(e,t){if(e!==t){var r=e!==o,n=null===e,i=e===e,a=us(e),s=t!==o,l=null===t,u=t===t,c=us(t);if(!l&&!c&&!a&&e>t||a&&s&&u&&!l&&!c||n&&s&&u||!r&&u||!i)return 1;if(!n&&!a&&!c&&e<t||c&&r&&i&&!n&&!a||l&&r&&i||!s&&i||!u)return-1}return 0}function Ri(e,t,r,i){for(var o=-1,a=e.length,s=r.length,l=-1,u=t.length,c=Xt(a-s,0),d=n(u+c),f=!i;++l<u;)d[l]=t[l];for(;++o<s;)(f||o<a)&&(d[r[o]]=e[o]);for(;c--;)d[l++]=e[o++];return d}function Ci(e,t,r,i){for(var o=-1,a=e.length,s=-1,l=r.length,u=-1,c=t.length,d=Xt(a-l,0),f=n(d+c),h=!i;++o<d;)f[o]=e[o];for(var p=o;++u<c;)f[p+u]=t[u];for(;++s<l;)(h||o<a)&&(f[p+r[s]]=e[o++]);return f}function Ii(e,t){var r=-1,i=e.length;for(t||(t=n(i));++r<i;)t[r]=e[r];return t}function ki(e,t,r,n){var i=!r;r||(r={});for(var a=-1,s=t.length;++a<s;){var l=t[a],u=n?n(r[l],e[l],l,r,e):o;u===o&&(u=e[l]),i?an(r,l,u):tn(r,l,u)}return r}function Pi(e,t){return function(r,n){var i=Wa(r)?Ct:nn,o=t?t():{};return i(r,e,uo(n,2),o)}}function Oi(e){return Qn((function(t,r){var n=-1,i=r.length,a=i>1?r[i-1]:o,s=i>2?r[2]:o;for(a=e.length>3&&"function"==typeof a?(i--,a):o,s&&wo(r[0],r[1],s)&&(a=i<3?o:a,i=1),t=Me(t);++n<i;){var l=r[n];l&&e(t,l,n,a)}return t}))}function ji(e,t){return function(r,n){if(null==r)return r;if(!qa(r))return e(r,n);for(var i=r.length,o=t?i:-1,a=Me(r);(t?o--:++o<i)&&!1!==n(a[o],o,a););return r}}function Ni(e){return function(t,r,n){for(var i=-1,o=Me(t),a=n(t),s=a.length;s--;){var l=a[e?s:++i];if(!1===r(o[l],l,o))break}return t}}function Li(e){return function(t){var r=lr(t=bs(t))?mr(t):o,n=r?r[0]:t.charAt(0),i=r?Ei(r,1).join(""):t.slice(1);return n[e]()+i}}function Di(e){return function(t){return Ft($s(Hs(t).replace(tt,"")),e,"")}}function Fi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=Gr(e.prototype),n=e.apply(r,t);return ts(n)?n:r}}function Ui(e){return function(t,r,n){var i=Me(t);if(!qa(t)){var a=uo(r,3);t=Ps(t),r=function(e){return a(i[e],e,i)}}var s=e(t,r,n);return s>-1?i[a?t[s]:s]:o}}function Bi(e){return no((function(t){var r=t.length,n=r,i=Vr.prototype.thru;for(e&&t.reverse();n--;){var s=t[n];if("function"!=typeof s)throw new Ie(a);if(i&&!l&&"wrapper"==so(s))var l=new Vr([],!0)}for(n=l?n:r;++n<r;){var u=so(s=t[n]),c="wrapper"==u?ao(s):o;l=c&&xo(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?l[so(c[0])].apply(l,c[3]):1==s.length&&xo(s)?l[u]():l.thru(s)}return function(){var e=arguments,n=e[0];if(l&&1==e.length&&Wa(n))return l.plant(n).value();for(var i=0,o=r?t[i].apply(this,e):n;++i<r;)o=t[i].call(this,o);return o}}))}function Gi(e,t,r,i,a,s,l,u,c,d){var h=t&f,p=1&t,m=2&t,g=24&t,y=512&t,v=m?o:Fi(e);return function f(){for(var b=arguments.length,_=n(b),w=b;w--;)_[w]=arguments[w];if(g)var E=lo(f),x=function(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}(_,E);if(i&&(_=Ri(_,i,a,g)),s&&(_=Ci(_,s,l,g)),b-=x,g&&b<d){var S=dr(_,E);return Yi(e,t,Gi,f.placeholder,r,_,S,u,c,d-b)}var T=p?r:this,A=m?T[e]:e;return b=_.length,u?_=function(e,t){var r=e.length,n=br(t.length,r),i=Ii(e);for(;n--;){var a=t[n];e[n]=_o(a,r)?i[a]:o}return e}(_,u):y&&b>1&&_.reverse(),h&&c<b&&(_.length=c),this&&this!==gt&&this instanceof f&&(A=v||Fi(A)),A.apply(T,_)}}function zi(e,t){return function(r,n){return function(e,t,r,n){return wn(e,(function(e,i,o){t(n,r(e),i,o)})),n}(r,e,t(n),{})}}function Vi(e,t){return function(r,n){var i;if(r===o&&n===o)return t;if(r!==o&&(i=r),n!==o){if(i===o)return n;"string"==typeof r||"string"==typeof n?(r=ci(r),n=ci(n)):(r=ui(r),n=ui(n)),i=e(r,n)}return i}}function Hi(e){return no((function(t){return t=Lt(t,er(uo())),Qn((function(r){var n=this;return e(t,(function(e){return Rt(e,n,r)}))}))}))}function Wi(e,t){var r=(t=t===o?" ":ci(t)).length;if(r<2)return r?Kn(t,e):t;var n=Kn(t,pt(e/pr(t)));return lr(t)?Ei(mr(n),0,e).join(""):n.slice(0,e)}function Zi(e){return function(t,r,i){return i&&"number"!=typeof i&&wo(t,r,i)&&(r=i=o),t=ps(t),r===o?(r=t,t=0):r=ps(r),function(e,t,r,i){for(var o=-1,a=Xt(pt((t-e)/(r||1)),0),s=n(a);a--;)s[i?a:++o]=e,e+=r;return s}(t,r,i=i===o?t<r?1:-1:ps(i),e)}}function qi(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=ys(t),r=ys(r)),e(t,r)}}function Yi(e,t,r,n,i,a,s,l,u,f){var h=8&t;t|=h?c:d,4&(t&=~(h?d:c))||(t&=-4);var p=[e,t,i,h?a:o,h?s:o,h?o:a,h?o:s,l,u,f],m=r.apply(o,p);return xo(e)&&ko(m,p),m.placeholder=n,jo(m,e,t)}function Xi(e){var t=Ae[e];return function(e,r){if(e=ys(e),(r=null==r?0:br(ms(r),292))&&_t(e)){var n=(bs(e)+"e").split("e");return+((n=(bs(t(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return t(e)}}var Ki=Mr&&1/fr(new Mr([,-0]))[1]==p?function(e){return new Mr(e)}:ul;function Qi(e){return function(t){var r=go(t);return r==A?ur(t):r==k?hr(t):function(e,t){return Lt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function $i(e,t,r,i,s,p,m,g){var y=2&t;if(!y&&"function"!=typeof e)throw new Ie(a);var v=i?i.length:0;if(v||(t&=-97,i=s=o),m=m===o?m:Xt(ms(m),0),g=g===o?g:ms(g),v-=s?s.length:0,t&d){var b=i,_=s;i=s=o}var w=y?o:ao(e),E=[e,t,r,i,s,b,_,p,m,g];if(w&&function(e,t){var r=e[1],n=t[1],i=r|n,o=i<131,a=n==f&&8==r||n==f&&r==h&&e[7].length<=t[8]||384==n&&t[7].length<=t[8]&&8==r;if(!o&&!a)return e;1&n&&(e[2]=t[2],i|=1&r?0:4);var s=t[3];if(s){var u=e[3];e[3]=u?Ri(u,s,t[4]):s,e[4]=u?dr(e[3],l):t[4]}(s=t[5])&&(u=e[5],e[5]=u?Ci(u,s,t[6]):s,e[6]=u?dr(e[5],l):t[6]);(s=t[7])&&(e[7]=s);n&f&&(e[8]=null==e[8]?t[8]:br(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(E,w),e=E[0],t=E[1],r=E[2],i=E[3],s=E[4],!(g=E[9]=E[9]===o?y?0:e.length:Xt(E[9]-v,0))&&24&t&&(t&=-25),t&&1!=t)x=8==t||t==u?function(e,t,r){var i=Fi(e);return function a(){for(var s=arguments.length,l=n(s),u=s,c=lo(a);u--;)l[u]=arguments[u];var d=s<3&&l[0]!==c&&l[s-1]!==c?[]:dr(l,c);return(s-=d.length)<r?Yi(e,t,Gi,a.placeholder,o,l,d,o,o,r-s):Rt(this&&this!==gt&&this instanceof a?i:e,this,l)}}(e,t,g):t!=c&&33!=t||s.length?Gi.apply(o,E):function(e,t,r,i){var o=1&t,a=Fi(e);return function t(){for(var s=-1,l=arguments.length,u=-1,c=i.length,d=n(c+l),f=this&&this!==gt&&this instanceof t?a:e;++u<c;)d[u]=i[u];for(;l--;)d[u++]=arguments[++s];return Rt(f,o?r:this,d)}}(e,t,r,i);else var x=function(e,t,r){var n=1&t,i=Fi(e);return function t(){return(this&&this!==gt&&this instanceof t?i:e).apply(n?r:this,arguments)}}(e,t,r);return jo((w?ti:ko)(x,E),e,t)}function Ji(e,t,r,n){return e===o||Ga(e,Oe[r])&&!Le.call(n,r)?t:e}function eo(e,t,r,n,i,a){return ts(e)&&ts(t)&&(a.set(t,e),Vn(e,t,o,eo,a),a.delete(t)),e}function to(e){return os(e)?o:e}function ro(e,t,r,n,i,a){var s=1&r,l=e.length,u=t.length;if(l!=u&&!(s&&u>l))return!1;var c=a.get(e),d=a.get(t);if(c&&d)return c==t&&d==e;var f=-1,h=!0,p=2&r?new Yr:o;for(a.set(e,t),a.set(t,e);++f<l;){var m=e[f],g=t[f];if(n)var y=s?n(g,m,f,t,e,a):n(m,g,f,e,t,a);if(y!==o){if(y)continue;h=!1;break}if(p){if(!Bt(t,(function(e,t){if(!rr(p,t)&&(m===e||i(m,e,r,n,a)))return p.push(t)}))){h=!1;break}}else if(m!==g&&!i(m,g,r,n,a)){h=!1;break}}return a.delete(e),a.delete(t),h}function no(e){return Oo(Ro(e,o,Zo),e+"")}function io(e){return Tn(e,Ps,po)}function oo(e){return Tn(e,Os,mo)}var ao=Ir?function(e){return Ir.get(e)}:ul;function so(e){for(var t=e.name+"",r=kr[t],n=Le.call(kr,t)?r.length:0;n--;){var i=r[n],o=i.func;if(null==o||o==e)return i.name}return t}function lo(e){return(Le.call(Br,"placeholder")?Br:e).placeholder}function uo(){var e=Br.iteratee||ol;return e=e===ol?Ln:e,arguments.length?e(arguments[0],arguments[1]):e}function co(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function fo(e){for(var t=Ps(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,Ao(i)]}return t}function ho(e,t){var r=function(e,t){return null==e?o:e[t]}(e,t);return Nn(r)?r:o}var po=yt?function(e){return null==e?[]:(e=Me(e),Ot(yt(e),(function(t){return Xe.call(e,t)})))}:gl,mo=yt?function(e){for(var t=[];e;)Dt(t,po(e)),e=qe(e);return t}:gl,go=An;function yo(e,t,r){for(var n=-1,i=(t=_i(t,e)).length,o=!1;++n<i;){var a=Fo(t[n]);if(!(o=null!=e&&r(e,a)))break;e=e[a]}return o||++n!=i?o:!!(i=null==e?0:e.length)&&es(i)&&_o(a,i)&&(Wa(e)||Ha(e))}function vo(e){return"function"!=typeof e.constructor||To(e)?{}:Gr(qe(e))}function bo(e){return Wa(e)||Ha(e)||!!(Qe&&e&&e[Qe])}function _o(e,t){var r=typeof e;return!!(t=null==t?m:t)&&("number"==r||"symbol"!=r&&we.test(e))&&e>-1&&e%1==0&&e<t}function wo(e,t,r){if(!ts(r))return!1;var n=typeof t;return!!("number"==n?qa(r)&&_o(t,r.length):"string"==n&&t in r)&&Ga(r[t],e)}function Eo(e,t){if(Wa(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!us(e))||(ne.test(e)||!re.test(e)||null!=t&&e in Me(t))}function xo(e){var t=so(e),r=Br[t];if("function"!=typeof r||!(t in Hr.prototype))return!1;if(e===r)return!0;var n=ao(r);return!!n&&e===n[0]}(Sr&&go(new Sr(new ArrayBuffer(1)))!=L||Tr&&go(new Tr)!=A||Ar&&go(Ar.resolve())!=C||Mr&&go(new Mr)!=k||Rr&&go(new Rr)!=j)&&(go=function(e){var t=An(e),r=t==R?e.constructor:o,n=r?Uo(r):"";if(n)switch(n){case Pr:return L;case Or:return A;case jr:return C;case Nr:return k;case Lr:return j}return t});var So=je?$a:yl;function To(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Oe)}function Ao(e){return e===e&&!ts(e)}function Mo(e,t){return function(r){return null!=r&&(r[e]===t&&(t!==o||e in Me(r)))}}function Ro(e,t,r){return t=Xt(t===o?e.length-1:t,0),function(){for(var i=arguments,o=-1,a=Xt(i.length-t,0),s=n(a);++o<a;)s[o]=i[t+o];o=-1;for(var l=n(t+1);++o<t;)l[o]=i[o];return l[t]=r(s),Rt(e,this,l)}}function Co(e,t){return t.length<2?e:Sn(e,ii(t,0,-1))}function Io(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var ko=No(ti),Po=dt||function(e,t){return gt.setTimeout(e,t)},Oo=No(ri);function jo(e,t,r){var n=t+"";return Oo(e,function(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(ue,"{\n/* [wrapped with "+t+"] */\n")}(n,function(e,t){return It(v,(function(r){var n="_."+r[0];t&r[1]&&!jt(e,n)&&e.push(n)})),e.sort()}(function(e){var t=e.match(ce);return t?t[1].split(de):[]}(n),r)))}function No(e){var t=0,r=0;return function(){var n=_r(),i=16-(n-r);if(r=n,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(o,arguments)}}function Lo(e,t){var r=-1,n=e.length,i=n-1;for(t=t===o?n:t;++r<t;){var a=Xn(r,i),s=e[a];e[a]=e[r],e[r]=s}return e.length=t,e}var Do=function(e){var t=Na(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ie,(function(e,r,n,i){t.push(n?i.replace(pe,"$1"):r||e)})),t}));function Fo(e){if("string"==typeof e||us(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Uo(t){if(null!=t){try{return Ne.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Bo(e){if(e instanceof Hr)return e.clone();var t=new Vr(e.__wrapped__,e.__chain__);return t.__actions__=Ii(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Go=Qn((function(e,t){return Ya(e)?fn(e,vn(t,1,Ya,!0)):[]})),zo=Qn((function(e,t){var r=Qo(t);return Ya(r)&&(r=o),Ya(e)?fn(e,vn(t,1,Ya,!0),uo(r,2)):[]})),Vo=Qn((function(e,t){var r=Qo(t);return Ya(r)&&(r=o),Ya(e)?fn(e,vn(t,1,Ya,!0),o,r):[]}));function Ho(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:ms(r);return i<0&&(i=Xt(n+i,0)),Vt(e,uo(t,3),i)}function Wo(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=n-1;return r!==o&&(i=ms(r),i=r<0?Xt(n+i,0):br(i,n-1)),Vt(e,uo(t,3),i,!0)}function Zo(e){return(null==e?0:e.length)?vn(e,1):[]}function qo(e){return e&&e.length?e[0]:o}var Yo=Qn((function(e){var t=Lt(e,vi);return t.length&&t[0]===e[0]?In(t):[]})),Xo=Qn((function(e){var t=Qo(e),r=Lt(e,vi);return t===Qo(r)?t=o:r.pop(),r.length&&r[0]===e[0]?In(r,uo(t,2)):[]})),Ko=Qn((function(e){var t=Qo(e),r=Lt(e,vi);return(t="function"==typeof t?t:o)&&r.pop(),r.length&&r[0]===e[0]?In(r,o,t):[]}));function Qo(e){var t=null==e?0:e.length;return t?e[t-1]:o}var $o=Qn(Jo);function Jo(e,t){return e&&e.length&&t&&t.length?qn(e,t):e}var ea=no((function(e,t){var r=null==e?0:e.length,n=sn(e,t);return Yn(e,Lt(t,(function(e){return _o(e,r)?+e:e})).sort(Mi)),n}));function ta(e){return null==e?e:xr.call(e)}var ra=Qn((function(e){return di(vn(e,1,Ya,!0))})),na=Qn((function(e){var t=Qo(e);return Ya(t)&&(t=o),di(vn(e,1,Ya,!0),uo(t,2))})),ia=Qn((function(e){var t=Qo(e);return t="function"==typeof t?t:o,di(vn(e,1,Ya,!0),o,t)}));function oa(e){if(!e||!e.length)return[];var t=0;return e=Ot(e,(function(e){if(Ya(e))return t=Xt(e.length,t),!0})),$t(t,(function(t){return Lt(e,Yt(t))}))}function aa(e,t){if(!e||!e.length)return[];var r=oa(e);return null==t?r:Lt(r,(function(e){return Rt(t,o,e)}))}var sa=Qn((function(e,t){return Ya(e)?fn(e,t):[]})),la=Qn((function(e){return gi(Ot(e,Ya))})),ua=Qn((function(e){var t=Qo(e);return Ya(t)&&(t=o),gi(Ot(e,Ya),uo(t,2))})),ca=Qn((function(e){var t=Qo(e);return t="function"==typeof t?t:o,gi(Ot(e,Ya),o,t)})),da=Qn(oa);var fa=Qn((function(e){var t=e.length,r=t>1?e[t-1]:o;return r="function"==typeof r?(e.pop(),r):o,aa(e,r)}));function ha(e){var t=Br(e);return t.__chain__=!0,t}function pa(e,t){return t(e)}var ma=no((function(e){var t=e.length,r=t?e[0]:0,n=this.__wrapped__,i=function(t){return sn(t,e)};return!(t>1||this.__actions__.length)&&n instanceof Hr&&_o(r)?((n=n.slice(r,+r+(t?1:0))).__actions__.push({func:pa,args:[i],thisArg:o}),new Vr(n,this.__chain__).thru((function(e){return t&&!e.length&&e.push(o),e}))):this.thru(i)}));var ga=Pi((function(e,t,r){Le.call(e,r)?++e[r]:an(e,r,1)}));var ya=Ui(Ho),va=Ui(Wo);function ba(e,t){return(Wa(e)?It:hn)(e,uo(t,3))}function _a(e,t){return(Wa(e)?kt:pn)(e,uo(t,3))}var wa=Pi((function(e,t,r){Le.call(e,r)?e[r].push(t):an(e,r,[t])}));var Ea=Qn((function(e,t,r){var i=-1,o="function"==typeof t,a=qa(e)?n(e.length):[];return hn(e,(function(e){a[++i]=o?Rt(t,e,r):kn(e,t,r)})),a})),xa=Pi((function(e,t,r){an(e,r,t)}));function Sa(e,t){return(Wa(e)?Lt:Bn)(e,uo(t,3))}var Ta=Pi((function(e,t,r){e[r?0:1].push(t)}),(function(){return[[],[]]}));var Aa=Qn((function(e,t){if(null==e)return[];var r=t.length;return r>1&&wo(e,t[0],t[1])?t=[]:r>2&&wo(t[0],t[1],t[2])&&(t=[t[0]]),Wn(e,vn(t,1),[])})),Ma=ot||function(){return gt.Date.now()};function Ra(e,t,r){return t=r?o:t,t=e&&null==t?e.length:t,$i(e,f,o,o,o,o,t)}function Ca(e,t){var r;if("function"!=typeof t)throw new Ie(a);return e=ms(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=o),r}}var Ia=Qn((function(e,t,r){var n=1;if(r.length){var i=dr(r,lo(Ia));n|=c}return $i(e,n,t,r,i)})),ka=Qn((function(e,t,r){var n=3;if(r.length){var i=dr(r,lo(ka));n|=c}return $i(t,n,e,r,i)}));function Pa(e,t,r){var n,i,s,l,u,c,d=0,f=!1,h=!1,p=!0;if("function"!=typeof e)throw new Ie(a);function m(t){var r=n,a=i;return n=i=o,d=t,l=e.apply(a,r)}function g(e){var r=e-c;return c===o||r>=t||r<0||h&&e-d>=s}function y(){var e=Ma();if(g(e))return v(e);u=Po(y,function(e){var r=t-(e-c);return h?br(r,s-(e-d)):r}(e))}function v(e){return u=o,p&&n?m(e):(n=i=o,l)}function b(){var e=Ma(),r=g(e);if(n=arguments,i=this,c=e,r){if(u===o)return function(e){return d=e,u=Po(y,t),f?m(e):l}(c);if(h)return xi(u),u=Po(y,t),m(c)}return u===o&&(u=Po(y,t)),l}return t=ys(t)||0,ts(r)&&(f=!!r.leading,s=(h="maxWait"in r)?Xt(ys(r.maxWait)||0,t):s,p="trailing"in r?!!r.trailing:p),b.cancel=function(){u!==o&&xi(u),d=0,n=c=i=u=o},b.flush=function(){return u===o?l:v(Ma())},b}var Oa=Qn((function(e,t){return dn(e,1,t)})),ja=Qn((function(e,t,r){return dn(e,ys(t)||0,r)}));function Na(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ie(a);var r=function r(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=e.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(Na.Cache||qr),r}function La(e){if("function"!=typeof e)throw new Ie(a);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Na.Cache=qr;var Da=wi((function(e,t){var r=(t=1==t.length&&Wa(t[0])?Lt(t[0],er(uo())):Lt(vn(t,1),er(uo()))).length;return Qn((function(n){for(var i=-1,o=br(n.length,r);++i<o;)n[i]=t[i].call(this,n[i]);return Rt(e,this,n)}))})),Fa=Qn((function(e,t){var r=dr(t,lo(Fa));return $i(e,c,o,t,r)})),Ua=Qn((function(e,t){var r=dr(t,lo(Ua));return $i(e,d,o,t,r)})),Ba=no((function(e,t){return $i(e,h,o,o,o,t)}));function Ga(e,t){return e===t||e!==e&&t!==t}var za=qi(Mn),Va=qi((function(e,t){return e>=t})),Ha=Pn(function(){return arguments}())?Pn:function(e){return rs(e)&&Le.call(e,"callee")&&!Xe.call(e,"callee")},Wa=n.isArray,Za=Et?er(Et):function(e){return rs(e)&&An(e)==N};function qa(e){return null!=e&&es(e.length)&&!$a(e)}function Ya(e){return rs(e)&&qa(e)}var Xa=vt||yl,Ka=xt?er(xt):function(e){return rs(e)&&An(e)==E};function Qa(e){if(!rs(e))return!1;var t=An(e);return t==x||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!os(e)}function $a(e){if(!ts(e))return!1;var t=An(e);return t==S||t==T||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ja(e){return"number"==typeof e&&e==ms(e)}function es(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=m}function ts(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function rs(e){return null!=e&&"object"==typeof e}var ns=St?er(St):function(e){return rs(e)&&go(e)==A};function is(e){return"number"==typeof e||rs(e)&&An(e)==M}function os(e){if(!rs(e)||An(e)!=R)return!1;var t=qe(e);if(null===t)return!0;var r=Le.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&Ne.call(r)==Be}var as=Tt?er(Tt):function(e){return rs(e)&&An(e)==I};var ss=At?er(At):function(e){return rs(e)&&go(e)==k};function ls(e){return"string"==typeof e||!Wa(e)&&rs(e)&&An(e)==P}function us(e){return"symbol"==typeof e||rs(e)&&An(e)==O}var cs=Mt?er(Mt):function(e){return rs(e)&&es(e.length)&&!!ut[An(e)]};var ds=qi(Un),fs=qi((function(e,t){return e<=t}));function hs(e){if(!e)return[];if(qa(e))return ls(e)?mr(e):Ii(e);if($e&&e[$e])return function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}(e[$e]());var t=go(e);return(t==A?ur:t==k?fr:Gs)(e)}function ps(e){return e?(e=ys(e))===p||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function ms(e){var t=ps(e),r=t%1;return t===t?r?t-r:t:0}function gs(e){return e?ln(ms(e),0,y):0}function ys(e){if("number"==typeof e)return e;if(us(e))return g;if(ts(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ts(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Jt(e);var r=ve.test(e);return r||_e.test(e)?ht(e.slice(2),r?2:8):ye.test(e)?g:+e}function vs(e){return ki(e,Os(e))}function bs(e){return null==e?"":ci(e)}var _s=Oi((function(e,t){if(To(t)||qa(t))ki(t,Ps(t),e);else for(var r in t)Le.call(t,r)&&tn(e,r,t[r])})),ws=Oi((function(e,t){ki(t,Os(t),e)})),Es=Oi((function(e,t,r,n){ki(t,Os(t),e,n)})),xs=Oi((function(e,t,r,n){ki(t,Ps(t),e,n)})),Ss=no(sn);var Ts=Qn((function(e,t){e=Me(e);var r=-1,n=t.length,i=n>2?t[2]:o;for(i&&wo(t[0],t[1],i)&&(n=1);++r<n;)for(var a=t[r],s=Os(a),l=-1,u=s.length;++l<u;){var c=s[l],d=e[c];(d===o||Ga(d,Oe[c])&&!Le.call(e,c))&&(e[c]=a[c])}return e})),As=Qn((function(e){return e.push(o,eo),Rt(Ns,o,e)}));function Ms(e,t,r){var n=null==e?o:Sn(e,t);return n===o?r:n}function Rs(e,t){return null!=e&&yo(e,t,Cn)}var Cs=zi((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=Ue.call(t)),e[t]=r}),tl(il)),Is=zi((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=Ue.call(t)),Le.call(e,t)?e[t].push(r):e[t]=[r]}),uo),ks=Qn(kn);function Ps(e){return qa(e)?Kr(e):Dn(e)}function Os(e){return qa(e)?Kr(e,!0):Fn(e)}var js=Oi((function(e,t,r){Vn(e,t,r)})),Ns=Oi((function(e,t,r,n){Vn(e,t,r,n)})),Ls=no((function(e,t){var r={};if(null==e)return r;var n=!1;t=Lt(t,(function(t){return t=_i(t,e),n||(n=t.length>1),t})),ki(e,oo(e),r),n&&(r=un(r,7,to));for(var i=t.length;i--;)fi(r,t[i]);return r}));var Ds=no((function(e,t){return null==e?{}:function(e,t){return Zn(e,t,(function(t,r){return Rs(e,r)}))}(e,t)}));function Fs(e,t){if(null==e)return{};var r=Lt(oo(e),(function(e){return[e]}));return t=uo(t),Zn(e,r,(function(e,r){return t(e,r[0])}))}var Us=Qi(Ps),Bs=Qi(Os);function Gs(e){return null==e?[]:tr(e,Ps(e))}var zs=Di((function(e,t,r){return t=t.toLowerCase(),e+(r?Vs(t):t)}));function Vs(e){return Qs(bs(e).toLowerCase())}function Hs(e){return(e=bs(e))&&e.replace(Ee,or).replace(rt,"")}var Ws=Di((function(e,t,r){return e+(r?"-":"")+t.toLowerCase()})),Zs=Di((function(e,t,r){return e+(r?" ":"")+t.toLowerCase()})),qs=Li("toLowerCase");var Ys=Di((function(e,t,r){return e+(r?"_":"")+t.toLowerCase()}));var Xs=Di((function(e,t,r){return e+(r?" ":"")+Qs(t)}));var Ks=Di((function(e,t,r){return e+(r?" ":"")+t.toUpperCase()})),Qs=Li("toUpperCase");function $s(e,t,r){return e=bs(e),(t=r?o:t)===o?function(e){return at.test(e)}(e)?function(e){return e.match(it)||[]}(e):function(e){return e.match(fe)||[]}(e):e.match(t)||[]}var Js=Qn((function(t,r){try{return Rt(t,o,r)}catch(e){return Qa(e)?e:new le(e)}})),el=no((function(e,t){return It(t,(function(t){t=Fo(t),an(e,t,Ia(e[t],e))})),e}));function tl(e){return function(){return e}}var rl=Bi(),nl=Bi(!0);function il(e){return e}function ol(e){return Ln("function"==typeof e?e:un(e,1))}var al=Qn((function(e,t){return function(r){return kn(r,e,t)}})),sl=Qn((function(e,t){return function(r){return kn(e,r,t)}}));function ll(e,t,r){var n=Ps(t),i=xn(t,n);null!=r||ts(t)&&(i.length||!n.length)||(r=t,t=e,e=this,i=xn(t,Ps(t)));var o=!(ts(r)&&"chain"in r)||!!r.chain,a=$a(e);return It(i,(function(r){var n=t[r];e[r]=n,a&&(e.prototype[r]=function(){var t=this.__chain__;if(o||t){var r=e(this.__wrapped__);return(r.__actions__=Ii(this.__actions__)).push({func:n,args:arguments,thisArg:e}),r.__chain__=t,r}return n.apply(e,Dt([this.value()],arguments))})})),e}function ul(){}var cl=Hi(Lt),dl=Hi(Pt),fl=Hi(Bt);function hl(e){return Eo(e)?Yt(Fo(e)):function(e){return function(t){return Sn(t,e)}}(e)}var pl=Zi(),ml=Zi(!0);function gl(){return[]}function yl(){return!1}var vl=Vi((function(e,t){return e+t}),0),bl=Xi("ceil"),_l=Vi((function(e,t){return e/t}),1),wl=Xi("floor");var El=Vi((function(e,t){return e*t}),1),xl=Xi("round"),Sl=Vi((function(e,t){return e-t}),0);return Br.after=function(e,t){if("function"!=typeof t)throw new Ie(a);return e=ms(e),function(){if(--e<1)return t.apply(this,arguments)}},Br.ary=Ra,Br.assign=_s,Br.assignIn=ws,Br.assignInWith=Es,Br.assignWith=xs,Br.at=Ss,Br.before=Ca,Br.bind=Ia,Br.bindAll=el,Br.bindKey=ka,Br.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Wa(e)?e:[e]},Br.chain=ha,Br.chunk=function(e,t,r){t=(r?wo(e,t,r):t===o)?1:Xt(ms(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var a=0,s=0,l=n(pt(i/t));a<i;)l[s++]=ii(e,a,a+=t);return l},Br.compact=function(e){for(var t=-1,r=null==e?0:e.length,n=0,i=[];++t<r;){var o=e[t];o&&(i[n++]=o)}return i},Br.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Dt(Wa(r)?Ii(r):[r],vn(t,1))},Br.cond=function(e){var t=null==e?0:e.length,r=uo();return e=t?Lt(e,(function(e){if("function"!=typeof e[1])throw new Ie(a);return[r(e[0]),e[1]]})):[],Qn((function(r){for(var n=-1;++n<t;){var i=e[n];if(Rt(i[0],this,r))return Rt(i[1],this,r)}}))},Br.conforms=function(e){return function(e){var t=Ps(e);return function(r){return cn(r,e,t)}}(un(e,1))},Br.constant=tl,Br.countBy=ga,Br.create=function(e,t){var r=Gr(e);return null==t?r:on(r,t)},Br.curry=function e(t,r,n){var i=$i(t,8,o,o,o,o,o,r=n?o:r);return i.placeholder=e.placeholder,i},Br.curryRight=function e(t,r,n){var i=$i(t,u,o,o,o,o,o,r=n?o:r);return i.placeholder=e.placeholder,i},Br.debounce=Pa,Br.defaults=Ts,Br.defaultsDeep=As,Br.defer=Oa,Br.delay=ja,Br.difference=Go,Br.differenceBy=zo,Br.differenceWith=Vo,Br.drop=function(e,t,r){var n=null==e?0:e.length;return n?ii(e,(t=r||t===o?1:ms(t))<0?0:t,n):[]},Br.dropRight=function(e,t,r){var n=null==e?0:e.length;return n?ii(e,0,(t=n-(t=r||t===o?1:ms(t)))<0?0:t):[]},Br.dropRightWhile=function(e,t){return e&&e.length?pi(e,uo(t,3),!0,!0):[]},Br.dropWhile=function(e,t){return e&&e.length?pi(e,uo(t,3),!0):[]},Br.fill=function(e,t,r,n){var i=null==e?0:e.length;return i?(r&&"number"!=typeof r&&wo(e,t,r)&&(r=0,n=i),function(e,t,r,n){var i=e.length;for((r=ms(r))<0&&(r=-r>i?0:i+r),(n=n===o||n>i?i:ms(n))<0&&(n+=i),n=r>n?0:gs(n);r<n;)e[r++]=t;return e}(e,t,r,n)):[]},Br.filter=function(e,t){return(Wa(e)?Ot:yn)(e,uo(t,3))},Br.flatMap=function(e,t){return vn(Sa(e,t),1)},Br.flatMapDeep=function(e,t){return vn(Sa(e,t),p)},Br.flatMapDepth=function(e,t,r){return r=r===o?1:ms(r),vn(Sa(e,t),r)},Br.flatten=Zo,Br.flattenDeep=function(e){return(null==e?0:e.length)?vn(e,p):[]},Br.flattenDepth=function(e,t){return(null==e?0:e.length)?vn(e,t=t===o?1:ms(t)):[]},Br.flip=function(e){return $i(e,512)},Br.flow=rl,Br.flowRight=nl,Br.fromPairs=function(e){for(var t=-1,r=null==e?0:e.length,n={};++t<r;){var i=e[t];n[i[0]]=i[1]}return n},Br.functions=function(e){return null==e?[]:xn(e,Ps(e))},Br.functionsIn=function(e){return null==e?[]:xn(e,Os(e))},Br.groupBy=wa,Br.initial=function(e){return(null==e?0:e.length)?ii(e,0,-1):[]},Br.intersection=Yo,Br.intersectionBy=Xo,Br.intersectionWith=Ko,Br.invert=Cs,Br.invertBy=Is,Br.invokeMap=Ea,Br.iteratee=ol,Br.keyBy=xa,Br.keys=Ps,Br.keysIn=Os,Br.map=Sa,Br.mapKeys=function(e,t){var r={};return t=uo(t,3),wn(e,(function(e,n,i){an(r,t(e,n,i),e)})),r},Br.mapValues=function(e,t){var r={};return t=uo(t,3),wn(e,(function(e,n,i){an(r,n,t(e,n,i))})),r},Br.matches=function(e){return Gn(un(e,1))},Br.matchesProperty=function(e,t){return zn(e,un(t,1))},Br.memoize=Na,Br.merge=js,Br.mergeWith=Ns,Br.method=al,Br.methodOf=sl,Br.mixin=ll,Br.negate=La,Br.nthArg=function(e){return e=ms(e),Qn((function(t){return Hn(t,e)}))},Br.omit=Ls,Br.omitBy=function(e,t){return Fs(e,La(uo(t)))},Br.once=function(e){return Ca(2,e)},Br.orderBy=function(e,t,r,n){return null==e?[]:(Wa(t)||(t=null==t?[]:[t]),Wa(r=n?o:r)||(r=null==r?[]:[r]),Wn(e,t,r))},Br.over=cl,Br.overArgs=Da,Br.overEvery=dl,Br.overSome=fl,Br.partial=Fa,Br.partialRight=Ua,Br.partition=Ta,Br.pick=Ds,Br.pickBy=Fs,Br.property=hl,Br.propertyOf=function(e){return function(t){return null==e?o:Sn(e,t)}},Br.pull=$o,Br.pullAll=Jo,Br.pullAllBy=function(e,t,r){return e&&e.length&&t&&t.length?qn(e,t,uo(r,2)):e},Br.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?qn(e,t,o,r):e},Br.pullAt=ea,Br.range=pl,Br.rangeRight=ml,Br.rearg=Ba,Br.reject=function(e,t){return(Wa(e)?Ot:yn)(e,La(uo(t,3)))},Br.remove=function(e,t){var r=[];if(!e||!e.length)return r;var n=-1,i=[],o=e.length;for(t=uo(t,3);++n<o;){var a=e[n];t(a,n,e)&&(r.push(a),i.push(n))}return Yn(e,i),r},Br.rest=function(e,t){if("function"!=typeof e)throw new Ie(a);return Qn(e,t=t===o?t:ms(t))},Br.reverse=ta,Br.sampleSize=function(e,t,r){return t=(r?wo(e,t,r):t===o)?1:ms(t),(Wa(e)?$r:Jn)(e,t)},Br.set=function(e,t,r){return null==e?e:ei(e,t,r)},Br.setWith=function(e,t,r,n){return n="function"==typeof n?n:o,null==e?e:ei(e,t,r,n)},Br.shuffle=function(e){return(Wa(e)?Jr:ni)(e)},Br.slice=function(e,t,r){var n=null==e?0:e.length;return n?(r&&"number"!=typeof r&&wo(e,t,r)?(t=0,r=n):(t=null==t?0:ms(t),r=r===o?n:ms(r)),ii(e,t,r)):[]},Br.sortBy=Aa,Br.sortedUniq=function(e){return e&&e.length?li(e):[]},Br.sortedUniqBy=function(e,t){return e&&e.length?li(e,uo(t,2)):[]},Br.split=function(e,t,r){return r&&"number"!=typeof r&&wo(e,t,r)&&(t=r=o),(r=r===o?y:r>>>0)?(e=bs(e))&&("string"==typeof t||null!=t&&!as(t))&&!(t=ci(t))&&lr(e)?Ei(mr(e),0,r):e.split(t,r):[]},Br.spread=function(e,t){if("function"!=typeof e)throw new Ie(a);return t=null==t?0:Xt(ms(t),0),Qn((function(r){var n=r[t],i=Ei(r,0,t);return n&&Dt(i,n),Rt(e,this,i)}))},Br.tail=function(e){var t=null==e?0:e.length;return t?ii(e,1,t):[]},Br.take=function(e,t,r){return e&&e.length?ii(e,0,(t=r||t===o?1:ms(t))<0?0:t):[]},Br.takeRight=function(e,t,r){var n=null==e?0:e.length;return n?ii(e,(t=n-(t=r||t===o?1:ms(t)))<0?0:t,n):[]},Br.takeRightWhile=function(e,t){return e&&e.length?pi(e,uo(t,3),!1,!0):[]},Br.takeWhile=function(e,t){return e&&e.length?pi(e,uo(t,3)):[]},Br.tap=function(e,t){return t(e),e},Br.throttle=function(e,t,r){var n=!0,i=!0;if("function"!=typeof e)throw new Ie(a);return ts(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Pa(e,t,{leading:n,maxWait:t,trailing:i})},Br.thru=pa,Br.toArray=hs,Br.toPairs=Us,Br.toPairsIn=Bs,Br.toPath=function(e){return Wa(e)?Lt(e,Fo):us(e)?[e]:Ii(Do(bs(e)))},Br.toPlainObject=vs,Br.transform=function(e,t,r){var n=Wa(e),i=n||Xa(e)||cs(e);if(t=uo(t,4),null==r){var o=e&&e.constructor;r=i?n?new o:[]:ts(e)&&$a(o)?Gr(qe(e)):{}}return(i?It:wn)(e,(function(e,n,i){return t(r,e,n,i)})),r},Br.unary=function(e){return Ra(e,1)},Br.union=ra,Br.unionBy=na,Br.unionWith=ia,Br.uniq=function(e){return e&&e.length?di(e):[]},Br.uniqBy=function(e,t){return e&&e.length?di(e,uo(t,2)):[]},Br.uniqWith=function(e,t){return t="function"==typeof t?t:o,e&&e.length?di(e,o,t):[]},Br.unset=function(e,t){return null==e||fi(e,t)},Br.unzip=oa,Br.unzipWith=aa,Br.update=function(e,t,r){return null==e?e:hi(e,t,bi(r))},Br.updateWith=function(e,t,r,n){return n="function"==typeof n?n:o,null==e?e:hi(e,t,bi(r),n)},Br.values=Gs,Br.valuesIn=function(e){return null==e?[]:tr(e,Os(e))},Br.without=sa,Br.words=$s,Br.wrap=function(e,t){return Fa(bi(t),e)},Br.xor=la,Br.xorBy=ua,Br.xorWith=ca,Br.zip=da,Br.zipObject=function(e,t){return yi(e||[],t||[],tn)},Br.zipObjectDeep=function(e,t){return yi(e||[],t||[],ei)},Br.zipWith=fa,Br.entries=Us,Br.entriesIn=Bs,Br.extend=ws,Br.extendWith=Es,ll(Br,Br),Br.add=vl,Br.attempt=Js,Br.camelCase=zs,Br.capitalize=Vs,Br.ceil=bl,Br.clamp=function(e,t,r){return r===o&&(r=t,t=o),r!==o&&(r=(r=ys(r))===r?r:0),t!==o&&(t=(t=ys(t))===t?t:0),ln(ys(e),t,r)},Br.clone=function(e){return un(e,4)},Br.cloneDeep=function(e){return un(e,5)},Br.cloneDeepWith=function(e,t){return un(e,5,t="function"==typeof t?t:o)},Br.cloneWith=function(e,t){return un(e,4,t="function"==typeof t?t:o)},Br.conformsTo=function(e,t){return null==t||cn(e,t,Ps(t))},Br.deburr=Hs,Br.defaultTo=function(e,t){return null==e||e!==e?t:e},Br.divide=_l,Br.endsWith=function(e,t,r){e=bs(e),t=ci(t);var n=e.length,i=r=r===o?n:ln(ms(r),0,n);return(r-=t.length)>=0&&e.slice(r,i)==t},Br.eq=Ga,Br.escape=function(e){return(e=bs(e))&&$.test(e)?e.replace(K,ar):e},Br.escapeRegExp=function(e){return(e=bs(e))&&ae.test(e)?e.replace(oe,"\\$&"):e},Br.every=function(e,t,r){var n=Wa(e)?Pt:mn;return r&&wo(e,t,r)&&(t=o),n(e,uo(t,3))},Br.find=ya,Br.findIndex=Ho,Br.findKey=function(e,t){return zt(e,uo(t,3),wn)},Br.findLast=va,Br.findLastIndex=Wo,Br.findLastKey=function(e,t){return zt(e,uo(t,3),En)},Br.floor=wl,Br.forEach=ba,Br.forEachRight=_a,Br.forIn=function(e,t){return null==e?e:bn(e,uo(t,3),Os)},Br.forInRight=function(e,t){return null==e?e:_n(e,uo(t,3),Os)},Br.forOwn=function(e,t){return e&&wn(e,uo(t,3))},Br.forOwnRight=function(e,t){return e&&En(e,uo(t,3))},Br.get=Ms,Br.gt=za,Br.gte=Va,Br.has=function(e,t){return null!=e&&yo(e,t,Rn)},Br.hasIn=Rs,Br.head=qo,Br.identity=il,Br.includes=function(e,t,r,n){e=qa(e)?e:Gs(e),r=r&&!n?ms(r):0;var i=e.length;return r<0&&(r=Xt(i+r,0)),ls(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&Ht(e,t,r)>-1},Br.indexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:ms(r);return i<0&&(i=Xt(n+i,0)),Ht(e,t,i)},Br.inRange=function(e,t,r){return t=ps(t),r===o?(r=t,t=0):r=ps(r),function(e,t,r){return e>=br(t,r)&&e<Xt(t,r)}(e=ys(e),t,r)},Br.invoke=ks,Br.isArguments=Ha,Br.isArray=Wa,Br.isArrayBuffer=Za,Br.isArrayLike=qa,Br.isArrayLikeObject=Ya,Br.isBoolean=function(e){return!0===e||!1===e||rs(e)&&An(e)==w},Br.isBuffer=Xa,Br.isDate=Ka,Br.isElement=function(e){return rs(e)&&1===e.nodeType&&!os(e)},Br.isEmpty=function(e){if(null==e)return!0;if(qa(e)&&(Wa(e)||"string"==typeof e||"function"==typeof e.splice||Xa(e)||cs(e)||Ha(e)))return!e.length;var t=go(e);if(t==A||t==k)return!e.size;if(To(e))return!Dn(e).length;for(var r in e)if(Le.call(e,r))return!1;return!0},Br.isEqual=function(e,t){return On(e,t)},Br.isEqualWith=function(e,t,r){var n=(r="function"==typeof r?r:o)?r(e,t):o;return n===o?On(e,t,o,r):!!n},Br.isError=Qa,Br.isFinite=function(e){return"number"==typeof e&&_t(e)},Br.isFunction=$a,Br.isInteger=Ja,Br.isLength=es,Br.isMap=ns,Br.isMatch=function(e,t){return e===t||jn(e,t,fo(t))},Br.isMatchWith=function(e,t,r){return r="function"==typeof r?r:o,jn(e,t,fo(t),r)},Br.isNaN=function(e){return is(e)&&e!=+e},Br.isNative=function(e){if(So(e))throw new le("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Nn(e)},Br.isNil=function(e){return null==e},Br.isNull=function(e){return null===e},Br.isNumber=is,Br.isObject=ts,Br.isObjectLike=rs,Br.isPlainObject=os,Br.isRegExp=as,Br.isSafeInteger=function(e){return Ja(e)&&e>=-9007199254740991&&e<=m},Br.isSet=ss,Br.isString=ls,Br.isSymbol=us,Br.isTypedArray=cs,Br.isUndefined=function(e){return e===o},Br.isWeakMap=function(e){return rs(e)&&go(e)==j},Br.isWeakSet=function(e){return rs(e)&&"[object WeakSet]"==An(e)},Br.join=function(e,t){return null==e?"":wt.call(e,t)},Br.kebabCase=Ws,Br.last=Qo,Br.lastIndexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=n;return r!==o&&(i=(i=ms(r))<0?Xt(n+i,0):br(i,n-1)),t===t?function(e,t,r){for(var n=r+1;n--;)if(e[n]===t)return n;return n}(e,t,i):Vt(e,Zt,i,!0)},Br.lowerCase=Zs,Br.lowerFirst=qs,Br.lt=ds,Br.lte=fs,Br.max=function(e){return e&&e.length?gn(e,il,Mn):o},Br.maxBy=function(e,t){return e&&e.length?gn(e,uo(t,2),Mn):o},Br.mean=function(e){return qt(e,il)},Br.meanBy=function(e,t){return qt(e,uo(t,2))},Br.min=function(e){return e&&e.length?gn(e,il,Un):o},Br.minBy=function(e,t){return e&&e.length?gn(e,uo(t,2),Un):o},Br.stubArray=gl,Br.stubFalse=yl,Br.stubObject=function(){return{}},Br.stubString=function(){return""},Br.stubTrue=function(){return!0},Br.multiply=El,Br.nth=function(e,t){return e&&e.length?Hn(e,ms(t)):o},Br.noConflict=function(){return gt._===this&&(gt._=Ge),this},Br.noop=ul,Br.now=Ma,Br.pad=function(e,t,r){e=bs(e);var n=(t=ms(t))?pr(e):0;if(!t||n>=t)return e;var i=(t-n)/2;return Wi(mt(i),r)+e+Wi(pt(i),r)},Br.padEnd=function(e,t,r){e=bs(e);var n=(t=ms(t))?pr(e):0;return t&&n<t?e+Wi(t-n,r):e},Br.padStart=function(e,t,r){e=bs(e);var n=(t=ms(t))?pr(e):0;return t&&n<t?Wi(t-n,r)+e:e},Br.parseInt=function(e,t,r){return r||null==t?t=0:t&&(t=+t),wr(bs(e).replace(se,""),t||0)},Br.random=function(e,t,r){if(r&&"boolean"!=typeof r&&wo(e,t,r)&&(t=r=o),r===o&&("boolean"==typeof t?(r=t,t=o):"boolean"==typeof e&&(r=e,e=o)),e===o&&t===o?(e=0,t=1):(e=ps(e),t===o?(t=e,e=0):t=ps(t)),e>t){var n=e;e=t,t=n}if(r||e%1||t%1){var i=Er();return br(e+i*(t-e+ft("1e-"+((i+"").length-1))),t)}return Xn(e,t)},Br.reduce=function(e,t,r){var n=Wa(e)?Ft:Kt,i=arguments.length<3;return n(e,uo(t,4),r,i,hn)},Br.reduceRight=function(e,t,r){var n=Wa(e)?Ut:Kt,i=arguments.length<3;return n(e,uo(t,4),r,i,pn)},Br.repeat=function(e,t,r){return t=(r?wo(e,t,r):t===o)?1:ms(t),Kn(bs(e),t)},Br.replace=function(){var e=arguments,t=bs(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Br.result=function(e,t,r){var n=-1,i=(t=_i(t,e)).length;for(i||(i=1,e=o);++n<i;){var a=null==e?o:e[Fo(t[n])];a===o&&(n=i,a=r),e=$a(a)?a.call(e):a}return e},Br.round=xl,Br.runInContext=t,Br.sample=function(e){return(Wa(e)?Qr:$n)(e)},Br.size=function(e){if(null==e)return 0;if(qa(e))return ls(e)?pr(e):e.length;var t=go(e);return t==A||t==k?e.size:Dn(e).length},Br.snakeCase=Ys,Br.some=function(e,t,r){var n=Wa(e)?Bt:oi;return r&&wo(e,t,r)&&(t=o),n(e,uo(t,3))},Br.sortedIndex=function(e,t){return ai(e,t)},Br.sortedIndexBy=function(e,t,r){return si(e,t,uo(r,2))},Br.sortedIndexOf=function(e,t){var r=null==e?0:e.length;if(r){var n=ai(e,t);if(n<r&&Ga(e[n],t))return n}return-1},Br.sortedLastIndex=function(e,t){return ai(e,t,!0)},Br.sortedLastIndexBy=function(e,t,r){return si(e,t,uo(r,2),!0)},Br.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var r=ai(e,t,!0)-1;if(Ga(e[r],t))return r}return-1},Br.startCase=Xs,Br.startsWith=function(e,t,r){return e=bs(e),r=null==r?0:ln(ms(r),0,e.length),t=ci(t),e.slice(r,r+t.length)==t},Br.subtract=Sl,Br.sum=function(e){return e&&e.length?Qt(e,il):0},Br.sumBy=function(e,t){return e&&e.length?Qt(e,uo(t,2)):0},Br.template=function(e,t,r){var n=Br.templateSettings;r&&wo(e,t,r)&&(t=o),e=bs(e),t=Es({},t,n,Ji);var i,a,s=Es({},t.imports,n.imports,Ji),l=Ps(s),u=tr(s,l),c=0,d=t.interpolate||xe,f="__p += '",h=Re((t.escape||xe).source+"|"+d.source+"|"+(d===te?me:xe).source+"|"+(t.evaluate||xe).source+"|$","g"),p="//# sourceURL="+(Le.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++lt+"]")+"\n";e.replace(h,(function(t,r,n,o,s,l){return n||(n=o),f+=e.slice(c,l).replace(Se,sr),r&&(i=!0,f+="' +\n__e("+r+") +\n'"),s&&(a=!0,f+="';\n"+s+";\n__p += '"),n&&(f+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),c=l+t.length,t})),f+="';\n";var m=Le.call(t,"variable")&&t.variable;if(m){if(he.test(m))throw new le("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(a?f.replace(Z,""):f).replace(q,"$1").replace(Y,"$1;"),f="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var g=Js((function(){return Te(l,p+"return "+f).apply(o,u)}));if(g.source=f,Qa(g))throw g;return g},Br.times=function(e,t){if((e=ms(e))<1||e>m)return[];var r=y,n=br(e,y);t=uo(t),e-=y;for(var i=$t(n,t);++r<e;)t(r);return i},Br.toFinite=ps,Br.toInteger=ms,Br.toLength=gs,Br.toLower=function(e){return bs(e).toLowerCase()},Br.toNumber=ys,Br.toSafeInteger=function(e){return e?ln(ms(e),-9007199254740991,m):0===e?e:0},Br.toString=bs,Br.toUpper=function(e){return bs(e).toUpperCase()},Br.trim=function(e,t,r){if((e=bs(e))&&(r||t===o))return Jt(e);if(!e||!(t=ci(t)))return e;var n=mr(e),i=mr(t);return Ei(n,nr(n,i),ir(n,i)+1).join("")},Br.trimEnd=function(e,t,r){if((e=bs(e))&&(r||t===o))return e.slice(0,gr(e)+1);if(!e||!(t=ci(t)))return e;var n=mr(e);return Ei(n,0,ir(n,mr(t))+1).join("")},Br.trimStart=function(e,t,r){if((e=bs(e))&&(r||t===o))return e.replace(se,"");if(!e||!(t=ci(t)))return e;var n=mr(e);return Ei(n,nr(n,mr(t))).join("")},Br.truncate=function(e,t){var r=30,n="...";if(ts(t)){var i="separator"in t?t.separator:i;r="length"in t?ms(t.length):r,n="omission"in t?ci(t.omission):n}var a=(e=bs(e)).length;if(lr(e)){var s=mr(e);a=s.length}if(r>=a)return e;var l=r-pr(n);if(l<1)return n;var u=s?Ei(s,0,l).join(""):e.slice(0,l);if(i===o)return u+n;if(s&&(l+=u.length-l),as(i)){if(e.slice(l).search(i)){var c,d=u;for(i.global||(i=Re(i.source,bs(ge.exec(i))+"g")),i.lastIndex=0;c=i.exec(d);)var f=c.index;u=u.slice(0,f===o?l:f)}}else if(e.indexOf(ci(i),l)!=l){var h=u.lastIndexOf(i);h>-1&&(u=u.slice(0,h))}return u+n},Br.unescape=function(e){return(e=bs(e))&&Q.test(e)?e.replace(X,yr):e},Br.uniqueId=function(e){var t=++De;return bs(e)+t},Br.upperCase=Ks,Br.upperFirst=Qs,Br.each=ba,Br.eachRight=_a,Br.first=qo,ll(Br,function(){var e={};return wn(Br,(function(t,r){Le.call(Br.prototype,r)||(e[r]=t)})),e}(),{chain:!1}),Br.VERSION="4.17.21",It(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Br[e].placeholder=Br})),It(["drop","take"],(function(e,t){Hr.prototype[e]=function(r){r=r===o?1:Xt(ms(r),0);var n=this.__filtered__&&!t?new Hr(this):this.clone();return n.__filtered__?n.__takeCount__=br(r,n.__takeCount__):n.__views__.push({size:br(r,y),type:e+(n.__dir__<0?"Right":"")}),n},Hr.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),It(["filter","map","takeWhile"],(function(e,t){var r=t+1,n=1==r||3==r;Hr.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:uo(e,3),type:r}),t.__filtered__=t.__filtered__||n,t}})),It(["head","last"],(function(e,t){var r="take"+(t?"Right":"");Hr.prototype[e]=function(){return this[r](1).value()[0]}})),It(["initial","tail"],(function(e,t){var r="drop"+(t?"":"Right");Hr.prototype[e]=function(){return this.__filtered__?new Hr(this):this[r](1)}})),Hr.prototype.compact=function(){return this.filter(il)},Hr.prototype.find=function(e){return this.filter(e).head()},Hr.prototype.findLast=function(e){return this.reverse().find(e)},Hr.prototype.invokeMap=Qn((function(e,t){return"function"==typeof e?new Hr(this):this.map((function(r){return kn(r,e,t)}))})),Hr.prototype.reject=function(e){return this.filter(La(uo(e)))},Hr.prototype.slice=function(e,t){e=ms(e);var r=this;return r.__filtered__&&(e>0||t<0)?new Hr(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==o&&(r=(t=ms(t))<0?r.dropRight(-t):r.take(t-e)),r)},Hr.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Hr.prototype.toArray=function(){return this.take(y)},wn(Hr.prototype,(function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),n=/^(?:head|last)$/.test(t),i=Br[n?"take"+("last"==t?"Right":""):t],a=n||/^find/.test(t);i&&(Br.prototype[t]=function(){var t=this.__wrapped__,s=n?[1]:arguments,l=t instanceof Hr,u=s[0],c=l||Wa(t),d=function(e){var t=i.apply(Br,Dt([e],s));return n&&f?t[0]:t};c&&r&&"function"==typeof u&&1!=u.length&&(l=c=!1);var f=this.__chain__,h=!!this.__actions__.length,p=a&&!f,m=l&&!h;if(!a&&c){t=m?t:new Hr(this);var g=e.apply(t,s);return g.__actions__.push({func:pa,args:[d],thisArg:o}),new Vr(g,f)}return p&&m?e.apply(this,s):(g=this.thru(d),p?n?g.value()[0]:g.value():g)})})),It(["pop","push","shift","sort","splice","unshift"],(function(e){var t=ke[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);Br.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var i=this.value();return t.apply(Wa(i)?i:[],e)}return this[r]((function(r){return t.apply(Wa(r)?r:[],e)}))}})),wn(Hr.prototype,(function(e,t){var r=Br[t];if(r){var n=r.name+"";Le.call(kr,n)||(kr[n]=[]),kr[n].push({name:t,func:r})}})),kr[Gi(o,2).name]=[{name:"wrapper",func:o}],Hr.prototype.clone=function(){var e=new Hr(this.__wrapped__);return e.__actions__=Ii(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ii(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ii(this.__views__),e},Hr.prototype.reverse=function(){if(this.__filtered__){var e=new Hr(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Hr.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,r=Wa(e),n=t<0,i=r?e.length:0,o=function(e,t,r){var n=-1,i=r.length;for(;++n<i;){var o=r[n],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=br(t,e+a);break;case"takeRight":e=Xt(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=o.start,s=o.end,l=s-a,u=n?s:a-1,c=this.__iteratees__,d=c.length,f=0,h=br(l,this.__takeCount__);if(!r||!n&&i==l&&h==l)return mi(e,this.__actions__);var p=[];e:for(;l--&&f<h;){for(var m=-1,g=e[u+=t];++m<d;){var y=c[m],v=y.iteratee,b=y.type,_=v(g);if(2==b)g=_;else if(!_){if(1==b)continue e;break e}}p[f++]=g}return p},Br.prototype.at=ma,Br.prototype.chain=function(){return ha(this)},Br.prototype.commit=function(){return new Vr(this.value(),this.__chain__)},Br.prototype.next=function(){this.__values__===o&&(this.__values__=hs(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?o:this.__values__[this.__index__++]}},Br.prototype.plant=function(e){for(var t,r=this;r instanceof zr;){var n=Bo(r);n.__index__=0,n.__values__=o,t?i.__wrapped__=n:t=n;var i=n;r=r.__wrapped__}return i.__wrapped__=e,t},Br.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Hr){var t=e;return this.__actions__.length&&(t=new Hr(this)),(t=t.reverse()).__actions__.push({func:pa,args:[ta],thisArg:o}),new Vr(t,this.__chain__)}return this.thru(ta)},Br.prototype.toJSON=Br.prototype.valueOf=Br.prototype.value=function(){return mi(this.__wrapped__,this.__actions__)},Br.prototype.first=Br.prototype.head,$e&&(Br.prototype[$e]=function(){return this}),Br}();gt._=vr,(i=function(){return vr}.call(r,n,r,t))===o||(t.exports=i)}.call(this)},47:function(t,r,n){var i;i=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=20)}([function(t,r){var i={};t.exports=i,function(){i._baseDelta=1e3/60,i._nextId=0,i._seed=0,i._nowStartTime=+new Date,i._warnedOnce={},i._decomp=null,i.extend=function(e,t){var r,n;"boolean"===typeof t?(r=2,n=t):(r=1,n=!0);for(var o=r;o<arguments.length;o++){var a=arguments[o];if(a)for(var s in a)n&&a[s]&&a[s].constructor===Object?e[s]&&e[s].constructor!==Object?e[s]=a[s]:(e[s]=e[s]||{},i.extend(e[s],n,a[s])):e[s]=a[s]}return e},i.clone=function(e,t){return i.extend({},t,e)},i.keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var r in e)t.push(r);return t},i.values=function(e){var t=[];if(Object.keys){for(var r=Object.keys(e),n=0;n<r.length;n++)t.push(e[r[n]]);return t}for(var i in e)t.push(e[i]);return t},i.get=function(e,t,r,n){t=t.split(".").slice(r,n);for(var i=0;i<t.length;i+=1)e=e[t[i]];return e},i.set=function(e,t,r,n,o){var a=t.split(".").slice(n,o);return i.get(e,t,0,-1)[a[a.length-1]]=r,r},i.shuffle=function(e){for(var t=e.length-1;t>0;t--){var r=Math.floor(i.random()*(t+1)),n=e[t];e[t]=e[r],e[r]=n}return e},i.choose=function(e){return e[Math.floor(i.random()*e.length)]},i.isElement=function(e){return"undefined"!==typeof HTMLElement?e instanceof HTMLElement:!!(e&&e.nodeType&&e.nodeName)},i.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},i.isFunction=function(e){return"function"===typeof e},i.isPlainObject=function(e){return"object"===typeof e&&e.constructor===Object},i.isString=function(e){return"[object String]"===toString.call(e)},i.clamp=function(e,t,r){return e<t?t:e>r?r:e},i.sign=function(e){return e<0?-1:1},i.now=function(){if("undefined"!==typeof window&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-i._nowStartTime},i.random=function(e,r){return r="undefined"!==typeof r?r:1,(e="undefined"!==typeof e?e:0)+t()*(r-e)};var t=function(){return i._seed=(9301*i._seed+49297)%233280,i._seed/233280};i.colorToNumber=function(e){return 3==(e=e.replace("#","")).length&&(e=e.charAt(0)+e.charAt(0)+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2)),parseInt(e,16)},i.logLevel=1,i.log=function(){console&&i.logLevel>0&&i.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},i.info=function(){console&&i.logLevel>0&&i.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},i.warn=function(){console&&i.logLevel>0&&i.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},i.warnOnce=function(){var e=Array.prototype.slice.call(arguments).join(" ");i._warnedOnce[e]||(i.warn(e),i._warnedOnce[e]=!0)},i.deprecated=function(e,t,r){e[t]=i.chain((function(){i.warnOnce("\ud83d\udd05 deprecated \ud83d\udd05",r)}),e[t])},i.nextId=function(){return i._nextId++},i.indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0;r<e.length;r++)if(e[r]===t)return r;return-1},i.map=function(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n+=1)r.push(t(e[n]));return r},i.topologicalSort=function(e){var t=[],r=[],n=[];for(var o in e)r[o]||n[o]||i._topologicalSort(o,r,n,e,t);return t},i._topologicalSort=function(e,t,r,n,o){var a=n[e]||[];r[e]=!0;for(var s=0;s<a.length;s+=1){var l=a[s];r[l]||t[l]||i._topologicalSort(l,t,r,n,o)}r[e]=!1,t[e]=!0,o.push(e)},i.chain=function(){for(var e=[],t=0;t<arguments.length;t+=1){var r=arguments[t];r._chained?e.push.apply(e,r._chained):e.push(r)}var n=function(){for(var t,r=new Array(arguments.length),n=0,i=arguments.length;n<i;n++)r[n]=arguments[n];for(n=0;n<e.length;n+=1){var o=e[n].apply(t,r);"undefined"!==typeof o&&(t=o)}return t};return n._chained=e,n},i.chainPathBefore=function(e,t,r){return i.set(e,t,i.chain(r,i.get(e,t)))},i.chainPathAfter=function(e,t,r){return i.set(e,t,i.chain(i.get(e,t),r))},i.setDecomp=function(e){i._decomp=e},i.getDecomp=function(){var t=i._decomp;try{t||"undefined"===typeof window||(t=window.decomp),t||"undefined"===typeof n.g||(t=n.g.decomp)}catch(e){t=null}return t}}()},function(e,t){var r={};e.exports=r,r.create=function(e){var t={min:{x:0,y:0},max:{x:0,y:0}};return e&&r.update(t,e),t},r.update=function(e,t,r){e.min.x=1/0,e.max.x=-1/0,e.min.y=1/0,e.max.y=-1/0;for(var n=0;n<t.length;n++){var i=t[n];i.x>e.max.x&&(e.max.x=i.x),i.x<e.min.x&&(e.min.x=i.x),i.y>e.max.y&&(e.max.y=i.y),i.y<e.min.y&&(e.min.y=i.y)}r&&(r.x>0?e.max.x+=r.x:e.min.x+=r.x,r.y>0?e.max.y+=r.y:e.min.y+=r.y)},r.contains=function(e,t){return t.x>=e.min.x&&t.x<=e.max.x&&t.y>=e.min.y&&t.y<=e.max.y},r.overlaps=function(e,t){return e.min.x<=t.max.x&&e.max.x>=t.min.x&&e.max.y>=t.min.y&&e.min.y<=t.max.y},r.translate=function(e,t){e.min.x+=t.x,e.max.x+=t.x,e.min.y+=t.y,e.max.y+=t.y},r.shift=function(e,t){var r=e.max.x-e.min.x,n=e.max.y-e.min.y;e.min.x=t.x,e.max.x=t.x+r,e.min.y=t.y,e.max.y=t.y+n}},function(e,t){var r={};e.exports=r,r.create=function(e,t){return{x:e||0,y:t||0}},r.clone=function(e){return{x:e.x,y:e.y}},r.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},r.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},r.rotate=function(e,t,r){var n=Math.cos(t),i=Math.sin(t);r||(r={});var o=e.x*n-e.y*i;return r.y=e.x*i+e.y*n,r.x=o,r},r.rotateAbout=function(e,t,r,n){var i=Math.cos(t),o=Math.sin(t);n||(n={});var a=r.x+((e.x-r.x)*i-(e.y-r.y)*o);return n.y=r.y+((e.x-r.x)*o+(e.y-r.y)*i),n.x=a,n},r.normalise=function(e){var t=r.magnitude(e);return 0===t?{x:0,y:0}:{x:e.x/t,y:e.y/t}},r.dot=function(e,t){return e.x*t.x+e.y*t.y},r.cross=function(e,t){return e.x*t.y-e.y*t.x},r.cross3=function(e,t,r){return(t.x-e.x)*(r.y-e.y)-(t.y-e.y)*(r.x-e.x)},r.add=function(e,t,r){return r||(r={}),r.x=e.x+t.x,r.y=e.y+t.y,r},r.sub=function(e,t,r){return r||(r={}),r.x=e.x-t.x,r.y=e.y-t.y,r},r.mult=function(e,t){return{x:e.x*t,y:e.y*t}},r.div=function(e,t){return{x:e.x/t,y:e.y/t}},r.perp=function(e,t){return{x:(t=!0===t?-1:1)*-e.y,y:t*e.x}},r.neg=function(e){return{x:-e.x,y:-e.y}},r.angle=function(e,t){return Math.atan2(t.y-e.y,t.x-e.x)},r._temp=[r.create(),r.create(),r.create(),r.create(),r.create(),r.create()]},function(e,t,r){var n={};e.exports=n;var i=r(2),o=r(0);n.create=function(e,t){for(var r=[],n=0;n<e.length;n++){var i=e[n],o={x:i.x,y:i.y,index:n,body:t,isInternal:!1};r.push(o)}return r},n.fromPath=function(e,t){var r=[];return e.replace(/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/gi,(function(e,t,n){r.push({x:parseFloat(t),y:parseFloat(n)})})),n.create(r,t)},n.centre=function(e){for(var t,r,o,a=n.area(e,!0),s={x:0,y:0},l=0;l<e.length;l++)o=(l+1)%e.length,t=i.cross(e[l],e[o]),r=i.mult(i.add(e[l],e[o]),t),s=i.add(s,r);return i.div(s,6*a)},n.mean=function(e){for(var t={x:0,y:0},r=0;r<e.length;r++)t.x+=e[r].x,t.y+=e[r].y;return i.div(t,e.length)},n.area=function(e,t){for(var r=0,n=e.length-1,i=0;i<e.length;i++)r+=(e[n].x-e[i].x)*(e[n].y+e[i].y),n=i;return t?r/2:Math.abs(r)/2},n.inertia=function(e,t){for(var r,n,o=0,a=0,s=e,l=0;l<s.length;l++)n=(l+1)%s.length,o+=(r=Math.abs(i.cross(s[n],s[l])))*(i.dot(s[n],s[n])+i.dot(s[n],s[l])+i.dot(s[l],s[l])),a+=r;return t/6*(o/a)},n.translate=function(e,t,r){r="undefined"!==typeof r?r:1;var n,i=e.length,o=t.x*r,a=t.y*r;for(n=0;n<i;n++)e[n].x+=o,e[n].y+=a;return e},n.rotate=function(e,t,r){if(0!==t){var n,i,o,a,s=Math.cos(t),l=Math.sin(t),u=r.x,c=r.y,d=e.length;for(a=0;a<d;a++)i=(n=e[a]).x-u,o=n.y-c,n.x=u+(i*s-o*l),n.y=c+(i*l+o*s);return e}},n.contains=function(e,t){for(var r,n=t.x,i=t.y,o=e.length,a=e[o-1],s=0;s<o;s++){if(r=e[s],(n-a.x)*(r.y-a.y)+(i-a.y)*(a.x-r.x)>0)return!1;a=r}return!0},n.scale=function(e,t,r,o){if(1===t&&1===r)return e;var a,s;o=o||n.centre(e);for(var l=0;l<e.length;l++)a=e[l],s=i.sub(a,o),e[l].x=o.x+s.x*t,e[l].y=o.y+s.y*r;return e},n.chamfer=function(e,t,r,n,a){t="number"===typeof t?[t]:t||[8],r="undefined"!==typeof r?r:-1,n=n||2,a=a||14;for(var s=[],l=0;l<e.length;l++){var u=e[l-1>=0?l-1:e.length-1],c=e[l],d=e[(l+1)%e.length],f=t[l<t.length?l:t.length-1];if(0!==f){var h=i.normalise({x:c.y-u.y,y:u.x-c.x}),p=i.normalise({x:d.y-c.y,y:c.x-d.x}),m=Math.sqrt(2*Math.pow(f,2)),g=i.mult(o.clone(h),f),y=i.normalise(i.mult(i.add(h,p),.5)),v=i.sub(c,i.mult(y,m)),b=r;-1===r&&(b=1.75*Math.pow(f,.32)),(b=o.clamp(b,n,a))%2===1&&(b+=1);for(var _=Math.acos(i.dot(h,p))/b,w=0;w<b;w++)s.push(i.add(i.rotate(g,_*w),v))}else s.push(c)}return s},n.clockwiseSort=function(e){var t=n.mean(e);return e.sort((function(e,r){return i.angle(t,e)-i.angle(t,r)})),e},n.isConvex=function(e){var t,r,n,i,o=0,a=e.length;if(a<3)return null;for(t=0;t<a;t++)if(n=(t+2)%a,i=(e[r=(t+1)%a].x-e[t].x)*(e[n].y-e[r].y),(i-=(e[r].y-e[t].y)*(e[n].x-e[r].x))<0?o|=1:i>0&&(o|=2),3===o)return!1;return 0!==o||null},n.hull=function(e){var t,r,n=[],o=[];for((e=e.slice(0)).sort((function(e,t){var r=e.x-t.x;return 0!==r?r:e.y-t.y})),r=0;r<e.length;r+=1){for(t=e[r];o.length>=2&&i.cross3(o[o.length-2],o[o.length-1],t)<=0;)o.pop();o.push(t)}for(r=e.length-1;r>=0;r-=1){for(t=e[r];n.length>=2&&i.cross3(n[n.length-2],n[n.length-1],t)<=0;)n.pop();n.push(t)}return n.pop(),o.pop(),n.concat(o)}},function(e,t,r){var n={};e.exports=n;var i=r(3),o=r(2),a=r(7),s=r(0),l=r(1),u=r(11);!function(){n._timeCorrection=!0,n._inertiaScale=4,n._nextCollidingGroupId=1,n._nextNonCollidingGroupId=-1,n._nextCategory=1,n._baseDelta=1e3/60,n.create=function(t){var r={id:s.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:i.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,deltaTime:1e3/60,_original:null},n=s.extend(r,t);return e(n,t),n},n.nextGroup=function(e){return e?n._nextNonCollidingGroupId--:n._nextCollidingGroupId++},n.nextCategory=function(){return n._nextCategory=n._nextCategory<<1,n._nextCategory};var e=function(e,t){t=t||{},n.set(e,{bounds:e.bounds||l.create(e.vertices),positionPrev:e.positionPrev||o.clone(e.position),anglePrev:e.anglePrev||e.angle,vertices:e.vertices,parts:e.parts||[e],isStatic:e.isStatic,isSleeping:e.isSleeping,parent:e.parent||e}),i.rotate(e.vertices,e.angle,e.position),u.rotate(e.axes,e.angle),l.update(e.bounds,e.vertices,e.velocity),n.set(e,{axes:t.axes||e.axes,area:t.area||e.area,mass:t.mass||e.mass,inertia:t.inertia||e.inertia});var r=e.isStatic?"#14151f":s.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),a=e.isStatic?"#555":"#ccc",c=e.isStatic&&null===e.render.fillStyle?1:0;e.render.fillStyle=e.render.fillStyle||r,e.render.strokeStyle=e.render.strokeStyle||a,e.render.lineWidth=e.render.lineWidth||c,e.render.sprite.xOffset+=-(e.bounds.min.x-e.position.x)/(e.bounds.max.x-e.bounds.min.x),e.render.sprite.yOffset+=-(e.bounds.min.y-e.position.y)/(e.bounds.max.y-e.bounds.min.y)};n.set=function(e,t,r){var i;for(i in"string"===typeof t&&(i=t,(t={})[i]=r),t)if(Object.prototype.hasOwnProperty.call(t,i))switch(r=t[i],i){case"isStatic":n.setStatic(e,r);break;case"isSleeping":a.set(e,r);break;case"mass":n.setMass(e,r);break;case"density":n.setDensity(e,r);break;case"inertia":n.setInertia(e,r);break;case"vertices":n.setVertices(e,r);break;case"position":n.setPosition(e,r);break;case"angle":n.setAngle(e,r);break;case"velocity":n.setVelocity(e,r);break;case"angularVelocity":n.setAngularVelocity(e,r);break;case"speed":n.setSpeed(e,r);break;case"angularSpeed":n.setAngularSpeed(e,r);break;case"parts":n.setParts(e,r);break;case"centre":n.setCentre(e,r);break;default:e[i]=r}},n.setStatic=function(e,t){for(var r=0;r<e.parts.length;r++){var n=e.parts[r];n.isStatic=t,t?(n._original={restitution:n.restitution,friction:n.friction,mass:n.mass,inertia:n.inertia,density:n.density,inverseMass:n.inverseMass,inverseInertia:n.inverseInertia},n.restitution=0,n.friction=1,n.mass=n.inertia=n.density=1/0,n.inverseMass=n.inverseInertia=0,n.positionPrev.x=n.position.x,n.positionPrev.y=n.position.y,n.anglePrev=n.angle,n.angularVelocity=0,n.speed=0,n.angularSpeed=0,n.motion=0):n._original&&(n.restitution=n._original.restitution,n.friction=n._original.friction,n.mass=n._original.mass,n.inertia=n._original.inertia,n.density=n._original.density,n.inverseMass=n._original.inverseMass,n.inverseInertia=n._original.inverseInertia,n._original=null)}},n.setMass=function(e,t){var r=e.inertia/(e.mass/6);e.inertia=r*(t/6),e.inverseInertia=1/e.inertia,e.mass=t,e.inverseMass=1/e.mass,e.density=e.mass/e.area},n.setDensity=function(e,t){n.setMass(e,t*e.area),e.density=t},n.setInertia=function(e,t){e.inertia=t,e.inverseInertia=1/e.inertia},n.setVertices=function(e,t){t[0].body===e?e.vertices=t:e.vertices=i.create(t,e),e.axes=u.fromVertices(e.vertices),e.area=i.area(e.vertices),n.setMass(e,e.density*e.area);var r=i.centre(e.vertices);i.translate(e.vertices,r,-1),n.setInertia(e,n._inertiaScale*i.inertia(e.vertices,e.mass)),i.translate(e.vertices,e.position),l.update(e.bounds,e.vertices,e.velocity)},n.setParts=function(e,t,r){var o;for(t=t.slice(0),e.parts.length=0,e.parts.push(e),e.parent=e,o=0;o<t.length;o++){var a=t[o];a!==e&&(a.parent=e,e.parts.push(a))}if(1!==e.parts.length){if(r="undefined"===typeof r||r){var s=[];for(o=0;o<t.length;o++)s=s.concat(t[o].vertices);i.clockwiseSort(s);var l=i.hull(s),u=i.centre(l);n.setVertices(e,l),i.translate(e.vertices,u)}var c=n._totalProperties(e);e.area=c.area,e.parent=e,e.position.x=c.centre.x,e.position.y=c.centre.y,e.positionPrev.x=c.centre.x,e.positionPrev.y=c.centre.y,n.setMass(e,c.mass),n.setInertia(e,c.inertia),n.setPosition(e,c.centre)}},n.setCentre=function(e,t,r){r?(e.positionPrev.x+=t.x,e.positionPrev.y+=t.y,e.position.x+=t.x,e.position.y+=t.y):(e.positionPrev.x=t.x-(e.position.x-e.positionPrev.x),e.positionPrev.y=t.y-(e.position.y-e.positionPrev.y),e.position.x=t.x,e.position.y=t.y)},n.setPosition=function(e,t,r){var n=o.sub(t,e.position);r?(e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.velocity.x=n.x,e.velocity.y=n.y,e.speed=o.magnitude(n)):(e.positionPrev.x+=n.x,e.positionPrev.y+=n.y);for(var a=0;a<e.parts.length;a++){var s=e.parts[a];s.position.x+=n.x,s.position.y+=n.y,i.translate(s.vertices,n),l.update(s.bounds,s.vertices,e.velocity)}},n.setAngle=function(e,t,r){var n=t-e.angle;r?(e.anglePrev=e.angle,e.angularVelocity=n,e.angularSpeed=Math.abs(n)):e.anglePrev+=n;for(var a=0;a<e.parts.length;a++){var s=e.parts[a];s.angle+=n,i.rotate(s.vertices,n,e.position),u.rotate(s.axes,n),l.update(s.bounds,s.vertices,e.velocity),a>0&&o.rotateAbout(s.position,n,e.position,s.position)}},n.setVelocity=function(e,t){var r=e.deltaTime/n._baseDelta;e.positionPrev.x=e.position.x-t.x*r,e.positionPrev.y=e.position.y-t.y*r,e.velocity.x=(e.position.x-e.positionPrev.x)/r,e.velocity.y=(e.position.y-e.positionPrev.y)/r,e.speed=o.magnitude(e.velocity)},n.getVelocity=function(e){var t=n._baseDelta/e.deltaTime;return{x:(e.position.x-e.positionPrev.x)*t,y:(e.position.y-e.positionPrev.y)*t}},n.getSpeed=function(e){return o.magnitude(n.getVelocity(e))},n.setSpeed=function(e,t){n.setVelocity(e,o.mult(o.normalise(n.getVelocity(e)),t))},n.setAngularVelocity=function(e,t){var r=e.deltaTime/n._baseDelta;e.anglePrev=e.angle-t*r,e.angularVelocity=(e.angle-e.anglePrev)/r,e.angularSpeed=Math.abs(e.angularVelocity)},n.getAngularVelocity=function(e){return(e.angle-e.anglePrev)*n._baseDelta/e.deltaTime},n.getAngularSpeed=function(e){return Math.abs(n.getAngularVelocity(e))},n.setAngularSpeed=function(e,t){n.setAngularVelocity(e,s.sign(n.getAngularVelocity(e))*t)},n.translate=function(e,t,r){n.setPosition(e,o.add(e.position,t),r)},n.rotate=function(e,t,r,i){if(r){var o=Math.cos(t),a=Math.sin(t),s=e.position.x-r.x,l=e.position.y-r.y;n.setPosition(e,{x:r.x+(s*o-l*a),y:r.y+(s*a+l*o)},i),n.setAngle(e,e.angle+t,i)}else n.setAngle(e,e.angle+t,i)},n.scale=function(e,t,r,o){var a=0,s=0;o=o||e.position;for(var c=0;c<e.parts.length;c++){var d=e.parts[c];i.scale(d.vertices,t,r,o),d.axes=u.fromVertices(d.vertices),d.area=i.area(d.vertices),n.setMass(d,e.density*d.area),i.translate(d.vertices,{x:-d.position.x,y:-d.position.y}),n.setInertia(d,n._inertiaScale*i.inertia(d.vertices,d.mass)),i.translate(d.vertices,{x:d.position.x,y:d.position.y}),c>0&&(a+=d.area,s+=d.inertia),d.position.x=o.x+(d.position.x-o.x)*t,d.position.y=o.y+(d.position.y-o.y)*r,l.update(d.bounds,d.vertices,e.velocity)}e.parts.length>1&&(e.area=a,e.isStatic||(n.setMass(e,e.density*a),n.setInertia(e,s))),e.circleRadius&&(t===r?e.circleRadius*=t:e.circleRadius=null)},n.update=function(e,t){var r=(t=("undefined"!==typeof t?t:1e3/60)*e.timeScale)*t,a=n._timeCorrection?t/(e.deltaTime||t):1,c=1-e.frictionAir*(t/s._baseDelta),d=(e.position.x-e.positionPrev.x)*a,f=(e.position.y-e.positionPrev.y)*a;e.velocity.x=d*c+e.force.x/e.mass*r,e.velocity.y=f*c+e.force.y/e.mass*r,e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.position.x+=e.velocity.x,e.position.y+=e.velocity.y,e.deltaTime=t,e.angularVelocity=(e.angle-e.anglePrev)*c*a+e.torque/e.inertia*r,e.anglePrev=e.angle,e.angle+=e.angularVelocity;for(var h=0;h<e.parts.length;h++){var p=e.parts[h];i.translate(p.vertices,e.velocity),h>0&&(p.position.x+=e.velocity.x,p.position.y+=e.velocity.y),0!==e.angularVelocity&&(i.rotate(p.vertices,e.angularVelocity,e.position),u.rotate(p.axes,e.angularVelocity),h>0&&o.rotateAbout(p.position,e.angularVelocity,e.position,p.position)),l.update(p.bounds,p.vertices,e.velocity)}},n.updateVelocities=function(e){var t=n._baseDelta/e.deltaTime,r=e.velocity;r.x=(e.position.x-e.positionPrev.x)*t,r.y=(e.position.y-e.positionPrev.y)*t,e.speed=Math.sqrt(r.x*r.x+r.y*r.y),e.angularVelocity=(e.angle-e.anglePrev)*t,e.angularSpeed=Math.abs(e.angularVelocity)},n.applyForce=function(e,t,r){var n=t.x-e.position.x,i=t.y-e.position.y;e.force.x+=r.x,e.force.y+=r.y,e.torque+=n*r.y-i*r.x},n._totalProperties=function(e){for(var t={mass:0,area:0,inertia:0,centre:{x:0,y:0}},r=1===e.parts.length?0:1;r<e.parts.length;r++){var n=e.parts[r],i=n.mass!==1/0?n.mass:1;t.mass+=i,t.area+=n.area,t.inertia+=n.inertia,t.centre=o.add(t.centre,o.mult(n.position,i))}return t.centre=o.div(t.centre,t.mass),t}}()},function(e,t,r){var n={};e.exports=n;var i=r(0);n.on=function(e,t,r){for(var n,i=t.split(" "),o=0;o<i.length;o++)n=i[o],e.events=e.events||{},e.events[n]=e.events[n]||[],e.events[n].push(r);return r},n.off=function(e,t,r){if(t){"function"===typeof t&&(r=t,t=i.keys(e.events).join(" "));for(var n=t.split(" "),o=0;o<n.length;o++){var a=e.events[n[o]],s=[];if(r&&a)for(var l=0;l<a.length;l++)a[l]!==r&&s.push(a[l]);e.events[n[o]]=s}}else e.events={}},n.trigger=function(e,t,r){var n,o,a,s,l=e.events;if(l&&i.keys(l).length>0){r||(r={}),n=t.split(" ");for(var u=0;u<n.length;u++)if(a=l[o=n[u]]){(s=i.clone(r,!1)).name=o,s.source=e;for(var c=0;c<a.length;c++)a[c].apply(e,[s])}}}},function(e,t,r){var n={};e.exports=n;var i=r(5),o=r(0),a=r(1),s=r(4);n.create=function(e){return o.extend({id:o.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},e)},n.setModified=function(e,t,r,i){if(e.isModified=t,t&&e.cache&&(e.cache.allBodies=null,e.cache.allConstraints=null,e.cache.allComposites=null),r&&e.parent&&n.setModified(e.parent,t,r,i),i)for(var o=0;o<e.composites.length;o++){var a=e.composites[o];n.setModified(a,t,r,i)}},n.add=function(e,t){var r=[].concat(t);i.trigger(e,"beforeAdd",{object:t});for(var a=0;a<r.length;a++){var s=r[a];switch(s.type){case"body":if(s.parent!==s){o.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}n.addBody(e,s);break;case"constraint":n.addConstraint(e,s);break;case"composite":n.addComposite(e,s);break;case"mouseConstraint":n.addConstraint(e,s.constraint)}}return i.trigger(e,"afterAdd",{object:t}),e},n.remove=function(e,t,r){var o=[].concat(t);i.trigger(e,"beforeRemove",{object:t});for(var a=0;a<o.length;a++){var s=o[a];switch(s.type){case"body":n.removeBody(e,s,r);break;case"constraint":n.removeConstraint(e,s,r);break;case"composite":n.removeComposite(e,s,r);break;case"mouseConstraint":n.removeConstraint(e,s.constraint)}}return i.trigger(e,"afterRemove",{object:t}),e},n.addComposite=function(e,t){return e.composites.push(t),t.parent=e,n.setModified(e,!0,!0,!1),e},n.removeComposite=function(e,t,r){var i=o.indexOf(e.composites,t);if(-1!==i&&n.removeCompositeAt(e,i),r)for(var a=0;a<e.composites.length;a++)n.removeComposite(e.composites[a],t,!0);return e},n.removeCompositeAt=function(e,t){return e.composites.splice(t,1),n.setModified(e,!0,!0,!1),e},n.addBody=function(e,t){return e.bodies.push(t),n.setModified(e,!0,!0,!1),e},n.removeBody=function(e,t,r){var i=o.indexOf(e.bodies,t);if(-1!==i&&n.removeBodyAt(e,i),r)for(var a=0;a<e.composites.length;a++)n.removeBody(e.composites[a],t,!0);return e},n.removeBodyAt=function(e,t){return e.bodies.splice(t,1),n.setModified(e,!0,!0,!1),e},n.addConstraint=function(e,t){return e.constraints.push(t),n.setModified(e,!0,!0,!1),e},n.removeConstraint=function(e,t,r){var i=o.indexOf(e.constraints,t);if(-1!==i&&n.removeConstraintAt(e,i),r)for(var a=0;a<e.composites.length;a++)n.removeConstraint(e.composites[a],t,!0);return e},n.removeConstraintAt=function(e,t){return e.constraints.splice(t,1),n.setModified(e,!0,!0,!1),e},n.clear=function(e,t,r){if(r)for(var i=0;i<e.composites.length;i++)n.clear(e.composites[i],t,!0);return t?e.bodies=e.bodies.filter((function(e){return e.isStatic})):e.bodies.length=0,e.constraints.length=0,e.composites.length=0,n.setModified(e,!0,!0,!1),e},n.allBodies=function(e){if(e.cache&&e.cache.allBodies)return e.cache.allBodies;for(var t=[].concat(e.bodies),r=0;r<e.composites.length;r++)t=t.concat(n.allBodies(e.composites[r]));return e.cache&&(e.cache.allBodies=t),t},n.allConstraints=function(e){if(e.cache&&e.cache.allConstraints)return e.cache.allConstraints;for(var t=[].concat(e.constraints),r=0;r<e.composites.length;r++)t=t.concat(n.allConstraints(e.composites[r]));return e.cache&&(e.cache.allConstraints=t),t},n.allComposites=function(e){if(e.cache&&e.cache.allComposites)return e.cache.allComposites;for(var t=[].concat(e.composites),r=0;r<e.composites.length;r++)t=t.concat(n.allComposites(e.composites[r]));return e.cache&&(e.cache.allComposites=t),t},n.get=function(e,t,r){var i,o;switch(r){case"body":i=n.allBodies(e);break;case"constraint":i=n.allConstraints(e);break;case"composite":i=n.allComposites(e).concat(e)}return i?0===(o=i.filter((function(e){return e.id.toString()===t.toString()}))).length?null:o[0]:null},n.move=function(e,t,r){return n.remove(e,t),n.add(r,t),e},n.rebase=function(e){for(var t=n.allBodies(e).concat(n.allConstraints(e)).concat(n.allComposites(e)),r=0;r<t.length;r++)t[r].id=o.nextId();return e},n.translate=function(e,t,r){for(var i=r?n.allBodies(e):e.bodies,o=0;o<i.length;o++)s.translate(i[o],t);return e},n.rotate=function(e,t,r,i){for(var o=Math.cos(t),a=Math.sin(t),l=i?n.allBodies(e):e.bodies,u=0;u<l.length;u++){var c=l[u],d=c.position.x-r.x,f=c.position.y-r.y;s.setPosition(c,{x:r.x+(d*o-f*a),y:r.y+(d*a+f*o)}),s.rotate(c,t)}return e},n.scale=function(e,t,r,i,o){for(var a=o?n.allBodies(e):e.bodies,l=0;l<a.length;l++){var u=a[l],c=u.position.x-i.x,d=u.position.y-i.y;s.setPosition(u,{x:i.x+c*t,y:i.y+d*r}),s.scale(u,t,r)}return e},n.bounds=function(e){for(var t=n.allBodies(e),r=[],i=0;i<t.length;i+=1){var o=t[i];r.push(o.bounds.min,o.bounds.max)}return a.create(r)}},function(e,t,r){var n={};e.exports=n;var i=r(4),o=r(5),a=r(0);n._motionWakeThreshold=.18,n._motionSleepThreshold=.08,n._minBias=.9,n.update=function(e,t){for(var r=t/a._baseDelta,o=n._motionSleepThreshold,s=0;s<e.length;s++){var l=e[s],u=i.getSpeed(l),c=i.getAngularSpeed(l),d=u*u+c*c;if(0===l.force.x&&0===l.force.y){var f=Math.min(l.motion,d),h=Math.max(l.motion,d);l.motion=n._minBias*f+(1-n._minBias)*h,l.sleepThreshold>0&&l.motion<o?(l.sleepCounter+=1,l.sleepCounter>=l.sleepThreshold/r&&n.set(l,!0)):l.sleepCounter>0&&(l.sleepCounter-=1)}else n.set(l,!1)}},n.afterCollisions=function(e){for(var t=n._motionSleepThreshold,r=0;r<e.length;r++){var i=e[r];if(i.isActive){var o=i.collision,a=o.bodyA.parent,s=o.bodyB.parent;if(!(a.isSleeping&&s.isSleeping||a.isStatic||s.isStatic)&&(a.isSleeping||s.isSleeping)){var l=a.isSleeping&&!a.isStatic?a:s,u=l===a?s:a;!l.isStatic&&u.motion>t&&n.set(l,!1)}}}},n.set=function(e,t){var r=e.isSleeping;t?(e.isSleeping=!0,e.sleepCounter=e.sleepThreshold,e.positionImpulse.x=0,e.positionImpulse.y=0,e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.anglePrev=e.angle,e.speed=0,e.angularSpeed=0,e.motion=0,r||o.trigger(e,"sleepStart")):(e.isSleeping=!1,e.sleepCounter=0,r&&o.trigger(e,"sleepEnd"))}},function(e,t,r){var n={};e.exports=n;var i=r(3),o=r(9);!function(){var e=[],t={overlap:0,axis:null},r={overlap:0,axis:null};n.create=function(e,t){return{pair:null,collided:!1,bodyA:e,bodyB:t,parentA:e.parent,parentB:t.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[]}},n.collides=function(e,a,s){if(n._overlapAxes(t,e.vertices,a.vertices,e.axes),t.overlap<=0)return null;if(n._overlapAxes(r,a.vertices,e.vertices,a.axes),r.overlap<=0)return null;var l,u,c=s&&s.table[o.id(e,a)];c?l=c.collision:((l=n.create(e,a)).collided=!0,l.bodyA=e.id<a.id?e:a,l.bodyB=e.id<a.id?a:e,l.parentA=l.bodyA.parent,l.parentB=l.bodyB.parent),e=l.bodyA,a=l.bodyB,u=t.overlap<r.overlap?t:r;var d=l.normal,f=l.supports,h=u.axis,p=h.x,m=h.y;p*(a.position.x-e.position.x)+m*(a.position.y-e.position.y)<0?(d.x=p,d.y=m):(d.x=-p,d.y=-m),l.tangent.x=-d.y,l.tangent.y=d.x,l.depth=u.overlap,l.penetration.x=d.x*l.depth,l.penetration.y=d.y*l.depth;var g=n._findSupports(e,a,d,1),y=0;if(i.contains(e.vertices,g[0])&&(f[y++]=g[0]),i.contains(e.vertices,g[1])&&(f[y++]=g[1]),y<2){var v=n._findSupports(a,e,d,-1);i.contains(a.vertices,v[0])&&(f[y++]=v[0]),y<2&&i.contains(a.vertices,v[1])&&(f[y++]=v[1])}return 0===y&&(f[y++]=g[0]),f.length=y,l},n._overlapAxes=function(e,t,r,n){var i,o,a,s,l,u,c=t.length,d=r.length,f=t[0].x,h=t[0].y,p=r[0].x,m=r[0].y,g=n.length,y=Number.MAX_VALUE,v=0;for(l=0;l<g;l++){var b=n[l],_=b.x,w=b.y,E=f*_+h*w,x=p*_+m*w,S=E,T=x;for(u=1;u<c;u+=1)(s=t[u].x*_+t[u].y*w)>S?S=s:s<E&&(E=s);for(u=1;u<d;u+=1)(s=r[u].x*_+r[u].y*w)>T?T=s:s<x&&(x=s);if((i=(o=S-x)<(a=T-E)?o:a)<y&&(y=i,v=l,i<=0))break}e.axis=n[v],e.overlap=y},n._projectToAxis=function(e,t,r){for(var n=t[0].x*r.x+t[0].y*r.y,i=n,o=1;o<t.length;o+=1){var a=t[o].x*r.x+t[o].y*r.y;a>i?i=a:a<n&&(n=a)}e.min=n,e.max=i},n._findSupports=function(t,r,n,i){var o,a,s,l,u,c=r.vertices,d=c.length,f=t.position.x,h=t.position.y,p=n.x*i,m=n.y*i,g=Number.MAX_VALUE;for(u=0;u<d;u+=1)(l=p*(f-(a=c[u]).x)+m*(h-a.y))<g&&(g=l,o=a);return g=p*(f-(s=c[(d+o.index-1)%d]).x)+m*(h-s.y),p*(f-(a=c[(o.index+1)%d]).x)+m*(h-a.y)<g?(e[0]=o,e[1]=a,e):(e[0]=o,e[1]=s,e)}}()},function(e,t,r){var n={};e.exports=n;var i=r(16);n.create=function(e,t){var r=e.bodyA,i=e.bodyB,o={id:n.id(r,i),bodyA:r,bodyB:i,collision:e,contacts:[],activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:r.isSensor||i.isSensor,timeCreated:t,timeUpdated:t,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return n.update(o,e,t),o},n.update=function(e,t,r){var n=e.contacts,o=t.supports,a=e.activeContacts,s=t.parentA,l=t.parentB,u=s.vertices.length;e.isActive=!0,e.timeUpdated=r,e.collision=t,e.separation=t.depth,e.inverseMass=s.inverseMass+l.inverseMass,e.friction=s.friction<l.friction?s.friction:l.friction,e.frictionStatic=s.frictionStatic>l.frictionStatic?s.frictionStatic:l.frictionStatic,e.restitution=s.restitution>l.restitution?s.restitution:l.restitution,e.slop=s.slop>l.slop?s.slop:l.slop,t.pair=e,a.length=0;for(var c=0;c<o.length;c++){var d=o[c],f=d.body===s?d.index:u+d.index,h=n[f];h?a.push(h):a.push(n[f]=i.create(d))}},n.setActive=function(e,t,r){t?(e.isActive=!0,e.timeUpdated=r):(e.isActive=!1,e.activeContacts.length=0)},n.id=function(e,t){return e.id<t.id?"A"+e.id+"B"+t.id:"A"+t.id+"B"+e.id}},function(e,t,r){var n={};e.exports=n;var i=r(3),o=r(2),a=r(7),s=r(1),l=r(11),u=r(0);n._warming=.4,n._torqueDampen=1,n._minLength=1e-6,n.create=function(e){var t=e;t.bodyA&&!t.pointA&&(t.pointA={x:0,y:0}),t.bodyB&&!t.pointB&&(t.pointB={x:0,y:0});var r=t.bodyA?o.add(t.bodyA.position,t.pointA):t.pointA,n=t.bodyB?o.add(t.bodyB.position,t.pointB):t.pointB,i=o.magnitude(o.sub(r,n));t.length="undefined"!==typeof t.length?t.length:i,t.id=t.id||u.nextId(),t.label=t.label||"Constraint",t.type="constraint",t.stiffness=t.stiffness||(t.length>0?1:.7),t.damping=t.damping||0,t.angularStiffness=t.angularStiffness||0,t.angleA=t.bodyA?t.bodyA.angle:t.angleA,t.angleB=t.bodyB?t.bodyB.angle:t.angleB,t.plugin={};var a={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return 0===t.length&&t.stiffness>.1?(a.type="pin",a.anchors=!1):t.stiffness<.9&&(a.type="spring"),t.render=u.extend(a,t.render),t},n.preSolveAll=function(e){for(var t=0;t<e.length;t+=1){var r=e[t],n=r.constraintImpulse;r.isStatic||0===n.x&&0===n.y&&0===n.angle||(r.position.x+=n.x,r.position.y+=n.y,r.angle+=n.angle)}},n.solveAll=function(e,t){for(var r=u.clamp(t/u._baseDelta,0,1),i=0;i<e.length;i+=1){var o=e[i],a=!o.bodyA||o.bodyA&&o.bodyA.isStatic,s=!o.bodyB||o.bodyB&&o.bodyB.isStatic;(a||s)&&n.solve(e[i],r)}for(i=0;i<e.length;i+=1)a=!(o=e[i]).bodyA||o.bodyA&&o.bodyA.isStatic,s=!o.bodyB||o.bodyB&&o.bodyB.isStatic,a||s||n.solve(e[i],r)},n.solve=function(e,t){var r=e.bodyA,i=e.bodyB,a=e.pointA,s=e.pointB;if(r||i){r&&!r.isStatic&&(o.rotate(a,r.angle-e.angleA,a),e.angleA=r.angle),i&&!i.isStatic&&(o.rotate(s,i.angle-e.angleB,s),e.angleB=i.angle);var l=a,u=s;if(r&&(l=o.add(r.position,a)),i&&(u=o.add(i.position,s)),l&&u){var c=o.sub(l,u),d=o.magnitude(c);d<n._minLength&&(d=n._minLength);var f,h,p,m,g,y=(d-e.length)/d,v=e.stiffness>=1||0===e.length?e.stiffness*t:e.stiffness*t*t,b=e.damping*t,_=o.mult(c,y*v),w=(r?r.inverseMass:0)+(i?i.inverseMass:0),E=w+((r?r.inverseInertia:0)+(i?i.inverseInertia:0));if(b>0){var x=o.create();p=o.div(c,d),g=o.sub(i&&o.sub(i.position,i.positionPrev)||x,r&&o.sub(r.position,r.positionPrev)||x),m=o.dot(p,g)}r&&!r.isStatic&&(h=r.inverseMass/w,r.constraintImpulse.x-=_.x*h,r.constraintImpulse.y-=_.y*h,r.position.x-=_.x*h,r.position.y-=_.y*h,b>0&&(r.positionPrev.x-=b*p.x*m*h,r.positionPrev.y-=b*p.y*m*h),f=o.cross(a,_)/E*n._torqueDampen*r.inverseInertia*(1-e.angularStiffness),r.constraintImpulse.angle-=f,r.angle-=f),i&&!i.isStatic&&(h=i.inverseMass/w,i.constraintImpulse.x+=_.x*h,i.constraintImpulse.y+=_.y*h,i.position.x+=_.x*h,i.position.y+=_.y*h,b>0&&(i.positionPrev.x+=b*p.x*m*h,i.positionPrev.y+=b*p.y*m*h),f=o.cross(s,_)/E*n._torqueDampen*i.inverseInertia*(1-e.angularStiffness),i.constraintImpulse.angle+=f,i.angle+=f)}}},n.postSolveAll=function(e){for(var t=0;t<e.length;t++){var r=e[t],u=r.constraintImpulse;if(!(r.isStatic||0===u.x&&0===u.y&&0===u.angle)){a.set(r,!1);for(var c=0;c<r.parts.length;c++){var d=r.parts[c];i.translate(d.vertices,u),c>0&&(d.position.x+=u.x,d.position.y+=u.y),0!==u.angle&&(i.rotate(d.vertices,u.angle,r.position),l.rotate(d.axes,u.angle),c>0&&o.rotateAbout(d.position,u.angle,r.position,d.position)),s.update(d.bounds,d.vertices,r.velocity)}u.angle*=n._warming,u.x*=n._warming,u.y*=n._warming}}},n.pointAWorld=function(e){return{x:(e.bodyA?e.bodyA.position.x:0)+(e.pointA?e.pointA.x:0),y:(e.bodyA?e.bodyA.position.y:0)+(e.pointA?e.pointA.y:0)}},n.pointBWorld=function(e){return{x:(e.bodyB?e.bodyB.position.x:0)+(e.pointB?e.pointB.x:0),y:(e.bodyB?e.bodyB.position.y:0)+(e.pointB?e.pointB.y:0)}}},function(e,t,r){var n={};e.exports=n;var i=r(2),o=r(0);n.fromVertices=function(e){for(var t={},r=0;r<e.length;r++){var n=(r+1)%e.length,a=i.normalise({x:e[n].y-e[r].y,y:e[r].x-e[n].x}),s=0===a.y?1/0:a.x/a.y;t[s=s.toFixed(3).toString()]=a}return o.values(t)},n.rotate=function(e,t){if(0!==t)for(var r=Math.cos(t),n=Math.sin(t),i=0;i<e.length;i++){var o,a=e[i];o=a.x*r-a.y*n,a.y=a.x*n+a.y*r,a.x=o}}},function(e,t,r){var n={};e.exports=n;var i=r(3),o=r(0),a=r(4),s=r(1),l=r(2);n.rectangle=function(e,t,r,n,s){s=s||{};var l={label:"Rectangle Body",position:{x:e,y:t},vertices:i.fromPath("L 0 0 L "+r+" 0 L "+r+" "+n+" L 0 "+n)};if(s.chamfer){var u=s.chamfer;l.vertices=i.chamfer(l.vertices,u.radius,u.quality,u.qualityMin,u.qualityMax),delete s.chamfer}return a.create(o.extend({},l,s))},n.trapezoid=function(e,t,r,n,s,l){l=l||{};var u,c=r*(s*=.5),d=c+(1-2*s)*r,f=d+c;u=s<.5?"L 0 0 L "+c+" "+-n+" L "+d+" "+-n+" L "+f+" 0":"L 0 0 L "+d+" "+-n+" L "+f+" 0";var h={label:"Trapezoid Body",position:{x:e,y:t},vertices:i.fromPath(u)};if(l.chamfer){var p=l.chamfer;h.vertices=i.chamfer(h.vertices,p.radius,p.quality,p.qualityMin,p.qualityMax),delete l.chamfer}return a.create(o.extend({},h,l))},n.circle=function(e,t,r,i,a){i=i||{};var s={label:"Circle Body",circleRadius:r};a=a||25;var l=Math.ceil(Math.max(10,Math.min(a,r)));return l%2===1&&(l+=1),n.polygon(e,t,l,r,o.extend({},s,i))},n.polygon=function(e,t,r,s,l){if(l=l||{},r<3)return n.circle(e,t,s,l);for(var u=2*Math.PI/r,c="",d=.5*u,f=0;f<r;f+=1){var h=d+f*u,p=Math.cos(h)*s,m=Math.sin(h)*s;c+="L "+p.toFixed(3)+" "+m.toFixed(3)+" "}var g={label:"Polygon Body",position:{x:e,y:t},vertices:i.fromPath(c)};if(l.chamfer){var y=l.chamfer;g.vertices=i.chamfer(g.vertices,y.radius,y.quality,y.qualityMin,y.qualityMax),delete l.chamfer}return a.create(o.extend({},g,l))},n.fromVertices=function(e,t,r,n,u,c,d,f){var h,p,m,g,y,v,b,_,w,E,x=o.getDecomp();for(h=Boolean(x&&x.quickDecomp),n=n||{},m=[],u="undefined"!==typeof u&&u,c="undefined"!==typeof c?c:.01,d="undefined"!==typeof d?d:10,f="undefined"!==typeof f?f:.01,o.isArray(r[0])||(r=[r]),w=0;w<r.length;w+=1)if(y=r[w],!(g=i.isConvex(y))&&!h&&o.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),g||!h)y=g?i.clockwiseSort(y):i.hull(y),m.push({position:{x:e,y:t},vertices:y});else{var S=y.map((function(e){return[e.x,e.y]}));x.makeCCW(S),!1!==c&&x.removeCollinearPoints(S,c),!1!==f&&x.removeDuplicatePoints&&x.removeDuplicatePoints(S,f);var T=x.quickDecomp(S);for(v=0;v<T.length;v++){var A=T[v].map((function(e){return{x:e[0],y:e[1]}}));d>0&&i.area(A)<d||m.push({position:i.centre(A),vertices:A})}}for(v=0;v<m.length;v++)m[v]=a.create(o.extend(m[v],n));if(u)for(v=0;v<m.length;v++){var M=m[v];for(b=v+1;b<m.length;b++){var R=m[b];if(s.overlaps(M.bounds,R.bounds)){var C=M.vertices,I=R.vertices;for(_=0;_<M.vertices.length;_++)for(E=0;E<R.vertices.length;E++){var k=l.magnitudeSquared(l.sub(C[(_+1)%C.length],I[E])),P=l.magnitudeSquared(l.sub(C[_],I[(E+1)%I.length]));k<5&&P<5&&(C[_].isInternal=!0,I[E].isInternal=!0)}}}}return m.length>1?(p=a.create(o.extend({parts:m.slice(0)},n)),a.setPosition(p,{x:e,y:t}),p):m[0]}},function(e,t,r){var n={};e.exports=n;var i=r(0),o=r(8);n.create=function(e){return i.extend({bodies:[],pairs:null},e)},n.setBodies=function(e,t){e.bodies=t.slice(0)},n.clear=function(e){e.bodies=[]},n.collisions=function(e){var t,r,i=[],a=e.pairs,s=e.bodies,l=s.length,u=n.canCollide,c=o.collides;for(s.sort(n._compareBoundsX),t=0;t<l;t++){var d=s[t],f=d.bounds,h=d.bounds.max.x,p=d.bounds.max.y,m=d.bounds.min.y,g=d.isStatic||d.isSleeping,y=d.parts.length,v=1===y;for(r=t+1;r<l;r++){var b=s[r];if((M=b.bounds).min.x>h)break;if(!(p<M.min.y||m>M.max.y)&&(!g||!b.isStatic&&!b.isSleeping)&&u(d.collisionFilter,b.collisionFilter)){var _=b.parts.length;if(v&&1===_)(T=c(d,b,a))&&i.push(T);else for(var w=_>1?1:0,E=y>1?1:0;E<y;E++)for(var x=d.parts[E],S=(f=x.bounds,w);S<_;S++){var T,A=b.parts[S],M=A.bounds;f.min.x>M.max.x||f.max.x<M.min.x||f.max.y<M.min.y||f.min.y>M.max.y||(T=c(x,A,a))&&i.push(T)}}}}return i},n.canCollide=function(e,t){return e.group===t.group&&0!==e.group?e.group>0:0!==(e.mask&t.category)&&0!==(t.mask&e.category)},n._compareBoundsX=function(e,t){return e.bounds.min.x-t.bounds.min.x}},function(e,t,r){var n={};e.exports=n;var i=r(0);n.create=function(e){var t={};return e||i.log("Mouse.create: element was undefined, defaulting to document.body","warn"),t.element=e||document.body,t.absolute={x:0,y:0},t.position={x:0,y:0},t.mousedownPosition={x:0,y:0},t.mouseupPosition={x:0,y:0},t.offset={x:0,y:0},t.scale={x:1,y:1},t.wheelDelta=0,t.button=-1,t.pixelRatio=parseInt(t.element.getAttribute("data-pixel-ratio"),10)||1,t.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},t.mousemove=function(e){var r=n._getRelativeMousePosition(e,t.element,t.pixelRatio);e.changedTouches&&(t.button=0,e.preventDefault()),t.absolute.x=r.x,t.absolute.y=r.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y,t.sourceEvents.mousemove=e},t.mousedown=function(e){var r=n._getRelativeMousePosition(e,t.element,t.pixelRatio);e.changedTouches?(t.button=0,e.preventDefault()):t.button=e.button,t.absolute.x=r.x,t.absolute.y=r.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y,t.mousedownPosition.x=t.position.x,t.mousedownPosition.y=t.position.y,t.sourceEvents.mousedown=e},t.mouseup=function(e){var r=n._getRelativeMousePosition(e,t.element,t.pixelRatio);e.changedTouches&&e.preventDefault(),t.button=-1,t.absolute.x=r.x,t.absolute.y=r.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y,t.mouseupPosition.x=t.position.x,t.mouseupPosition.y=t.position.y,t.sourceEvents.mouseup=e},t.mousewheel=function(e){t.wheelDelta=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail)),e.preventDefault()},n.setElement(t,t.element),t},n.setElement=function(e,t){e.element=t,t.addEventListener("mousemove",e.mousemove),t.addEventListener("mousedown",e.mousedown),t.addEventListener("mouseup",e.mouseup),t.addEventListener("mousewheel",e.mousewheel),t.addEventListener("DOMMouseScroll",e.mousewheel),t.addEventListener("touchmove",e.mousemove),t.addEventListener("touchstart",e.mousedown),t.addEventListener("touchend",e.mouseup)},n.clearSourceEvents=function(e){e.sourceEvents.mousemove=null,e.sourceEvents.mousedown=null,e.sourceEvents.mouseup=null,e.sourceEvents.mousewheel=null,e.wheelDelta=0},n.setOffset=function(e,t){e.offset.x=t.x,e.offset.y=t.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y},n.setScale=function(e,t){e.scale.x=t.x,e.scale.y=t.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y},n._getRelativeMousePosition=function(e,t,r){var n,i,o=t.getBoundingClientRect(),a=document.documentElement||document.body.parentNode||document.body,s=void 0!==window.pageXOffset?window.pageXOffset:a.scrollLeft,l=void 0!==window.pageYOffset?window.pageYOffset:a.scrollTop,u=e.changedTouches;return u?(n=u[0].pageX-o.left-s,i=u[0].pageY-o.top-l):(n=e.pageX-o.left-s,i=e.pageY-o.top-l),{x:n/(t.clientWidth/(t.width||t.clientWidth)*r),y:i/(t.clientHeight/(t.height||t.clientHeight)*r)}}},function(e,t,r){var n={};e.exports=n;var i=r(0);n._registry={},n.register=function(e){if(n.isPlugin(e)||i.warn("Plugin.register:",n.toString(e),"does not implement all required fields."),e.name in n._registry){var t=n._registry[e.name],r=n.versionParse(e.version).number,o=n.versionParse(t.version).number;r>o?(i.warn("Plugin.register:",n.toString(t),"was upgraded to",n.toString(e)),n._registry[e.name]=e):r<o?i.warn("Plugin.register:",n.toString(t),"can not be downgraded to",n.toString(e)):e!==t&&i.warn("Plugin.register:",n.toString(e),"is already registered to different plugin object")}else n._registry[e.name]=e;return e},n.resolve=function(e){return n._registry[n.dependencyParse(e).name]},n.toString=function(e){return"string"===typeof e?e:(e.name||"anonymous")+"@"+(e.version||e.range||"0.0.0")},n.isPlugin=function(e){return e&&e.name&&e.version&&e.install},n.isUsed=function(e,t){return e.used.indexOf(t)>-1},n.isFor=function(e,t){var r=e.for&&n.dependencyParse(e.for);return!e.for||t.name===r.name&&n.versionSatisfies(t.version,r.range)},n.use=function(e,t){if(e.uses=(e.uses||[]).concat(t||[]),0!==e.uses.length){for(var r=n.dependencies(e),o=i.topologicalSort(r),a=[],s=0;s<o.length;s+=1)if(o[s]!==e.name){var l=n.resolve(o[s]);l?n.isUsed(e,l.name)||(n.isFor(l,e)||(i.warn("Plugin.use:",n.toString(l),"is for",l.for,"but installed on",n.toString(e)+"."),l._warned=!0),l.install?l.install(e):(i.warn("Plugin.use:",n.toString(l),"does not specify an install function."),l._warned=!0),l._warned?(a.push("\ud83d\udd36 "+n.toString(l)),delete l._warned):a.push("\u2705 "+n.toString(l)),e.used.push(l.name)):a.push("\u274c "+o[s])}a.length>0&&i.info(a.join("  "))}else i.warn("Plugin.use:",n.toString(e),"does not specify any dependencies to install.")},n.dependencies=function(e,t){var r=n.dependencyParse(e),o=r.name;if(!(o in(t=t||{}))){e=n.resolve(e)||e,t[o]=i.map(e.uses||[],(function(t){n.isPlugin(t)&&n.register(t);var o=n.dependencyParse(t),a=n.resolve(t);return a&&!n.versionSatisfies(a.version,o.range)?(i.warn("Plugin.dependencies:",n.toString(a),"does not satisfy",n.toString(o),"used by",n.toString(r)+"."),a._warned=!0,e._warned=!0):a||(i.warn("Plugin.dependencies:",n.toString(t),"used by",n.toString(r),"could not be resolved."),e._warned=!0),o.name}));for(var a=0;a<t[o].length;a+=1)n.dependencies(t[o][a],t);return t}},n.dependencyParse=function(e){return i.isString(e)?(/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/.test(e)||i.warn("Plugin.dependencyParse:",e,"is not a valid dependency string."),{name:e.split("@")[0],range:e.split("@")[1]||"*"}):{name:e.name,range:e.range||e.version}},n.versionParse=function(e){var t=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;t.test(e)||i.warn("Plugin.versionParse:",e,"is not a valid version or range.");var r=t.exec(e),n=Number(r[4]),o=Number(r[5]),a=Number(r[6]);return{isRange:Boolean(r[1]||r[2]),version:r[3],range:e,operator:r[1]||r[2]||"",major:n,minor:o,patch:a,parts:[n,o,a],prerelease:r[7],number:1e8*n+1e4*o+a}},n.versionSatisfies=function(e,t){t=t||"*";var r=n.versionParse(t),i=n.versionParse(e);if(r.isRange){if("*"===r.operator||"*"===e)return!0;if(">"===r.operator)return i.number>r.number;if(">="===r.operator)return i.number>=r.number;if("~"===r.operator)return i.major===r.major&&i.minor===r.minor&&i.patch>=r.patch;if("^"===r.operator)return r.major>0?i.major===r.major&&i.number>=r.number:r.minor>0?i.minor===r.minor&&i.patch>=r.patch:i.patch===r.patch}return e===t||"*"===e}},function(e,t){var r={};e.exports=r,r.create=function(e){return{vertex:e,normalImpulse:0,tangentImpulse:0}}},function(e,t,r){var n={};e.exports=n;var i=r(7),o=r(18),a=r(13),s=r(19),l=r(5),u=r(6),c=r(10),d=r(0),f=r(4);n.create=function(e){e=e||{};var t=d.extend({positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0}},e);return t.world=e.world||u.create({label:"World"}),t.pairs=e.pairs||s.create(),t.detector=e.detector||a.create(),t.grid={buckets:[]},t.world.gravity=t.gravity,t.broadphase=t.grid,t.metrics={},t},n.update=function(e,t){var r,f=d.now(),h=e.world,p=e.detector,m=e.pairs,g=e.timing,y=g.timestamp;t="undefined"!==typeof t?t:d._baseDelta,t*=g.timeScale,g.timestamp+=t,g.lastDelta=t;var v={timestamp:g.timestamp,delta:t};l.trigger(e,"beforeUpdate",v);var b=u.allBodies(h),_=u.allConstraints(h);for(h.isModified&&(a.setBodies(p,b),u.setModified(h,!1,!1,!0)),e.enableSleeping&&i.update(b,t),n._bodiesApplyGravity(b,e.gravity),t>0&&n._bodiesUpdate(b,t),c.preSolveAll(b),r=0;r<e.constraintIterations;r++)c.solveAll(_,t);c.postSolveAll(b),p.pairs=e.pairs;var w=a.collisions(p);s.update(m,w,y),e.enableSleeping&&i.afterCollisions(m.list),m.collisionStart.length>0&&l.trigger(e,"collisionStart",{pairs:m.collisionStart});var E=d.clamp(20/e.positionIterations,0,1);for(o.preSolvePosition(m.list),r=0;r<e.positionIterations;r++)o.solvePosition(m.list,t,E);for(o.postSolvePosition(b),c.preSolveAll(b),r=0;r<e.constraintIterations;r++)c.solveAll(_,t);for(c.postSolveAll(b),o.preSolveVelocity(m.list),r=0;r<e.velocityIterations;r++)o.solveVelocity(m.list,t);return n._bodiesUpdateVelocities(b),m.collisionActive.length>0&&l.trigger(e,"collisionActive",{pairs:m.collisionActive}),m.collisionEnd.length>0&&l.trigger(e,"collisionEnd",{pairs:m.collisionEnd}),n._bodiesClearForces(b),l.trigger(e,"afterUpdate",v),e.timing.lastElapsed=d.now()-f,e},n.merge=function(e,t){if(d.extend(e,t),t.world){e.world=t.world,n.clear(e);for(var r=u.allBodies(e.world),o=0;o<r.length;o++){var a=r[o];i.set(a,!1),a.id=d.nextId()}}},n.clear=function(e){s.clear(e.pairs),a.clear(e.detector)},n._bodiesClearForces=function(e){for(var t=e.length,r=0;r<t;r++){var n=e[r];n.force.x=0,n.force.y=0,n.torque=0}},n._bodiesApplyGravity=function(e,t){var r="undefined"!==typeof t.scale?t.scale:.001,n=e.length;if((0!==t.x||0!==t.y)&&0!==r)for(var i=0;i<n;i++){var o=e[i];o.isStatic||o.isSleeping||(o.force.y+=o.mass*t.y*r,o.force.x+=o.mass*t.x*r)}},n._bodiesUpdate=function(e,t){for(var r=e.length,n=0;n<r;n++){var i=e[n];i.isStatic||i.isSleeping||f.update(i,t)}},n._bodiesUpdateVelocities=function(e){for(var t=e.length,r=0;r<t;r++)f.updateVelocities(e[r])}},function(e,t,r){var n={};e.exports=n;var i=r(3),o=r(0),a=r(1);n._restingThresh=2,n._restingThreshTangent=Math.sqrt(6),n._positionDampen=.9,n._positionWarming=.8,n._frictionNormalMultiplier=5,n._frictionMaxStatic=Number.MAX_VALUE,n.preSolvePosition=function(e){var t,r,n,i=e.length;for(t=0;t<i;t++)(r=e[t]).isActive&&(n=r.activeContacts.length,r.collision.parentA.totalContacts+=n,r.collision.parentB.totalContacts+=n)},n.solvePosition=function(e,t,r){var i,a,s,l,u,c,d,f,h=n._positionDampen*(r||1),p=o.clamp(t/o._baseDelta,0,1),m=e.length;for(i=0;i<m;i++)(a=e[i]).isActive&&!a.isSensor&&(l=(s=a.collision).parentA,u=s.parentB,c=s.normal,a.separation=c.x*(u.positionImpulse.x+s.penetration.x-l.positionImpulse.x)+c.y*(u.positionImpulse.y+s.penetration.y-l.positionImpulse.y));for(i=0;i<m;i++)(a=e[i]).isActive&&!a.isSensor&&(l=(s=a.collision).parentA,u=s.parentB,c=s.normal,f=a.separation-a.slop*p,(l.isStatic||u.isStatic)&&(f*=2),l.isStatic||l.isSleeping||(d=h/l.totalContacts,l.positionImpulse.x+=c.x*f*d,l.positionImpulse.y+=c.y*f*d),u.isStatic||u.isSleeping||(d=h/u.totalContacts,u.positionImpulse.x-=c.x*f*d,u.positionImpulse.y-=c.y*f*d))},n.postSolvePosition=function(e){for(var t=n._positionWarming,r=e.length,o=i.translate,s=a.update,l=0;l<r;l++){var u=e[l],c=u.positionImpulse,d=c.x,f=c.y,h=u.velocity;if(u.totalContacts=0,0!==d||0!==f){for(var p=0;p<u.parts.length;p++){var m=u.parts[p];o(m.vertices,c),s(m.bounds,m.vertices,h),m.position.x+=d,m.position.y+=f}u.positionPrev.x+=d,u.positionPrev.y+=f,d*h.x+f*h.y<0?(c.x=0,c.y=0):(c.x*=t,c.y*=t)}}},n.preSolveVelocity=function(e){var t,r,n=e.length;for(t=0;t<n;t++){var i=e[t];if(i.isActive&&!i.isSensor){var o=i.activeContacts,a=o.length,s=i.collision,l=s.parentA,u=s.parentB,c=s.normal,d=s.tangent;for(r=0;r<a;r++){var f=o[r],h=f.vertex,p=f.normalImpulse,m=f.tangentImpulse;if(0!==p||0!==m){var g=c.x*p+d.x*m,y=c.y*p+d.y*m;l.isStatic||l.isSleeping||(l.positionPrev.x+=g*l.inverseMass,l.positionPrev.y+=y*l.inverseMass,l.anglePrev+=l.inverseInertia*((h.x-l.position.x)*y-(h.y-l.position.y)*g)),u.isStatic||u.isSleeping||(u.positionPrev.x-=g*u.inverseMass,u.positionPrev.y-=y*u.inverseMass,u.anglePrev-=u.inverseInertia*((h.x-u.position.x)*y-(h.y-u.position.y)*g))}}}}},n.solveVelocity=function(e,t){var r,i,a,s,l=t/o._baseDelta,u=l*l*l,c=-n._restingThresh*l,d=n._restingThreshTangent,f=n._frictionNormalMultiplier*l,h=n._frictionMaxStatic,p=e.length;for(a=0;a<p;a++){var m=e[a];if(m.isActive&&!m.isSensor){var g=m.collision,y=g.parentA,v=g.parentB,b=y.velocity,_=v.velocity,w=g.normal.x,E=g.normal.y,x=g.tangent.x,S=g.tangent.y,T=m.activeContacts,A=T.length,M=1/A,R=y.inverseMass+v.inverseMass,C=m.friction*m.frictionStatic*f;for(b.x=y.position.x-y.positionPrev.x,b.y=y.position.y-y.positionPrev.y,_.x=v.position.x-v.positionPrev.x,_.y=v.position.y-v.positionPrev.y,y.angularVelocity=y.angle-y.anglePrev,v.angularVelocity=v.angle-v.anglePrev,s=0;s<A;s++){var I=T[s],k=I.vertex,P=k.x-y.position.x,O=k.y-y.position.y,j=k.x-v.position.x,N=k.y-v.position.y,L=b.x-O*y.angularVelocity,D=b.y+P*y.angularVelocity,F=L-(_.x-N*v.angularVelocity),U=D-(_.y+j*v.angularVelocity),B=w*F+E*U,G=x*F+S*U,z=m.separation+B,V=Math.min(z,1),H=(V=z<0?0:V)*C;G<-H||G>H?(i=G>0?G:-G,(r=m.friction*(G>0?1:-1)*u)<-i?r=-i:r>i&&(r=i)):(r=G,i=h);var W=P*E-O*w,Z=j*E-N*w,q=M/(R+y.inverseInertia*W*W+v.inverseInertia*Z*Z),Y=(1+m.restitution)*B*q;if(r*=q,B<c)I.normalImpulse=0;else{var X=I.normalImpulse;I.normalImpulse+=Y,I.normalImpulse>0&&(I.normalImpulse=0),Y=I.normalImpulse-X}if(G<-d||G>d)I.tangentImpulse=0;else{var K=I.tangentImpulse;I.tangentImpulse+=r,I.tangentImpulse<-i&&(I.tangentImpulse=-i),I.tangentImpulse>i&&(I.tangentImpulse=i),r=I.tangentImpulse-K}var Q=w*Y+x*r,$=E*Y+S*r;y.isStatic||y.isSleeping||(y.positionPrev.x+=Q*y.inverseMass,y.positionPrev.y+=$*y.inverseMass,y.anglePrev+=(P*$-O*Q)*y.inverseInertia),v.isStatic||v.isSleeping||(v.positionPrev.x-=Q*v.inverseMass,v.positionPrev.y-=$*v.inverseMass,v.anglePrev-=(j*$-N*Q)*v.inverseInertia)}}}}},function(e,t,r){var n={};e.exports=n;var i=r(9),o=r(0);n.create=function(e){return o.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},e)},n.update=function(e,t,r){var n,o,a,s,l=e.list,u=l.length,c=e.table,d=t.length,f=e.collisionStart,h=e.collisionEnd,p=e.collisionActive;for(f.length=0,h.length=0,p.length=0,s=0;s<u;s++)l[s].confirmedActive=!1;for(s=0;s<d;s++)(a=(n=t[s]).pair)?(a.isActive?p.push(a):f.push(a),i.update(a,n,r),a.confirmedActive=!0):(c[(a=i.create(n,r)).id]=a,f.push(a),l.push(a));var m=[];for(u=l.length,s=0;s<u;s++)(a=l[s]).confirmedActive||(i.setActive(a,!1,r),h.push(a),a.collision.bodyA.isSleeping||a.collision.bodyB.isSleeping||m.push(s));for(s=0;s<m.length;s++)a=l[o=m[s]-s],l.splice(o,1),delete c[a.id]},n.clear=function(e){return e.table={},e.list.length=0,e.collisionStart.length=0,e.collisionActive.length=0,e.collisionEnd.length=0,e}},function(e,t,r){var n=e.exports=r(21);n.Axes=r(11),n.Bodies=r(12),n.Body=r(4),n.Bounds=r(1),n.Collision=r(8),n.Common=r(0),n.Composite=r(6),n.Composites=r(22),n.Constraint=r(10),n.Contact=r(16),n.Detector=r(13),n.Engine=r(17),n.Events=r(5),n.Grid=r(23),n.Mouse=r(14),n.MouseConstraint=r(24),n.Pair=r(9),n.Pairs=r(19),n.Plugin=r(15),n.Query=r(25),n.Render=r(26),n.Resolver=r(18),n.Runner=r(27),n.SAT=r(28),n.Sleeping=r(7),n.Svg=r(29),n.Vector=r(2),n.Vertices=r(3),n.World=r(30),n.Engine.run=n.Runner.run,n.Common.deprecated(n.Engine,"run","Engine.run \u27a4 use Matter.Runner.run(engine) instead")},function(e,t,r){var n={};e.exports=n;var i=r(15),o=r(0);n.name="matter-js",n.version="0.19.0",n.uses=[],n.used=[],n.use=function(){i.use(n,Array.prototype.slice.call(arguments))},n.before=function(e,t){return e=e.replace(/^Matter./,""),o.chainPathBefore(n,e,t)},n.after=function(e,t){return e=e.replace(/^Matter./,""),o.chainPathAfter(n,e,t)}},function(e,t,r){var n={};e.exports=n;var i=r(6),o=r(10),a=r(0),s=r(4),l=r(12),u=a.deprecated;n.stack=function(e,t,r,n,o,a,l){for(var u,c=i.create({label:"Stack"}),d=e,f=t,h=0,p=0;p<n;p++){for(var m=0,g=0;g<r;g++){var y=l(d,f,g,p,u,h);if(y){var v=y.bounds.max.y-y.bounds.min.y,b=y.bounds.max.x-y.bounds.min.x;v>m&&(m=v),s.translate(y,{x:.5*b,y:.5*v}),d=y.bounds.max.x+o,i.addBody(c,y),u=y,h+=1}else d+=o}f+=m+a,d=e}return c},n.chain=function(e,t,r,n,s,l){for(var u=e.bodies,c=1;c<u.length;c++){var d=u[c-1],f=u[c],h=d.bounds.max.y-d.bounds.min.y,p=d.bounds.max.x-d.bounds.min.x,m=f.bounds.max.y-f.bounds.min.y,g={bodyA:d,pointA:{x:p*t,y:h*r},bodyB:f,pointB:{x:(f.bounds.max.x-f.bounds.min.x)*n,y:m*s}},y=a.extend(g,l);i.addConstraint(e,o.create(y))}return e.label+=" Chain",e},n.mesh=function(e,t,r,n,s){var l,u,c,d,f,h=e.bodies;for(l=0;l<r;l++){for(u=1;u<t;u++)c=h[u-1+l*t],d=h[u+l*t],i.addConstraint(e,o.create(a.extend({bodyA:c,bodyB:d},s)));if(l>0)for(u=0;u<t;u++)c=h[u+(l-1)*t],d=h[u+l*t],i.addConstraint(e,o.create(a.extend({bodyA:c,bodyB:d},s))),n&&u>0&&(f=h[u-1+(l-1)*t],i.addConstraint(e,o.create(a.extend({bodyA:f,bodyB:d},s)))),n&&u<t-1&&(f=h[u+1+(l-1)*t],i.addConstraint(e,o.create(a.extend({bodyA:f,bodyB:d},s))))}return e.label+=" Mesh",e},n.pyramid=function(e,t,r,i,o,a,l){return n.stack(e,t,r,i,o,a,(function(t,n,a,u,c,d){var f=Math.min(i,Math.ceil(r/2)),h=c?c.bounds.max.x-c.bounds.min.x:0;if(!(u>f)&&!(a<(u=f-u)||a>r-1-u))return 1===d&&s.translate(c,{x:(a+(r%2===1?1:-1))*h,y:0}),l(e+(c?a*h:0)+a*o,n,a,u,c,d)}))},n.newtonsCradle=function(e,t,r,n,a){for(var s=i.create({label:"Newtons Cradle"}),u=0;u<r;u++){var c=l.circle(e+u*(1.9*n),t+a,n,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),d=o.create({pointA:{x:e+u*(1.9*n),y:t},bodyB:c});i.addBody(s,c),i.addConstraint(s,d)}return s},u(n,"newtonsCradle","Composites.newtonsCradle \u27a4 moved to newtonsCradle example"),n.car=function(e,t,r,n,a){var u=s.nextGroup(!0),c=.5*-r+20,d=.5*r-20,f=i.create({label:"Car"}),h=l.rectangle(e,t,r,n,{collisionFilter:{group:u},chamfer:{radius:.5*n},density:2e-4}),p=l.circle(e+c,t+0,a,{collisionFilter:{group:u},friction:.8}),m=l.circle(e+d,t+0,a,{collisionFilter:{group:u},friction:.8}),g=o.create({bodyB:h,pointB:{x:c,y:0},bodyA:p,stiffness:1,length:0}),y=o.create({bodyB:h,pointB:{x:d,y:0},bodyA:m,stiffness:1,length:0});return i.addBody(f,h),i.addBody(f,p),i.addBody(f,m),i.addConstraint(f,g),i.addConstraint(f,y),f},u(n,"car","Composites.car \u27a4 moved to car example"),n.softBody=function(e,t,r,i,o,s,u,c,d,f){d=a.extend({inertia:1/0},d),f=a.extend({stiffness:.2,render:{type:"line",anchors:!1}},f);var h=n.stack(e,t,r,i,o,s,(function(e,t){return l.circle(e,t,c,d)}));return n.mesh(h,r,i,u,f),h.label="Soft Body",h},u(n,"softBody","Composites.softBody \u27a4 moved to softBody and cloth examples")},function(e,t,r){var n={};e.exports=n;var i=r(9),o=r(0),a=o.deprecated;n.create=function(e){return o.extend({buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48},e)},n.update=function(e,t,r,i){var o,a,s,l,u,c=r.world,d=e.buckets,f=!1;for(o=0;o<t.length;o++){var h=t[o];if((!h.isSleeping||i)&&(!c.bounds||!(h.bounds.max.x<c.bounds.min.x||h.bounds.min.x>c.bounds.max.x||h.bounds.max.y<c.bounds.min.y||h.bounds.min.y>c.bounds.max.y))){var p=n._getRegion(e,h);if(!h.region||p.id!==h.region.id||i){h.region&&!i||(h.region=p);var m=n._regionUnion(p,h.region);for(a=m.startCol;a<=m.endCol;a++)for(s=m.startRow;s<=m.endRow;s++){l=d[u=n._getBucketId(a,s)];var g=a>=p.startCol&&a<=p.endCol&&s>=p.startRow&&s<=p.endRow,y=a>=h.region.startCol&&a<=h.region.endCol&&s>=h.region.startRow&&s<=h.region.endRow;!g&&y&&y&&l&&n._bucketRemoveBody(e,l,h),(h.region===p||g&&!y||i)&&(l||(l=n._createBucket(d,u)),n._bucketAddBody(e,l,h))}h.region=p,f=!0}}}f&&(e.pairsList=n._createActivePairsList(e))},a(n,"update","Grid.update \u27a4 replaced by Matter.Detector"),n.clear=function(e){e.buckets={},e.pairs={},e.pairsList=[]},a(n,"clear","Grid.clear \u27a4 replaced by Matter.Detector"),n._regionUnion=function(e,t){var r=Math.min(e.startCol,t.startCol),i=Math.max(e.endCol,t.endCol),o=Math.min(e.startRow,t.startRow),a=Math.max(e.endRow,t.endRow);return n._createRegion(r,i,o,a)},n._getRegion=function(e,t){var r=t.bounds,i=Math.floor(r.min.x/e.bucketWidth),o=Math.floor(r.max.x/e.bucketWidth),a=Math.floor(r.min.y/e.bucketHeight),s=Math.floor(r.max.y/e.bucketHeight);return n._createRegion(i,o,a,s)},n._createRegion=function(e,t,r,n){return{id:e+","+t+","+r+","+n,startCol:e,endCol:t,startRow:r,endRow:n}},n._getBucketId=function(e,t){return"C"+e+"R"+t},n._createBucket=function(e,t){return e[t]=[]},n._bucketAddBody=function(e,t,r){var n,o=e.pairs,a=i.id,s=t.length;for(n=0;n<s;n++){var l=t[n];if(!(r.id===l.id||r.isStatic&&l.isStatic)){var u=a(r,l),c=o[u];c?c[2]+=1:o[u]=[r,l,1]}}t.push(r)},n._bucketRemoveBody=function(e,t,r){var n,a=e.pairs,s=i.id;t.splice(o.indexOf(t,r),1);var l=t.length;for(n=0;n<l;n++){var u=a[s(r,t[n])];u&&(u[2]-=1)}},n._createActivePairsList=function(e){var t,r,n=e.pairs,i=o.keys(n),a=i.length,s=[];for(r=0;r<a;r++)(t=n[i[r]])[2]>0?s.push(t):delete n[i[r]];return s}},function(e,t,r){var n={};e.exports=n;var i=r(3),o=r(7),a=r(14),s=r(5),l=r(13),u=r(10),c=r(6),d=r(0),f=r(1);n.create=function(e,t){var r=(e?e.mouse:null)||(t?t.mouse:null);r||(e&&e.render&&e.render.canvas?r=a.create(e.render.canvas):t&&t.element?r=a.create(t.element):(r=a.create(),d.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var i={type:"mouseConstraint",mouse:r,element:null,body:null,constraint:u.create({label:"Mouse Constraint",pointA:r.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),collisionFilter:{category:1,mask:4294967295,group:0}},o=d.extend(i,t);return s.on(e,"beforeUpdate",(function(){var t=c.allBodies(e.world);n.update(o,t),n._triggerEvents(o)})),o},n.update=function(e,t){var r=e.mouse,n=e.constraint,a=e.body;if(0===r.button){if(n.bodyB)o.set(n.bodyB,!1),n.pointA=r.position;else for(var u=0;u<t.length;u++)if(a=t[u],f.contains(a.bounds,r.position)&&l.canCollide(a.collisionFilter,e.collisionFilter))for(var c=a.parts.length>1?1:0;c<a.parts.length;c++){var d=a.parts[c];if(i.contains(d.vertices,r.position)){n.pointA=r.position,n.bodyB=e.body=a,n.pointB={x:r.position.x-a.position.x,y:r.position.y-a.position.y},n.angleB=a.angle,o.set(a,!1),s.trigger(e,"startdrag",{mouse:r,body:a});break}}}else n.bodyB=e.body=null,n.pointB=null,a&&s.trigger(e,"enddrag",{mouse:r,body:a})},n._triggerEvents=function(e){var t=e.mouse,r=t.sourceEvents;r.mousemove&&s.trigger(e,"mousemove",{mouse:t}),r.mousedown&&s.trigger(e,"mousedown",{mouse:t}),r.mouseup&&s.trigger(e,"mouseup",{mouse:t}),a.clearSourceEvents(t)}},function(e,t,r){var n={};e.exports=n;var i=r(2),o=r(8),a=r(1),s=r(12),l=r(3);n.collides=function(e,t){for(var r=[],n=t.length,i=e.bounds,s=o.collides,l=a.overlaps,u=0;u<n;u++){var c=t[u],d=c.parts.length,f=1===d?0:1;if(l(c.bounds,i))for(var h=f;h<d;h++){var p=c.parts[h];if(l(p.bounds,i)){var m=s(p,e);if(m){r.push(m);break}}}}return r},n.ray=function(e,t,r,o){o=o||1e-100;for(var a=i.angle(t,r),l=i.magnitude(i.sub(t,r)),u=.5*(r.x+t.x),c=.5*(r.y+t.y),d=s.rectangle(u,c,l,o,{angle:a}),f=n.collides(d,e),h=0;h<f.length;h+=1){var p=f[h];p.body=p.bodyB=p.bodyA}return f},n.region=function(e,t,r){for(var n=[],i=0;i<e.length;i++){var o=e[i],s=a.overlaps(o.bounds,t);(s&&!r||!s&&r)&&n.push(o)}return n},n.point=function(e,t){for(var r=[],n=0;n<e.length;n++){var i=e[n];if(a.contains(i.bounds,t))for(var o=1===i.parts.length?0:1;o<i.parts.length;o++){var s=i.parts[o];if(a.contains(s.bounds,t)&&l.contains(s.vertices,t)){r.push(i);break}}}return r}},function(e,t,r){var n={};e.exports=n;var i=r(4),o=r(0),a=r(6),s=r(1),l=r(5),u=r(2),c=r(14);!function(){var e,t;"undefined"!==typeof window&&(e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout((function(){e(o.now())}),1e3/60)},t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),n._goodFps=30,n._goodDelta=1e3/60,n.create=function(e){var t={engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",hasBounds:!!e.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},r=o.extend(t,e);return r.canvas&&(r.canvas.width=r.options.width||r.canvas.width,r.canvas.height=r.options.height||r.canvas.height),r.mouse=e.mouse,r.engine=e.engine,r.canvas=r.canvas||f(r.options.width,r.options.height),r.context=r.canvas.getContext("2d"),r.textures={},r.bounds=r.bounds||{min:{x:0,y:0},max:{x:r.canvas.width,y:r.canvas.height}},r.controller=n,r.options.showBroadphase=!1,1!==r.options.pixelRatio&&n.setPixelRatio(r,r.options.pixelRatio),o.isElement(r.element)&&r.element.appendChild(r.canvas),r},n.run=function(t){!function i(o){t.frameRequestId=e(i),r(t,o),n.world(t,o),(t.options.showStats||t.options.showDebug)&&n.stats(t,t.context,o),(t.options.showPerformance||t.options.showDebug)&&n.performance(t,t.context,o)}()},n.stop=function(e){t(e.frameRequestId)},n.setPixelRatio=function(e,t){var r=e.options,n=e.canvas;"auto"===t&&(t=h(n)),r.pixelRatio=t,n.setAttribute("data-pixel-ratio",t),n.width=r.width*t,n.height=r.height*t,n.style.width=r.width+"px",n.style.height=r.height+"px"},n.lookAt=function(e,t,r,n){n="undefined"===typeof n||n,t=o.isArray(t)?t:[t],r=r||{x:0,y:0};for(var i={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},a=0;a<t.length;a+=1){var s=t[a],l=s.bounds?s.bounds.min:s.min||s.position||s,u=s.bounds?s.bounds.max:s.max||s.position||s;l&&u&&(l.x<i.min.x&&(i.min.x=l.x),u.x>i.max.x&&(i.max.x=u.x),l.y<i.min.y&&(i.min.y=l.y),u.y>i.max.y&&(i.max.y=u.y))}var d=i.max.x-i.min.x+2*r.x,f=i.max.y-i.min.y+2*r.y,h=e.canvas.height,p=e.canvas.width/h,m=d/f,g=1,y=1;m>p?y=m/p:g=p/m,e.options.hasBounds=!0,e.bounds.min.x=i.min.x,e.bounds.max.x=i.min.x+d*g,e.bounds.min.y=i.min.y,e.bounds.max.y=i.min.y+f*y,n&&(e.bounds.min.x+=.5*d-d*g*.5,e.bounds.max.x+=.5*d-d*g*.5,e.bounds.min.y+=.5*f-f*y*.5,e.bounds.max.y+=.5*f-f*y*.5),e.bounds.min.x-=r.x,e.bounds.max.x-=r.x,e.bounds.min.y-=r.y,e.bounds.max.y-=r.y,e.mouse&&(c.setScale(e.mouse,{x:(e.bounds.max.x-e.bounds.min.x)/e.canvas.width,y:(e.bounds.max.y-e.bounds.min.y)/e.canvas.height}),c.setOffset(e.mouse,e.bounds.min))},n.startViewTransform=function(e){var t=e.bounds.max.x-e.bounds.min.x,r=e.bounds.max.y-e.bounds.min.y,n=t/e.options.width,i=r/e.options.height;e.context.setTransform(e.options.pixelRatio/n,0,0,e.options.pixelRatio/i,0,0),e.context.translate(-e.bounds.min.x,-e.bounds.min.y)},n.endViewTransform=function(e){e.context.setTransform(e.options.pixelRatio,0,0,e.options.pixelRatio,0,0)},n.world=function(e,t){var r,i=o.now(),d=e.engine,f=d.world,h=e.canvas,p=e.context,g=e.options,y=e.timing,v=a.allBodies(f),b=a.allConstraints(f),_=g.wireframes?g.wireframeBackground:g.background,w=[],E=[],x={timestamp:d.timing.timestamp};if(l.trigger(e,"beforeRender",x),e.currentBackground!==_&&m(e,_),p.globalCompositeOperation="source-in",p.fillStyle="transparent",p.fillRect(0,0,h.width,h.height),p.globalCompositeOperation="source-over",g.hasBounds){for(r=0;r<v.length;r++){var S=v[r];s.overlaps(S.bounds,e.bounds)&&w.push(S)}for(r=0;r<b.length;r++){var T=b[r],A=T.bodyA,M=T.bodyB,R=T.pointA,C=T.pointB;A&&(R=u.add(A.position,T.pointA)),M&&(C=u.add(M.position,T.pointB)),R&&C&&(s.contains(e.bounds,R)||s.contains(e.bounds,C))&&E.push(T)}n.startViewTransform(e),e.mouse&&(c.setScale(e.mouse,{x:(e.bounds.max.x-e.bounds.min.x)/e.options.width,y:(e.bounds.max.y-e.bounds.min.y)/e.options.height}),c.setOffset(e.mouse,e.bounds.min))}else E=b,w=v,1!==e.options.pixelRatio&&e.context.setTransform(e.options.pixelRatio,0,0,e.options.pixelRatio,0,0);!g.wireframes||d.enableSleeping&&g.showSleeping?n.bodies(e,w,p):(g.showConvexHulls&&n.bodyConvexHulls(e,w,p),n.bodyWireframes(e,w,p)),g.showBounds&&n.bodyBounds(e,w,p),(g.showAxes||g.showAngleIndicator)&&n.bodyAxes(e,w,p),g.showPositions&&n.bodyPositions(e,w,p),g.showVelocity&&n.bodyVelocity(e,w,p),g.showIds&&n.bodyIds(e,w,p),g.showSeparations&&n.separations(e,d.pairs.list,p),g.showCollisions&&n.collisions(e,d.pairs.list,p),g.showVertexNumbers&&n.vertexNumbers(e,w,p),g.showMousePosition&&n.mousePosition(e,e.mouse,p),n.constraints(E,p),g.hasBounds&&n.endViewTransform(e),l.trigger(e,"afterRender",x),y.lastElapsed=o.now()-i},n.stats=function(e,t,r){for(var n=e.engine,i=n.world,o=a.allBodies(i),s=0,l=0,u=0;u<o.length;u+=1)s+=o[u].parts.length;var c={Part:s,Body:o.length,Cons:a.allConstraints(i).length,Comp:a.allComposites(i).length,Pair:n.pairs.list.length};for(var d in t.fillStyle="#0e0f19",t.fillRect(l,0,302.5,44),t.font="12px Arial",t.textBaseline="top",t.textAlign="right",c){var f=c[d];t.fillStyle="#aaa",t.fillText(d,l+55,8),t.fillStyle="#eee",t.fillText(f,l+55,26),l+=55}},n.performance=function(e,t){var r=e.engine,i=e.timing,o=i.deltaHistory,a=i.elapsedHistory,s=i.timestampElapsedHistory,l=i.engineDeltaHistory,u=i.engineElapsedHistory,c=r.timing.lastDelta,f=d(o),h=d(a),p=d(l),m=d(u),g=d(s)/f||0,y=1e3/f||0,v=60;t.fillStyle="#0e0f19",t.fillRect(0,50,370,34),n.status(t,10,69,v,4,o.length,Math.round(y)+" fps",y/n._goodFps,(function(e){return o[e]/f-1})),n.status(t,82,69,v,4,l.length,c.toFixed(2)+" dt",n._goodDelta/c,(function(e){return l[e]/p-1})),n.status(t,154,69,v,4,u.length,m.toFixed(2)+" ut",1-m/n._goodFps,(function(e){return u[e]/m-1})),n.status(t,226,69,v,4,a.length,h.toFixed(2)+" rt",1-h/n._goodFps,(function(e){return a[e]/h-1})),n.status(t,298,69,v,4,s.length,g.toFixed(2)+" x",g*g*g,(function(e){return(s[e]/o[e]/g||0)-1}))},n.status=function(e,t,r,n,i,a,s,l,u){e.strokeStyle="#888",e.fillStyle="#444",e.lineWidth=1,e.fillRect(t,r+7,n,1),e.beginPath(),e.moveTo(t,r+7-i*o.clamp(.4*u(0),-2,2));for(var c=0;c<n;c+=1)e.lineTo(t+c,r+7-(c<a?i*o.clamp(.4*u(c),-2,2):0));e.stroke(),e.fillStyle="hsl("+o.clamp(25+95*l,0,120)+",100%,60%)",e.fillRect(t,r-7,4,4),e.font="12px Arial",e.textBaseline="middle",e.textAlign="right",e.fillStyle="#eee",e.fillText(s,t+n,r-5)},n.constraints=function(e,t){for(var r=t,n=0;n<e.length;n++){var i=e[n];if(i.render.visible&&i.pointA&&i.pointB){var a,s,l=i.bodyA,c=i.bodyB;if(a=l?u.add(l.position,i.pointA):i.pointA,"pin"===i.render.type)r.beginPath(),r.arc(a.x,a.y,3,0,2*Math.PI),r.closePath();else{if(s=c?u.add(c.position,i.pointB):i.pointB,r.beginPath(),r.moveTo(a.x,a.y),"spring"===i.render.type)for(var d,f=u.sub(s,a),h=u.perp(u.normalise(f)),p=Math.ceil(o.clamp(i.length/5,12,20)),m=1;m<p;m+=1)d=m%2===0?1:-1,r.lineTo(a.x+f.x*(m/p)+h.x*d*4,a.y+f.y*(m/p)+h.y*d*4);r.lineTo(s.x,s.y)}i.render.lineWidth&&(r.lineWidth=i.render.lineWidth,r.strokeStyle=i.render.strokeStyle,r.stroke()),i.render.anchors&&(r.fillStyle=i.render.strokeStyle,r.beginPath(),r.arc(a.x,a.y,3,0,2*Math.PI),r.arc(s.x,s.y,3,0,2*Math.PI),r.closePath(),r.fill())}}},n.bodies=function(e,t,r){var n,i,o,a,s=r,l=(e.engine,e.options),u=l.showInternalEdges||!l.wireframes;for(o=0;o<t.length;o++)if((n=t[o]).render.visible)for(a=n.parts.length>1?1:0;a<n.parts.length;a++)if((i=n.parts[a]).render.visible){if(l.showSleeping&&n.isSleeping?s.globalAlpha=.5*i.render.opacity:1!==i.render.opacity&&(s.globalAlpha=i.render.opacity),i.render.sprite&&i.render.sprite.texture&&!l.wireframes){var c=i.render.sprite,d=p(e,c.texture);s.translate(i.position.x,i.position.y),s.rotate(i.angle),s.drawImage(d,d.width*-c.xOffset*c.xScale,d.height*-c.yOffset*c.yScale,d.width*c.xScale,d.height*c.yScale),s.rotate(-i.angle),s.translate(-i.position.x,-i.position.y)}else{if(i.circleRadius)s.beginPath(),s.arc(i.position.x,i.position.y,i.circleRadius,0,2*Math.PI);else{s.beginPath(),s.moveTo(i.vertices[0].x,i.vertices[0].y);for(var f=1;f<i.vertices.length;f++)!i.vertices[f-1].isInternal||u?s.lineTo(i.vertices[f].x,i.vertices[f].y):s.moveTo(i.vertices[f].x,i.vertices[f].y),i.vertices[f].isInternal&&!u&&s.moveTo(i.vertices[(f+1)%i.vertices.length].x,i.vertices[(f+1)%i.vertices.length].y);s.lineTo(i.vertices[0].x,i.vertices[0].y),s.closePath()}l.wireframes?(s.lineWidth=1,s.strokeStyle="#bbb",s.stroke()):(s.fillStyle=i.render.fillStyle,i.render.lineWidth&&(s.lineWidth=i.render.lineWidth,s.strokeStyle=i.render.strokeStyle,s.stroke()),s.fill())}s.globalAlpha=1}},n.bodyWireframes=function(e,t,r){var n,i,o,a,s,l=r,u=e.options.showInternalEdges;for(l.beginPath(),o=0;o<t.length;o++)if((n=t[o]).render.visible)for(s=n.parts.length>1?1:0;s<n.parts.length;s++){for(i=n.parts[s],l.moveTo(i.vertices[0].x,i.vertices[0].y),a=1;a<i.vertices.length;a++)!i.vertices[a-1].isInternal||u?l.lineTo(i.vertices[a].x,i.vertices[a].y):l.moveTo(i.vertices[a].x,i.vertices[a].y),i.vertices[a].isInternal&&!u&&l.moveTo(i.vertices[(a+1)%i.vertices.length].x,i.vertices[(a+1)%i.vertices.length].y);l.lineTo(i.vertices[0].x,i.vertices[0].y)}l.lineWidth=1,l.strokeStyle="#bbb",l.stroke()},n.bodyConvexHulls=function(e,t,r){var n,i,o,a=r;for(a.beginPath(),i=0;i<t.length;i++)if((n=t[i]).render.visible&&1!==n.parts.length){for(a.moveTo(n.vertices[0].x,n.vertices[0].y),o=1;o<n.vertices.length;o++)a.lineTo(n.vertices[o].x,n.vertices[o].y);a.lineTo(n.vertices[0].x,n.vertices[0].y)}a.lineWidth=1,a.strokeStyle="rgba(255,255,255,0.2)",a.stroke()},n.vertexNumbers=function(e,t,r){var n,i,o,a=r;for(n=0;n<t.length;n++){var s=t[n].parts;for(o=s.length>1?1:0;o<s.length;o++){var l=s[o];for(i=0;i<l.vertices.length;i++)a.fillStyle="rgba(255,255,255,0.2)",a.fillText(n+"_"+i,l.position.x+.8*(l.vertices[i].x-l.position.x),l.position.y+.8*(l.vertices[i].y-l.position.y))}}},n.mousePosition=function(e,t,r){var n=r;n.fillStyle="rgba(255,255,255,0.8)",n.fillText(t.position.x+"  "+t.position.y,t.position.x+5,t.position.y-5)},n.bodyBounds=function(e,t,r){var n=r,i=(e.engine,e.options);n.beginPath();for(var o=0;o<t.length;o++)if(t[o].render.visible)for(var a=t[o].parts,s=a.length>1?1:0;s<a.length;s++){var l=a[s];n.rect(l.bounds.min.x,l.bounds.min.y,l.bounds.max.x-l.bounds.min.x,l.bounds.max.y-l.bounds.min.y)}i.wireframes?n.strokeStyle="rgba(255,255,255,0.08)":n.strokeStyle="rgba(0,0,0,0.1)",n.lineWidth=1,n.stroke()},n.bodyAxes=function(e,t,r){var n,i,o,a,s=r,l=(e.engine,e.options);for(s.beginPath(),i=0;i<t.length;i++){var u=t[i],c=u.parts;if(u.render.visible)if(l.showAxes)for(o=c.length>1?1:0;o<c.length;o++)for(n=c[o],a=0;a<n.axes.length;a++){var d=n.axes[a];s.moveTo(n.position.x,n.position.y),s.lineTo(n.position.x+20*d.x,n.position.y+20*d.y)}else for(o=c.length>1?1:0;o<c.length;o++)for(n=c[o],a=0;a<n.axes.length;a++)s.moveTo(n.position.x,n.position.y),s.lineTo((n.vertices[0].x+n.vertices[n.vertices.length-1].x)/2,(n.vertices[0].y+n.vertices[n.vertices.length-1].y)/2)}l.wireframes?(s.strokeStyle="indianred",s.lineWidth=1):(s.strokeStyle="rgba(255, 255, 255, 0.4)",s.globalCompositeOperation="overlay",s.lineWidth=2),s.stroke(),s.globalCompositeOperation="source-over"},n.bodyPositions=function(e,t,r){var n,i,o,a,s=r,l=(e.engine,e.options);for(s.beginPath(),o=0;o<t.length;o++)if((n=t[o]).render.visible)for(a=0;a<n.parts.length;a++)i=n.parts[a],s.arc(i.position.x,i.position.y,3,0,2*Math.PI,!1),s.closePath();for(l.wireframes?s.fillStyle="indianred":s.fillStyle="rgba(0,0,0,0.5)",s.fill(),s.beginPath(),o=0;o<t.length;o++)(n=t[o]).render.visible&&(s.arc(n.positionPrev.x,n.positionPrev.y,2,0,2*Math.PI,!1),s.closePath());s.fillStyle="rgba(255,165,0,0.8)",s.fill()},n.bodyVelocity=function(e,t,r){var n=r;n.beginPath();for(var o=0;o<t.length;o++){var a=t[o];if(a.render.visible){var s=i.getVelocity(a);n.moveTo(a.position.x,a.position.y),n.lineTo(a.position.x+s.x,a.position.y+s.y)}}n.lineWidth=3,n.strokeStyle="cornflowerblue",n.stroke()},n.bodyIds=function(e,t,r){var n,i,o=r;for(n=0;n<t.length;n++)if(t[n].render.visible){var a=t[n].parts;for(i=a.length>1?1:0;i<a.length;i++){var s=a[i];o.font="12px Arial",o.fillStyle="rgba(255,255,255,0.5)",o.fillText(s.id,s.position.x+10,s.position.y-10)}}},n.collisions=function(e,t,r){var n,i,o,a,s=r,l=e.options;for(s.beginPath(),o=0;o<t.length;o++)if((n=t[o]).isActive)for(i=n.collision,a=0;a<n.activeContacts.length;a++){var u=n.activeContacts[a].vertex;s.rect(u.x-1.5,u.y-1.5,3.5,3.5)}for(l.wireframes?s.fillStyle="rgba(255,255,255,0.7)":s.fillStyle="orange",s.fill(),s.beginPath(),o=0;o<t.length;o++)if((n=t[o]).isActive&&(i=n.collision,n.activeContacts.length>0)){var c=n.activeContacts[0].vertex.x,d=n.activeContacts[0].vertex.y;2===n.activeContacts.length&&(c=(n.activeContacts[0].vertex.x+n.activeContacts[1].vertex.x)/2,d=(n.activeContacts[0].vertex.y+n.activeContacts[1].vertex.y)/2),i.bodyB===i.supports[0].body||!0===i.bodyA.isStatic?s.moveTo(c-8*i.normal.x,d-8*i.normal.y):s.moveTo(c+8*i.normal.x,d+8*i.normal.y),s.lineTo(c,d)}l.wireframes?s.strokeStyle="rgba(255,165,0,0.7)":s.strokeStyle="orange",s.lineWidth=1,s.stroke()},n.separations=function(e,t,r){var n,i,o,a,s,l=r,u=e.options;for(l.beginPath(),s=0;s<t.length;s++)if((n=t[s]).isActive){o=(i=n.collision).bodyA;var c=1;(a=i.bodyB).isStatic||o.isStatic||(c=.5),a.isStatic&&(c=0),l.moveTo(a.position.x,a.position.y),l.lineTo(a.position.x-i.penetration.x*c,a.position.y-i.penetration.y*c),c=1,a.isStatic||o.isStatic||(c=.5),o.isStatic&&(c=0),l.moveTo(o.position.x,o.position.y),l.lineTo(o.position.x+i.penetration.x*c,o.position.y+i.penetration.y*c)}u.wireframes?l.strokeStyle="rgba(255,165,0,0.5)":l.strokeStyle="orange",l.stroke()},n.inspector=function(e,t){e.engine;var r,n=e.selected,i=e.render,o=i.options;if(o.hasBounds){var a=i.bounds.max.x-i.bounds.min.x,s=i.bounds.max.y-i.bounds.min.y,l=a/i.options.width,u=s/i.options.height;t.scale(1/l,1/u),t.translate(-i.bounds.min.x,-i.bounds.min.y)}for(var c=0;c<n.length;c++){var d=n[c].data;switch(t.translate(.5,.5),t.lineWidth=1,t.strokeStyle="rgba(255,165,0,0.9)",t.setLineDash([1,2]),d.type){case"body":r=d.bounds,t.beginPath(),t.rect(Math.floor(r.min.x-3),Math.floor(r.min.y-3),Math.floor(r.max.x-r.min.x+6),Math.floor(r.max.y-r.min.y+6)),t.closePath(),t.stroke();break;case"constraint":var f=d.pointA;d.bodyA&&(f=d.pointB),t.beginPath(),t.arc(f.x,f.y,10,0,2*Math.PI),t.closePath(),t.stroke()}t.setLineDash([]),t.translate(-.5,-.5)}null!==e.selectStart&&(t.translate(.5,.5),t.lineWidth=1,t.strokeStyle="rgba(255,165,0,0.6)",t.fillStyle="rgba(255,165,0,0.1)",r=e.selectBounds,t.beginPath(),t.rect(Math.floor(r.min.x),Math.floor(r.min.y),Math.floor(r.max.x-r.min.x),Math.floor(r.max.y-r.min.y)),t.closePath(),t.stroke(),t.fill(),t.translate(-.5,-.5)),o.hasBounds&&t.setTransform(1,0,0,1,0,0)};var r=function(e,t){var r=e.engine,i=e.timing,o=i.historySize,a=r.timing.timestamp;i.delta=t-i.lastTime||n._goodDelta,i.lastTime=t,i.timestampElapsed=a-i.lastTimestamp||0,i.lastTimestamp=a,i.deltaHistory.unshift(i.delta),i.deltaHistory.length=Math.min(i.deltaHistory.length,o),i.engineDeltaHistory.unshift(r.timing.lastDelta),i.engineDeltaHistory.length=Math.min(i.engineDeltaHistory.length,o),i.timestampElapsedHistory.unshift(i.timestampElapsed),i.timestampElapsedHistory.length=Math.min(i.timestampElapsedHistory.length,o),i.engineElapsedHistory.unshift(r.timing.lastElapsed),i.engineElapsedHistory.length=Math.min(i.engineElapsedHistory.length,o),i.elapsedHistory.unshift(i.lastElapsed),i.elapsedHistory.length=Math.min(i.elapsedHistory.length,o)},d=function(e){for(var t=0,r=0;r<e.length;r+=1)t+=e[r];return t/e.length||0},f=function(e,t){var r=document.createElement("canvas");return r.width=e,r.height=t,r.oncontextmenu=function(){return!1},r.onselectstart=function(){return!1},r},h=function(e){var t=e.getContext("2d");return(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)},p=function(e,t){var r=e.textures[t];return r||((r=e.textures[t]=new Image).src=t,r)},m=function(e,t){var r=t;/(jpg|gif|png)$/.test(t)&&(r="url("+t+")"),e.canvas.style.background=r,e.canvas.style.backgroundSize="contain",e.currentBackground=t}}()},function(e,t,r){var n={};e.exports=n;var i=r(5),o=r(17),a=r(0);!function(){var e,t,r;"undefined"!==typeof window&&(e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame,t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),e||(e=function(e){r=setTimeout((function(){e(a.now())}),1e3/60)},t=function(){clearTimeout(r)}),n.create=function(e){var t=a.extend({fps:60,deltaSampleSize:60,counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,frameRequestId:null,isFixed:!1,enabled:!0},e);return t.delta=t.delta||1e3/t.fps,t.deltaMin=t.deltaMin||1e3/t.fps,t.deltaMax=t.deltaMax||1e3/(.5*t.fps),t.fps=1e3/t.delta,t},n.run=function(t,r){return"undefined"!==typeof t.positionIterations&&(r=t,t=n.create()),function i(o){t.frameRequestId=e(i),o&&t.enabled&&n.tick(t,r,o)}(),t},n.tick=function(e,t,r){var n,a=t.timing;e.isFixed?n=e.delta:(n=r-e.timePrev||e.delta,e.timePrev=r,e.deltaHistory.push(n),e.deltaHistory=e.deltaHistory.slice(-e.deltaSampleSize),n=(n=(n=Math.min.apply(null,e.deltaHistory))<e.deltaMin?e.deltaMin:n)>e.deltaMax?e.deltaMax:n,e.delta=n);var s={timestamp:a.timestamp};i.trigger(e,"beforeTick",s),e.frameCounter+=1,r-e.counterTimestamp>=1e3&&(e.fps=e.frameCounter*((r-e.counterTimestamp)/1e3),e.counterTimestamp=r,e.frameCounter=0),i.trigger(e,"tick",s),i.trigger(e,"beforeUpdate",s),o.update(t,n),i.trigger(e,"afterUpdate",s),i.trigger(e,"afterTick",s)},n.stop=function(e){t(e.frameRequestId)},n.start=function(e,t){n.run(e,t)}}()},function(e,t,r){var n={};e.exports=n;var i=r(8),o=r(0).deprecated;n.collides=function(e,t){return i.collides(e,t)},o(n,"collides","SAT.collides \u27a4 replaced by Collision.collides")},function(e,t,r){var n={};e.exports=n,r(1);var i=r(0);n.pathToVertices=function(e,t){"undefined"===typeof window||"SVGPathSeg"in window||i.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var r,o,a,s,l,u,c,d,f,h,p,m=[],g=0,y=0,v=0;t=t||15;var b=function(e,t,r){var n=r%2===1&&r>1;if(!f||e!=f.x||t!=f.y){f&&n?(h=f.x,p=f.y):(h=0,p=0);var i={x:h+e,y:p+t};!n&&f||(f=i),m.push(i),y=h+e,v=p+t}},_=function(e){var t=e.pathSegTypeAsLetter.toUpperCase();if("Z"!==t){switch(t){case"M":case"L":case"T":case"C":case"S":case"Q":y=e.x,v=e.y;break;case"H":y=e.x;break;case"V":v=e.y}b(y,v,e.pathSegType)}};for(n._svgPathToAbsolute(e),a=e.getTotalLength(),u=[],r=0;r<e.pathSegList.numberOfItems;r+=1)u.push(e.pathSegList.getItem(r));for(c=u.concat();g<a;){if((l=u[e.getPathSegAtLength(g)])!=d){for(;c.length&&c[0]!=l;)_(c.shift());d=l}switch(l.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":s=e.getPointAtLength(g),b(s.x,s.y,0)}g+=t}for(r=0,o=c.length;r<o;++r)_(c[r]);return m},n._svgPathToAbsolute=function(e){for(var t,r,n,i,o,a,s=e.pathSegList,l=0,u=0,c=s.numberOfItems,d=0;d<c;++d){var f=s.getItem(d),h=f.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(h))"x"in f&&(l=f.x),"y"in f&&(u=f.y);else switch("x1"in f&&(n=l+f.x1),"x2"in f&&(o=l+f.x2),"y1"in f&&(i=u+f.y1),"y2"in f&&(a=u+f.y2),"x"in f&&(l+=f.x),"y"in f&&(u+=f.y),h){case"m":s.replaceItem(e.createSVGPathSegMovetoAbs(l,u),d);break;case"l":s.replaceItem(e.createSVGPathSegLinetoAbs(l,u),d);break;case"h":s.replaceItem(e.createSVGPathSegLinetoHorizontalAbs(l),d);break;case"v":s.replaceItem(e.createSVGPathSegLinetoVerticalAbs(u),d);break;case"c":s.replaceItem(e.createSVGPathSegCurvetoCubicAbs(l,u,n,i,o,a),d);break;case"s":s.replaceItem(e.createSVGPathSegCurvetoCubicSmoothAbs(l,u,o,a),d);break;case"q":s.replaceItem(e.createSVGPathSegCurvetoQuadraticAbs(l,u,n,i),d);break;case"t":s.replaceItem(e.createSVGPathSegCurvetoQuadraticSmoothAbs(l,u),d);break;case"a":s.replaceItem(e.createSVGPathSegArcAbs(l,u,f.r1,f.r2,f.angle,f.largeArcFlag,f.sweepFlag),d);break;case"z":case"Z":l=t,u=r}"M"!=h&&"m"!=h||(t=l,r=u)}}},function(e,t,r){var n={};e.exports=n;var i=r(6);r(0),n.create=i.create,n.add=i.add,n.remove=i.remove,n.clear=i.clear,n.addComposite=i.addComposite,n.addBody=i.addBody,n.addConstraint=i.addConstraint}])},t.exports=i()},24:function(t,r,n){var i=n(61).default;!function(e){t.exports=e()}((function(){return function e(t,r,n){function i(a,s){if(!r[a]){if(!t[a]){var l=void 0;if(!s&&l)return require(a,!0);if(o)return o(a,!0);throw(s=new Error("Cannot find module '"+a+"'")).code="MODULE_NOT_FOUND",s}l=r[a]={exports:{}},t[a][0].call(l.exports,(function(e){return i(t[a][1][e]||e)}),l,l.exports,e,t,r,n)}return r[a].exports}for(var o=void 0,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(e,t,r){"use strict";r.byteLength=function(e){return 3*((e=l(e))[0]+(e=e[1]))/4-e},r.toByteArray=function(e){var t,r,n=(a=l(e))[0],a=a[1],s=new o(function(e,t){return 3*(e+t)/4-t}(n,a)),u=0,c=0<a?n-4:n;for(r=0;r<c;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],s[u++]=t>>16&255,s[u++]=t>>8&255,s[u++]=255&t;return 2===a&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,s[u++]=255&t),1===a&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,s[u++]=t>>8&255,s[u++]=255&t),s},r.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],a=0,s=r-i;a<s;a+=16383)o.push(function(e,t,r){for(var i,o=[],a=t;a<r;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),o.push(function(e){return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[63&e]}(i));return o.join("")}(e,a,s<a+16383?s:a+16383));return 1==i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2==i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),o.join("")};for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)n[s]=a[s],i[a.charCodeAt(s)]=s;function l(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");return t=(e=-1===(e=e.indexOf("="))?t:e)===t?0:4-e%4,[e,t]}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],2:[function(e,t,r){},{}],3:[function(e,t,r){arguments[4][2][0].apply(r,arguments)},{dup:2}],4:[function(e,t,r){(function(t){"use strict";var n=e("base64-js"),i=e("ieee754"),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null,a=(r.Buffer=t,r.SlowBuffer=function(e){return+e!=e&&(e=0),t.alloc(+e)},r.INSPECT_MAX_BYTES=50,2147483647);function s(e){if(a<e)throw new RangeError('The value "'+e+'" is invalid for option "size"');return e=new Uint8Array(e),Object.setPrototypeOf(e,t.prototype),e}function t(e,t,r){if("number"!=typeof e)return l(e,t,r);if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return c(e)}function l(e,r,n){if("string"==typeof e){var i=e,o=r;if(t.isEncoding(o="string"==typeof o&&""!==o?o:"utf8"))return(i=(l=s(a=0|h(i,o))).write(i,o))!==a?l.slice(0,i):l;throw new TypeError("Unknown encoding: "+o)}if(ArrayBuffer.isView(e))return d(e);if(null!=e){if(k(e,ArrayBuffer)||e&&k(e.buffer,ArrayBuffer)){var a=e,l=n;if((i=r)<0||a.byteLength<i)throw new RangeError('"offset" is outside of buffer bounds');if(a.byteLength<i+(l||0))throw new RangeError('"length" is outside of buffer bounds');return a=void 0===i&&void 0===l?new Uint8Array(a):void 0===l?new Uint8Array(a,i):new Uint8Array(a,i,l),Object.setPrototypeOf(a,t.prototype),a}if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');if(null!=(o=e.valueOf&&e.valueOf())&&o!==e)return t.from(o,r,n);var u=function(e){var r,n;return t.isBuffer(e)?(0!==(n=s(r=0|f(e.length))).length&&e.copy(n,0,0,r),n):void 0!==e.length?"number"!=typeof e.length||P(e.length)?s(0):d(e):"Buffer"===e.type&&Array.isArray(e.data)?d(e.data):void 0}(e);if(u)return u;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return t.from(e[Symbol.toPrimitive]("string"),r,n)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function c(e){return u(e),s(e<0?0:0|f(e))}function d(e){for(var t=e.length<0?0:0|f(e.length),r=s(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function f(e){if(a<=e)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function h(e,r){if(t.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||k(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,i=2<arguments.length&&!0===arguments[2];if(!i&&0===n)return 0;for(var o=!1;;)switch(r){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return R(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return C(e).length;default:if(o)return i?-1:R(e).length;r=(""+r).toLowerCase(),o=!0}}function p(e,t,r){var i,o=!1;if((t=void 0===t||t<0?0:t)>this.length)return"";if((r=void 0===r||r>this.length?this.length:r)<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e=e||"utf8";;)switch(e){case"hex":var a=t,s=r,l=this.length;(!s||s<0||l<s)&&(s=l);for(var u="",c=a=!a||a<0?0:a;c<s;++c)u+=O[this[c]];return u;case"utf8":case"utf-8":return _(this,t,r);case"ascii":l=t;var d=r,f="";d=Math.min(this.length,d);for(var h=l;h<d;++h)f+=String.fromCharCode(127&this[h]);return f;case"latin1":case"binary":a=t;var p=r,m="";p=Math.min(this.length,p);for(var g=a;g<p;++g)m+=String.fromCharCode(this[g]);return m;case"base64":return y=this,i=r,0===(v=t)&&i===y.length?n.fromByteArray(y):n.fromByteArray(y.slice(v,i));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var y=t,v=r,b=this.slice(y,v),w="",E=0;E<b.length;E+=2)w+=String.fromCharCode(b[E]+256*b[E+1]);return w;default:if(o)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),o=!0}}function m(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function g(e,r,n,i,o){if(0===e.length)return-1;if("string"==typeof n?(i=n,n=0):2147483647<n?n=2147483647:n<-2147483648&&(n=-2147483648),(n=(n=P(n=+n)?o?0:e.length-1:n)<0?e.length+n:n)>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof r&&(r=t.from(r,i)),t.isBuffer(r))return 0===r.length?-1:y(e,r,n,i,o);if("number"==typeof r)return r&=255,"function"==typeof Uint8Array.prototype.indexOf?(o?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(e,r,n):y(e,[r],n,i,o);throw new TypeError("val must be string, number or Buffer")}function y(e,t,r,n,i){var o=1,a=e.length,s=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a/=o=2,s/=2,r/=2}function l(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i)for(var u=-1,c=r;c<a;c++)if(l(e,c)===l(t,-1===u?0:c-u)){if(c-(u=-1===u?c:u)+1===s)return u*o}else-1!==u&&(c-=c-u),u=-1;else for(c=r=a<r+s?a-s:r;0<=c;c--){for(var d=!0,f=0;f<s;f++)if(l(e,c+f)!==l(t,f)){d=!1;break}if(d)return c}return-1}function v(e,t,r,n){return I(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function b(e,t,r,n){return I(function(e,t){for(var r,n,i=[],o=0;o<e.length&&!((t-=2)<0);++o)r=(n=e.charCodeAt(o))>>8,n%=256,i.push(n),i.push(r);return i}(t,e.length-r),e,r,n)}function _(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,a,s,l,u=e[i],c=null,d=239<u?4:223<u?3:191<u?2:1;if(i+d<=r)switch(d){case 1:u<128&&(c=u);break;case 2:128==(192&(o=e[i+1]))&&127<(l=(31&u)<<6|63&o)&&(c=l);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&2047<(l=(15&u)<<12|(63&o)<<6|63&a)&&(l<55296||57343<l)&&(c=l);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&65535<(l=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)&&l<1114112&&(c=l)}null===c?(c=65533,d=1):65535<c&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),i+=d}var f=n,h=f.length;if(h<=w)return String.fromCharCode.apply(String,f);for(var p="",m=0;m<h;)p+=String.fromCharCode.apply(String,f.slice(m,m+=w));return p}r.kMaxLength=a,(t.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(t.prototype,"parent",{enumerable:!0,get:function(){if(t.isBuffer(this))return this.buffer}}),Object.defineProperty(t.prototype,"offset",{enumerable:!0,get:function(){if(t.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&t[Symbol.species]===t&&Object.defineProperty(t,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),t.poolSize=8192,t.from=l,Object.setPrototypeOf(t.prototype,Uint8Array.prototype),Object.setPrototypeOf(t,Uint8Array),t.alloc=function(e,t,r){return u(e),e<=0||void 0===t?s(e):"string"==typeof r?s(e).fill(t,r):s(e).fill(t)},t.allocUnsafe=c,t.allocUnsafeSlow=c,t.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==t.prototype},t.compare=function(e,r){if(k(e,Uint8Array)&&(e=t.from(e,e.offset,e.byteLength)),k(r,Uint8Array)&&(r=t.from(r,r.offset,r.byteLength)),!t.isBuffer(e)||!t.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;for(var n=e.length,i=r.length,o=0,a=Math.min(n,i);o<a;++o)if(e[o]!==r[o]){n=e[o],i=r[o];break}return n<i?-1:i<n?1:0},t.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return t.alloc(0);if(void 0===r)for(o=r=0;o<e.length;++o)r+=e[o].length;for(var n=t.allocUnsafe(r),i=0,o=0;o<e.length;++o){var a=e[o];if(k(a,Uint8Array)&&(a=t.from(a)),!t.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},t.byteLength=h,t.prototype._isBuffer=!0,t.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},t.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},t.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},t.prototype.toLocaleString=t.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?_(this,0,e):p.apply(this,arguments)},t.prototype.equals=function(e){if(t.isBuffer(e))return this===e||0===t.compare(this,e);throw new TypeError("Argument must be a Buffer")},t.prototype.inspect=function(){var e="",t=r.INSPECT_MAX_BYTES;e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim();return this.length>t&&(e+=" ... "),"<Buffer "+e+">"},o&&(t.prototype[o]=t.prototype.inspect),t.prototype.compare=function(e,r,n,i,o){if(k(e,Uint8Array)&&(e=t.from(e,e.offset,e.byteLength)),!t.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),(r=void 0===r?0:r)<0||n>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(o<=i&&n<=r)return 0;if(o<=i)return-1;if(n<=r)return 1;if(this===e)return 0;for(var a=(o>>>=0)-(i>>>=0),s=(n>>>=0)-(r>>>=0),l=Math.min(a,s),u=this.slice(i,o),c=e.slice(r,n),d=0;d<l;++d)if(u[d]!==c[d]){a=u[d],s=c[d];break}return a<s?-1:s<a?1:0},t.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},t.prototype.indexOf=function(e,t,r){return g(this,e,t,r,!0)},t.prototype.lastIndexOf=function(e,t,r){return g(this,e,t,r,!1)},t.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||i<r)&&(r=i),0<e.length&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n=n||"utf8";for(var o,a,s,l=!1;;)switch(n){case"hex":var u=e,c=t,d=r,f=(c=Number(c)||0,this.length-c);(!d||f<(d=Number(d)))&&(d=f),(f=u.length)/2<d&&(d=f/2);for(var h=0;h<d;++h){var p=parseInt(u.substr(2*h,2),16);if(P(p))return h;this[c+h]=p}return h;case"utf8":case"utf-8":return f=t,s=r,I(R(e,(a=this).length-f),a,f,s);case"ascii":case"latin1":case"binary":return v(this,e,t,r);case"base64":return a=this,s=t,o=r,I(C(e),a,s,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b(this,e,t,r);default:if(l)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),l=!0}},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var w=4096;function E(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(r<e+t)throw new RangeError("Trying to access beyond buffer length")}function x(e,r,n,i,o,a){if(!t.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(o<r||r<a)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function S(e,t,r,n){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function T(e,t,r,n,o){return t=+t,r>>>=0,o||S(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function A(e,t,r,n,o){return t=+t,r>>>=0,o||S(e,0,r,8),i.write(e,t,r,n,52,8),r+8}t.prototype.slice=function(e,r){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):n<e&&(e=n),(r=void 0===r?n:~~r)<0?(r+=n)<0&&(r=0):n<r&&(r=n),r<e&&(r=e),n=this.subarray(e,r);return Object.setPrototypeOf(n,t.prototype),n},t.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||E(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},t.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||E(e,t,this.length);for(var n=this[e+--t],i=1;0<t&&(i*=256);)n+=this[e+--t]*i;return n},t.prototype.readUInt8=function(e,t){return e>>>=0,t||E(e,1,this.length),this[e]},t.prototype.readUInt16LE=function(e,t){return e>>>=0,t||E(e,2,this.length),this[e]|this[e+1]<<8},t.prototype.readUInt16BE=function(e,t){return e>>>=0,t||E(e,2,this.length),this[e]<<8|this[e+1]},t.prototype.readUInt32LE=function(e,t){return e>>>=0,t||E(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},t.prototype.readUInt32BE=function(e,t){return e>>>=0,t||E(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},t.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||E(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return(i*=128)<=n&&(n-=Math.pow(2,8*t)),n},t.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||E(e,t,this.length);for(var n=t,i=1,o=this[e+--n];0<n&&(i*=256);)o+=this[e+--n]*i;return(i*=128)<=o&&(o-=Math.pow(2,8*t)),o},t.prototype.readInt8=function(e,t){return e>>>=0,t||E(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},t.prototype.readInt16LE=function(e,t){return e>>>=0,t||E(e,2,this.length),32768&(t=this[e]|this[e+1]<<8)?4294901760|t:t},t.prototype.readInt16BE=function(e,t){return e>>>=0,t||E(e,2,this.length),32768&(t=this[e+1]|this[e]<<8)?4294901760|t:t},t.prototype.readInt32LE=function(e,t){return e>>>=0,t||E(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},t.prototype.readInt32BE=function(e,t){return e>>>=0,t||E(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},t.prototype.readFloatLE=function(e,t){return e>>>=0,t||E(e,4,this.length),i.read(this,e,!0,23,4)},t.prototype.readFloatBE=function(e,t){return e>>>=0,t||E(e,4,this.length),i.read(this,e,!1,23,4)},t.prototype.readDoubleLE=function(e,t){return e>>>=0,t||E(e,8,this.length),i.read(this,e,!0,52,8)},t.prototype.readDoubleBE=function(e,t){return e>>>=0,t||E(e,8,this.length),i.read(this,e,!1,52,8)},t.prototype.writeUIntLE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||x(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},t.prototype.writeUIntBE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||x(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;0<=--i&&(o*=256);)this[t+i]=e/o&255;return t+r},t.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||x(this,e,t,1,255,0),this[t]=255&e,t+1},t.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||x(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},t.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||x(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},t.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||x(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},t.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||x(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},t.prototype.writeIntLE=function(e,t,r,n){e=+e,t>>>=0,n||x(this,e,t,r,(n=Math.pow(2,8*r-1))-1,-n);var i=0,o=1,a=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+r},t.prototype.writeIntBE=function(e,t,r,n){e=+e,t>>>=0,n||x(this,e,t,r,(n=Math.pow(2,8*r-1))-1,-n);var i=r-1,o=1,a=0;for(this[t+i]=255&e;0<=--i&&(o*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+r},t.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||x(this,e,t,1,127,-128),this[t]=255&(e=e<0?255+e+1:e),t+1},t.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||x(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},t.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||x(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},t.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||x(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},t.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||x(this,e,t,4,2147483647,-2147483648),this[t]=(e=e<0?4294967295+e+1:e)>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},t.prototype.writeFloatLE=function(e,t,r){return T(this,e,t,!0,r)},t.prototype.writeFloatBE=function(e,t,r){return T(this,e,t,!1,r)},t.prototype.writeDoubleLE=function(e,t,r){return A(this,e,t,!0,r)},t.prototype.writeDoubleBE=function(e,t,r){return A(this,e,t,!1,r)},t.prototype.copy=function(e,r,n,i){if(!t.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n=n||0,i||0===i||(i=this.length),r>=e.length&&(r=e.length),(i=0<i&&i<n?n:i)===n)return 0;if(0===e.length||0===this.length)return 0;if((r=r||0)<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length);var o=(i=e.length-r<i-n?e.length-r+n:i)-n;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(r,n,i);else if(this===e&&n<r&&r<i)for(var a=o-1;0<=a;--a)e[a+r]=this[a+n];else Uint8Array.prototype.set.call(e,this.subarray(n,i),r);return o},t.prototype.fill=function(e,r,n,i){if("string"==typeof e){if("string"==typeof r?(i=r,r=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!t.isEncoding(i))throw new TypeError("Unknown encoding: "+i);var o;1===e.length&&(o=e.charCodeAt(0),("utf8"===i&&o<128||"latin1"===i)&&(e=o))}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");var a;if(!(n<=r))if(r>>>=0,n=void 0===n?this.length:n>>>0,"number"==typeof(e=e||0))for(a=r;a<n;++a)this[a]=e;else{var s=t.isBuffer(e)?e:t.from(e,i),l=s.length;if(0===l)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<n-r;++a)this[a+r]=s[a%l]}return this};var M=/[^+/0-9A-Za-z-_]/g;function R(e,t){t=t||1/0;for(var r,n=e.length,i=null,o=[],a=0;a<n;++a){if(55295<(r=e.charCodeAt(a))&&r<57344){if(!i){if(56319<r){-1<(t-=3)&&o.push(239,191,189);continue}if(a+1===n){-1<(t-=3)&&o.push(239,191,189);continue}i=r;continue}if(r<56320){-1<(t-=3)&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&-1<(t-=3)&&o.push(239,191,189);if(i=null,r<128){if(--t<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function C(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(M,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function I(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function k(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function P(e){return e!=e}var O=function(){for(var e="0123456789abcdef",t=new Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)t[n+i]=e[r]+e[i];return t}()}).call(this,e("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:244}],5:[function(e,t,r){t.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},{}],6:[function(e,t,r){var n=e("../internals/is-object");t.exports=function(e){if(n(e)||null===e)return e;throw TypeError("Can't set "+String(e)+" as a prototype")}},{"../internals/is-object":74}],7:[function(e,t,r){var n=e("../internals/well-known-symbol"),i=e("../internals/object-create"),o=(e=e("../internals/object-define-property"),n("unscopables")),a=Array.prototype;null==a[o]&&e.f(a,o,{configurable:!0,value:i(null)}),t.exports=function(e){a[o][e]=!0}},{"../internals/object-create":90,"../internals/object-define-property":92,"../internals/well-known-symbol":148}],8:[function(e,t,r){"use strict";var n=e("../internals/string-multibyte").charAt;t.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},{"../internals/string-multibyte":123}],9:[function(e,t,r){t.exports=function(e,t,r){if(e instanceof t)return e;throw TypeError("Incorrect "+(r?r+" ":"")+"invocation")}},{}],10:[function(e,t,r){var n=e("../internals/is-object");t.exports=function(e){if(n(e))return e;throw TypeError(String(e)+" is not an object")}},{"../internals/is-object":74}],11:[function(e,t,r){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},{}],12:[function(e,t,r){"use strict";function n(e){return l(e)&&u(A,c(e))}var i,o=e("../internals/array-buffer-native"),a=e("../internals/descriptors"),s=e("../internals/global"),l=e("../internals/is-object"),u=e("../internals/has"),c=e("../internals/classof"),d=e("../internals/create-non-enumerable-property"),f=e("../internals/redefine"),h=e("../internals/object-define-property").f,p=e("../internals/object-get-prototype-of"),m=e("../internals/object-set-prototype-of"),g=e("../internals/well-known-symbol"),y=(e=e("../internals/uid"),s.Int8Array),v=y&&y.prototype,b=(b=s.Uint8ClampedArray)&&b.prototype,_=y&&p(y),w=v&&p(v),E=Object.prototype,x=E.isPrototypeOf,S=(g=g("toStringTag"),e("TYPED_ARRAY_TAG")),T=o&&!!m&&"Opera"!==c(s.opera),A=(e=!1,{Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8});for(i in A)s[i]||(T=!1);if((!T||"function"!=typeof _||_===Function.prototype)&&(_=function(){throw TypeError("Incorrect invocation")},T))for(i in A)s[i]&&m(s[i],_);if((!T||!w||w===E)&&(w=_.prototype,T))for(i in A)s[i]&&m(s[i].prototype,w);if(T&&p(b)!==w&&m(b,w),a&&!u(w,g))for(i in e=!0,h(w,g,{get:function(){return l(this)?this[S]:void 0}}),A)s[i]&&d(s[i],S,i);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:T,TYPED_ARRAY_TAG:e&&S,aTypedArray:function(e){if(n(e))return e;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(e){if(m){if(x.call(_,e))return e}else for(var t in A)if(u(A,i)&&(t=s[t])&&(e===t||x.call(t,e)))return e;throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(e,t,r){if(a){if(r)for(var n in A)(n=s[n])&&u(n.prototype,e)&&delete n.prototype[e];w[e]&&!r||f(w,e,!r&&T&&v[e]||t)}},exportTypedArrayStaticMethod:function(e,t,r){var n,i;if(a){if(m){if(r)for(n in A)(i=s[n])&&u(i,e)&&delete i[e];if(_[e]&&!r)return;try{return f(_,e,!r&&T&&y[e]||t)}catch(e){}}for(n in A)!(i=s[n])||i[e]&&!r||f(i,e,t)}},isView:function(e){return"DataView"===(e=c(e))||u(A,e)},isTypedArray:n,TypedArray:_,TypedArrayPrototype:w}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/uid":145,"../internals/well-known-symbol":148}],13:[function(e,t,r){"use strict";function n(e){return[255&e]}function i(e){return[255&e,e>>8&255]}function o(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function a(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function s(e){return B(e,23,4)}function l(e){return B(e,52,8)}function u(e,t){A(e[O],t,{get:function(){return C(this)[t]}})}function c(e,t,r,n){if((r=w(r))+t>(e=C(e)).byteLength)throw U(j);var i=C(e.buffer).bytes;r+=e.byteOffset,e=i.slice(r,r+t);return n?e:e.reverse()}function d(e,t,r,n,i,o){if((r=w(r))+t>(e=C(e)).byteLength)throw U(j);for(var a=C(e.buffer).bytes,s=r+e.byteOffset,l=n(+i),u=0;u<t;u++)a[s+u]=l[o?u:t-u-1]}var f=e("../internals/global"),h=e("../internals/descriptors"),p=e("../internals/array-buffer-native"),m=e("../internals/create-non-enumerable-property"),g=e("../internals/redefine-all"),y=e("../internals/fails"),v=e("../internals/an-instance"),b=e("../internals/to-integer"),_=e("../internals/to-length"),w=e("../internals/to-index"),E=e("../internals/ieee754"),x=e("../internals/object-get-prototype-of"),S=e("../internals/object-set-prototype-of"),T=e("../internals/object-get-own-property-names").f,A=e("../internals/object-define-property").f,M=e("../internals/array-fill"),R=e("../internals/set-to-string-tag"),C=(e=e("../internals/internal-state")).get,I=e.set,k="ArrayBuffer",P="DataView",O="prototype",j="Wrong index",N=f[k],L=N,D=f[P],F=(e=D&&D[O],Object.prototype),U=f.RangeError,B=E.pack,G=E.unpack;if(p){if(!y((function(){N(1)}))||!y((function(){new N(-1)}))||y((function(){return new N,new N(1.5),new N(NaN),N.name!=k}))){f=(L=function(e){return v(this,L),new N(w(e))})[O]=N[O];for(var z,V=T(N),H=0;V.length>H;)(z=V[H++])in L||m(L,z,N[z]);f.constructor=L}S&&x(e)!==F&&S(e,F);E=new D(new L(2));var W=e.setInt8;E.setInt8(0,2147483648),E.setInt8(1,2147483649),!E.getInt8(0)&&E.getInt8(1)||g(e,{setInt8:function(e,t){W.call(this,e,t<<24>>24)},setUint8:function(e,t){W.call(this,e,t<<24>>24)}},{unsafe:!0})}else L=function(e){v(this,L,k),e=w(e),I(this,{bytes:M.call(new Array(e),0),byteLength:e}),h||(this.byteLength=e)},D=function(e,t,r){v(this,D,P),v(e,L,P);var n=C(e).byteLength;if((t=b(t))<0||n<t)throw U("Wrong offset");if(n<t+(r=void 0===r?n-t:_(r)))throw U("Wrong length");I(this,{buffer:e,byteLength:r,byteOffset:t}),h||(this.buffer=e,this.byteLength=r,this.byteOffset=t)},h&&(u(L,"byteLength"),u(D,"buffer"),u(D,"byteLength"),u(D,"byteOffset")),g(D[O],{getInt8:function(e){return c(this,1,e)[0]<<24>>24},getUint8:function(e){return c(this,1,e)[0]},getInt16:function(e){return((e=c(this,2,e,1<arguments.length?arguments[1]:void 0))[1]<<8|e[0])<<16>>16},getUint16:function(e){return(e=c(this,2,e,1<arguments.length?arguments[1]:void 0))[1]<<8|e[0]},getInt32:function(e){return a(c(this,4,e,1<arguments.length?arguments[1]:void 0))},getUint32:function(e){return a(c(this,4,e,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(e){return G(c(this,4,e,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(e){return G(c(this,8,e,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(e,t){d(this,1,e,n,t)},setUint8:function(e,t){d(this,1,e,n,t)},setInt16:function(e,t){d(this,2,e,i,t,2<arguments.length?arguments[2]:void 0)},setUint16:function(e,t){d(this,2,e,i,t,2<arguments.length?arguments[2]:void 0)},setInt32:function(e,t){d(this,4,e,o,t,2<arguments.length?arguments[2]:void 0)},setUint32:function(e,t){d(this,4,e,o,t,2<arguments.length?arguments[2]:void 0)},setFloat32:function(e,t){d(this,4,e,s,t,2<arguments.length?arguments[2]:void 0)},setFloat64:function(e,t){d(this,8,e,l,t,2<arguments.length?arguments[2]:void 0)}});R(L,k),R(D,P),t.exports={ArrayBuffer:L,DataView:D}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/ieee754":65,"../internals/internal-state":70,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/to-index":133,"../internals/to-integer":135,"../internals/to-length":136}],14:[function(e,t,r){"use strict";var n=e("../internals/to-object"),i=e("../internals/to-absolute-index"),o=e("../internals/to-length"),a=Math.min;t.exports=[].copyWithin||function(e,t){var r=n(this),s=o(r.length),l=i(e,s),u=i(t,s),c=a((void 0===(e=2<arguments.length?arguments[2]:void 0)?s:i(e,s))-u,s-l),d=1;for(u<l&&l<u+c&&(d=-1,u+=c-1,l+=c-1);0<c--;)u in r?r[l]=r[u]:delete r[l],l+=d,u+=d;return r}},{"../internals/to-absolute-index":132,"../internals/to-length":136,"../internals/to-object":137}],15:[function(e,t,r){"use strict";var n=e("../internals/to-object"),i=e("../internals/to-absolute-index"),o=e("../internals/to-length");t.exports=function(e){for(var t,r=n(this),a=o(r.length),s=i(1<(t=arguments.length)?arguments[1]:void 0,a),l=void 0===(t=2<t?arguments[2]:void 0)?a:i(t,a);s<l;)r[s++]=e;return r}},{"../internals/to-absolute-index":132,"../internals/to-length":136,"../internals/to-object":137}],16:[function(e,t,r){"use strict";var n=e("../internals/array-iteration").forEach,i=e("../internals/array-method-is-strict");e=e("../internals/array-method-uses-to-length"),i=i("forEach"),e=e("forEach");t.exports=i&&e?[].forEach:function(e){return n(this,e,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(e,t,r){"use strict";var n=e("../internals/function-bind-context"),i=e("../internals/to-object"),o=e("../internals/call-with-safe-iteration-closing"),a=e("../internals/is-array-iterator-method"),s=e("../internals/to-length"),l=e("../internals/create-property"),u=e("../internals/get-iterator-method");t.exports=function(e){var t,r,c,d,f,h,p=i(e),m=(e="function"==typeof this?this:Array,arguments.length),g=1<m?arguments[1]:void 0,y=void 0!==g,v=u(p),b=0;if(y&&(g=n(g,2<m?arguments[2]:void 0,2)),null==v||e==Array&&a(v))for(r=new e(t=s(p.length));b<t;b++)h=y?g(p[b],b):p[b],l(r,b,h);else for(f=(d=v.call(p)).next,r=new e;!(c=f.call(d)).done;b++)h=y?o(d,g,[c.value,b],!0):c.value,l(r,b,h);return r.length=b,r}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":40,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":136,"../internals/to-object":137}],18:[function(e,t,r){function n(e){return function(t,r,n){var s,l=i(t),u=o(l.length),c=a(n,u);if(e&&r!=r){for(;c<u;)if((s=l[c++])!=s)return!0}else for(;c<u;c++)if((e||c in l)&&l[c]===r)return e||c||0;return!e&&-1}}var i=e("../internals/to-indexed-object"),o=e("../internals/to-length"),a=e("../internals/to-absolute-index");t.exports={includes:n(!0),indexOf:n(!1)}},{"../internals/to-absolute-index":132,"../internals/to-indexed-object":134,"../internals/to-length":136}],19:[function(e,t,r){function n(e){var t=1==e,r=2==e,n=3==e,c=4==e,d=6==e,f=5==e||d;return function(h,p,m,g){for(var y,v,b=a(h),_=o(b),w=i(p,m,3),E=s(_.length),x=0,S=(p=g||l,t?p(h,E):r?p(h,0):void 0);x<E;x++)if((f||x in _)&&(v=w(y=_[x],x,b),e))if(t)S[x]=v;else if(v)switch(e){case 3:return!0;case 5:return y;case 6:return x;case 2:u.call(S,y)}else if(c)return!1;return d?-1:n||c?c:S}}var i=e("../internals/function-bind-context"),o=e("../internals/indexed-object"),a=e("../internals/to-object"),s=e("../internals/to-length"),l=e("../internals/array-species-create"),u=[].push;t.exports={forEach:n(0),map:n(1),filter:n(2),some:n(3),every:n(4),find:n(5),findIndex:n(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":54,"../internals/indexed-object":66,"../internals/to-length":136,"../internals/to-object":137}],20:[function(e,t,r){"use strict";var n=e("../internals/to-indexed-object"),i=e("../internals/to-integer"),o=e("../internals/to-length"),a=e("../internals/array-method-is-strict"),s=(e=e("../internals/array-method-uses-to-length"),Math.min),l=[].lastIndexOf,u=!!l&&1/[1].lastIndexOf(1,-0)<0;a=a("lastIndexOf"),e=e("indexOf",{ACCESSORS:!0,1:0});t.exports=!u&&a&&e?l:function(e){if(u)return l.apply(this,arguments)||0;var t=n(this),r=o(t.length),a=r-1;for((a=1<arguments.length?s(a,i(arguments[1])):a)<0&&(a=r+a);0<=a;a--)if(a in t&&t[a]===e)return a||0;return-1}},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":134,"../internals/to-integer":135,"../internals/to-length":136}],21:[function(e,t,r){var n=e("../internals/fails"),i=e("../internals/well-known-symbol"),o=e("../internals/engine-v8-version"),a=i("species");t.exports=function(e){return 51<=o||!n((function(){var t=[];return(t.constructor={})[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},{"../internals/engine-v8-version":48,"../internals/fails":51,"../internals/well-known-symbol":148}],22:[function(e,t,r){"use strict";var n=e("../internals/fails");t.exports=function(e,t){var r=[][e];return!!r&&n((function(){r.call(null,t||function(){throw 1},1)}))}},{"../internals/fails":51}],23:[function(e,t,r){function n(e){throw e}var i=e("../internals/descriptors"),o=e("../internals/fails"),a=e("../internals/has"),s=Object.defineProperty,l={};t.exports=function(e,t){var r,u,c,d;return a(l,e)?l[e]:(r=[][e],u=!!a(t=t||{},"ACCESSORS")&&t.ACCESSORS,c=a(t,0)?t[0]:n,d=a(t,1)?t[1]:void 0,l[e]=!!r&&!o((function(){if(u&&!i)return!0;var e={length:-1};u?s(e,1,{enumerable:!0,get:n}):e[1]=1,r.call(e,c,d)})))}},{"../internals/descriptors":43,"../internals/fails":51,"../internals/has":60}],24:[function(e,t,r){function n(e){return function(t,r,n,l){i(r);var u=o(t),c=a(u),d=s(u.length),f=e?d-1:0,h=e?-1:1;if(n<2)for(;;){if(f in c){l=c[f],f+=h;break}if(f+=h,e?f<0:d<=f)throw TypeError("Reduce of empty array with no initial value")}for(;e?0<=f:f<d;f+=h)f in c&&(l=r(l,c[f],f,u));return l}}var i=e("../internals/a-function"),o=e("../internals/to-object"),a=e("../internals/indexed-object"),s=e("../internals/to-length");t.exports={left:n(!1),right:n(!0)}},{"../internals/a-function":5,"../internals/indexed-object":66,"../internals/to-length":136,"../internals/to-object":137}],25:[function(e,t,r){var n=e("../internals/is-object"),i=e("../internals/is-array"),o=e("../internals/well-known-symbol")("species");t.exports=function(e,t){var r;return new(void 0===(r=i(e)&&("function"==typeof(r=e.constructor)&&(r===Array||i(r.prototype))||n(r)&&null===(r=r[o]))?void 0:r)?Array:r)(0===t?0:t)}},{"../internals/is-array":72,"../internals/is-object":74,"../internals/well-known-symbol":148}],26:[function(e,t,r){var n=e("../internals/an-object");t.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(t){throw void 0!==(i=e.return)&&n(i.call(e)),t}}},{"../internals/an-object":10}],27:[function(e,t,r){var n=e("../internals/well-known-symbol")("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[n]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}t.exports=function(e,t){if(!t&&!i)return!1;var r=!1;try{var o={};o[n]=function(){return{next:function(){return{done:r=!0}}}},e(o)}catch(e){}return r}},{"../internals/well-known-symbol":148}],28:[function(e,t,r){var n={}.toString;t.exports=function(e){return n.call(e).slice(8,-1)}},{}],29:[function(e,t,r){var n=e("../internals/to-string-tag-support"),i=e("../internals/classof-raw"),o=e("../internals/well-known-symbol")("toStringTag"),a="Arguments"==i(function(){return arguments}());t.exports=n?i:function(e){var t;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(t=function(e,t){try{return e[t]}catch(e){}}(e=Object(e),o))?t:a?i(e):"Object"==(t=i(e))&&"function"==typeof e.callee?"Arguments":t}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":141,"../internals/well-known-symbol":148}],30:[function(e,t,r){"use strict";var n=e("../internals/object-define-property").f,i=e("../internals/object-create"),o=e("../internals/redefine-all"),a=e("../internals/function-bind-context"),s=e("../internals/an-instance"),l=e("../internals/iterate"),u=e("../internals/define-iterator"),c=e("../internals/set-species"),d=e("../internals/descriptors"),f=e("../internals/internal-metadata").fastKey,h=(e=e("../internals/internal-state")).set,p=e.getterFor;t.exports={getConstructor:function(e,t,r,u){function c(e,t,r){var n,i=y(e),o=m(e,t);return o?o.value=r:(i.last=o={index:n=f(t,!0),key:t,value:r,previous:t=i.last,next:void 0,removed:!1},i.first||(i.first=o),t&&(t.next=o),d?i.size++:e.size++,"F"!==n&&(i.index[n]=o)),e}function m(e,t){e=y(e);var r,n=f(t);if("F"!==n)return e.index[n];for(r=e.first;r;r=r.next)if(r.key==t)return r}var g=e((function(e,n){s(e,g,t),h(e,{type:t,index:i(null),first:void 0,last:void 0,size:0}),d||(e.size=0),null!=n&&l(n,e[u],e,r)})),y=p(t);return o(g.prototype,{clear:function(){for(var e=y(this),t=e.index,r=e.first;r;)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete t[r.index],r=r.next;e.first=e.last=void 0,d?e.size=0:this.size=0},delete:function(e){var t,r,n=y(this);return(e=m(this,e))&&(t=e.next,r=e.previous,delete n.index[e.index],e.removed=!0,r&&(r.next=t),t&&(t.previous=r),n.first==e&&(n.first=t),n.last==e&&(n.last=r),d?n.size--:this.size--),!!e},forEach:function(e){for(var t,r=y(this),n=a(e,1<arguments.length?arguments[1]:void 0,3);t=t?t.next:r.first;)for(n(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!m(this,e)}}),o(g.prototype,r?{get:function(e){return(e=m(this,e))&&e.value},set:function(e,t){return c(this,0===e?0:e,t)}}:{add:function(e){return c(this,e=0===e?0:e,e)}}),d&&n(g.prototype,"size",{get:function(){return y(this).size}}),g},setStrong:function(e,t,r){var n=t+" Iterator",i=p(t),o=p(n);u(e,t,(function(e,t){h(this,{type:n,target:e,state:i(e),kind:t,last:void 0})}),(function(){for(var e=o(this),t=e.kind,r=e.last;r&&r.removed;)r=r.previous;return e.target&&(e.last=r=r?r.next:e.state.first)?"keys"==t?{value:r.key,done:!1}:"values"==t?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:{value:e.target=void 0,done:!0}}),r?"entries":"values",!r,!0),c(t)}}},{"../internals/an-instance":9,"../internals/define-iterator":41,"../internals/descriptors":43,"../internals/function-bind-context":54,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/iterate":77,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/redefine-all":107,"../internals/set-species":116}],31:[function(e,t,r){"use strict";function n(e){return e.frozen||(e.frozen=new i)}function i(){this.entries=[]}function o(e,t){return g(e.entries,(function(e){return e[0]===t}))}var a=e("../internals/redefine-all"),s=e("../internals/internal-metadata").getWeakData,l=e("../internals/an-object"),u=e("../internals/is-object"),c=e("../internals/an-instance"),d=e("../internals/iterate"),f=e("../internals/array-iteration"),h=e("../internals/has"),p=(e=e("../internals/internal-state")).set,m=e.getterFor,g=f.find,y=f.findIndex,v=0;i.prototype={get:function(e){if(e=o(this,e))return e[1]},has:function(e){return!!o(this,e)},set:function(e,t){var r=o(this,e);r?r[1]=t:this.entries.push([e,t])},delete:function(e){var t=y(this.entries,(function(t){return t[0]===e}));return~t&&this.entries.splice(t,1),!!~t}},t.exports={getConstructor:function(e,t,r,i){function o(e,t,r){var i=g(e),o=s(l(t),!0);return!0===o?n(i).set(t,r):o[i.id]=r,e}var f=e((function(e,n){c(e,f,t),p(e,{type:t,id:v++,frozen:void 0}),null!=n&&d(n,e[i],e,r)})),g=m(t);return a(f.prototype,{delete:function(e){var t,r=g(this);return!!u(e)&&(!0===(t=s(e))?n(r).delete(e):t&&h(t,r.id)&&delete t[r.id])},has:function(e){var t,r=g(this);return!!u(e)&&(!0===(t=s(e))?n(r).has(e):t&&h(t,r.id))}}),a(f.prototype,r?{get:function(e){var t,r=g(this);if(u(e))return!0===(t=s(e))?n(r).get(e):t?t[r.id]:void 0},set:function(e,t){return o(this,e,t)}}:{add:function(e){return o(this,e,!0)}}),f}}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/array-iteration":19,"../internals/has":60,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/is-object":74,"../internals/iterate":77,"../internals/redefine-all":107}],32:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/global"),o=e("../internals/is-forced"),a=e("../internals/redefine"),s=e("../internals/internal-metadata"),l=e("../internals/iterate"),u=e("../internals/an-instance"),c=e("../internals/is-object"),d=e("../internals/fails"),f=e("../internals/check-correctness-of-iteration"),h=e("../internals/set-to-string-tag"),p=e("../internals/inherit-if-required");t.exports=function(e,t,r){function m(e){var t=T[e];a(T,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(E&&!c(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return E&&!c(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(E&&!c(e))&&t.call(this,0===e?0:e)}:function(e,r){return t.call(this,0===e?0:e,r),this})}var g,y,v,b,_,w=-1!==e.indexOf("Map"),E=-1!==e.indexOf("Weak"),x=w?"set":"add",S=i[e],T=S&&S.prototype,A=S,M={};return o(e,"function"!=typeof S||!(E||T.forEach&&!d((function(){(new S).entries().next()}))))?(A=r.getConstructor(t,e,w,x),s.REQUIRED=!0):o(e,!0)&&(y=(g=new A)[x](E?{}:-0,1)!=g,v=d((function(){g.has(1)})),b=f((function(e){new S(e)})),_=!E&&d((function(){for(var e=new S,t=5;t--;)e[x](t,t);return!e.has(-0)})),b||(((A=t((function(t,r){return u(t,A,e),t=p(new S,t,A),null!=r&&l(r,t[x],t,w),t}))).prototype=T).constructor=A),(v||_)&&(m("delete"),m("has"),w&&m("get")),(_||y)&&m(x),E&&T.clear&&delete T.clear),M[e]=A,n({global:!0,forced:A!=S},M),h(A,e),E||r.setStrong(A,e,w),A}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":50,"../internals/fails":51,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-metadata":69,"../internals/is-forced":73,"../internals/is-object":74,"../internals/iterate":77,"../internals/redefine":108,"../internals/set-to-string-tag":117}],33:[function(e,t,r){var n=e("../internals/has"),i=e("../internals/own-keys"),o=e("../internals/object-get-own-property-descriptor"),a=e("../internals/object-define-property");t.exports=function(e,t){for(var r=i(t),s=a.f,l=o.f,u=0;u<r.length;u++){var c=r[u];n(e,c)||s(e,c,l(t,c))}}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/own-keys":103}],34:[function(e,t,r){var n=e("../internals/well-known-symbol")("match");t.exports=function(t){var r=/./;try{"/./"[t](r)}catch(e){try{return r[n]=!1,"/./"[t](r)}catch(e){}}return!1}},{"../internals/well-known-symbol":148}],35:[function(e,t,r){e=e("../internals/fails"),t.exports=!e((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},{"../internals/fails":51}],36:[function(e,t,r){var n=e("../internals/require-object-coercible"),i=/"/g;t.exports=function(e,t,r,o){e=String(n(e));var a="<"+t;return""!==r&&(a+=" "+r+'="'+String(o).replace(i,"&quot;")+'"'),a+">"+e+"</"+t+">"}},{"../internals/require-object-coercible":113}],37:[function(e,t,r){"use strict";function n(){return this}var i=e("../internals/iterators-core").IteratorPrototype,o=e("../internals/object-create"),a=e("../internals/create-property-descriptor"),s=e("../internals/set-to-string-tag"),l=e("../internals/iterators");t.exports=function(e,t,r){return t+=" Iterator",e.prototype=o(i,{next:a(1,r)}),s(e,t,!1,!0),l[t]=n,e}},{"../internals/create-property-descriptor":39,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-create":90,"../internals/set-to-string-tag":117}],38:[function(e,t,r){var n=e("../internals/descriptors"),i=e("../internals/object-define-property"),o=e("../internals/create-property-descriptor");t.exports=n?function(e,t,r){return i.f(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/object-define-property":92}],39:[function(e,t,r){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],40:[function(e,t,r){"use strict";var n=e("../internals/to-primitive"),i=e("../internals/object-define-property"),o=e("../internals/create-property-descriptor");t.exports=function(e,t,r){(t=n(t))in e?i.f(e,t,o(0,r)):e[t]=r}},{"../internals/create-property-descriptor":39,"../internals/object-define-property":92,"../internals/to-primitive":140}],41:[function(e,t,r){"use strict";function n(){return this}var i=e("../internals/export"),o=e("../internals/create-iterator-constructor"),a=e("../internals/object-get-prototype-of"),s=e("../internals/object-set-prototype-of"),l=e("../internals/set-to-string-tag"),u=e("../internals/create-non-enumerable-property"),c=e("../internals/redefine"),d=e("../internals/well-known-symbol"),f=e("../internals/is-pure"),h=e("../internals/iterators"),p=(e=e("../internals/iterators-core")).IteratorPrototype,m=e.BUGGY_SAFARI_ITERATORS,g=d("iterator"),y="values",v="entries";t.exports=function(e,t,r,d,b,_,w){function E(e){if(e===b&&R)return R;if(!m&&e in A)return A[e];switch(e){case"keys":case y:case v:return function(){return new r(this,e)}}return function(){return new r(this)}}o(r,t,d);d=t+" Iterator";var x,S,T=!1,A=e.prototype,M=A[g]||A["@@iterator"]||b&&A[b],R=!m&&M||E(b),C="Array"==t&&A.entries||M;if(C&&(C=a(C.call(new e)),p!==Object.prototype&&C.next&&(f||a(C)===p||(s?s(C,p):"function"!=typeof C[g]&&u(C,g,n)),l(C,d,!0,!0),f&&(h[d]=n))),b==y&&M&&M.name!==y&&(T=!0,R=function(){return M.call(this)}),f&&!w||A[g]===R||u(A,g,R),h[t]=R,b)if(x={values:E(y),keys:_?R:E("keys"),entries:E(v)},w)for(S in x)!m&&!T&&S in A||c(A,S,x[S]);else i({target:t,proto:!0,forced:m||T},x);return x}},{"../internals/create-iterator-constructor":37,"../internals/create-non-enumerable-property":38,"../internals/export":50,"../internals/is-pure":75,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":148}],42:[function(e,t,r){var n=e("../internals/path"),i=e("../internals/has"),o=e("../internals/well-known-symbol-wrapped"),a=e("../internals/object-define-property").f;t.exports=function(e){var t=n.Symbol||(n.Symbol={});i(t,e)||a(t,e,{value:o.f(e)})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/path":104,"../internals/well-known-symbol-wrapped":147}],43:[function(e,t,r){e=e("../internals/fails"),t.exports=!e((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},{"../internals/fails":51}],44:[function(e,t,r){var n=e("../internals/global"),i=(e=e("../internals/is-object"),n.document),o=e(i)&&e(i.createElement);t.exports=function(e){return o?i.createElement(e):{}}},{"../internals/global":59,"../internals/is-object":74}],45:[function(e,t,r){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],46:[function(e,t,r){e=e("../internals/engine-user-agent"),t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(e)},{"../internals/engine-user-agent":47}],47:[function(e,t,r){e=e("../internals/get-built-in"),t.exports=e("navigator","userAgent")||""},{"../internals/get-built-in":56}],48:[function(e,t,r){var n,i,o=e("../internals/global");e=e("../internals/engine-user-agent");(o=(o=(o=o.process)&&o.versions)&&o.v8)?i=(n=o.split("."))[0]+n[1]:e&&(!(n=e.match(/Edge\/(\d+)/))||74<=n[1])&&(n=e.match(/Chrome\/(\d+)/))&&(i=n[1]),t.exports=i&&+i},{"../internals/engine-user-agent":47,"../internals/global":59}],49:[function(e,t,r){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],50:[function(e,t,r){var n=e("../internals/global"),i=e("../internals/object-get-own-property-descriptor").f,o=e("../internals/create-non-enumerable-property"),a=e("../internals/redefine"),s=e("../internals/set-global"),l=e("../internals/copy-constructor-properties"),u=e("../internals/is-forced");t.exports=function(e,t){var r,c,d,f=e.target,h=e.global,p=e.stat,m=h?n:p?n[f]||s(f,{}):(n[f]||{}).prototype;if(m)for(r in t){if(c=t[r],d=e.noTargetGet?(d=i(m,r))&&d.value:m[r],!u(h?r:f+(p?".":"#")+r,e.forced)&&void 0!==d){if(typeof c==typeof d)continue;l(c,d)}(e.sham||d&&d.sham)&&o(c,"sham",!0),a(m,r,c,e)}}},{"../internals/copy-constructor-properties":33,"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/is-forced":73,"../internals/object-get-own-property-descriptor":93,"../internals/redefine":108,"../internals/set-global":115}],51:[function(e,t,r){t.exports=function(e){try{return!!e()}catch(e){return!0}}},{}],52:[function(e,t,r){"use strict";e("../modules/es.regexp.exec");var n=e("../internals/redefine"),i=e("../internals/fails"),o=e("../internals/well-known-symbol"),a=e("../internals/regexp-exec"),s=e("../internals/create-non-enumerable-property"),l=o("species"),u=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),c="$0"==="a".replace(/./,"$0"),d=!!/./[e=o("replace")]&&""===/./[e]("a","$0"),f=!i((function(){var e=(t=/(?:)/).exec,t=(t.exec=function(){return e.apply(this,arguments)},"ab".split(t));return 2!==t.length||"a"!==t[0]||"b"!==t[1]}));t.exports=function(e,t,r,h){var p,m,g=o(e),y=!i((function(){var t={};return t[g]=function(){return 7},7!=""[e](t)})),v=y&&!i((function(){var t=!1,r=/a/;return"split"===e&&((r={constructor:{}}).constructor[l]=function(){return r},r.flags="",r[g]=/./[g]),r.exec=function(){return t=!0,null},r[g](""),!t}));y&&v&&("replace"!==e||u&&c&&!d)&&("split"!==e||f)||(p=/./[g],r=(v=r(g,""[e],(function(e,t,r,n,i){return t.exec===a?y&&!i?{done:!0,value:p.call(t,r,n)}:{done:!0,value:e.call(r,t,n)}:{done:!1}}),{REPLACE_KEEPS_$0:c,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:d}))[0],m=v[1],n(String.prototype,e,r),n(RegExp.prototype,g,2==t?function(e,t){return m.call(e,this,t)}:function(e){return m.call(e,this)})),h&&s(RegExp.prototype[g],"sham",!0)}},{"../internals/create-non-enumerable-property":38,"../internals/fails":51,"../internals/redefine":108,"../internals/regexp-exec":110,"../internals/well-known-symbol":148,"../modules/es.regexp.exec":185}],53:[function(e,t,r){e=e("../internals/fails"),t.exports=!e((function(){return Object.isExtensible(Object.preventExtensions({}))}))},{"../internals/fails":51}],54:[function(e,t,r){var n=e("../internals/a-function");t.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 0:return function(){return e.call(t)};case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}}},{"../internals/a-function":5}],55:[function(e,t,r){"use strict";var n=e("../internals/a-function"),i=e("../internals/is-object"),o=[].slice,a={};t.exports=Function.bind||function(e){var t=n(this),r=o.call(arguments,1),s=function n(){var i=r.concat(o.call(arguments));if(this instanceof n){var s=t,l=i.length,u=i;if(!(l in a)){for(var c=[],d=0;d<l;d++)c[d]="a["+d+"]";a[l]=Function("C,a","return new C("+c.join(",")+")")}return a[l](s,u)}return t.apply(e,i)};return i(t.prototype)&&(s.prototype=t.prototype),s}},{"../internals/a-function":5,"../internals/is-object":74}],56:[function(e,t,r){function n(e){return"function"==typeof e?e:void 0}var i=e("../internals/path"),o=e("../internals/global");t.exports=function(e,t){return arguments.length<2?n(i[e])||n(o[e]):i[e]&&i[e][t]||o[e]&&o[e][t]}},{"../internals/global":59,"../internals/path":104}],57:[function(e,t,r){var n=e("../internals/classof"),i=e("../internals/iterators"),o=e("../internals/well-known-symbol")("iterator");t.exports=function(e){if(null!=e)return e[o]||e["@@iterator"]||i[n(e)]}},{"../internals/classof":29,"../internals/iterators":79,"../internals/well-known-symbol":148}],58:[function(e,t,r){var n=e("../internals/an-object"),i=e("../internals/get-iterator-method");t.exports=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return n(t.call(e))}},{"../internals/an-object":10,"../internals/get-iterator-method":57}],59:[function(e,t,r){(function(e){function r(e){return e&&e.Math==Math&&e}t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof e&&e)||Function("return this")()}).call(this,"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],60:[function(e,t,r){var n={}.hasOwnProperty;t.exports=function(e,t){return n.call(e,t)}},{}],61:[function(e,t,r){t.exports={}},{}],62:[function(e,t,r){var n=e("../internals/global");t.exports=function(e,t){var r=n.console;r&&r.error&&(1===arguments.length?r.error(e):r.error(e,t))}},{"../internals/global":59}],63:[function(e,t,r){e=e("../internals/get-built-in"),t.exports=e("document","documentElement")},{"../internals/get-built-in":56}],64:[function(e,t,r){var n=e("../internals/descriptors"),i=e("../internals/fails"),o=e("../internals/document-create-element");t.exports=!n&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},{"../internals/descriptors":43,"../internals/document-create-element":44,"../internals/fails":51}],65:[function(e,t,r){var n=Math.abs,i=Math.pow,o=Math.floor,a=Math.log,s=Math.LN2;t.exports={pack:function(e,t,r){var l,u,c,d=new Array(r),f=8*r-t-1,h=(r=(1<<f)-1)>>1,p=23===t?i(2,-24)-i(2,-77):0,m=e<0||0===e&&1/e<0?1:0,g=0;for((e=n(e))!=e||e===1/0?(u=e!=e?1:0,l=r):(l=o(a(e)/s),e*(c=i(2,-l))<1&&(l--,c*=2),2<=(e+=1<=l+h?p/c:p*i(2,1-h))*c&&(l++,c/=2),r<=l+h?(u=0,l=r):1<=l+h?(u=(e*c-1)*i(2,t),l+=h):(u=e*i(2,h-1)*i(2,t),l=0));8<=t;d[g++]=255&u,u/=256,t-=8);for(l=l<<t|u,f+=t;0<f;d[g++]=255&l,l/=256,f-=8);return d[--g]|=128*m,d},unpack:function(e,t){var r,n,o=e.length,a=(1<<(n=8*o-t-1))-1,s=a>>1,l=n-7,u=o-1,c=127&(n=e[u--]);for(n>>=7;0<l;c=256*c+e[u],u--,l-=8);for(r=c&(1<<-l)-1,c>>=-l,l+=t;0<l;r=256*r+e[u],u--,l-=8);if(0===c)c=1-s;else{if(c===a)return r?NaN:n?-1/0:1/0;r+=i(2,t),c-=s}return(n?-1:1)*r*i(2,c-t)}}},{}],66:[function(e,t,r){var n=e("../internals/fails"),i=e("../internals/classof-raw"),o="".split;t.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?o.call(e,""):Object(e)}:Object},{"../internals/classof-raw":28,"../internals/fails":51}],67:[function(e,t,r){var n=e("../internals/is-object"),i=e("../internals/object-set-prototype-of");t.exports=function(e,t,r){return i&&"function"==typeof(t=t.constructor)&&t!==r&&n(t=t.prototype)&&t!==r.prototype&&i(e,t),e}},{"../internals/is-object":74,"../internals/object-set-prototype-of":101}],68:[function(e,t,r){e=e("../internals/shared-store");var n=Function.toString;"function"!=typeof e.inspectSource&&(e.inspectSource=function(e){return n.call(e)}),t.exports=e.inspectSource},{"../internals/shared-store":119}],69:[function(e,t,r){function n(e){s(e,c,{value:{objectID:"O"+ ++d,weakData:{}}})}var i=e("../internals/hidden-keys"),o=e("../internals/is-object"),a=e("../internals/has"),s=e("../internals/object-define-property").f,l=e("../internals/uid"),u=e("../internals/freezing"),c=l("meta"),d=0,f=Object.isExtensible||function(){return!0},h=t.exports={REQUIRED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,c)){if(!f(e))return"F";if(!t)return"E";n(e)}return e[c].objectID},getWeakData:function(e,t){if(!a(e,c)){if(!f(e))return!0;if(!t)return!1;n(e)}return e[c].weakData},onFreeze:function(e){return u&&h.REQUIRED&&f(e)&&!a(e,c)&&n(e),e}};i[c]=!0},{"../internals/freezing":53,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/uid":145}],70:[function(e,t,r){var n,i,o,a,s,l,u,c,d=e("../internals/native-weak-map"),f=e("../internals/global"),h=e("../internals/is-object"),p=e("../internals/create-non-enumerable-property"),m=e("../internals/has"),g=e("../internals/shared-key");e=e("../internals/hidden-keys"),f=f.WeakMap;u=d?(n=new f,i=n.get,o=n.has,a=n.set,s=function(e,t){return a.call(n,e,t),t},l=function(e){return i.call(n,e)||{}},function(e){return o.call(n,e)}):(e[c=g("state")]=!0,s=function(e,t){return p(e,c,t),t},l=function(e){return m(e,c)?e[c]:{}},function(e){return m(e,c)}),t.exports={set:s,get:l,has:u,enforce:function(e){return u(e)?l(e):s(e,{})},getterFor:function(e){return function(t){if(h(t)&&(t=l(t)).type===e)return t;throw TypeError("Incompatible receiver, "+e+" required")}}}},{"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/native-weak-map":85,"../internals/shared-key":118}],71:[function(e,t,r){var n=e("../internals/well-known-symbol"),i=e("../internals/iterators"),o=n("iterator"),a=Array.prototype;t.exports=function(e){return void 0!==e&&(i.Array===e||a[o]===e)}},{"../internals/iterators":79,"../internals/well-known-symbol":148}],72:[function(e,t,r){var n=e("../internals/classof-raw");t.exports=Array.isArray||function(e){return"Array"==n(e)}},{"../internals/classof-raw":28}],73:[function(e,t,r){function n(e,t){return(e=s[a(e)])==u||e!=l&&("function"==typeof t?i(t):!!t)}var i=e("../internals/fails"),o=/#|\.prototype\./,a=n.normalize=function(e){return String(e).replace(o,".").toLowerCase()},s=n.data={},l=n.NATIVE="N",u=n.POLYFILL="P";t.exports=n},{"../internals/fails":51}],74:[function(e,t,r){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],75:[function(e,t,r){t.exports=!1},{}],76:[function(e,t,r){var n=e("../internals/is-object"),i=e("../internals/classof-raw"),o=e("../internals/well-known-symbol")("match");t.exports=function(e){var t;return n(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},{"../internals/classof-raw":28,"../internals/is-object":74,"../internals/well-known-symbol":148}],77:[function(e,t,r){function n(e,t){this.stopped=e,this.result=t}var i=e("../internals/an-object"),o=e("../internals/is-array-iterator-method"),a=e("../internals/to-length"),s=e("../internals/function-bind-context"),l=e("../internals/get-iterator-method"),u=e("../internals/call-with-safe-iteration-closing");(t.exports=function(e,t,r,c,d){var f,h,p,m,g,y,v=s(t,r,c?2:1);if(d)f=e;else{if("function"!=typeof(t=l(e)))throw TypeError("Target is not iterable");if(o(t)){for(h=0,p=a(e.length);h<p;h++)if((m=c?v(i(y=e[h])[0],y[1]):v(e[h]))&&m instanceof n)return m;return new n(!1)}f=t.call(e)}for(g=f.next;!(y=g.call(f)).done;)if("object"==typeof(m=u(f,v,y.value,c))&&m&&m instanceof n)return m;return new n(!1)}).stop=function(e){return new n(!0,e)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":136}],78:[function(e,t,r){"use strict";var n,i,o=e("../internals/object-get-prototype-of"),a=e("../internals/create-non-enumerable-property"),s=e("../internals/has"),l=e("../internals/well-known-symbol"),u=(e=e("../internals/is-pure"),l=l("iterator"),!1);[].keys&&("next"in(i=[].keys())?(o=o(o(i)))!==Object.prototype&&(n=o):u=!0),null==n&&(n={}),e||s(n,l)||a(n,l,(function(){return this})),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:u}},{"../internals/create-non-enumerable-property":38,"../internals/has":60,"../internals/is-pure":75,"../internals/object-get-prototype-of":97,"../internals/well-known-symbol":148}],79:[function(e,t,r){t.exports={}},{}],80:[function(e,t,r){t.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},{}],81:[function(e,t,r){var n,i,o,a,s,l,u,c,d=e("../internals/global"),f=e("../internals/object-get-own-property-descriptor").f,h=e("../internals/classof-raw"),p=e("../internals/task").set,m=(e=e("../internals/engine-is-ios"),d.MutationObserver||d.WebKitMutationObserver),g=d.process,y=d.Promise,v="process"==h(g);h=f(d,"queueMicrotask");(f=h&&h.value)||(n=function(){var e,t;for(v&&(e=g.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(e){throw i?a():o=void 0,e}}o=void 0,e&&e.enter()},a=v?function(){g.nextTick(n)}:m&&!e?(s=!0,l=document.createTextNode(""),new m(n).observe(l,{characterData:!0}),function(){l.data=s=!s}):y&&y.resolve?(u=y.resolve(void 0),c=u.then,function(){c.call(u,n)}):function(){p.call(d,n)}),t.exports=f||function(e){e={fn:e,next:void 0},o&&(o.next=e),i||(i=e,a()),o=e}},{"../internals/classof-raw":28,"../internals/engine-is-ios":46,"../internals/global":59,"../internals/object-get-own-property-descriptor":93,"../internals/task":130}],82:[function(e,t,r){e=e("../internals/global"),t.exports=e.Promise},{"../internals/global":59}],83:[function(e,t,r){e=e("../internals/fails"),t.exports=!!Object.getOwnPropertySymbols&&!e((function(){return!String(Symbol())}))},{"../internals/fails":51}],84:[function(e,t,r){var n=e("../internals/fails"),i=e("../internals/well-known-symbol"),o=e("../internals/is-pure"),a=i("iterator");t.exports=!n((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,r="";return e.pathname="c%20d",t.forEach((function(e,n){t.delete("b"),r+=n+e})),o&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host}))},{"../internals/fails":51,"../internals/is-pure":75,"../internals/well-known-symbol":148}],85:[function(e,t,r){var n=e("../internals/global");e=e("../internals/inspect-source"),n=n.WeakMap;t.exports="function"==typeof n&&/native code/.test(e(n))},{"../internals/global":59,"../internals/inspect-source":68}],86:[function(e,t,r){"use strict";function n(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n})),this.resolve=i(t),this.reject=i(r)}var i=e("../internals/a-function");t.exports.f=function(e){return new n(e)}},{"../internals/a-function":5}],87:[function(e,t,r){var n=e("../internals/is-regexp");t.exports=function(e){if(n(e))throw TypeError("The method doesn't accept regular expressions");return e}},{"../internals/is-regexp":76}],88:[function(e,t,r){var n=e("../internals/global").isFinite;t.exports=Number.isFinite||function(e){return"number"==typeof e&&n(e)}},{"../internals/global":59}],89:[function(e,t,r){"use strict";var n=e("../internals/descriptors"),i=e("../internals/fails"),o=e("../internals/object-keys"),a=e("../internals/object-get-own-property-symbols"),s=e("../internals/object-property-is-enumerable"),l=e("../internals/to-object"),u=e("../internals/indexed-object"),c=Object.assign,d=Object.defineProperty;t.exports=!c||i((function(){var e,t,r,i;return!(!n||1===c({b:1},c(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)||(t={},i="abcdefghijklmnopqrst",(e={})[r=Symbol()]=7,i.split("").forEach((function(e){t[e]=e})),7!=c({},e)[r]||o(c({},t)).join("")!=i)}))?function(e,t){for(var r=l(e),i=arguments.length,c=1,d=a.f,f=s.f;c<i;)for(var h,p=u(arguments[c++]),m=d?o(p).concat(d(p)):o(p),g=m.length,y=0;y<g;)h=m[y++],n&&!f.call(p,h)||(r[h]=p[h]);return r}:c},{"../internals/descriptors":43,"../internals/fails":51,"../internals/indexed-object":66,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/to-object":137}],90:[function(e,t,r){function n(){}var i,o=e("../internals/an-object"),a=e("../internals/object-define-properties"),s=e("../internals/enum-bug-keys"),l=e("../internals/hidden-keys"),u=e("../internals/html"),c=e("../internals/document-create-element"),d=(e=e("../internals/shared-key"),"prototype"),f="script",h=e("IE_PROTO"),p=function(e){return"<"+f+">"+e+"</"+f+">"},m=function(){try{i=document.domain&&new ActiveXObject("htmlfile")}catch(e){}m=i?((e=i).write(p("")),e.close(),t=e.parentWindow.Object,e=null,t):(e=c("iframe"),t="java"+f+":",e.style.display="none",u.appendChild(e),e.src=String(t),(t=e.contentWindow.document).open(),t.write(p("document.F=Object")),t.close(),t.F);for(var e,t,r=s.length;r--;)delete m[d][s[r]];return m()};l[h]=!0,t.exports=Object.create||function(e,t){var r;return null!==e?(n[d]=o(e),r=new n,n[d]=null,r[h]=e):r=m(),void 0===t?r:a(r,t)}},{"../internals/an-object":10,"../internals/document-create-element":44,"../internals/enum-bug-keys":49,"../internals/hidden-keys":61,"../internals/html":63,"../internals/object-define-properties":91,"../internals/shared-key":118}],91:[function(e,t,r){var n=e("../internals/descriptors"),i=e("../internals/object-define-property"),o=e("../internals/an-object"),a=e("../internals/object-keys");t.exports=n?Object.defineProperties:function(e,t){o(e);for(var r,n=a(t),s=n.length,l=0;l<s;)i.f(e,r=n[l++],t[r]);return e}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/object-define-property":92,"../internals/object-keys":99}],92:[function(e,t,r){var n=e("../internals/descriptors"),i=e("../internals/ie8-dom-define"),o=e("../internals/an-object"),a=e("../internals/to-primitive"),s=Object.defineProperty;r.f=n?s:function(e,t,r){if(o(e),t=a(t,!0),o(r),i)try{return s(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/ie8-dom-define":64,"../internals/to-primitive":140}],93:[function(e,t,r){var n=e("../internals/descriptors"),i=e("../internals/object-property-is-enumerable"),o=e("../internals/create-property-descriptor"),a=e("../internals/to-indexed-object"),s=e("../internals/to-primitive"),l=e("../internals/has"),u=e("../internals/ie8-dom-define"),c=Object.getOwnPropertyDescriptor;r.f=n?c:function(e,t){if(e=a(e),t=s(t,!0),u)try{return c(e,t)}catch(e){}if(l(e,t))return o(!i.f.call(e,t),e[t])}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/has":60,"../internals/ie8-dom-define":64,"../internals/object-property-is-enumerable":100,"../internals/to-indexed-object":134,"../internals/to-primitive":140}],94:[function(e,t,r){var n=e("../internals/to-indexed-object"),i=e("../internals/object-get-own-property-names").f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(e){if(!a||"[object Window]"!=o.call(e))return i(n(e));try{return i(e)}catch(e){return a.slice()}}},{"../internals/object-get-own-property-names":95,"../internals/to-indexed-object":134}],95:[function(e,t,r){var n=e("../internals/object-keys-internal"),i=e("../internals/enum-bug-keys").concat("length","prototype");r.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":98}],96:[function(e,t,r){r.f=Object.getOwnPropertySymbols},{}],97:[function(e,t,r){var n=e("../internals/has"),i=e("../internals/to-object"),o=e("../internals/shared-key"),a=(e=e("../internals/correct-prototype-getter"),o("IE_PROTO")),s=Object.prototype;t.exports=e?Object.getPrototypeOf:function(e){return e=i(e),n(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},{"../internals/correct-prototype-getter":35,"../internals/has":60,"../internals/shared-key":118,"../internals/to-object":137}],98:[function(e,t,r){var n=e("../internals/has"),i=e("../internals/to-indexed-object"),o=e("../internals/array-includes").indexOf,a=e("../internals/hidden-keys");t.exports=function(e,t){var r,s=i(e),l=0,u=[];for(r in s)!n(a,r)&&n(s,r)&&u.push(r);for(;t.length>l;)!n(s,r=t[l++])||~o(u,r)||u.push(r);return u}},{"../internals/array-includes":18,"../internals/has":60,"../internals/hidden-keys":61,"../internals/to-indexed-object":134}],99:[function(e,t,r){var n=e("../internals/object-keys-internal"),i=e("../internals/enum-bug-keys");t.exports=Object.keys||function(e){return n(e,i)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":98}],100:[function(e,t,r){"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!n.call({1:2},1);r.f=o?function(e){return!!(e=i(this,e))&&e.enumerable}:n},{}],101:[function(e,t,r){var n=e("../internals/an-object"),i=e("../internals/a-possible-prototype");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),t=r instanceof Array}catch(r){}return function(r,o){return n(r),i(o),t?e.call(r,o):r.__proto__=o,r}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],102:[function(e,t,r){"use strict";var n=e("../internals/to-string-tag-support"),i=e("../internals/classof");t.exports=n?{}.toString:function(){return"[object "+i(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":141}],103:[function(e,t,r){var n=e("../internals/get-built-in"),i=e("../internals/object-get-own-property-names"),o=e("../internals/object-get-own-property-symbols"),a=e("../internals/an-object");t.exports=n("Reflect","ownKeys")||function(e){var t=i.f(a(e)),r=o.f;return r?t.concat(r(e)):t}},{"../internals/an-object":10,"../internals/get-built-in":56,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-symbols":96}],104:[function(e,t,r){e=e("../internals/global"),t.exports=e},{"../internals/global":59}],105:[function(e,t,r){t.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},{}],106:[function(e,t,r){var n=e("../internals/an-object"),i=e("../internals/is-object"),o=e("../internals/new-promise-capability");t.exports=function(e,t){return n(e),i(t)&&t.constructor===e?t:((0,(e=o.f(e)).resolve)(t),e.promise)}},{"../internals/an-object":10,"../internals/is-object":74,"../internals/new-promise-capability":86}],107:[function(e,t,r){var n=e("../internals/redefine");t.exports=function(e,t,r){for(var i in t)n(e,i,t[i],r);return e}},{"../internals/redefine":108}],108:[function(e,t,r){var n=e("../internals/global"),i=e("../internals/create-non-enumerable-property"),o=e("../internals/has"),a=e("../internals/set-global"),s=e("../internals/inspect-source"),l=(e=e("../internals/internal-state")).get,u=e.enforce,c=String(String).split("String");(t.exports=function(e,t,r,s){var l=!!s&&!!s.unsafe,d=!!s&&!!s.enumerable;s=!!s&&!!s.noTargetGet;"function"==typeof r&&("string"!=typeof t||o(r,"name")||i(r,"name",t),u(r).source=c.join("string"==typeof t?t:"")),e===n?d?e[t]=r:a(t,r):(l?!s&&e[t]&&(d=!0):delete e[t],d?e[t]=r:i(e,t,r))})(Function.prototype,"toString",(function(){return"function"==typeof this&&l(this).source||s(this)}))},{"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/has":60,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/set-global":115}],109:[function(e,t,r){var n=e("./classof-raw"),i=e("./regexp-exec");t.exports=function(e,t){var r=e.exec;if("function"==typeof r){if("object"!=typeof(r=r.call(e,t)))throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==n(e))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},{"./classof-raw":28,"./regexp-exec":110}],110:[function(e,t,r){"use strict";var n,i,o=e("./regexp-flags"),a=(e=e("./regexp-sticky-helpers"),RegExp.prototype.exec),s=String.prototype.replace,l=a,u=(n=/a/,i=/b*/g,a.call(n,"a"),a.call(i,"a"),0!==n.lastIndex||0!==i.lastIndex),c=e.UNSUPPORTED_Y||e.BROKEN_CARET,d=void 0!==/()??/.exec("")[1];t.exports=l=u||d||c?function(e){var t,r,n,i,l=this,f=c&&l.sticky,h=o.call(l),p=l.source,m=0,g=e;return f&&(-1===(h=h.replace("y","")).indexOf("g")&&(h+="g"),g=String(e).slice(l.lastIndex),0<l.lastIndex&&(!l.multiline||l.multiline&&"\n"!==e[l.lastIndex-1])&&(p="(?: "+p+")",g=" "+g,m++),r=new RegExp("^(?:"+p+")",h)),d&&(r=new RegExp("^"+p+"$(?!\\s)",h)),u&&(t=l.lastIndex),n=a.call(f?r:l,g),f?n?(n.input=n.input.slice(m),n[0]=n[0].slice(m),n.index=l.lastIndex,l.lastIndex+=n[0].length):l.lastIndex=0:u&&n&&(l.lastIndex=l.global?n.index+n[0].length:t),d&&n&&1<n.length&&s.call(n[0],r,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(n[i]=void 0)})),n}:l},{"./regexp-flags":111,"./regexp-sticky-helpers":112}],111:[function(e,t,r){"use strict";var n=e("../internals/an-object");t.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},{"../internals/an-object":10}],112:[function(e,t,r){"use strict";function n(e,t){return RegExp(e,t)}e=e("./fails"),r.UNSUPPORTED_Y=e((function(){var e=n("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),r.BROKEN_CARET=e((function(){var e=n("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},{"./fails":51}],113:[function(e,t,r){t.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},{}],114:[function(e,t,r){t.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},{}],115:[function(e,t,r){var n=e("../internals/global"),i=e("../internals/create-non-enumerable-property");t.exports=function(t,r){try{i(n,t,r)}catch(e){n[t]=r}return r}},{"../internals/create-non-enumerable-property":38,"../internals/global":59}],116:[function(e,t,r){"use strict";var n=e("../internals/get-built-in"),i=e("../internals/object-define-property"),o=e("../internals/well-known-symbol"),a=e("../internals/descriptors"),s=o("species");t.exports=function(e){e=n(e);var t=i.f;a&&e&&!e[s]&&t(e,s,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":43,"../internals/get-built-in":56,"../internals/object-define-property":92,"../internals/well-known-symbol":148}],117:[function(e,t,r){var n=e("../internals/object-define-property").f,i=e("../internals/has"),o=e("../internals/well-known-symbol")("toStringTag");t.exports=function(e,t,r){e&&!i(e=r?e:e.prototype,o)&&n(e,o,{configurable:!0,value:t})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/well-known-symbol":148}],118:[function(e,t,r){var n=e("../internals/shared"),i=e("../internals/uid"),o=n("keys");t.exports=function(e){return o[e]||(o[e]=i(e))}},{"../internals/shared":120,"../internals/uid":145}],119:[function(e,t,r){var n=e("../internals/global"),i=(e=e("../internals/set-global"),"__core-js_shared__");n=n[i]||e(i,{});t.exports=n},{"../internals/global":59,"../internals/set-global":115}],120:[function(e,t,r){var n=e("../internals/is-pure"),i=e("../internals/shared-store");(t.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:n?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":75,"../internals/shared-store":119}],121:[function(e,t,r){var n=e("../internals/an-object"),i=e("../internals/a-function"),o=e("../internals/well-known-symbol")("species");t.exports=function(e,t){return void 0===(e=n(e).constructor)||null==(e=n(e)[o])?t:i(e)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":148}],122:[function(e,t,r){var n=e("../internals/fails");t.exports=function(e){return n((function(){var t=""[e]('"');return t!==t.toLowerCase()||3<t.split('"').length}))}},{"../internals/fails":51}],123:[function(e,t,r){function n(e){return function(t,r){t=String(o(t)),r=i(r);var n,a=t.length;return r<0||a<=r?e?"":void 0:(n=t.charCodeAt(r))<55296||56319<n||r+1===a||(a=t.charCodeAt(r+1))<56320||57343<a?e?t.charAt(r):n:e?t.slice(r,r+2):a-56320+(n-55296<<10)+65536}}var i=e("../internals/to-integer"),o=e("../internals/require-object-coercible");t.exports={codeAt:n(!1),charAt:n(!0)}},{"../internals/require-object-coercible":113,"../internals/to-integer":135}],124:[function(e,t,r){e=e("../internals/engine-user-agent"),t.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(e)},{"../internals/engine-user-agent":47}],125:[function(e,t,r){function n(e){return function(t,r,n){var l=(t=String(a(t))).length;n=void 0===n?" ":String(n);return(r=i(r))<=l||""==n?t:((l=o.call(n,s((r-=l)/n.length))).length>r&&(l=l.slice(0,r)),e?t+l:l+t)}}var i=e("../internals/to-length"),o=e("../internals/string-repeat"),a=e("../internals/require-object-coercible"),s=Math.ceil;t.exports={start:n(!1),end:n(!0)}},{"../internals/require-object-coercible":113,"../internals/string-repeat":127,"../internals/to-length":136}],126:[function(e,t,r){"use strict";function n(e){return e+22+75*(e<26)}function i(e){var t,r=[],i=(e=function(e){for(var t=[],r=0,n=e.length;r<n;){var i,o=e.charCodeAt(r++);55296<=o&&o<=56319&&r<n?56320==(64512&(i=e.charCodeAt(r++)))?t.push(((1023&o)<<10)+(1023&i)+65536):(t.push(o),r--):t.push(o)}return t}(e)).length,c=128,d=0,g=72;for(_=0;_<e.length;_++)(t=e[_])<128&&r.push(m(t));var y=r.length,v=y;for(y&&r.push("-");v<i;){for(var b=o,_=0;_<e.length;_++)c<=(t=e[_])&&t<b&&(b=t);var w=v+1;if(b-c>p((o-d)/w))throw RangeError(f);for(d+=(b-c)*w,c=b,_=0;_<e.length;_++){if((t=e[_])<c&&++d>o)throw RangeError(f);if(t==c){for(var E=d,x=a;;x+=a){var S=x<=g?1:g+s<=x?s:x-g;if(E<S)break;var T=E-S,A=a-S;r.push(m(n(S+T%A))),E=p(T/A)}r.push(m(n(E))),g=function(e,t,r){var n=0;for(e=r?p(e/u):e>>1,e+=p(e/t);h*s>>1<e;n+=a)e=p(e/h);return p(n+(h+1)*e/(e+l))}(d,w,v==y),d=0,++v}}++d,++c}return r.join("")}var o=2147483647,a=36,s=26,l=38,u=700,c=/[^\0-\u007E]/,d=/[.\u3002\uFF0E\uFF61]/g,f="Overflow: input needs wider integers to process",h=a-1,p=Math.floor,m=String.fromCharCode;t.exports=function(e){for(var t,r=[],n=e.toLowerCase().replace(d,".").split("."),o=0;o<n.length;o++)t=n[o],r.push(c.test(t)?"xn--"+i(t):t);return r.join(".")}},{}],127:[function(e,t,r){"use strict";var n=e("../internals/to-integer"),i=e("../internals/require-object-coercible");t.exports="".repeat||function(e){var t=String(i(this)),r="",o=n(e);if(o<0||o==1/0)throw RangeError("Wrong number of repetitions");for(;0<o;(o>>>=1)&&(t+=t))1&o&&(r+=t);return r}},{"../internals/require-object-coercible":113,"../internals/to-integer":135}],128:[function(e,t,r){var n=e("../internals/fails"),i=e("../internals/whitespaces");t.exports=function(e){return n((function(){return!!i[e]()||"\u200b\x85\u180e"!="\u200b\x85\u180e"[e]()||i[e].name!==e}))}},{"../internals/fails":51,"../internals/whitespaces":149}],129:[function(e,t,r){function n(e){return function(t){return t=String(i(t)),1&e&&(t=t.replace(o,"")),2&e?t.replace(a,""):t}}var i=e("../internals/require-object-coercible"),o=(e="["+e("../internals/whitespaces")+"]",RegExp("^"+e+e+"*")),a=RegExp(e+e+"*$");t.exports={start:n(1),end:n(2),trim:n(3)}},{"../internals/require-object-coercible":113,"../internals/whitespaces":149}],130:[function(e,t,r){function n(e){return function(){E(e)}}function i(e){E(e.data)}function o(e){s.postMessage(e+"",h.protocol+"//"+h.host)}var a,s=e("../internals/global"),l=e("../internals/fails"),u=e("../internals/classof-raw"),c=e("../internals/function-bind-context"),d=e("../internals/html"),f=e("../internals/document-create-element"),h=(e=e("../internals/engine-is-ios"),s.location),p=s.setImmediate,m=s.clearImmediate,g=s.process,y=s.MessageChannel,v=s.Dispatch,b=0,_={},w="onreadystatechange",E=function(e){var t;_.hasOwnProperty(e)&&(t=_[e],delete _[e],t())};p&&m||(p=function(e){for(var t=[],r=1;r<arguments.length;)t.push(arguments[r++]);return _[++b]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},a(b),b},m=function(e){delete _[e]},"process"==u(g)?a=function(e){g.nextTick(n(e))}:v&&v.now?a=function(e){v.now(n(e))}:y&&!e?(e=(u=new y).port2,u.port1.onmessage=i,a=c(e.postMessage,e,1)):!s.addEventListener||"function"!=typeof postMessage||s.importScripts||l(o)||"file:"===h.protocol?a=w in f("script")?function(e){d.appendChild(f("script"))[w]=function(){d.removeChild(this),E(e)}}:function(e){setTimeout(n(e),0)}:(a=o,s.addEventListener("message",i,!1))),t.exports={set:p,clear:m}},{"../internals/classof-raw":28,"../internals/document-create-element":44,"../internals/engine-is-ios":46,"../internals/fails":51,"../internals/function-bind-context":54,"../internals/global":59,"../internals/html":63}],131:[function(e,t,r){var n=e("../internals/classof-raw");t.exports=function(e){if("number"!=typeof e&&"Number"!=n(e))throw TypeError("Incorrect invocation");return+e}},{"../internals/classof-raw":28}],132:[function(e,t,r){var n=e("../internals/to-integer"),i=Math.max,o=Math.min;t.exports=function(e,t){return(e=n(e))<0?i(e+t,0):o(e,t)}},{"../internals/to-integer":135}],133:[function(e,t,r){var n=e("../internals/to-integer"),i=e("../internals/to-length");t.exports=function(e){if(void 0===e)return 0;e=n(e);var t=i(e);if(e!==t)throw RangeError("Wrong length or index");return t}},{"../internals/to-integer":135,"../internals/to-length":136}],134:[function(e,t,r){var n=e("../internals/indexed-object"),i=e("../internals/require-object-coercible");t.exports=function(e){return n(i(e))}},{"../internals/indexed-object":66,"../internals/require-object-coercible":113}],135:[function(e,t,r){var n=Math.ceil,i=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(0<e?i:n)(e)}},{}],136:[function(e,t,r){var n=e("../internals/to-integer"),i=Math.min;t.exports=function(e){return 0<e?i(n(e),9007199254740991):0}},{"../internals/to-integer":135}],137:[function(e,t,r){var n=e("../internals/require-object-coercible");t.exports=function(e){return Object(n(e))}},{"../internals/require-object-coercible":113}],138:[function(e,t,r){var n=e("../internals/to-positive-integer");t.exports=function(e,t){if((e=n(e))%t)throw RangeError("Wrong offset");return e}},{"../internals/to-positive-integer":139}],139:[function(e,t,r){var n=e("../internals/to-integer");t.exports=function(e){if((e=n(e))<0)throw RangeError("The argument can't be less than 0");return e}},{"../internals/to-integer":135}],140:[function(e,t,r){var n=e("../internals/is-object");t.exports=function(e,t){if(!n(e))return e;var r,i;if(t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e))||"function"==typeof(r=e.valueOf)&&!n(i=r.call(e))||!t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":74}],141:[function(e,t,r){var n={};n[e("../internals/well-known-symbol")("toStringTag")]="z",t.exports="[object z]"===String(n)},{"../internals/well-known-symbol":148}],142:[function(e,t,r){"use strict";function n(e,t){for(var r=0,n=t.length,i=new(q(e))(n);r<n;)i[r]=t[r++];return i}function i(e,t){D(e,t,{get:function(){return N(this)[t]}})}function o(e){return e instanceof G||"ArrayBuffer"==(e=x(e))||"SharedArrayBuffer"==e}function a(e,t){return Y(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)}function s(e,t){return a(e,t=w(t,!0))?g(2,e[t]):F(e,t)}function l(e,t,r){return!(a(e,t=w(t,!0))&&S(r)&&E(r,"value"))||E(r,"get")||E(r,"set")||r.configurable||E(r,"writable")&&!r.writable||E(r,"enumerable")&&!r.enumerable?D(e,t,r):(e[t]=r.value,e)}var u=e("../internals/export"),c=e("../internals/global"),d=e("../internals/descriptors"),f=e("../internals/typed-array-constructors-require-wrappers"),h=e("../internals/array-buffer-view-core"),p=e("../internals/array-buffer"),m=e("../internals/an-instance"),g=e("../internals/create-property-descriptor"),y=e("../internals/create-non-enumerable-property"),v=e("../internals/to-length"),b=e("../internals/to-index"),_=e("../internals/to-offset"),w=e("../internals/to-primitive"),E=e("../internals/has"),x=e("../internals/classof"),S=e("../internals/is-object"),T=e("../internals/object-create"),A=e("../internals/object-set-prototype-of"),M=e("../internals/object-get-own-property-names").f,R=e("../internals/typed-array-from"),C=e("../internals/array-iteration").forEach,I=e("../internals/set-species"),k=e("../internals/object-define-property"),P=e("../internals/object-get-own-property-descriptor"),O=e("../internals/internal-state"),j=e("../internals/inherit-if-required"),N=O.get,L=O.set,D=k.f,F=P.f,U=Math.round,B=c.RangeError,G=p.ArrayBuffer,z=p.DataView,V=h.NATIVE_ARRAY_BUFFER_VIEWS,H=h.TYPED_ARRAY_TAG,W=h.TypedArray,Z=h.TypedArrayPrototype,q=h.aTypedArrayConstructor,Y=h.isTypedArray,X="BYTES_PER_ELEMENT",K="Wrong length";d?(V||(P.f=s,k.f=l,i(Z,"buffer"),i(Z,"byteOffset"),i(Z,"byteLength"),i(Z,"length")),u({target:"Object",stat:!0,forced:!V},{getOwnPropertyDescriptor:s,defineProperty:l}),t.exports=function(e,t,r){function i(e,t){D(e,t,{get:function(){var e=this,r=t;return(e=N(e)).view[l](r*a+e.byteOffset,!0)},set:function(e){var n=this,i=t;n=N(n),r&&(e=(e=U(e))<0?0:255<e?255:255&e),n.view[d](i*a+n.byteOffset,e,!0)},enumerable:!0})}var a=e.match(/\d+$/)[0]/8,s=e+(r?"Clamped":"")+"Array",l="get"+e,d="set"+e,h=c[s],p=h,g=(e=p&&p.prototype,{});V?f&&(p=t((function(e,t,r,i){return m(e,p,s),j(S(t)?o(t)?void 0!==i?new h(t,_(r,a),i):void 0!==r?new h(t,_(r,a)):new h(t):Y(t)?n(p,t):R.call(p,t):new h(b(t)),e,p)})),A&&A(p,W),C(M(h),(function(e){e in p||y(p,e,h[e])})),p.prototype=e):(p=t((function(e,t,r,l){m(e,p,s);var u,c,d=0,f=0;if(S(t)){if(!o(t))return Y(t)?n(p,t):R.call(p,t);var h=t;f=_(r,a),r=t.byteLength;if(void 0===l){if(r%a)throw B(K);if((u=r-f)<0)throw B(K)}else if(r<(u=v(l)*a)+f)throw B(K);c=u/a}else c=b(t),h=new G(u=c*a);for(L(e,{buffer:h,byteOffset:f,byteLength:u,length:c,view:new z(h)});d<c;)i(e,d++)})),A&&A(p,W),e=p.prototype=T(Z)),e.constructor!==p&&y(e,"constructor",p),H&&y(e,H,s),g[s]=p,u({global:!0,forced:p!=h,sham:!V},g),X in p||y(p,X,a),X in e||y(e,X,a),I(s)}):t.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-object":74,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-set-prototype-of":101,"../internals/set-species":116,"../internals/to-index":133,"../internals/to-length":136,"../internals/to-offset":138,"../internals/to-primitive":140,"../internals/typed-array-constructors-require-wrappers":143,"../internals/typed-array-from":144}],143:[function(e,t,r){var n=e("../internals/global"),i=e("../internals/fails"),o=e("../internals/check-correctness-of-iteration"),a=(e=e("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,n.ArrayBuffer),s=n.Int8Array;t.exports=!e||!i((function(){s(1)}))||!i((function(){new s(-1)}))||!o((function(e){new s,new s(null),new s(1.5),new s(e)}),!0)||i((function(){return 1!==new s(new a(2),1,void 0).length}))},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":51,"../internals/global":59}],144:[function(e,t,r){var n=e("../internals/to-object"),i=e("../internals/to-length"),o=e("../internals/get-iterator-method"),a=e("../internals/is-array-iterator-method"),s=e("../internals/function-bind-context"),l=e("../internals/array-buffer-view-core").aTypedArrayConstructor;t.exports=function(e){var t,r,u,c,d,f,h=n(e),p=arguments.length,m=1<p?arguments[1]:void 0,g=void 0!==m,y=o(h);if(null!=y&&!a(y))for(f=(d=y.call(h)).next,h=[];!(c=f.call(d)).done;)h.push(c.value);for(g&&2<p&&(m=s(m,arguments[2],2)),r=i(h.length),u=new(l(this))(r),t=0;t<r;t++)u[t]=g?m(h[t],t):h[t];return u}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":136,"../internals/to-object":137}],145:[function(e,t,r){var n=0,i=Math.random();t.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+i).toString(36)}},{}],146:[function(e,t,r){e=e("../internals/native-symbol"),t.exports=e&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},{"../internals/native-symbol":83}],147:[function(e,t,r){e=e("../internals/well-known-symbol"),r.f=e},{"../internals/well-known-symbol":148}],148:[function(e,t,r){var n=e("../internals/global"),i=e("../internals/shared"),o=e("../internals/has"),a=e("../internals/uid"),s=e("../internals/native-symbol"),l=(e=e("../internals/use-symbol-as-uid"),i("wks")),u=n.Symbol,c=e?u:u&&u.withoutSetter||a;t.exports=function(e){return o(l,e)||(s&&o(u,e)?l[e]=u[e]:l[e]=c("Symbol."+e)),l[e]}},{"../internals/global":59,"../internals/has":60,"../internals/native-symbol":83,"../internals/shared":120,"../internals/uid":145,"../internals/use-symbol-as-uid":146}],149:[function(e,t,r){t.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},{}],150:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/global"),o=e("../internals/array-buffer"),a=(e=e("../internals/set-species"),"ArrayBuffer");o=o[a];n({global:!0,forced:i[a]!==o},{ArrayBuffer:o}),e(a)},{"../internals/array-buffer":13,"../internals/export":50,"../internals/global":59,"../internals/set-species":116}],151:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/fails"),o=e("../internals/is-array"),a=e("../internals/is-object"),s=e("../internals/to-object"),l=e("../internals/to-length"),u=e("../internals/create-property"),c=e("../internals/array-species-create"),d=e("../internals/array-method-has-species-support"),f=e("../internals/well-known-symbol"),h=(e=e("../internals/engine-v8-version"),f("isConcatSpreadable")),p=9007199254740991,m="Maximum allowed index exceeded";f=51<=e||!i((function(){var e=[];return e[h]=!1,e.concat()[0]!==e})),e=d("concat");n({target:"Array",proto:!0,forced:!f||!e},{concat:function(e){for(var t,r,n,i,d,f=s(this),g=c(f,0),y=0,v=-1,b=arguments.length;v<b;v++)if(d=void 0,a(i=n=-1===v?f:arguments[v])&&(void 0!==(d=i[h])?d:o(i))){if(r=l(n.length),p<y+r)throw TypeError(m);for(t=0;t<r;t++,y++)t in n&&u(g,y,n[t])}else{if(p<=y)throw TypeError(m);u(g,y++,n)}return g.length=y,g}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/fails":51,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-length":136,"../internals/to-object":137,"../internals/well-known-symbol":148}],152:[function(e,t,r){var n=e("../internals/export"),i=e("../internals/array-copy-within");e=e("../internals/add-to-unscopables");n({target:"Array",proto:!0},{copyWithin:i}),e("copyWithin")},{"../internals/add-to-unscopables":7,"../internals/array-copy-within":14,"../internals/export":50}],153:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/array-iteration").every,o=e("../internals/array-method-is-strict");e=e("../internals/array-method-uses-to-length"),o=o("every"),e=e("every");n({target:"Array",proto:!0,forced:!o||!e},{every:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],154:[function(e,t,r){var n=e("../internals/export"),i=e("../internals/array-fill");e=e("../internals/add-to-unscopables");n({target:"Array",proto:!0},{fill:i}),e("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":50}],155:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/array-iteration").filter,o=e("../internals/array-method-has-species-support");e=e("../internals/array-method-uses-to-length"),o=o("filter"),e=e("filter");n({target:"Array",proto:!0,forced:!o||!e},{filter:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],156:[function(e,t,r){"use strict";var n=e("../internals/export");e=e("../internals/array-for-each");n({target:"Array",proto:!0,forced:[].forEach!=e},{forEach:e})},{"../internals/array-for-each":16,"../internals/export":50}],157:[function(e,t,r){var n=e("../internals/export"),i=e("../internals/array-from");n({target:"Array",stat:!0,forced:!e("../internals/check-correctness-of-iteration")((function(e){Array.from(e)}))},{from:i})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":50}],158:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/array-includes").includes,o=e("../internals/add-to-unscopables");n({target:"Array",proto:!0,forced:!e("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}}),o("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":50}],159:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/array-includes").indexOf,o=e("../internals/array-method-is-strict"),a=(e=e("../internals/array-method-uses-to-length"),[].indexOf),s=!!a&&1/[1].indexOf(1,-0)<0;o=o("indexOf"),e=e("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:s||!o||!e},{indexOf:function(e){return s?a.apply(this,arguments)||0:i(this,e,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],160:[function(e,t,r){"use strict";var n=e("../internals/to-indexed-object"),i=e("../internals/add-to-unscopables"),o=e("../internals/iterators"),a=e("../internals/internal-state"),s=(e=e("../internals/define-iterator"),"Array Iterator"),l=a.set,u=a.getterFor(s);t.exports=e(Array,"Array",(function(e,t){l(this,{type:s,target:n(e),index:0,kind:t})}),(function(){var e=u(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?{value:e.target=void 0,done:!0}:"keys"==r?{value:n,done:!1}:"values"==r?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":41,"../internals/internal-state":70,"../internals/iterators":79,"../internals/to-indexed-object":134}],161:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/indexed-object"),o=e("../internals/to-indexed-object"),a=(e=e("../internals/array-method-is-strict"),[].join);i=i!=Object,e=e("join",",");n({target:"Array",proto:!0,forced:i||!e},{join:function(e){return a.call(o(this),void 0===e?",":e)}})},{"../internals/array-method-is-strict":22,"../internals/export":50,"../internals/indexed-object":66,"../internals/to-indexed-object":134}],162:[function(e,t,r){e("../internals/export")({target:"Array",proto:!0,forced:(e=e("../internals/array-last-index-of"))!==[].lastIndexOf},{lastIndexOf:e})},{"../internals/array-last-index-of":20,"../internals/export":50}],163:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/array-iteration").map,o=e("../internals/array-method-has-species-support");e=e("../internals/array-method-uses-to-length"),o=o("map"),e=e("map");n({target:"Array",proto:!0,forced:!o||!e},{map:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],164:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/is-object"),o=e("../internals/is-array"),a=e("../internals/to-absolute-index"),s=e("../internals/to-length"),l=e("../internals/to-indexed-object"),u=e("../internals/create-property"),c=e("../internals/well-known-symbol"),d=e("../internals/array-method-has-species-support"),f=(e=e("../internals/array-method-uses-to-length"),d=d("slice"),e=e("slice",{ACCESSORS:!0,0:0,1:2}),c("species")),h=[].slice,p=Math.max;n({target:"Array",proto:!0,forced:!d||!e},{slice:function(e,t){var r,n,c,d=l(this),m=s(d.length),g=a(e,m),y=a(void 0===t?m:t,m);if(o(d)&&((r="function"==typeof(r=d.constructor)&&(r===Array||o(r.prototype))||i(r)&&null===(r=r[f])?void 0:r)===Array||void 0===r))return h.call(d,g,y);for(n=new(void 0===r?Array:r)(p(y-g,0)),c=0;g<y;g++,c++)g in d&&u(n,c,d[g]);return n.length=c,n}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":40,"../internals/export":50,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-absolute-index":132,"../internals/to-indexed-object":134,"../internals/to-length":136,"../internals/well-known-symbol":148}],165:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/array-iteration").some,o=e("../internals/array-method-is-strict");e=e("../internals/array-method-uses-to-length"),o=o("some"),e=e("some");n({target:"Array",proto:!0,forced:!o||!e},{some:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],166:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/to-absolute-index"),o=e("../internals/to-integer"),a=e("../internals/to-length"),s=e("../internals/to-object"),l=e("../internals/array-species-create"),u=e("../internals/create-property"),c=e("../internals/array-method-has-species-support"),d=(e=e("../internals/array-method-uses-to-length"),c=c("splice"),e=e("splice",{ACCESSORS:!0,0:0,1:2}),Math.max),f=Math.min;n({target:"Array",proto:!0,forced:!c||!e},{splice:function(e,t){var r,n,c,h,p,m,g=s(this),y=a(g.length),v=i(e,y);if(0===(e=arguments.length)?r=n=0:n=1===e?(r=0,y-v):(r=e-2,f(d(o(t),0),y-v)),9007199254740991<y+r-n)throw TypeError("Maximum allowed length exceeded");for(c=l(g,n),h=0;h<n;h++)(p=v+h)in g&&u(c,h,g[p]);if(r<(c.length=n)){for(h=v;h<y-n;h++)m=h+r,(p=h+n)in g?g[m]=g[p]:delete g[m];for(h=y;y-n+r<h;h--)delete g[h-1]}else if(n<r)for(h=y-n;v<h;h--)m=h+r-1,(p=h+n-1)in g?g[m]=g[p]:delete g[m];for(h=0;h<r;h++)g[h+v]=arguments[h+2];return g.length=y-n+r,c}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/export":50,"../internals/to-absolute-index":132,"../internals/to-integer":135,"../internals/to-length":136,"../internals/to-object":137}],167:[function(e,t,r){var n=e("../internals/descriptors"),i=(e=e("../internals/object-define-property").f,Function.prototype),o=i.toString,a=/^\s*function ([^ (]*)/;!n||"name"in i||e(i,"name",{configurable:!0,get:function(){try{return o.call(this).match(a)[1]}catch(e){return""}}})},{"../internals/descriptors":43,"../internals/object-define-property":92}],168:[function(e,t,r){"use strict";var n=e("../internals/collection");e=e("../internals/collection-strong");t.exports=n("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),e)},{"../internals/collection":32,"../internals/collection-strong":30}],169:[function(e,t,r){e=e("../internals/export");var n=Math.hypot,i=Math.abs,o=Math.sqrt;e({target:"Math",stat:!0,forced:!!n&&n(1/0,NaN)!==1/0},{hypot:function(e,t){for(var r,n,a=0,s=0,l=arguments.length,u=0;s<l;)u<(r=i(arguments[s++]))?(a=a*(n=u/r)*n+1,u=r):a+=0<r?(n=r/u)*n:r;return u===1/0?1/0:u*o(a)}})},{"../internals/export":50}],170:[function(e,t,r){e("../internals/export")({target:"Math",stat:!0},{sign:e("../internals/math-sign")})},{"../internals/export":50,"../internals/math-sign":80}],171:[function(e,t,r){"use strict";function n(e){var t,r,n,i,o,a,s,l=d(e,!1);if("string"==typeof l&&2<l.length)if(43===(e=(l=y(l)).charCodeAt(0))||45===e){if(88===(t=l.charCodeAt(2))||120===t)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:r=2,n=49;break;case 79:case 111:r=8,n=55;break;default:return+l}for(o=(i=l.slice(2)).length,a=0;a<o;a++)if((s=i.charCodeAt(a))<48||n<s)return NaN;return parseInt(i,r)}return+l}var i=e("../internals/descriptors"),o=e("../internals/global"),a=e("../internals/is-forced"),s=e("../internals/redefine"),l=e("../internals/has"),u=e("../internals/classof-raw"),c=e("../internals/inherit-if-required"),d=e("../internals/to-primitive"),f=e("../internals/fails"),h=e("../internals/object-create"),p=e("../internals/object-get-own-property-names").f,m=e("../internals/object-get-own-property-descriptor").f,g=e("../internals/object-define-property").f,y=e("../internals/string-trim").trim,v="Number",b=o[v],_=b.prototype,w=u(h(_))==v;if(a(v,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var E,x=function e(t){t=arguments.length<1?0:t;var r=this;return r instanceof e&&(w?f((function(){_.valueOf.call(r)})):u(r)!=v)?c(new b(n(t)),r,e):n(t)},S=i?p(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),T=0;S.length>T;T++)l(b,E=S[T])&&!l(x,E)&&g(x,E,m(b,E));(x.prototype=_).constructor=x,s(o,v,x)}},{"../internals/classof-raw":28,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/is-forced":73,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/string-trim":129,"../internals/to-primitive":140}],172:[function(e,t,r){e("../internals/export")({target:"Number",stat:!0},{isFinite:e("../internals/number-is-finite")})},{"../internals/export":50,"../internals/number-is-finite":88}],173:[function(e,t,r){"use strict";function n(e,t,r){return 0===t?r:t%2==1?n(e,t-1,r*e):n(e*e,t/2,r)}var i=e("../internals/export"),o=e("../internals/to-integer"),a=e("../internals/this-number-value"),s=e("../internals/string-repeat"),l=(e=e("../internals/fails"),1..toFixed),u=Math.floor;i({target:"Number",proto:!0,forced:l&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!e((function(){l.call({})}))},{toFixed:function(e){function t(e,t){for(var r=-1,n=t;++r<6;)n+=e*f[r],f[r]=n%1e7,n=u(n/1e7)}function r(e){for(var t=6,r=0;0<=--t;)r+=f[t],f[t]=u(r/e),r=r%e*1e7}function i(){for(var e,t=6,r="";0<=--t;)""===r&&0!==t&&0===f[t]||(e=String(f[t]),r=""===r?e:r+s.call("0",7-e.length)+e);return r}var l,c,d=a(this),f=(e=o(e),[0,0,0,0,0,0]),h="",p="0";if(e<0||20<e)throw RangeError("Incorrect fraction digits");if(d!=d)return"NaN";if(d<=-1e21||1e21<=d)return String(d);if(d<0&&(h="-",d=-d),1e-21<d)if(d=(l=function(e){for(var t=0,r=e;4096<=r;)t+=12,r/=4096;for(;2<=r;)t+=1,r/=2;return t}(d*n(2,69,1))-69)<0?d*n(2,-l,1):d/n(2,l,1),d*=4503599627370496,0<(l=52-l)){for(t(0,d),c=e;7<=c;)t(1e7,0),c-=7;for(t(n(10,c,1),0),c=l-1;23<=c;)r(1<<23),c-=23;r(1<<c),t(1,1),r(2),p=i()}else t(0,d),t(1<<-l,0),p=i()+s.call("0",e);return 0<e?h+((d=p.length)<=e?"0."+s.call("0",e-d)+p:p.slice(0,d-e)+"."+p.slice(d-e)):h+p}})},{"../internals/export":50,"../internals/fails":51,"../internals/string-repeat":127,"../internals/this-number-value":131,"../internals/to-integer":135}],174:[function(e,t,r){var n=e("../internals/export");e=e("../internals/object-assign");n({target:"Object",stat:!0,forced:Object.assign!==e},{assign:e})},{"../internals/export":50,"../internals/object-assign":89}],175:[function(e,t,r){var n=e("../internals/export"),i=e("../internals/iterate"),o=e("../internals/create-property");n({target:"Object",stat:!0},{fromEntries:function(e){var t={};return i(e,(function(e,r){o(t,e,r)}),void 0,!0),t}})},{"../internals/create-property":40,"../internals/export":50,"../internals/iterate":77}],176:[function(e,t,r){var n=e("../internals/export"),i=e("../internals/fails"),o=e("../internals/to-indexed-object"),a=e("../internals/object-get-own-property-descriptor").f;e=e("../internals/descriptors"),i=i((function(){a(1)}));n({target:"Object",stat:!0,forced:!e||i,sham:!e},{getOwnPropertyDescriptor:function(e,t){return a(o(e),t)}})},{"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-descriptor":93,"../internals/to-indexed-object":134}],177:[function(e,t,r){var n=e("../internals/export"),i=e("../internals/fails");e=e("../internals/object-get-own-property-names-external").f;n({target:"Object",stat:!0,forced:i((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:e})},{"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-names-external":94}],178:[function(e,t,r){var n=e("../internals/export"),i=e("../internals/fails"),o=e("../internals/to-object"),a=e("../internals/object-get-prototype-of");e=e("../internals/correct-prototype-getter");n({target:"Object",stat:!0,forced:i((function(){a(1)})),sham:!e},{getPrototypeOf:function(e){return a(o(e))}})},{"../internals/correct-prototype-getter":35,"../internals/export":50,"../internals/fails":51,"../internals/object-get-prototype-of":97,"../internals/to-object":137}],179:[function(e,t,r){var n=e("../internals/export"),i=e("../internals/to-object"),o=e("../internals/object-keys");n({target:"Object",stat:!0,forced:e("../internals/fails")((function(){o(1)}))},{keys:function(e){return o(i(e))}})},{"../internals/export":50,"../internals/fails":51,"../internals/object-keys":99,"../internals/to-object":137}],180:[function(e,t,r){var n=e("../internals/to-string-tag-support"),i=e("../internals/redefine");e=e("../internals/object-to-string");n||i(Object.prototype,"toString",e,{unsafe:!0})},{"../internals/object-to-string":102,"../internals/redefine":108,"../internals/to-string-tag-support":141}],181:[function(e,t,r){"use strict";var n,i,o,a,s=e("../internals/export"),l=e("../internals/is-pure"),u=e("../internals/global"),c=e("../internals/get-built-in"),d=e("../internals/native-promise-constructor"),f=e("../internals/redefine"),h=e("../internals/redefine-all"),p=e("../internals/set-to-string-tag"),m=e("../internals/set-species"),g=e("../internals/is-object"),y=e("../internals/a-function"),v=e("../internals/an-instance"),b=e("../internals/classof-raw"),_=e("../internals/inspect-source"),w=e("../internals/iterate"),E=e("../internals/check-correctness-of-iteration"),x=e("../internals/species-constructor"),S=e("../internals/task").set,T=e("../internals/microtask"),A=e("../internals/promise-resolve"),M=e("../internals/host-report-errors"),R=e("../internals/new-promise-capability"),C=e("../internals/perform"),I=e("../internals/internal-state"),k=e("../internals/is-forced"),P=e("../internals/well-known-symbol"),O=e("../internals/engine-v8-version"),j=P("species"),N="Promise",L=I.get,D=I.set,F=I.getterFor(N),U=d,B=u.TypeError,G=u.document,z=u.process,V=c("fetch"),H=R.f,W=H,Z="process"==b(z),q=!!(G&&G.createEvent&&u.dispatchEvent),Y="unhandledrejection",X=(e=k(N,(function(){var e,t;if(_(U)===String(U)){if(66===O)return!0;if(!Z&&"function"!=typeof PromiseRejectionEvent)return!0}return!(!l||U.prototype.finally)||!(51<=O&&/native code/.test(U))&&(t=function(e){e((function(){}),(function(){}))},((e=U.resolve(1)).constructor={})[j]=t,!(e.then((function(){}))instanceof t))})),P=e||!E((function(e){U.all(e).catch((function(){}))})),function(e){var t;return!(!g(e)||"function"!=typeof(t=e.then))&&t}),K=function(e,t,r){var n;t.notified||(t.notified=!0,n=t.reactions,T((function(){for(var i,o,a=t.value,s=1==t.state,l=0;n.length>l;){var c,d,f,h=n[l++],p=s?h.ok:h.fail,m=h.resolve,g=h.reject,y=h.domain;try{p?(s||(2===t.rejection&&function(e,t){S.call(u,(function(){Z?z.emit("rejectionHandled",e):Q("rejectionhandled",e,t.value)}))}(e,t),t.rejection=1),!0===p?c=a:(y&&y.enter(),c=p(a),y&&(y.exit(),f=!0)),c===h.promise?g(B("Promise-chain cycle")):(d=X(c))?d.call(c,m,g):m(c)):g(a)}catch(a){y&&!f&&y.exit(),g(a)}}t.reactions=[],t.notified=!1,r&&!t.rejection&&(i=e,o=t,S.call(u,(function(){var e=o.value,t=$(o);if(t&&(t=C((function(){Z?z.emit("unhandledRejection",e,i):Q(Y,i,e)})),o.rejection=Z||$(o)?2:1,t.error))throw t.value})))})))},Q=function(e,t,r){var n;q?((n=G.createEvent("Event")).promise=t,n.reason=r,n.initEvent(e,!1,!0),u.dispatchEvent(n)):n={promise:t,reason:r},(t=u["on"+e])?t(n):e===Y&&M("Unhandled promise rejection",r)},$=function(e){return 1!==e.rejection&&!e.parent},J=function(e,t,r,n){return function(i){e(t,r,i,n)}},ee=function(e,t,r,n){t.done||(t.done=!0,(t=n||t).value=r,t.state=2,K(e,t,!0))},te=function e(t,r,n,i){if(!r.done){r.done=!0,i&&(r=i);try{if(t===n)throw B("Promise can't be resolved itself");var o=X(n);o?T((function(){var i={done:!1};try{o.call(n,J(e,t,i,r),J(ee,t,i,r))}catch(n){ee(t,i,n,r)}})):(r.value=n,r.state=1,K(t,r,!1))}catch(n){ee(t,{done:!1},n,r)}}};e&&(U=function(e){v(this,U,N),y(e),n.call(this);var t=L(this);try{e(J(te,this,t),J(ee,this,t))}catch(e){ee(this,t,e)}},(n=function(e){D(this,{type:N,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=h(U.prototype,{then:function(e,t){var r=F(this),n=H(x(this,U));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=Z?z.domain:void 0,r.parent=!0,r.reactions.push(n),0!=r.state&&K(this,r,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new n,t=L(e);this.promise=e,this.resolve=J(te,e,t),this.reject=J(ee,e,t)},R.f=H=function(e){return e===U||e===o?new i:W(e)},l||"function"!=typeof d||(a=d.prototype.then,f(d.prototype,"then",(function(e,t){var r=this;return new U((function(e,t){a.call(r,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof V&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return A(U,V.apply(u,arguments))}}))),s({global:!0,wrap:!0,forced:e},{Promise:U}),p(U,N,!1,!0),m(N),o=c(N),s({target:N,stat:!0,forced:e},{reject:function(e){var t=H(this);return t.reject.call(void 0,e),t.promise}}),s({target:N,stat:!0,forced:l||e},{resolve:function(e){return A(l&&this===o?U:this,e)}}),s({target:N,stat:!0,forced:P},{all:function(e){var t=this,r=H(t),n=r.resolve,i=r.reject,o=C((function(){var r=y(t.resolve),o=[],a=0,s=1;w(e,(function(e){var l=a++,u=!1;o.push(void 0),s++,r.call(t,e).then((function(e){u||(u=!0,o[l]=e,--s||n(o))}),i)})),--s||n(o)}));return o.error&&i(o.value),r.promise},race:function(e){var t=this,r=H(t),n=r.reject,i=C((function(){var i=y(t.resolve);w(e,(function(e){i.call(t,e).then(r.resolve,n)}))}));return i.error&&n(i.value),r.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/get-built-in":56,"../internals/global":59,"../internals/host-report-errors":62,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-object":74,"../internals/is-pure":75,"../internals/iterate":77,"../internals/microtask":81,"../internals/native-promise-constructor":82,"../internals/new-promise-capability":86,"../internals/perform":105,"../internals/promise-resolve":106,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-species":116,"../internals/set-to-string-tag":117,"../internals/species-constructor":121,"../internals/task":130,"../internals/well-known-symbol":148}],182:[function(e,t,r){var n=e("../internals/export"),i=e("../internals/get-built-in"),o=e("../internals/a-function"),a=e("../internals/an-object"),s=e("../internals/is-object"),l=e("../internals/object-create"),u=e("../internals/function-bind"),c=(e=e("../internals/fails"),i("Reflect","construct")),d=e((function(){function e(){}return!(c((function(){}),[],e)instanceof e)})),f=!e((function(){c((function(){}))}));n({target:"Reflect",stat:!0,forced:i=d||f,sham:i},{construct:function(e,t){o(e),a(t);var r=arguments.length<3?e:o(arguments[2]);if(f&&!d)return c(e,t,r);if(e==r){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var n=[null];return n.push.apply(n,t),new(u.apply(e,n))}return n=r.prototype,r=l(s(n)?n:Object.prototype),n=Function.apply.call(e,r,t),s(n)?n:r}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":50,"../internals/fails":51,"../internals/function-bind":55,"../internals/get-built-in":56,"../internals/is-object":74,"../internals/object-create":90}],183:[function(e,t,r){var n=e("../internals/export"),i=e("../internals/is-object"),o=e("../internals/an-object"),a=e("../internals/has"),s=e("../internals/object-get-own-property-descriptor"),l=e("../internals/object-get-prototype-of");n({target:"Reflect",stat:!0},{get:function e(t,r){var n,u=arguments.length<3?t:arguments[2];return o(t)===u?t[r]:(n=s.f(t,r))?a(n,"value")?n.value:void 0===n.get?void 0:n.get.call(u):i(n=l(t))?e(n,r,u):void 0}})},{"../internals/an-object":10,"../internals/export":50,"../internals/has":60,"../internals/is-object":74,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-prototype-of":97}],184:[function(e,t,r){var n=e("../internals/descriptors"),i=e("../internals/global"),o=e("../internals/is-forced"),a=e("../internals/inherit-if-required"),s=e("../internals/object-define-property").f,l=e("../internals/object-get-own-property-names").f,u=e("../internals/is-regexp"),c=e("../internals/regexp-flags"),d=e("../internals/regexp-sticky-helpers"),f=e("../internals/redefine"),h=e("../internals/fails"),p=e("../internals/internal-state").set,m=e("../internals/set-species"),g=e("../internals/well-known-symbol")("match"),y=i.RegExp,v=y.prototype,b=/a/g,_=/a/g,w=new y(b)!==b,E=d.UNSUPPORTED_Y;if(n&&o("RegExp",!w||E||h((function(){return _[g]=!1,y(b)!=b||y(_)==_||"/a/i"!=y(b,"i")})))){for(var x=function e(t,r){var n,i=this instanceof e,o=u(t),s=void 0===r;return!i&&o&&t.constructor===e&&s?t:(w?o&&!s&&(t=t.source):t instanceof e&&(s&&(r=c.call(t)),t=t.source),E&&(n=!!r&&-1<r.indexOf("y"))&&(r=r.replace(/y/g,"")),o=a(w?new y(t,r):y(t,r),i?this:v,e),E&&n&&p(o,{sticky:n}),o)},S=l(y),T=0;S.length>T;)!function(e){e in x||s(x,e,{configurable:!0,get:function(){return y[e]},set:function(t){y[e]=t}})}(S[T++]);(v.constructor=x).prototype=v,f(i,"RegExp",x)}m("RegExp")},{"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-regexp":76,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/regexp-flags":111,"../internals/regexp-sticky-helpers":112,"../internals/set-species":116,"../internals/well-known-symbol":148}],185:[function(e,t,r){"use strict";var n=e("../internals/export");e=e("../internals/regexp-exec");n({target:"RegExp",proto:!0,forced:/./.exec!==e},{exec:e})},{"../internals/export":50,"../internals/regexp-exec":110}],186:[function(e,t,r){"use strict";var n=e("../internals/redefine"),i=e("../internals/an-object"),o=e("../internals/fails"),a=e("../internals/regexp-flags"),s=(e="toString",RegExp.prototype),l=s[e],u=(o=o((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),l.name!=e);(o||u)&&n(RegExp.prototype,e,(function(){var e=i(this),t=String(e.source),r=e.flags;return"/"+t+"/"+String(void 0===r&&e instanceof RegExp&&!("flags"in s)?a.call(e):r)}),{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":51,"../internals/redefine":108,"../internals/regexp-flags":111}],187:[function(e,t,r){"use strict";var n=e("../internals/collection");e=e("../internals/collection-strong");t.exports=n("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),e)},{"../internals/collection":32,"../internals/collection-strong":30}],188:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/object-get-own-property-descriptor").f,o=e("../internals/to-length"),a=e("../internals/not-a-regexp"),s=e("../internals/require-object-coercible"),l=e("../internals/correct-is-regexp-logic"),u=(e=e("../internals/is-pure"),"".endsWith),c=Math.min;l=l("endsWith");n({target:"String",proto:!0,forced:!(!e&&!l&&(n=i(String.prototype,"endsWith"))&&!n.writable)&&!l},{endsWith:function(e){var t=String(s(this)),r=(a(e),1<arguments.length?arguments[1]:void 0),n=o(t.length);r=void 0===r?n:c(o(r),n),n=String(e);return u?u.call(t,n,r):t.slice(r-n.length,r)===n}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":75,"../internals/not-a-regexp":87,"../internals/object-get-own-property-descriptor":93,"../internals/require-object-coercible":113,"../internals/to-length":136}],189:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/not-a-regexp"),o=e("../internals/require-object-coercible");n({target:"String",proto:!0,forced:!e("../internals/correct-is-regexp-logic")("includes")},{includes:function(e){return!!~String(o(this)).indexOf(i(e),1<arguments.length?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/not-a-regexp":87,"../internals/require-object-coercible":113}],190:[function(e,t,r){"use strict";var n=e("../internals/string-multibyte").charAt,i=e("../internals/internal-state"),o=(e=e("../internals/define-iterator"),"String Iterator"),a=i.set,s=i.getterFor(o);e(String,"String",(function(e){a(this,{type:o,string:String(e),index:0})}),(function(){var e=s(this),t=e.string,r=e.index;return r>=t.length?{value:void 0,done:!0}:(t=n(t,r),e.index+=t.length,{value:t,done:!1})}))},{"../internals/define-iterator":41,"../internals/internal-state":70,"../internals/string-multibyte":123}],191:[function(e,t,r){"use strict";var n=e("../internals/fix-regexp-well-known-symbol-logic"),i=e("../internals/an-object"),o=e("../internals/to-length"),a=e("../internals/require-object-coercible"),s=e("../internals/advance-string-index"),l=e("../internals/regexp-exec-abstract");n("match",1,(function(e,t,r){return[function(t){var r=a(this),n=null==t?void 0:t[e];return void 0!==n?n.call(t,r):new RegExp(t)[e](String(r))},function(e){var n=r(t,e,this);if(n.done)return n.value;var a=i(e),u=String(this);if(!a.global)return l(a,u);for(var c=a.unicode,d=[],f=a.lastIndex=0;null!==(h=l(a,u));){var h=String(h[0]);""===(d[f]=h)&&(a.lastIndex=s(u,o(a.lastIndex),c)),f++}return 0===f?null:d}]}))},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-length":136}],192:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/string-pad").start;n({target:"String",proto:!0,forced:e("../internals/string-pad-webkit-bug")},{padStart:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}})},{"../internals/export":50,"../internals/string-pad":125,"../internals/string-pad-webkit-bug":124}],193:[function(e,t,r){e("../internals/export")({target:"String",proto:!0},{repeat:e("../internals/string-repeat")})},{"../internals/export":50,"../internals/string-repeat":127}],194:[function(e,t,r){"use strict";var n=e("../internals/fix-regexp-well-known-symbol-logic"),i=e("../internals/an-object"),o=e("../internals/to-object"),a=e("../internals/to-length"),s=e("../internals/to-integer"),l=e("../internals/require-object-coercible"),u=e("../internals/advance-string-index"),c=e("../internals/regexp-exec-abstract"),d=Math.max,f=Math.min,h=Math.floor,p=/\$([$&'`]|\d\d?|<[^>]*>)/g,m=/\$([$&'`]|\d\d?)/g;n("replace",2,(function(e,t,r,n){var g=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,y=n.REPLACE_KEEPS_$0,v=g?"$":"$0";return[function(r,n){var i=l(this),o=null==r?void 0:r[e];return void 0!==o?o.call(r,i,n):t.call(String(i),r,n)},function(e,n){if(!g&&y||"string"==typeof n&&-1===n.indexOf(v)){var l=r(t,e,this,n);if(l.done)return l.value}for(var b,_=i(e),w=String(this),E="function"==typeof n,x=(E||(n=String(n)),_.global),S=(x&&(b=_.unicode,_.lastIndex=0),[]);null!==(C=c(_,w))&&(S.push(C),x);)""===String(C[0])&&(_.lastIndex=u(w,a(_.lastIndex),b));for(var T,A="",M=0,R=0;R<S.length;R++){for(var C=S[R],I=String(C[0]),k=d(f(s(C.index),w.length),0),P=[],O=1;O<C.length;O++)P.push(void 0===(T=C[O])?T:String(T));var j=C.groups,N=E?(N=[I].concat(P,k,w),void 0!==j&&N.push(j),String(n.apply(void 0,N))):function(e,r,n,i,a,s){var l=n+e.length,u=i.length,c=m;return void 0!==a&&(a=o(a),c=p),t.call(s,c,(function(t,o){var s;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return r.slice(0,n);case"'":return r.slice(l);case"<":s=a[o.slice(1,-1)];break;default:var c,d=+o;if(0==d)return t;if(u<d)return 0!==(c=h(d/10))&&c<=u?void 0===i[c-1]?o.charAt(1):i[c-1]+o.charAt(1):t;s=i[d-1]}return void 0===s?"":s}))}(I,w,k,P,j,n);M<=k&&(A+=w.slice(M,k)+N,M=k+I.length)}return A+w.slice(M)}]}))},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-integer":135,"../internals/to-length":136,"../internals/to-object":137}],195:[function(e,t,r){"use strict";var n=e("../internals/fix-regexp-well-known-symbol-logic"),i=e("../internals/an-object"),o=e("../internals/require-object-coercible"),a=e("../internals/same-value"),s=e("../internals/regexp-exec-abstract");n("search",1,(function(e,t,r){return[function(t){var r=o(this),n=null==t?void 0:t[e];return void 0!==n?n.call(t,r):new RegExp(t)[e](String(r))},function(e){var n,o=r(t,e,this);return o.done?o.value:(o=i(e),e=String(this),n=o.lastIndex,a(n,0)||(o.lastIndex=0),e=s(o,e),a(o.lastIndex,n)||(o.lastIndex=n),null===e?-1:e.index)}]}))},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/same-value":114}],196:[function(e,t,r){"use strict";var n=e("../internals/fix-regexp-well-known-symbol-logic"),i=e("../internals/is-regexp"),o=e("../internals/an-object"),a=e("../internals/require-object-coercible"),s=e("../internals/species-constructor"),l=e("../internals/advance-string-index"),u=e("../internals/to-length"),c=e("../internals/regexp-exec-abstract"),d=e("../internals/regexp-exec"),f=(e=e("../internals/fails"),[].push),h=Math.min,p=4294967295,m=!e((function(){return!RegExp(p,"y")}));n("split",2,(function(e,t,r){var n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(e,r){var n=String(a(this)),o=void 0===r?p:r>>>0;if(0==o)return[];if(void 0===e)return[n];if(!i(e))return t.call(n,e,o);for(var s,l,u,c=[],h=(r=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),0),m=new RegExp(e.source,r+"g");(s=d.call(m,n))&&!(h<(l=m.lastIndex)&&(c.push(n.slice(h,s.index)),1<s.length&&s.index<n.length&&f.apply(c,s.slice(1)),u=s[0].length,h=l,c.length>=o));)m.lastIndex===s.index&&m.lastIndex++;return h===n.length?!u&&m.test("")||c.push(""):c.push(n.slice(h)),c.length>o?c.slice(0,o):c}:"0".split(void 0,0).length?function(e,r){return void 0===e&&0===r?[]:t.call(this,e,r)}:t;return[function(t,r){var i=a(this),o=null==t?void 0:t[e];return void 0!==o?o.call(t,i,r):n.call(String(i),t,r)},function(e,i){if((a=r(n,e,this,i,n!==t)).done)return a.value;var a=o(e),d=String(this),f=(e=s(a,RegExp),a.unicode),g=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(m?"y":"g"),y=new e(m?a:"^(?:"+a.source+")",g),v=void 0===i?p:i>>>0;if(0==v)return[];if(0===d.length)return null===c(y,d)?[d]:[];for(var b=0,_=0,w=[];_<d.length;){y.lastIndex=m?_:0;var E,x=c(y,m?d:d.slice(_));if(null===x||(E=h(u(y.lastIndex+(m?0:_)),d.length))===b)_=l(d,_,f);else{if(w.push(d.slice(b,_)),w.length===v)return w;for(var S=1;S<=x.length-1;S++)if(w.push(x[S]),w.length===v)return w;_=b=E}}return w.push(d.slice(b)),w}]}),!m)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":51,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/is-regexp":76,"../internals/regexp-exec":110,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/species-constructor":121,"../internals/to-length":136}],197:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/object-get-own-property-descriptor").f,o=e("../internals/to-length"),a=e("../internals/not-a-regexp"),s=e("../internals/require-object-coercible"),l=e("../internals/correct-is-regexp-logic"),u=(e=e("../internals/is-pure"),"".startsWith),c=Math.min;l=l("startsWith");n({target:"String",proto:!0,forced:!(!e&&!l&&(n=i(String.prototype,"startsWith"))&&!n.writable)&&!l},{startsWith:function(e){var t=String(s(this)),r=(a(e),o(c(1<arguments.length?arguments[1]:void 0,t.length)));e=String(e);return u?u.call(t,e,r):t.slice(r,r+e.length)===e}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":75,"../internals/not-a-regexp":87,"../internals/object-get-own-property-descriptor":93,"../internals/require-object-coercible":113,"../internals/to-length":136}],198:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/create-html");n({target:"String",proto:!0,forced:e("../internals/string-html-forced")("sub")},{sub:function(){return i(this,"sub","","")}})},{"../internals/create-html":36,"../internals/export":50,"../internals/string-html-forced":122}],199:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/string-trim").trim;n({target:"String",proto:!0,forced:e("../internals/string-trim-forced")("trim")},{trim:function(){return i(this)}})},{"../internals/export":50,"../internals/string-trim":129,"../internals/string-trim-forced":128}],200:[function(e,t,r){"use strict";var n,i,o,a,s,l=e("../internals/export"),u=e("../internals/descriptors"),c=e("../internals/global"),d=e("../internals/has"),f=e("../internals/is-object"),h=e("../internals/object-define-property").f,p=(e=e("../internals/copy-constructor-properties"),c.Symbol);!u||"function"!=typeof p||"description"in p.prototype&&void 0===p().description||(n={},e(i=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof i?new p(e):void 0===e?p():p(e);return""===e&&(n[t]=!0),t},p),(c=i.prototype=p.prototype).constructor=i,o=c.toString,a="Symbol(test)"==String(p("test")),s=/^Symbol\((.*)\)[^)]+$/,h(c,"description",{configurable:!0,get:function(){var e=f(this)?this.valueOf():this,t=o.call(e);return d(n,e)?"":""===(e=a?t.slice(7,-1):t.replace(s,"$1"))?void 0:e}}),l({global:!0,forced:!0},{Symbol:i}))},{"../internals/copy-constructor-properties":33,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92}],201:[function(e,t,r){e("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":42}],202:[function(e,t,r){"use strict";function n(e,t){var r=te[e]=x(X[W]);return Z(r,{type:H,tag:e,description:t}),d||(r.description=t),r}function i(e,t){v(e);var r=_(t);t=S(r).concat(ce(r));return z(t,(function(t){d&&!ue.call(r,t)||le(e,t,r[t])})),e}function o(e,t){var r;e=_(e),t=w(t,!0);if(e!==Y||!m(te,t)||m(re,t))return!(r=Q(e,t))||!m(te,t)||m(e,V)&&e[V][t]||(r.enumerable=!0),r}function a(e){e=J(_(e));var t=[];return z(e,(function(e){m(te,e)||m(N,e)||t.push(e)})),t}var s=e("../internals/export"),l=e("../internals/global"),u=e("../internals/get-built-in"),c=e("../internals/is-pure"),d=e("../internals/descriptors"),f=e("../internals/native-symbol"),h=e("../internals/use-symbol-as-uid"),p=e("../internals/fails"),m=e("../internals/has"),g=e("../internals/is-array"),y=e("../internals/is-object"),v=e("../internals/an-object"),b=e("../internals/to-object"),_=e("../internals/to-indexed-object"),w=e("../internals/to-primitive"),E=e("../internals/create-property-descriptor"),x=e("../internals/object-create"),S=e("../internals/object-keys"),T=e("../internals/object-get-own-property-names"),A=e("../internals/object-get-own-property-names-external"),M=e("../internals/object-get-own-property-symbols"),R=e("../internals/object-get-own-property-descriptor"),C=e("../internals/object-define-property"),I=e("../internals/object-property-is-enumerable"),k=e("../internals/create-non-enumerable-property"),P=e("../internals/redefine"),O=e("../internals/shared"),j=e("../internals/shared-key"),N=e("../internals/hidden-keys"),L=e("../internals/uid"),D=e("../internals/well-known-symbol"),F=e("../internals/well-known-symbol-wrapped"),U=e("../internals/define-well-known-symbol"),B=e("../internals/set-to-string-tag"),G=e("../internals/internal-state"),z=e("../internals/array-iteration").forEach,V=j("hidden"),H="Symbol",W="prototype",Z=(e=D("toPrimitive"),G.set),q=G.getterFor(H),Y=Object[W],X=l.Symbol,K=u("JSON","stringify"),Q=R.f,$=C.f,J=A.f,ee=I.f,te=O("symbols"),re=O("op-symbols"),ne=O("string-to-symbol-registry"),ie=O("symbol-to-string-registry"),oe=(j=O("wks"),!(G=l.QObject)||!G[W]||!G[W].findChild),ae=d&&p((function(){return 7!=x($({},"a",{get:function(){return $(this,"a",{value:7}).a}})).a}))?function(e,t,r){var n=Q(Y,t);n&&delete Y[t],$(e,t,r),n&&e!==Y&&$(Y,t,n)}:$,se=h?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof X},le=function e(t,r,n){return t===Y&&e(re,r,n),v(t),r=w(r,!0),v(n),(m(te,r)?(n.enumerable?(m(t,V)&&t[V][r]&&(t[V][r]=!1),n=x(n,{enumerable:E(0,!1)})):(m(t,V)||$(t,V,E(1,{})),t[V][r]=!0),ae):$)(t,r,n)},ue=function(e){e=w(e,!0);var t=ee.call(this,e);return!(this===Y&&m(te,e)&&!m(re,e))&&(!(t||!m(this,e)||!m(te,e)||m(this,V)&&this[V][e])||t)},ce=function(e){var t=e===Y,r=(e=J(t?re:_(e)),[]);return z(e,(function(e){!m(te,e)||t&&!m(Y,e)||r.push(te[e])})),r};f||(P((X=function(){if(this instanceof X)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=L(e);return d&&oe&&ae(Y,t,{configurable:!0,set:function e(r){this===Y&&e.call(re,r),m(this,V)&&m(this[V],t)&&(this[V][t]=!1),ae(this,t,E(1,r))}}),n(t,e)})[W],"toString",(function(){return q(this).tag})),P(X,"withoutSetter",(function(e){return n(L(e),e)})),I.f=ue,C.f=le,R.f=o,T.f=A.f=a,M.f=ce,F.f=function(e){return n(D(e),e)},d&&($(X[W],"description",{configurable:!0,get:function(){return q(this).description}}),c||P(Y,"propertyIsEnumerable",ue,{unsafe:!0}))),s({global:!0,wrap:!0,forced:!f,sham:!f},{Symbol:X}),z(S(j),(function(e){U(e)})),s({target:H,stat:!0,forced:!f},{for:function(e){var t;e=String(e);return m(ne,e)?ne[e]:(t=X(e),ne[e]=t,ie[t]=e,t)},keyFor:function(e){if(!se(e))throw TypeError(e+" is not a symbol");if(m(ie,e))return ie[e]},useSetter:function(){oe=!0},useSimple:function(){oe=!1}}),s({target:"Object",stat:!0,forced:!f,sham:!d},{create:function(e,t){return void 0===t?x(e):i(x(e),t)},defineProperty:le,defineProperties:i,getOwnPropertyDescriptor:o}),s({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:a,getOwnPropertySymbols:ce}),s({target:"Object",stat:!0,forced:p((function(){M.f(1)}))},{getOwnPropertySymbols:function(e){return M.f(b(e))}}),K&&s({target:"JSON",stat:!0,forced:!f||p((function(){var e=X();return"[null]"!=K([e])||"{}"!=K({a:e})||"{}"!=K(Object(e))}))},{stringify:function(e,t,r){for(var n,i=[e],o=1;o<arguments.length;)i.push(arguments[o++]);if((y(n=t)||void 0!==e)&&!se(e))return g(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!se(t))return t}),i[1]=t,K.apply(null,i)}}),X[W][e]||k(X[W],e,X[W].valueOf),B(X,H),N[V]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/define-well-known-symbol":42,"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/get-built-in":56,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/internal-state":70,"../internals/is-array":72,"../internals/is-object":74,"../internals/is-pure":75,"../internals/native-symbol":83,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-names-external":94,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/shared":120,"../internals/shared-key":118,"../internals/to-indexed-object":134,"../internals/to-object":137,"../internals/to-primitive":140,"../internals/uid":145,"../internals/use-symbol-as-uid":146,"../internals/well-known-symbol":148,"../internals/well-known-symbol-wrapped":147}],203:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),i=e("../internals/array-copy-within"),o=n.aTypedArray;(0,n.exportTypedArrayMethod)("copyWithin",(function(e,t){return i.call(o(this),e,t,2<arguments.length?arguments[2]:void 0)}))},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],204:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),i=e("../internals/array-iteration").every,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("every",(function(e){return i(o(this),e,1<arguments.length?arguments[1]:void 0)}))},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],205:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),i=e("../internals/array-fill"),o=n.aTypedArray;(0,n.exportTypedArrayMethod)("fill",(function(e){return i.apply(o(this),arguments)}))},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],206:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),i=e("../internals/array-iteration").filter,o=e("../internals/species-constructor"),a=n.aTypedArray,s=n.aTypedArrayConstructor;(0,n.exportTypedArrayMethod)("filter",(function(e){for(var t=i(a(this),e,1<arguments.length?arguments[1]:void 0),r=(e=o(this,this.constructor),0),n=t.length,l=new(s(e))(n);r<n;)l[r]=t[r++];return l}))},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],207:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),i=e("../internals/array-iteration").findIndex,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("findIndex",(function(e){return i(o(this),e,1<arguments.length?arguments[1]:void 0)}))},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],208:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),i=e("../internals/array-iteration").find,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("find",(function(e){return i(o(this),e,1<arguments.length?arguments[1]:void 0)}))},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],209:[function(e,t,r){e("../internals/typed-array-constructor")("Float32",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},{"../internals/typed-array-constructor":142}],210:[function(e,t,r){e("../internals/typed-array-constructor")("Float64",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},{"../internals/typed-array-constructor":142}],211:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),i=e("../internals/array-iteration").forEach,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("forEach",(function(e){i(o(this),e,1<arguments.length?arguments[1]:void 0)}))},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],212:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),i=e("../internals/array-includes").includes,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("includes",(function(e){return i(o(this),e,1<arguments.length?arguments[1]:void 0)}))},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],213:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),i=e("../internals/array-includes").indexOf,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("indexOf",(function(e){return i(o(this),e,1<arguments.length?arguments[1]:void 0)}))},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],214:[function(e,t,r){e("../internals/typed-array-constructor")("Int16",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},{"../internals/typed-array-constructor":142}],215:[function(e,t,r){e("../internals/typed-array-constructor")("Int32",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},{"../internals/typed-array-constructor":142}],216:[function(e,t,r){"use strict";function n(){return s.call(c(this))}var i=e("../internals/global"),o=e("../internals/array-buffer-view-core"),a=e("../modules/es.array.iterator"),s=(e=e("../internals/well-known-symbol")("iterator"),i=i.Uint8Array,a.values),l=a.keys,u=a.entries,c=o.aTypedArray;a=o.exportTypedArrayMethod,i=!!(o=i&&i.prototype[e])&&("values"==o.name||null==o.name);a("entries",(function(){return u.call(c(this))})),a("keys",(function(){return l.call(c(this))})),a("values",n,!i),a(e,n,!i)},{"../internals/array-buffer-view-core":12,"../internals/global":59,"../internals/well-known-symbol":148,"../modules/es.array.iterator":160}],217:[function(e,t,r){"use strict";var n=(e=e("../internals/array-buffer-view-core")).aTypedArray,i=(e=e.exportTypedArrayMethod,[].join);e("join",(function(e){return i.apply(n(this),arguments)}))},{"../internals/array-buffer-view-core":12}],218:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),i=e("../internals/array-last-index-of"),o=n.aTypedArray;(0,n.exportTypedArrayMethod)("lastIndexOf",(function(e){return i.apply(o(this),arguments)}))},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],219:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),i=e("../internals/array-iteration").map,o=e("../internals/species-constructor"),a=n.aTypedArray,s=n.aTypedArrayConstructor;(0,n.exportTypedArrayMethod)("map",(function(e){return i(a(this),e,1<arguments.length?arguments[1]:void 0,(function(e,t){return new(s(o(e,e.constructor)))(t)}))}))},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],220:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),i=e("../internals/array-reduce").right,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("reduceRight",(function(e){return i(o(this),e,arguments.length,1<arguments.length?arguments[1]:void 0)}))},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],221:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),i=e("../internals/array-reduce").left,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("reduce",(function(e){return i(o(this),e,arguments.length,1<arguments.length?arguments[1]:void 0)}))},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],222:[function(e,t,r){"use strict";var n=(e=e("../internals/array-buffer-view-core")).aTypedArray,i=(e=e.exportTypedArrayMethod,Math.floor);e("reverse",(function(){for(var e,t=n(this).length,r=i(t/2),o=0;o<r;)e=this[o],this[o++]=this[--t],this[t]=e;return this}))},{"../internals/array-buffer-view-core":12}],223:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),i=e("../internals/to-length"),o=e("../internals/to-offset"),a=e("../internals/to-object"),s=(e=e("../internals/fails"),n.aTypedArray);(0,n.exportTypedArrayMethod)("set",(function(e){s(this);var t=o(1<arguments.length?arguments[1]:void 0,1),r=this.length,n=a(e),l=i(n.length),u=0;if(r<l+t)throw RangeError("Wrong length");for(;u<l;)this[t+u]=n[u++]}),e((function(){new Int8Array(1).set({})})))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/to-length":136,"../internals/to-object":137,"../internals/to-offset":138}],224:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),i=e("../internals/species-constructor"),o=(e=e("../internals/fails"),n.aTypedArray),a=n.aTypedArrayConstructor,s=(n=n.exportTypedArrayMethod,[].slice);n("slice",(function(e,t){for(var r=s.call(o(this),e,t),n=(e=i(this,this.constructor),0),l=r.length,u=new(a(e))(l);n<l;)u[n]=r[n++];return u}),e((function(){new Int8Array(1).slice()})))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/species-constructor":121}],225:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),i=e("../internals/array-iteration").some,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("some",(function(e){return i(o(this),e,1<arguments.length?arguments[1]:void 0)}))},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],226:[function(e,t,r){"use strict";var n=(e=e("../internals/array-buffer-view-core")).aTypedArray,i=(e=e.exportTypedArrayMethod,[].sort);e("sort",(function(e){return i.call(n(this),e)}))},{"../internals/array-buffer-view-core":12}],227:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),i=e("../internals/to-length"),o=e("../internals/to-absolute-index"),a=e("../internals/species-constructor"),s=n.aTypedArray;(0,n.exportTypedArrayMethod)("subarray",(function(e,t){var r=s(this),n=r.length;e=o(e,n);return new(a(r,r.constructor))(r.buffer,r.byteOffset+e*r.BYTES_PER_ELEMENT,i((void 0===t?n:o(t,n))-e))}))},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":121,"../internals/to-absolute-index":132,"../internals/to-length":136}],228:[function(e,t,r){"use strict";var n=e("../internals/global"),i=e("../internals/array-buffer-view-core"),o=(e=e("../internals/fails"),n.Int8Array),a=i.aTypedArray,s=(n=i.exportTypedArrayMethod,[].toLocaleString),l=[].slice,u=!!o&&e((function(){s.call(new o(1))}));n("toLocaleString",(function(){return s.apply(u?l.call(a(this)):a(this),arguments)}),e((function(){return[1,2].toLocaleString()!=new o([1,2]).toLocaleString()}))||!e((function(){o.prototype.toLocaleString.call([1,2])})))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":59}],229:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core").exportTypedArrayMethod,i=e("../internals/fails"),o=(e=(e=e("../internals/global").Uint8Array)&&e.prototype||{},[].toString),a=[].join;i((function(){o.call({})}))&&(o=function(){return a.call(this)}),i=e.toString!=o;n("toString",o,i)},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":59}],230:[function(e,t,r){e("../internals/typed-array-constructor")("Uint16",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},{"../internals/typed-array-constructor":142}],231:[function(e,t,r){e("../internals/typed-array-constructor")("Uint32",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},{"../internals/typed-array-constructor":142}],232:[function(e,t,r){e("../internals/typed-array-constructor")("Uint8",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},{"../internals/typed-array-constructor":142}],233:[function(e,t,r){e("../internals/typed-array-constructor")("Uint8",(function(e){return function(t,r,n){return e(this,t,r,n)}}),!0)},{"../internals/typed-array-constructor":142}],234:[function(e,t,r){"use strict";function n(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}var i,o,a,s,l,u=e("../internals/global"),c=e("../internals/redefine-all"),d=e("../internals/internal-metadata"),f=e("../internals/collection"),h=e("../internals/collection-weak"),p=e("../internals/is-object"),m=e("../internals/internal-state").enforce,g=(e=e("../internals/native-weak-map"),u=!u.ActiveXObject&&"ActiveXObject"in u,Object.isExtensible);t=t.exports=f("WeakMap",n,h);e&&u&&(i=h.getConstructor(n,"WeakMap",!0),d.REQUIRED=!0,f=t.prototype,o=f.delete,a=f.has,s=f.get,l=f.set,c(f,{delete:function(e){var t;return p(e)&&!g(e)?((t=m(this)).frozen||(t.frozen=new i),o.call(this,e)||t.frozen.delete(e)):o.call(this,e)},has:function(e){var t;return p(e)&&!g(e)?((t=m(this)).frozen||(t.frozen=new i),a.call(this,e)||t.frozen.has(e)):a.call(this,e)},get:function(e){var t;return!p(e)||g(e)||((t=m(this)).frozen||(t.frozen=new i),a.call(this,e))?s.call(this,e):t.frozen.get(e)},set:function(e,t){var r;return!p(e)||g(e)||((r=m(this)).frozen||(r.frozen=new i),a.call(this,e))?l.call(this,e,t):r.frozen.set(e,t),this}}))},{"../internals/collection":32,"../internals/collection-weak":31,"../internals/global":59,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/is-object":74,"../internals/native-weak-map":85,"../internals/redefine-all":107}],235:[function(e,t,r){var n,i=e("../internals/global"),o=e("../internals/dom-iterables"),a=e("../internals/array-for-each"),s=e("../internals/create-non-enumerable-property");for(n in o){var l;if((l=(l=i[n])&&l.prototype)&&l.forEach!==a)try{s(l,"forEach",a)}catch(e){l.forEach=a}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":59}],236:[function(e,t,r){var n,i=e("../internals/global"),o=e("../internals/dom-iterables"),a=e("../modules/es.array.iterator"),s=e("../internals/create-non-enumerable-property"),l=(e=e("../internals/well-known-symbol"))("iterator"),u=e("toStringTag"),c=a.values;for(n in o){var d=i[n],f=d&&d.prototype;if(f){if(f[l]!==c)try{s(f,l,c)}catch(e){f[l]=c}if(f[u]||s(f,u,n),o[n])for(var h in a)if(f[h]!==a[h])try{s(f,h,a[h])}catch(e){f[h]=a[h]}}}},{"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":59,"../internals/well-known-symbol":148,"../modules/es.array.iterator":160}],237:[function(e,t,r){"use strict";function n(t){try{return decodeURIComponent(t)}catch(e){return t}}function i(e){return F[e]}function o(e){return encodeURIComponent(e).replace(D,i)}function a(e){this.entries.length=0,U(this.entries,e)}function s(e,t){if(e<t)throw TypeError("Not enough arguments")}function l(){y(this,l,C);var e,t,r,n,i,o,s,u,c=0<arguments.length?arguments[0]:void 0,d=[];if(k(this,{type:C,entries:d,updateURL:function(){},updateSearchParams:a}),void 0!==c)if(E(c))if("function"==typeof(e=A(c)))for(r=(t=e.call(c)).next;!(n=r.call(t)).done;){if((o=(i=(n=T(w(n.value))).next).call(n)).done||(s=i.call(n)).done||!i.call(n).done)throw TypeError("Expected sequence with length 2");d.push({key:o.value+"",value:s.value+""})}else for(u in c)v(c,u)&&d.push({key:u,value:c[u]+""});else U(d,"string"==typeof c?"?"===c.charAt(0)?c.slice(1):c:c+"")}e("../modules/es.array.iterator");var u=e("../internals/export"),c=e("../internals/get-built-in"),d=e("../internals/native-url"),f=e("../internals/redefine"),h=e("../internals/redefine-all"),p=e("../internals/set-to-string-tag"),m=e("../internals/create-iterator-constructor"),g=e("../internals/internal-state"),y=e("../internals/an-instance"),v=e("../internals/has"),b=e("../internals/function-bind-context"),_=e("../internals/classof"),w=e("../internals/an-object"),E=e("../internals/is-object"),x=e("../internals/object-create"),S=e("../internals/create-property-descriptor"),T=e("../internals/get-iterator"),A=e("../internals/get-iterator-method"),M=(e=e("../internals/well-known-symbol"),c("fetch")),R=c("Headers"),C=(c=e("iterator"),"URLSearchParams"),I=C+"Iterator",k=g.set,P=g.getterFor(C),O=g.getterFor(I),j=/\+/g,N=Array(4),L=function(e){var t,r=e.replace(j," "),i=4;try{return decodeURIComponent(r)}catch(e){for(;i;)r=r.replace((t=i--,N[t-1]||(N[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))),n);return r}},D=/[!'()~]|%20/g,F={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},U=function(e,t){if(t)for(var r,n=t.split("&"),i=0;i<n.length;)(r=n[i++]).length&&(r=r.split("="),e.push({key:L(r.shift()),value:L(r.join("="))}))},B=m((function(e,t){k(this,{type:I,iterator:T(P(e).entries),kind:t})}),"Iterator",(function(){var e,t=(e=O(this)).kind,r=(e=e.iterator.next()).value;return e.done||(e.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),e}));h(e=l.prototype,{append:function(e,t){s(arguments.length,2);var r=P(this);r.entries.push({key:e+"",value:t+""}),r.updateURL()},delete:function(e){s(arguments.length,1);for(var t=P(this),r=t.entries,n=e+"",i=0;i<r.length;)r[i].key===n?r.splice(i,1):i++;t.updateURL()},get:function(e){s(arguments.length,1);for(var t=P(this).entries,r=e+"",n=0;n<t.length;n++)if(t[n].key===r)return t[n].value;return null},getAll:function(e){s(arguments.length,1);for(var t=P(this).entries,r=e+"",n=[],i=0;i<t.length;i++)t[i].key===r&&n.push(t[i].value);return n},has:function(e){s(arguments.length,1);for(var t=P(this).entries,r=e+"",n=0;n<t.length;)if(t[n++].key===r)return!0;return!1},set:function(e,t){s(arguments.length,1);for(var r,n=P(this),i=n.entries,o=!1,a=e+"",l=t+"",u=0;u<i.length;u++)(r=i[u]).key===a&&(o?i.splice(u--,1):(o=!0,r.value=l));o||i.push({key:a,value:l}),n.updateURL()},sort:function(){for(var e,t,r=P(this),n=r.entries,i=n.slice(),o=n.length=0;o<i.length;o++){for(e=i[o],t=0;t<o;t++)if(n[t].key>e.key){n.splice(t,0,e);break}t===o&&n.push(e)}r.updateURL()},forEach:function(e){for(var t,r=P(this).entries,n=b(e,1<arguments.length?arguments[1]:void 0,3),i=0;i<r.length;)n((t=r[i++]).value,t.key,this)},keys:function(){return new B(this,"keys")},values:function(){return new B(this,"values")},entries:function(){return new B(this,"entries")}},{enumerable:!0}),f(e,c,e.entries),f(e,"toString",(function(){for(var e,t=P(this).entries,r=[],n=0;n<t.length;)e=t[n++],r.push(o(e.key)+"="+o(e.value));return r.join("&")}),{enumerable:!0}),p(l,C),u({global:!0,forced:!d},{URLSearchParams:l}),d||"function"!=typeof M||"function"!=typeof R||u({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,r,n;e=[e];return 1<arguments.length&&(E(t=arguments[1])&&(r=t.body,_(r)===C&&((n=t.headers?new R(t.headers):new R).has("content-type")||n.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=x(t,{body:S(0,String(r)),headers:S(0,n)}))),e.push(t)),M.apply(this,e)}}),t.exports={URLSearchParams:l,getState:P}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":37,"../internals/create-property-descriptor":39,"../internals/export":50,"../internals/function-bind-context":54,"../internals/get-built-in":56,"../internals/get-iterator":58,"../internals/get-iterator-method":57,"../internals/has":60,"../internals/internal-state":70,"../internals/is-object":74,"../internals/native-url":84,"../internals/object-create":90,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":148,"../modules/es.array.iterator":160}],238:[function(e,t,r){"use strict";function n(e){var t,r,n,i;if("number"==typeof e){for(t=[],r=0;r<4;r++)t.unshift(e%256),e=I(e/256);return t.join(".")}if("object"!=typeof e)return e;for(t="",n=Y(e),r=0;r<8;r++)i&&0===e[r]||(i=i&&!1,n===r?(t+=r?":":"::",i=!0):(t+=e[r].toString(16),r<7&&(t+=":")));return"["+t+"]"}function i(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme}function o(e,t,r,n){var i,o,a,s=r||le,u=0,c="",d=!1,f=!1,h=!1;for(r||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(W,"")),t=t.replace(Z,""),i=_(t);u<=i.length;){switch(o=i[u],s){case le:if(!o||!L.test(o)){if(r)return O;s=ce;continue}c+=o.toLowerCase(),s=ue;break;case ue:if(o&&(D.test(o)||"+"==o||"-"==o||"."==o))c+=o.toLowerCase();else{if(":"!=o){if(r)return O;c="",s=ce,u=0;continue}if(r&&(te(e)!=v(ee,c)||"file"==c&&(re(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=c,r)return void(te(e)&&ee[e.scheme]==e.port&&(e.port=null));c="","file"==e.scheme?s=we:te(e)&&n&&n.scheme==e.scheme?s=de:te(e)?s=me:"/"==i[u+1]?(s=fe,u++):(e.cannotBeABaseURL=!0,e.path.push(""),s=Ae)}break;case ce:if(!n||n.cannotBeABaseURL&&"#"!=o)return O;if(n.cannotBeABaseURL&&"#"==o){e.scheme=n.scheme,e.path=n.path.slice(),e.query=n.query,e.fragment="",e.cannotBeABaseURL=!0,s=Re;break}s="file"==n.scheme?we:he;continue;case de:if("/"!=o||"/"!=i[u+1]){s=he;continue}s=ge,u++;break;case fe:if("/"==o){s=ye;break}s=Te;continue;case he:if(e.scheme=n.scheme,o==l)e.username=n.username,e.password=n.password,e.host=n.host,e.port=n.port,e.path=n.path.slice(),e.query=n.query;else if("/"==o||"\\"==o&&te(e))s=pe;else if("?"==o)e.username=n.username,e.password=n.password,e.host=n.host,e.port=n.port,e.path=n.path.slice(),e.query="",s=Me;else{if("#"!=o){e.username=n.username,e.password=n.password,e.host=n.host,e.port=n.port,e.path=n.path.slice(),e.path.pop(),s=Te;continue}e.username=n.username,e.password=n.password,e.host=n.host,e.port=n.port,e.path=n.path.slice(),e.query=n.query,e.fragment="",s=Re}break;case pe:if(!te(e)||"/"!=o&&"\\"!=o){if("/"!=o){e.username=n.username,e.password=n.password,e.host=n.host,e.port=n.port,s=Te;continue}s=ye}else s=ge;break;case me:if(s=ge,"/"!=o||"/"!=c.charAt(u+1))continue;u++;break;case ge:if("/"==o||"\\"==o)break;s=ye;continue;case ye:if("@"==o){d&&(c="%40"+c);d=!0;for(var p=_(c),m=0;m<p.length;m++){var g=p[m];":"!=g||h?(g=J(g,$),h?e.password+=g:e.username+=g):h=!0}c=""}else if(o==l||"/"==o||"?"==o||"#"==o||"\\"==o&&te(e)){if(d&&""==c)return P;u-=_(c).length+1,c="",s=ve}else c+=o;break;case ve:case be:if(r&&"file"==e.scheme){s=xe;continue}if(":"!=o||f){if(o==l||"/"==o||"?"==o||"#"==o||"\\"==o&&te(e)){if(te(e)&&""==c)return j;if(r&&""==c&&(re(e)||null!==e.port))return;if(a=q(e,c))return a;if(c="",s=Se,r)return;continue}"["==o?f=!0:"]"==o&&(f=!1),c+=o}else{if(""==c)return j;if(a=q(e,c))return a;if(c="",s=_e,r==be)return}break;case _e:if(!F.test(o)){if(o==l||"/"==o||"?"==o||"#"==o||"\\"==o&&te(e)||r){if(""!=c){var y=parseInt(c,10);if(65535<y)return N;e.port=te(e)&&y===ee[e.scheme]?null:y,c=""}if(r)return;s=Se;continue}return N}c+=o;break;case we:if(e.scheme="file","/"==o||"\\"==o)s=Ee;else{if(!n||"file"!=n.scheme){s=Te;continue}if(o==l)e.host=n.host,e.path=n.path.slice(),e.query=n.query;else if("?"==o)e.host=n.host,e.path=n.path.slice(),e.query="",s=Me;else{if("#"!=o){ie(i.slice(u).join(""))||(e.host=n.host,e.path=n.path.slice(),oe(e)),s=Te;continue}e.host=n.host,e.path=n.path.slice(),e.query=n.query,e.fragment="",s=Re}}break;case Ee:if("/"==o||"\\"==o){s=xe;break}n&&"file"==n.scheme&&!ie(i.slice(u).join(""))&&(ne(n.path[0],!0)?e.path.push(n.path[0]):e.host=n.host),s=Te;continue;case xe:if(o==l||"/"==o||"\\"==o||"?"==o||"#"==o){if(!r&&ne(c))s=Te;else{if(""==c){if(e.host="",r)return}else{if(a=q(e,c))return a;if("localhost"==e.host&&(e.host=""),r)return;c=""}s=Se}continue}c+=o;break;case Se:if(te(e)){if(s=Te,"/"!=o&&"\\"!=o)continue}else if(r||"?"!=o)if(r||"#"!=o){if(o!=l&&(s=Te,"/"!=o))continue}else e.fragment="",s=Re;else e.query="",s=Me;break;case Te:if(o==l||"/"==o||"\\"==o&&te(e)||!r&&("?"==o||"#"==o)){if(se(c)?(oe(e),"/"==o||"\\"==o&&te(e)||e.path.push("")):ae(c)?"/"==o||"\\"==o&&te(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&ne(c)&&(e.host&&(e.host=""),c=c.charAt(0)+":"),e.path.push(c)),c="","file"==e.scheme&&(o==l||"?"==o||"#"==o))for(;1<e.path.length&&""===e.path[0];)e.path.shift();"?"==o?(e.query="",s=Me):"#"==o&&(e.fragment="",s=Re)}else c+=J(o,Q);break;case Ae:"?"==o?(e.query="",s=Me):"#"==o?(e.fragment="",s=Re):o!=l&&(e.path[0]+=J(o,X));break;case Me:r||"#"!=o?o!=l&&("'"==o&&te(e)?e.query+="%27":e.query+="#"==o?"%23":J(o,X)):(e.fragment="",s=Re);break;case Re:o!=l&&(e.fragment+=J(o,K))}u++}}function a(e){var t,r,n=y(this,a,"URL"),i=1<arguments.length?arguments[1]:void 0,s=(e=String(e),R(n,{type:"URL"}));if(void 0!==i)if(i instanceof a)t=C(i);else if(r=o(t={},String(i)))throw TypeError(r);if(r=o(s,e,null,t))throw TypeError(r);var l=s.searchParams=new A;(i=M(l)).updateSearchParams(s.query),i.updateURL=function(){s.query=String(l)||null},f||(n.href=Ce.call(n),n.origin=Ie.call(n),n.protocol=ke.call(n),n.username=Pe.call(n),n.password=Oe.call(n),n.host=je.call(n),n.hostname=Ne.call(n),n.port=Le.call(n),n.pathname=De.call(n),n.search=Fe.call(n),n.searchParams=Ue.call(n),n.hash=Be.call(n))}function s(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}}e("../modules/es.string.iterator");var l,u,c,d=e("../internals/export"),f=e("../internals/descriptors"),h=e("../internals/native-url"),p=e("../internals/global"),m=e("../internals/object-define-properties"),g=e("../internals/redefine"),y=e("../internals/an-instance"),v=e("../internals/has"),b=e("../internals/object-assign"),_=e("../internals/array-from"),w=e("../internals/string-multibyte").codeAt,E=e("../internals/string-punycode-to-ascii"),x=e("../internals/set-to-string-tag"),S=e("../modules/web.url-search-params"),T=(e=e("../internals/internal-state"),p.URL),A=S.URLSearchParams,M=S.getState,R=e.set,C=e.getterFor("URL"),I=Math.floor,k=Math.pow,P="Invalid authority",O="Invalid scheme",j="Invalid host",N="Invalid port",L=/[A-Za-z]/,D=/[\d+-.A-Za-z]/,F=/\d/,U=/^(0x|0X)/,B=/^[0-7]+$/,G=/^\d+$/,z=/^[\dA-Fa-f]+$/,V=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,H=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,W=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,Z=/[\u0009\u000A\u000D]/g,q=function(e,t){var r,n,i;if("["==t.charAt(0))return"]"==t.charAt(t.length-1)&&(r=function(e){var t,r,n,i,o,a,s,l=[0,0,0,0,0,0,0,0],u=0,c=null,d=0,f=function(){return e.charAt(d)};if(":"==f()){if(":"!=e.charAt(1))return;d+=2,c=++u}for(;f();){if(8==u)return;if(":"!=f()){for(t=r=0;r<4&&z.test(f());)t=16*t+parseInt(f(),16),d++,r++;if("."==f()){if(0==r)return;if(d-=r,u>6)return;for(n=0;f();){if(i=null,n>0){if(!("."==f()&&n<4))return;d++}if(!F.test(f()))return;for(;F.test(f());){if(o=parseInt(f(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;d++}l[u]=256*l[u]+i,2!=++n&&4!=n||u++}if(4!=n)return;break}if(":"==f()){if(d++,!f())return}else if(f())return;l[u++]=t}else{if(null!==c)return;d++,c=++u}}if(null!==c)for(a=u-c,u=7;0!=u&&a>0;)s=l[u],l[u--]=l[c+a-1],l[c+--a]=s;else if(8!=u)return;return l}(t.slice(1,-1)))?void(e.host=r):j;if(te(e))return t=E(t),V.test(t)||null===(r=function(e){var t,r,n,i,o,a,s,l=e.split(".");if(l.length&&""==l[l.length-1]&&l.pop(),(t=l.length)>4)return e;for(r=[],n=0;n<t;n++){if(""==(i=l[n]))return e;if(o=10,i.length>1&&"0"==i.charAt(0)&&(o=U.test(i)?16:8,i=i.slice(8==o?1:2)),""===i)a=0;else{if(!(10==o?G:8==o?B:z).test(i))return e;a=parseInt(i,o)}r.push(a)}for(n=0;n<t;n++)if(a=r[n],n==t-1){if(a>=k(256,5-t))return null}else if(a>255)return null;for(s=r.pop(),n=0;n<r.length;n++)s+=r[n]*k(256,3-n);return s}(t))?j:void(e.host=r);if(H.test(t))return j;for(r="",n=_(t),i=0;i<n.length;i++)r+=J(n[i],X);e.host=r},Y=function(e){for(var t=null,r=1,n=null,i=0,o=0;o<8;o++)0!==e[o]?(r<i&&(t=n,r=i),n=null,i=0):(null===n&&(n=o),++i);return r<i&&(t=n,r=i),t},X={},K=b({},X,{" ":1,'"':1,"<":1,">":1,"`":1}),Q=b({},K,{"#":1,"?":1,"{":1,"}":1}),$=b({},Q,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),J=function(e,t){var r=w(e,0);return 32<r&&r<127&&!v(t,e)?e:encodeURIComponent(e)},ee={ftp:21,file:null,http:80,https:443,ws:80,wss:443},te=function(e){return v(ee,e.scheme)},re=function(e){return""!=e.username||""!=e.password},ne=function(e,t){return 2==e.length&&L.test(e.charAt(0))&&(":"==(e=e.charAt(1))||!t&&"|"==e)},ie=function(e){return 1<e.length&&ne(e.slice(0,2))&&(2==e.length||"/"===(e=e.charAt(2))||"\\"===e||"?"===e||"#"===e)},oe=function(e){var t=e.path,r=t.length;!r||"file"==e.scheme&&1==r&&ne(t[0],!0)||t.pop()},ae=function(e){return"."===e||"%2e"===e.toLowerCase()},se=function(e){return".."===(e=e.toLowerCase())||"%2e."===e||".%2e"===e||"%2e%2e"===e},le={},ue={},ce={},de={},fe={},he={},pe={},me={},ge={},ye={},ve={},be={},_e={},we={},Ee={},xe={},Se={},Te={},Ae={},Me={},Re={},Ce=(p=a.prototype,function(){var e=C(this),t=e.scheme,r=e.username,i=e.password,o=e.host,a=e.port,s=e.path,l=e.query,u=e.fragment,c=t+":";return null!==o?(c+="//",re(e)&&(c+=r+(i?":"+i:"")+"@"),c+=n(o),null!==a&&(c+=":"+a)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?s[0]:s.length?"/"+s.join("/"):"",null!==l&&(c+="?"+l),null!==u&&(c+="#"+u),c}),Ie=function(){var e=C(this),t=e.scheme,r=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&te(e)?t+"://"+n(e.host)+(null!==r?":"+r:""):"null"},ke=function(){return C(this).scheme+":"},Pe=function(){return C(this).username},Oe=function(){return C(this).password},je=function(){var e=(t=C(this)).host,t=t.port;return null===e?"":null===t?n(e):n(e)+":"+t},Ne=function(){var e=C(this).host;return null===e?"":n(e)},Le=function(){var e=C(this).port;return null===e?"":String(e)},De=function(){var e=C(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Fe=function(){var e=C(this).query;return e?"?"+e:""},Ue=function(){return C(this).searchParams},Be=function(){var e=C(this).fragment;return e?"#"+e:""};f&&m(p,{href:s(Ce,(function(e){var t=C(this);if(e=o(t,e=String(e)))throw TypeError(e);M(t.searchParams).updateSearchParams(t.query)})),origin:s(Ie),protocol:s(ke,(function(e){o(C(this),String(e)+":",le)})),username:s(Pe,(function(e){var t=C(this),r=_(String(e));if(!i(t)){t.username="";for(var n=0;n<r.length;n++)t.username+=J(r[n],$)}})),password:s(Oe,(function(e){var t=C(this),r=_(String(e));if(!i(t)){t.password="";for(var n=0;n<r.length;n++)t.password+=J(r[n],$)}})),host:s(je,(function(e){var t=C(this);t.cannotBeABaseURL||o(t,String(e),ve)})),hostname:s(Ne,(function(e){var t=C(this);t.cannotBeABaseURL||o(t,String(e),be)})),port:s(Le,(function(e){var t=C(this);i(t)||(""==(e=String(e))?t.port=null:o(t,e,_e))})),pathname:s(De,(function(e){var t=C(this);t.cannotBeABaseURL||(t.path=[],o(t,e+"",Se))})),search:s(Fe,(function(e){var t=C(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",o(t,e,Me)),M(t.searchParams).updateSearchParams(t.query)})),searchParams:s(Ue),hash:s(Be,(function(e){var t=C(this);""==(e=String(e))?t.fragment=null:("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",o(t,e,Re))}))}),g(p,"toJSON",(function(){return Ce.call(this)}),{enumerable:!0}),g(p,"toString",(function(){return Ce.call(this)}),{enumerable:!0}),T&&(u=T.createObjectURL,c=T.revokeObjectURL,u&&g(a,"createObjectURL",(function(e){return u.apply(T,arguments)})),c&&g(a,"revokeObjectURL",(function(e){return c.apply(T,arguments)}))),x(a,"URL"),d({global:!0,forced:!h,sham:!f},{URL:a})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/internal-state":70,"../internals/native-url":84,"../internals/object-assign":89,"../internals/object-define-properties":91,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/string-multibyte":123,"../internals/string-punycode-to-ascii":126,"../modules/es.string.iterator":190,"../modules/web.url-search-params":237}],239:[function(e,t,r){"use strict";t.exports=e("./").polyfill()},{"./":240}],240:[function(e,t,r){(function(n,i){var o;o=function(){"use strict";function t(e){return"function"==typeof e}var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=0,a=void 0,s=void 0,l=function(e,t){p[o]=e,p[o+1]=t,2===(o+=2)&&(s?s(m):b())},u="undefined"!=typeof window?window:void 0,c=(c=u||{}).MutationObserver||c.WebKitMutationObserver,d="undefined"==typeof self&&void 0!==n&&"[object process]"==={}.toString.call(n),f="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function h(){var e=setTimeout;return function(){return e(m,1)}}var p=new Array(1e3);function m(){for(var e=0;e<o;e+=2)(0,p[e])(p[e+1]),p[e]=void 0,p[e+1]=void 0;o=0}var g,y,v,b=void 0;function _(e,t){var r,n=this,i=new this.constructor(x),o=(void 0===i[E]&&L(i),n._state);return o?(r=arguments[o-1],l((function(){return j(o,i,r,n._result)}))):P(n,i,e,t),i}function w(e){var t;return e&&"object"==typeof e&&e.constructor===this?e:(R(t=new this(x),e),t)}b=d?function(){return n.nextTick(m)}:c?(y=0,d=new c(m),v=document.createTextNode(""),d.observe(v,{characterData:!0}),function(){v.data=y=++y%2}):f?((g=new MessageChannel).port1.onmessage=m,function(){return g.port2.postMessage(0)}):(void 0===u&&"function"==typeof e?function(){try{var e=Function("return this")().require("vertx");return void 0!==(a=e.runOnLoop||e.runOnContext)?function(){a(m)}:h()}catch(e){return h()}}:h)();var E=Math.random().toString(36).substring(2);function x(){}var S=void 0,T=1,A=2;function M(e,r,n){var i,o;r.constructor===e.constructor&&n===_&&r.constructor.resolve===w?(i=e,(o=r)._state===T?I(i,o._result):o._state===A?k(i,o._result):P(o,void 0,(function(e){return R(i,e)}),(function(e){return k(i,e)}))):void 0!==n&&t(n)?function(e,t,r){l((function(e){var n=!1,i=function(e,t,r,n){try{e.call(t,r,n)}catch(e){return e}}(r,t,(function(r){n||(n=!0,(t!==r?R:I)(e,r))}),(function(t){n||(n=!0,k(e,t))}),e._label);!n&&i&&(n=!0,k(e,i))}),e)}(e,r,n):I(e,r)}function R(e,t){if(e===t)k(e,new TypeError("You cannot resolve a promise with itself"));else if(r=typeof t,null===t||"object"!=r&&"function"!=r)I(e,t);else{r=void 0;try{r=t.then}catch(t){return void k(e,t)}M(e,t,r)}var r}function C(e){e._onerror&&e._onerror(e._result),O(e)}function I(e,t){e._state===S&&(e._result=t,e._state=T,0!==e._subscribers.length&&l(O,e))}function k(e,t){e._state===S&&(e._state=A,e._result=t,l(C,e))}function P(e,t,r,n){var i=e._subscribers,o=i.length;e._onerror=null,i[o]=t,i[o+T]=r,i[o+A]=n,0===o&&e._state&&l(O,e)}function O(e){var t=e._subscribers,r=e._state;if(0!==t.length){for(var n,i=void 0,o=e._result,a=0;a<t.length;a+=3)n=t[a],i=t[a+r],n?j(r,n,i,o):i(o);e._subscribers.length=0}}function j(e,r,n,i){var o=t(n),a=void 0,s=void 0,l=!0;if(o){try{a=n(i)}catch(e){l=!1,s=e}if(r===a)return void k(r,new TypeError("A promises callback cannot return that same promise."))}else a=i;r._state===S&&(o&&l?R(r,a):!1===l?k(r,s):e===T?I(r,a):e===A&&k(r,a))}var N=0;function L(e){e[E]=N++,e._state=void 0,e._result=void 0,e._subscribers=[]}F.prototype._enumerate=function(e){for(var t=0;this._state===S&&t<e.length;t++)this._eachEntry(e[t],t)},F.prototype._eachEntry=function(e,t){var r=this._instanceConstructor,n=r.resolve;if(n===w){var i,o=void 0,a=void 0,s=!1;try{o=e.then}catch(t){s=!0,a=t}o===_&&e._state!==S?this._settledAt(e._state,t,e._result):"function"!=typeof o?(this._remaining--,this._result[t]=e):r===U?(i=new r(x),s?k(i,a):M(i,e,o),this._willSettleAt(i,t)):this._willSettleAt(new r((function(t){return t(e)})),t)}else this._willSettleAt(n(e),t)},F.prototype._settledAt=function(e,t,r){var n=this.promise;n._state===S&&(this._remaining--,e===A?k(n,r):this._result[t]=r),0===this._remaining&&I(n,this._result)},F.prototype._willSettleAt=function(e,t){var r=this;P(e,void 0,(function(e){return r._settledAt(T,t,e)}),(function(e){return r._settledAt(A,t,e)}))};var D=F;function F(e,t){this._instanceConstructor=e,this.promise=new e(x),this.promise[E]||L(this.promise),r(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0!==this.length&&(this.length=this.length||0,this._enumerate(t),0!==this._remaining)||I(this.promise,this._result)):k(this.promise,new Error("Array Methods must be provided an Array"))}B.prototype.catch=function(e){return this.then(null,e)},B.prototype.finally=function(e){var r=this.constructor;return t(e)?this.then((function(t){return r.resolve(e()).then((function(){return t}))}),(function(t){return r.resolve(e()).then((function(){throw t}))})):this.then(e,e)};var U=B;function B(e){if(this[E]=N++,this._result=this._state=void 0,this._subscribers=[],x!==e){if("function"!=typeof e)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof B))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var t=this;try{e((function(e){R(t,e)}),(function(e){k(t,e)}))}catch(e){k(t,e)}}}return U.prototype.then=_,U.all=function(e){return new D(this,e).promise},U.race=function(e){var t=this;return r(e)?new t((function(r,n){for(var i=e.length,o=0;o<i;o++)t.resolve(e[o]).then(r,n)})):new t((function(e,t){return t(new TypeError("You must pass an array to race."))}))},U.resolve=w,U.reject=function(e){var t=new this(x);return k(t,e),t},U._setScheduler=function(e){s=e},U._setAsap=function(e){l=e},U._asap=l,U.polyfill=function(){var e=void 0;if(void 0!==i)e=i;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=U},U.Promise=U},"object"==typeof r&&void 0!==t?t.exports=o():this.ES6Promise=o()}).call(this,e("_process"),"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:249}],241:[function(e,t,r){var n;n=function(e,t){"use strict";function r(t){try{delete window[t]}catch(e){window[t]=void 0}}function n(e){(e=document.getElementById(e))&&document.getElementsByTagName("head")[0].removeChild(e)}t.exports=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=e,o=t.timeout||5e3,a=t.jsonpCallback||"callback",s=void 0;return new Promise((function(l,u){var c=t.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),d=a+"_"+c,f=(window[c]=function(e){l({ok:!0,json:function(){return Promise.resolve(e)}}),s&&clearTimeout(s),n(d),r(c)},i+=-1===i.indexOf("?")?"?":"&",document.createElement("script"));f.setAttribute("src",""+i+a+"="+c),t.charset&&f.setAttribute("charset",t.charset),f.id=d,document.getElementsByTagName("head")[0].appendChild(f),s=setTimeout((function(){u(new Error("JSONP request to "+e+" timed out")),r(c),n(d),window[c]=function(){r(c)}}),o),f.onerror=function(){u(new Error("JSONP request to "+e+" failed")),r(c),n(d),s&&clearTimeout(s)}}))}},void 0!==r&&void 0!==t?n(0,t):(n(n={exports:{}},n),this.fetchJsonp=n.exports)},{}],242:[function(e,t,r){var n=function(e){"use strict";var t,r,n,i,o,a,s,l,u,c;if(!(void 0===e||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent)))return c=e.document,t=function(){return e.URL||e.webkitURL||e},r=c.createElementNS("http://www.w3.org/1999/xhtml","a"),n="download"in r,i=/constructor/i.test(e.HTMLElement)||e.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent),a=function(t){(e.setImmediate||e.setTimeout)((function(){throw t}),0)},4e4,s=function(e){setTimeout((function(){"string"==typeof e?t().revokeObjectURL(e):e.remove()}),4e4)},l=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e},c=(u=function(u,c,d){d||(u=l(u));var f,h,p=this,m=(d="application/octet-stream"===u.type,function(){for(var e=p,t="writestart progress write writeend".split(" "),r=(t=[].concat(t)).length;r--;){var n=e["on"+t[r]];if("function"==typeof n)try{n.call(e,e)}catch(e){a(e)}}});p.readyState=p.INIT,n?(f=t().createObjectURL(u),setTimeout((function(){var e,t;r.href=f,r.download=c,e=r,t=new MouseEvent("click"),e.dispatchEvent(t),m(),s(f),p.readyState=p.DONE}))):(o||d&&i)&&e.FileReader?((h=new FileReader).onloadend=function(){var t=o?h.result:h.result.replace(/^data:[^;]*;/,"data:attachment/file;");e.open(t,"_blank")||(e.location.href=t),t=void 0,p.readyState=p.DONE,m()},h.readAsDataURL(u),p.readyState=p.INIT):(f=f||t().createObjectURL(u),!d&&e.open(f,"_blank")||(e.location.href=f),p.readyState=p.DONE,m(),s(f))}).prototype,"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,r){return t=t||e.name||"download",r||(e=l(e)),navigator.msSaveOrOpenBlob(e,t)}:(c.abort=function(){},c.readyState=c.INIT=0,c.WRITING=1,c.DONE=2,c.error=c.onwritestart=c.onprogress=c.onwrite=c.onabort=c.onerror=c.onwriteend=null,function(e,t,r){return new u(e,t||e.name||"download",r)})}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);void 0!==t&&t.exports&&(t.exports.saveAs=n)},{}],243:[function(e,t,r){var n,i=Object.defineProperty,o=(i(r,"__esModule",{value:!0}),r),a={GIFEncoder:function(){return E},applyPalette:function(){return function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgb565";if(!e||!e.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(e instanceof Uint8Array||e instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");if(256<t.length)throw new Error("applyPalette() only works with 256 colors or less");var n=new Uint32Array(e.buffer),i=n.length,o="rgb444"===r?4096:65536,a=new Uint8Array(i),s=new Array(o);if("rgba4444"===r)for(var l=0;l<i;l++){var u,c=(u=n[l])>>24&255,p=u>>16&255,m=u>>8&255,g=(g=f(u=255&u,m,p,c))in s?s[g]:s[g]=function(e,t,r,n,i){for(var o=0,a=1e100,s=0;s<i.length;s++){var l=i[s],u=b(l[3]-n);u>a||((u+=b(l[0]-e))>a||((u+=b(l[1]-t))>a||((u+=b(l[2]-r))>a||(a=u,o=s))))}return o}(u,m,p,c,t);a[l]=g}else for(var y="rgb444"===r?h:d,v=0;v<i;v++){var _,w=(_=n[v])>>16&255,E=_>>8&255,x=(x=y(_=255&_,E,w))in s?s[x]:s[x]=function(e,t,r,n){for(var i=0,o=1e100,a=0;a<n.length;a++){var s=n[a],l=b(s[0]-e);l>o||((l+=b(s[1]-t))>o||((l+=b(s[2]-r))>o||(o=l,i=a)))}return i}(_,E,w,t);a[v]=x}return a}},default:function(){return M},nearestColor:function(){return function(e,t){return e[_(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:y)]}},nearestColorIndex:function(){return _},nearestColorIndexWithDistance:function(){return w},prequantize:function(){return function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.roundRGB,n=void 0===r?5:r,i=t.roundAlpha,o=void 0===i?10:i,a=t.oneBitAlpha,s=void 0===a?null:a,l=new Uint32Array(e.buffer),u=0;u<l.length;u++){var c=(h=l[u])>>24&255,d=h>>16&255,f=h>>8&255,h=255&h;c=v(c,o),s&&(c=c<=("number"==typeof s?s:127)?0:255),h=v(h,n),f=v(f,n),d=v(d,n),l[u]=c<<24|d<<16|f<<8|h<<0}}},quantize:function(){return function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.format,i=void 0===n?"rgb565":n,o=r.clearAlpha,a=void 0===o||o,s=r.clearAlphaColor,l=void 0===s?0:s,u=r.clearAlphaThreshold,c=void 0===u?0:u,y=r.oneBitAlpha,v=void 0!==y&&y;if(!e||!e.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(e instanceof Uint8Array||e instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");e=new Uint32Array(e.buffer);for(var b=!1!==r.useSqrt,_="rgba4444"===i,w=function(e,t){var r=new Array("rgb444"===t?4096:65536),n=e.length;if("rgba4444"===t)for(var i=0;i<n;++i){var o,a=(o=e[i])>>24&255,s=o>>16&255,l=o>>8&255,u=f(o=255&o,l,s,a),c=u in r?r[u]:r[u]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};c.rc+=o,c.gc+=l,c.bc+=s,c.ac+=a,c.cnt++}else if("rgb444"===t)for(var p=0;p<n;++p){var m,g=(m=e[p])>>16&255,y=m>>8&255,v=h(m=255&m,y,g),b=v in r?r[v]:r[v]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};b.rc+=m,b.gc+=y,b.bc+=g,b.cnt++}else for(var _=0;_<n;++_){var w,E=(w=e[_])>>16&255,x=w>>8&255,S=d(w=255&w,x,E),T=S in r?r[S]:r[S]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};T.rc+=w,T.gc+=x,T.bc+=E,T.cnt++}return r}(e,i),E=w.length,x=E-1,S=new Uint32Array(E+1),T=0,A=0;A<E;++A){var M=w[A];null!=M&&(F=1/M.cnt,_&&(M.ac*=F),M.rc*=F,M.gc*=F,M.bc*=F,w[T++]=M)}m(t)/T<.022&&(b=!1);var R,C,I;for(A=0;A<T-1;++A)w[A].fw=A+1,w[A+1].bk=A,b&&(w[A].cnt=Math.sqrt(w[A].cnt));for(b&&(w[A].cnt=Math.sqrt(w[A].cnt)),A=0;A<T;++A){g(w,A,!1);var k=w[A].err;for(C=++S[0];1<C&&!(w[R=S[I=C>>1]].err<=k);C=I)S[C]=R;S[C]=A}var P,O=T-t;for(A=0;A<O;){for(;;){var j=S[1];if((P=w[j]).tm>=P.mtm&&w[P.nn].mtm<=P.tm)break;for(P.mtm==x?j=S[1]=S[S[0]--]:(g(w,j,!1),P.tm=A),k=w[j].err,C=1;(I=C+C)<=S[0]&&(I<S[0]&&w[S[I]].err>w[S[I+1]].err&&I++,!(k<=w[R=S[I]].err));C=I)S[C]=R;S[C]=j}var N=w[P.nn],L=P.cnt,D=N.cnt,F=1/(L+D);_&&(P.ac=F*(L*P.ac+D*N.ac)),P.rc=F*(L*P.rc+D*N.rc),P.gc=F*(L*P.gc+D*N.gc),P.bc=F*(L*P.bc+D*N.bc),P.cnt+=N.cnt,P.mtm=++A,w[N.bk].fw=N.fw,w[N.fw].bk=N.bk,N.mtm=x}var U=[];for(A=0;;0){var B=p(Math.round(w[A].rc),0,255),G=p(Math.round(w[A].gc),0,255),z=p(Math.round(w[A].bc),0,255),V=255;_&&(V=p(Math.round(w[A].ac),0,255),v&&(V=V<=(H="number"==typeof v?v:127)?0:255),a&&V<=c&&(B=G=z=l,V=0));var H=_?[B,G,z,V]:[B,G,z];if(function(e,t){for(var r=0;r<e.length;r++){var n=(i=e[r])[0]===t[0]&&i[1]===t[1]&&i[2]===t[2],i=!(4<=i.length&&4<=t.length)||i[3]===t[3];if(n&&i)return!0}return!1}(U,H)||U.push(H),0==(A=w[A].fw))break}return U}},snapColorsToPalette:function(){return function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;if(e.length&&t.length)for(var n=e.map((function(e){return e.slice(0,3)})),i=r*r,o=e[0].length,a=0;a<t.length;a++){var s,l=t[a],u=(s=w(n,(l=l.length<o?[l[0],l[1],l[2],255]:l.length>o?l.slice(0,3):l.slice()).slice(0,3),y))[0];0<(s=s[1])&&s<=i&&(e[u]=l)}}}};for(n in a)i(o,n,{get:a[n],enumerable:!0});var s={signature:"GIF",version:"89a",trailer:59,extensionIntroducer:33,applicationExtensionLabel:255,graphicControlExtensionLabel:249,imageSeparator:44,signatureSize:3,versionSize:3,globalColorTableFlagMask:128,colorResolutionMask:112,sortFlagMask:8,globalColorTableSizeMask:7,applicationIdentifierSize:8,applicationAuthCodeSize:3,disposalMethodMask:28,userInputFlagMask:2,transparentColorFlagMask:1,localColorTableFlagMask:128,interlaceFlagMask:64,idSortFlagMask:32,localColorTableSizeMask:7};function l(){var e=0,t=new Uint8Array(arguments.length>0&&void 0!==arguments[0]?arguments[0]:256);return{get buffer(){return t.buffer},reset:function(){e=0},bytesView:function(){return t.subarray(0,e)},bytes:function(){return t.slice(0,e)},writeByte:function(n){r(e+1),t[e]=n,e++},writeBytes:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.length;r(e+o);for(var a=0;a<o;a++)t[e++]=n[a+i]},writeBytesView:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.byteLength;r(e+o),t.set(n.subarray(i,i+o),e),e+=o}};function r(r){var n=t.length;if(!(r<=n)){r=Math.max(r,n*(n<1048576?2:1.125)>>>0),0!=n&&(r=Math.max(r,256));var i=t;t=new Uint8Array(r),0<e&&t.set(i.subarray(0,e),0)}}}var u=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],c=function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:l(512),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new Uint8Array(256),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:new Int32Array(5003),s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:new Int32Array(5003);return function(e){var t=a.length;e=Math.max(2,e);o.fill(0),s.fill(0),a.fill(-1);for(var n=0,l=0,c=e+1,d=c,f=!1,h=d,p=(1<<h)-1,m=1<<c-1,g=1+m,y=2+m,v=0,b=r[0],_=0,w=t;w<65536;w*=2)++_;_=8-_,i.writeByte(e),R(m);for(var E=r.length,x=1;x<E;x++)e:{var S=r[x],T=(S<<12)+b,A=S<<_^b;if(a[A]===T)b=s[A];else{for(var M=0===A?1:t-A;0<=a[A];)if((A-=M)<0&&(A+=t),a[A]===T){b=s[A];break e}R(b),b=S,y<4096?(s[A]=y++,a[A]=T):(a.fill(-1),y=2+m,f=!0,R(m))}}return R(b),R(g),i.writeByte(0),i.bytesView();function R(e){for(n&=u[l],0<l?n|=e<<l:n=e,l+=h;8<=l;)o[v++]=255&n,254<=v&&(i.writeByte(v),i.writeBytesView(o,0,v),v=0),n>>=8,l-=8;if((y>p||f)&&(f?(p=(1<<(h=d))-1,f=!1):(++h,p=12===h?1<<h:(1<<h)-1)),e==g){for(;0<l;)o[v++]=255&n,254<=v&&(i.writeByte(v),i.writeBytesView(o,0,v),v=0),n>>=8,l-=8;0<v&&(i.writeByte(v),i.writeBytesView(o,0,v),v=0)}}}(n)};function d(e,t,r){return e<<8&63488|t<<2&992|r>>3}function f(e,t,r,n){return e>>4|240&t|(240&r)<<4|(240&n)<<8}function h(e,t,r){return e>>4<<8|240&t|r>>4}function p(e,t,r){return e<t?t:r<e?r:e}function m(e){return e*e}function g(e,t,r){for(var n=0,i=1e100,o=e[t],a=o.cnt,s=o.ac,l=o.rc,u=o.gc,c=o.bc,d=o.fw;0!=d;d=e[d].fw){var f,h,p=e[d];i<=(h=a*(h=p.cnt)/(a+h))||(f=0,r&&i<=(f+=h*m(p.ac-s))||i<=(f+=h*m(p.rc-l))||i<=(f+=h*m(p.gc-u))||i<=(f+=h*m(p.bc-c))||(i=f,n=d))}o.err=i,o.nn=n}function y(e,t){for(var r=0,n=0;n<e.length;n++){var i=e[n]-t[n];r+=i*i}return r}function v(e,t){return 1<t?Math.round(e/t)*t:e}function b(e){return e*e}function _(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y,n=1/0,i=-1,o=0;o<e.length;o++){var a=r(t,e[o]);a<n&&(n=a,i=o)}return i}function w(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y,n=1/0,i=-1,o=0;o<e.length;o++){var a=r(t,e[o]);a<n&&(n=a,i=o)}return[i,n]}function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.initialCapacity,r=void 0===t?4096:t,n=e.auto,i=void 0===n||n,o=l(r),a=new Uint8Array(256),u=new Int32Array(5003),d=new Int32Array(5003),f=!1;return{reset:function(){o.reset(),f=!1},finish:function(){o.writeByte(s.trailer)},bytes:function(){return o.bytes()},bytesView:function(){return o.bytesView()},get buffer(){return o.buffer},get stream(){return o},writeHeader:h,writeFrame:function(e,t,r){return function(n,s,l){var p=n,m=p.transparent,g=void 0!==m&&m,y=p.transparentIndex,v=void 0===y?0:y,b=p.delay,_=void 0===b?0:b,w=p.palette,E=void 0===w?null:w,M=p.repeat,R=void 0===M?0:M,C=p.colorDepth,I=void 0===C?8:C,k=p.dispose,P=void 0===k?-1:k,O=!1;if(i?f||(O=!0,h(),f=!0):O=Boolean(n.first),t=Math.max(0,Math.floor(t)),r=Math.max(0,Math.floor(r)),O){if(!E)throw new Error("First frame must include a { palette } option");n=o;var j=t,N=r;D=128|(D=void 0===I?8:I)-1<<4|(F=A((F=E).length)-1),S(n,j),S(n,N),n.writeBytes([D,0,0]),x(o,E),0<=R&&(j=R,(F=o).writeByte(33),F.writeByte(255),F.writeByte(11),T(F,"NETSCAPE2.0"),F.writeByte(3),F.writeByte(1),S(F,j),F.writeByte(0))}var L,D=P,F=(R=N=Math.round(_/10),j=g,v);(n=o).writeByte(33),n.writeByte(249),n.writeByte(4),F<0&&(F=0,j=!1),j=j?(L=1,2):L=0,0<=D&&(j=7&D),j<<=2,n.writeByte(0|j|L),S(n,R),n.writeByte(F||0),n.writeByte(0),_=Boolean(E)&&!O;g=t,v=r,L=_?E:null,(P=o).writeByte(44),S(P,0),S(P,0),S(P,g),S(P,v),L?(g=A(L.length)-1,P.writeByte(128|g)):P.writeByte(0),_&&x(o,E),c(v=(s=[o,e,t,r,I,a,u,d])[2],g=s[3],n=s[1],P=void 0===(l=s[4])?8:l,R=s[0],_=s[5],E=s[6],e=s[7])}(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}};function h(){T(o,"GIF89a")}}function x(e,t){for(var r=1<<A(t.length),n=0;n<r;n++){var i=[0,0,0];n<t.length&&(i=t[n]),e.writeByte(i[0]),e.writeByte(i[1]),e.writeByte(i[2])}}function S(e,t){e.writeByte(255&t),e.writeByte(t>>8&255)}function T(e,t){for(var r=0;r<t.length;r++)e.writeByte(t.charCodeAt(r))}function A(e){return Math.max(Math.ceil(Math.log2(e)),1)}var M=E},{}],244:[function(e,t,r){r.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,l=(1<<s)-1,u=l>>1,c=-7,d=r?i-1:0,f=r?-1:1;i=e[t+d];for(d+=f,o=i&(1<<-c)-1,i>>=-c,c+=s;0<c;o=256*o+e[t+d],d+=f,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=n;0<c;a=256*a+e[t+d],d+=f,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(i?-1:1);a+=Math.pow(2,n),o-=u}return(i?-1:1)*a*Math.pow(2,o-n)},r.write=function(e,t,r,n,i,o){var a,s,l=8*o-i-1,u=(1<<l)-1,c=u>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:o-1,h=n?1:-1;o=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(n=Math.pow(2,-a))<1&&(a--,n*=2),2<=(t+=1<=a+c?d/n:d*Math.pow(2,1-c))*n&&(a++,n/=2),u<=a+c?(s=0,a=u):1<=a+c?(s=(t*n-1)*Math.pow(2,i),a+=c):(s=t*Math.pow(2,c-1)*Math.pow(2,i),a=0));8<=i;e[r+f]=255&s,f+=h,s/=256,i-=8);for(a=a<<i|s,l+=i;0<l;e[r+f]=255&a,f+=h,a/=256,l-=8);e[r+f-h]|=128*o}},{}],245:[function(e,t,r){"use strict";var n;function i(e,t){return e.b===t.b&&e.a===t.a}function o(e,t){return e.b<t.b||e.b===t.b&&e.a<=t.a}function a(e,t,r){var n=t.b-e.b,i=r.b-t.b;return 0<n+i?n<i?t.a-e.a+n/(n+i)*(e.a-r.a):t.a-r.a+i/(n+i)*(r.a-e.a):0}function s(e,t,r){var n=t.b-e.b,i=r.b-t.b;return 0<n+i?(t.a-r.a)*n+(t.a-e.a)*i:0}function l(e,t){return e.a<t.a||e.a===t.a&&e.b<=t.b}function u(e,t,r){var n=t.a-e.a,i=r.a-t.a;return 0<n+i?n<i?t.b-e.b+n/(n+i)*(e.b-r.b):t.b-r.b+i/(n+i)*(r.b-e.b):0}function c(e,t,r){var n=t.a-e.a,i=r.a-t.a;return 0<n+i?(t.b-r.b)*n+(t.b-e.b)*i:0}function d(e,t,r,n){return(e=e<0?0:e)<=(r=r<0?0:r)?0===r?(t+n)/2:t+e/(e+r)*(n-t):n+r/(e+r)*(t-n)}function f(e){var t=y(e.b);return b(t,e.c),b(t.b,e.c),_(t,e.a),t}function h(e,t){var r=!1,n=!1;e!==t&&(t.a!==e.a&&(n=!0,E(t.a,e.a)),t.d!==e.d&&(r=!0,x(t.d,e.d)),v(t,e),n||(b(t,e.a),e.a.c=e),r||(_(t,e.d),e.d.a=e))}function p(e){var t=e.b,r=!1;e.d!==e.b.d&&(r=!0,x(e.d,e.b.d)),e.c===e?E(e.a,null):(e.b.d.a=e.b.e,e.a.c=e.c,v(e,e.b.e),r||_(e,e.d)),t.c===t?(E(t.a,null),x(t.d,null)):(e.d.a=t.b.e,t.a.c=t.c,v(t,t.b.e)),w(e)}function m(e){var t=y(e),r=t.b;return v(t,e.e),t.a=e.b.a,b(r,t.a),t.d=r.d=e.d,t=t.b,v(e.b,e.b.b.e),v(e.b,t),e.b.a=t.a,t.b.a.c=t.b,t.b.d=e.b.d,t.f=e.f,t.b.f=e.b.f,t}function g(e,t){var r=!1,n=y(e),i=n.b;return t.d!==e.d&&(r=!0,x(t.d,e.d)),v(n,e.e),v(i,t),n.a=e.b.a,i.a=t.a,n.d=i.d=e.d,e.d.a=i,r||_(n,e.d),n}function y(e){var t=new X,r=new X,n=e.b.h;return(((r.h=n).b.h=t).h=e).b.h=r,t.b=r,((t.c=t).e=r).b=t,(r.c=r).e=t}function v(e,t){var r=e.c,n=t.c;r.b.e=t,(n.b.e=e).c=n,t.c=r}function b(e,t){var r=t.f,n=new Q(t,r);for(r.e=n,r=(t.f=n).c=e;r.a=n,(r=r.c)!==e;);}function _(e,t){var r=t.d,n=new Y(t,r);for(r.b=n,(t.d=n).a=e,n.c=t.c,r=e;r.d=n,(r=r.e)!==e;);}function w(e){var t=e.h;e=e.b.h,(t.b.h=e).b.h=t}function E(e,t){for(var r=e.c,n=r;n.a=t,(n=n.c)!==r;);r=e.f,((n=e.e).f=r).e=n}function x(e,t){for(var r=e.a,n=r;n.d=t,(n=n.e)!==r;);r=e.d,((n=e.b).d=r).b=n}function S(e){var t=0;return Math.abs(e[1])>Math.abs(e[0])&&(t=1),Math.abs(e[2])>Math.abs(e[t])?2:t}function T(e,t){e.f+=t.f,e.b.f+=t.b.f}function A(e,t,r){return e=e.a,t=t.a,r=r.a,t.b.a===e?r.b.a===e?o(t.a,r.a)?s(r.b.a,t.a,r.a)<=0:0<=s(t.b.a,r.a,t.a):s(r.b.a,e,r.a)<=0:r.b.a===e?0<=s(t.b.a,e,t.a):(t=a(t.b.a,e,t.a),(e=a(r.b.a,e,r.a))<=t)}function M(e){e.a.i=null;var t=e.e;t.a.c=t.c,t.c.a=t.a,e.e=null}function R(e,t){p(e.a),e.c=!1,(e.a=t).i=e}function C(e){for(var t=e.a.a;(e=ue(e)).a.a===t;);return e.c&&(R(e,t=g(le(e).a.b,e.a.e)),e=ue(e)),e}function I(e,t,r){var n=new se;return n.a=r,n.e=V(e.f,t.e,n),r.i=n}function k(e,t){switch(e.s){case 100130:return 0!=(1&t);case 100131:return 0!==t;case 100132:return 0<t;case 100133:return t<0;case 100134:return 2<=t||t<=-2}return!1}function P(e){var t=e.a,r=t.d;r.c=e.d,r.a=t,M(e)}function O(e,t,r){for(t=(e=t).a;e!==r;){e.c=!1;var n=le(e),i=n.a;if(i.a!==t.a){if(!n.c){P(e);break}R(n,i=g(t.c.b,i.b))}t.c!==i&&(h(i.b.e,i),h(t,i)),P(e),t=n.a,e=n}return t}function j(e,t,r,n,i,o){for(var a=!0;I(e,t,r.b),(r=r.c)!==n;);for(null===i&&(i=le(t).a.b.c);(r=(n=le(t)).a.b).a===i.a;)r.c!==i&&(h(r.b.e,r),h(i.b.e,r)),n.f=t.f-r.f,n.d=k(e,n.f),t.b=!0,!a&&F(e,t)&&(T(r,i),M(t),p(i)),a=!1,t=n,i=r;t.b=!0,o&&B(e,t)}function N(e,t,r,n,i){var o=[t.g[0],t.g[1],t.g[2]];t.d=null,t.d=e.o&&e.o(o,r,n,e.c)||null,null===t.d&&(i?e.n||(q(e,100156),e.n=!0):t.d=r[0])}function L(e,t,r){var n=[null,null,null,null];n[0]=t.a.d,n[1]=r.a.d,N(e,t.a,n,[.5,.5,0,0],!1),h(t,r)}function D(e,t,r,n,i){var o=Math.abs(t.b-e.b)+Math.abs(t.a-e.a),a=Math.abs(r.b-e.b)+Math.abs(r.a-e.a),s=i+1;n[i]=.5*a/(o+a),n[s]=.5*o/(o+a),e.g[0]+=n[i]*t.g[0]+n[s]*r.g[0],e.g[1]+=n[i]*t.g[1]+n[s]*r.g[1],e.g[2]+=n[i]*t.g[2]+n[s]*r.g[2]}function F(e,t){var r=le(t),n=t.a,a=r.a;if(o(n.a,a.a)){if(0<s(a.b.a,n.a,a.a))return;if(i(n.a,a.a)){if(n.a!==a.a){r=e.e;var l=n.a.h;if(0<=l){var u=(r=r.b).d,c=r.e,d=r.c,f=d[l];u[f]=u[r.a],(d[u[f]]=f)<=--r.a&&(f<=1||o(c[u[f>>1]],c[u[f]])?oe:ae)(r,f),c[l]=null,d[l]=r.b,r.b=l}else for(r.c[-(l+1)]=null;0<r.a&&null===r.c[r.d[r.a-1]];)--r.a;L(e,a.b.e,n)}}else m(a.b),h(n,a.b.e),t.b=r.b=!0}else{if(s(n.b.a,a.a,n.a)<0)return;ue(t).b=t.b=!0,m(n.b),h(a.b.e,n)}return 1}function U(e,t){var r=le(t),n=t.a,f=r.a,p=n.a,g=f.a,y=n.b.a,v=f.b.a,b=new Q;if(s(y,e.a,p),s(v,e.a,g),!(p===g||Math.min(p.a,y.a)>Math.max(g.a,v.a))){if(o(p,g)){if(0<s(v,p,g))return}else if(s(y,g,p)<0)return;var _,w,E=y,x=p,S=v,T=g;if(o(E,x)||(_=E,E=x,x=_),o(S,T)||(_=S,S=T,T=_),o(E,S)||(_=E,E=S,S=_,_=x,x=T,T=_),o(S,x)?o(x,T)?((_=a(E,S,x))+(w=a(S,x,T))<0&&(_=-_,w=-w),b.b=d(_,S.b,w,x.b)):((_=s(E,S,x))+(w=-s(E,T,x))<0&&(_=-_,w=-w),b.b=d(_,S.b,w,T.b)):b.b=(S.b+x.b)/2,l(E,x)||(_=E,E=x,x=_),l(S,T)||(_=S,S=T,T=_),l(E,S)||(_=E,E=S,S=_,_=x,x=T,T=_),l(S,x)?l(x,T)?((_=u(E,S,x))+(w=u(S,x,T))<0&&(_=-_,w=-w),b.a=d(_,S.a,w,x.a)):((_=c(E,S,x))+(w=-c(E,T,x))<0&&(_=-_,w=-w),b.a=d(_,S.a,w,T.a)):b.a=(S.a+x.a)/2,o(b,e.a)&&(b.b=e.a.b,b.a=e.a.a),E=o(p,g)?p:g,o(E,b)&&(b.b=E.b,b.a=E.a),i(b,p)||i(b,g))return F(e,t),0;if(!i(y,e.a)&&0<=s(y,e.a,b)||!i(v,e.a)&&s(v,e.a,b)<=0){if(v===e.a)m(n.b),h(f.b,n),n=le(t=C(t)).a,O(e,le(t),r),j(e,t,n.b.e,n,n,!0);else{if(y!==e.a)return 0<=s(y,e.a,b)&&(ue(t).b=t.b=!0,m(n.b),n.a.b=e.a.b,n.a.a=e.a.a),void(s(v,e.a,b)<=0&&(t.b=r.b=!0,m(f.b),f.a.b=e.a.b,f.a.a=e.a.a));for(m(f.b),h(n.e,f.b.e),g=(p=r=t).a.b.a;(p=ue(p)).a.b.a===g;);p=le(t=p).a.b.c,r.a=f.b.e,j(e,t,(f=O(e,r,null)).c,n.b.c,p,!0)}return 1}m(n.b),m(f.b),h(f.b.e,n),n.a.b=b.b,n.a.a=b.a,n.a.h=J(e.e,n.a),n=n.a,f=[0,0,0,0],b=[p.d,y.d,g.d,v.d],n.g[0]=n.g[1]=n.g[2]=0,D(n,p,y,f,0),D(n,g,v,f,2),N(e,n,b,f,!0),ue(t).b=t.b=r.b=!0}}function B(e,t){for(var r=le(t);;){for(;r.b;)r=le(t=r);if(!t.b&&(null===(t=ue(r=t))||!t.b))break;t.b=!1;var n=t.a,i=r.a;if(a=n.b.a!==i.b.a)e:{var a,l=le(a=t),u=a.a,c=l.a,d=void 0;if(o(u.b.a,c.b.a)){if(s(u.b.a,c.b.a,u.a)<0){a=!1;break e}ue(a).b=a.b=!0,d=m(u),h(c.b,d),d.d.c=a.d}else{if(0<s(c.b.a,u.b.a,c.a)){a=!1;break e}a.b=l.b=!0,d=m(c),h(u.e,c.b),d.b.d.c=a.d}a=!0}if(a&&(r.c?(M(r),p(i),i=(r=le(t)).a):t.c&&(M(t),p(n),n=(t=ue(r)).a)),n.a!==i.a)if(n.b.a===i.b.a||t.c||r.c||n.b.a!==e.a&&i.b.a!==e.a)F(e,t);else if(U(e,t))break;n.a===i.a&&n.b.a===i.b.a&&(T(i,n),M(t),p(n),t=ue(r))}}function G(e,t){var r=new se,n=f(e.b);n.a.b=4e150,n.a.a=t,n.b.a.b=-4e150,n.b.a.a=t,e.a=n.b.a,r.a=n,r.f=0,r.d=!1,r.c=!1,r.h=!0,r.b=!1,n=V(n=e.f,n.a,r),r.e=n}function z(e){this.a=new H,this.b=e,this.c=A}function V(e,t,r){for(;null!==(t=t.c).b&&!e.c(e.b,t.b,r););return e=new H(r,t.a,t),t.a.c=e,t.a=e}function H(e,t,r){this.b=e||null,this.a=t||this,this.c=r||this}function W(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function Z(e,t){if(e.d!==t)for(;e.d!==t;)if(e.d<t)switch(e.d){case 0:q(e,100151),e.u(null);break;case 1:q(e,100152),e.t()}else switch(e.d){case 2:q(e,100154),e.v();break;case 1:q(e,100153),e.w()}}function q(e,t){e.p&&e.p(t,e.c)}function Y(e,t){this.b=e||this,this.d=t||this,this.a=null,this.c=!1}function X(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function K(){this.c=new Q,this.a=new Y,this.b=new X,this.d=new X,this.b.b=this.d,this.d.b=this.b}function Q(e,t){this.e=e||this,this.f=t||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function $(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new te}function J(e,t){var r,n,i;return e.e?(2*(n=++(r=e.b).a)>r.f&&(r.f*=2,r.c=re(r.c,r.f+1)),0===r.b?i=n:(i=r.b,r.b=r.c[r.b]),r.e[i]=t,r.c[i]=n,r.d[n]=i,r.h&&ae(r,n),i):(r=e.a++,e.c[r]=t,-(r+1))}function ee(e){if(0===e.a)return ie(e.b);var t=e.c[e.d[e.a-1]];if(0!==e.b.a&&o(ne(e.b),t))return ie(e.b);for(;--e.a,0<e.a&&null===e.c[e.d[e.a-1]];);return t}function te(){this.d=re([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function re(e,t){for(var r=Array(t),n=0;n<e.length;n++)r[n]=e[n];for(;n<t;n++)r[n]=0;return r}function ne(e){return e.e[e.d[1]]}function ie(e){var t=e.d,r=e.e,n=e.c,i=t[1],o=r[i];return 0<e.a&&(t[1]=t[e.a],n[t[1]]=1,r[i]=null,n[i]=e.b,e.b=i,0<--e.a&&oe(e,1)),o}function oe(e,t){for(var r=e.d,n=e.e,i=e.c,a=t,s=r[a];;){var l=a<<1,u=(l<e.a&&o(n[r[l+1]],n[r[l]])&&(l+=1),r[l]);if(l>e.a||o(n[s],n[u])){i[r[a]=s]=a;break}i[r[a]=u]=a,a=l}}function ae(e,t){for(var r=e.d,n=e.e,i=e.c,a=t,s=r[a];;){var l=a>>1,u=r[l];if(0==l||o(n[u],n[s])){i[r[a]=s]=a;break}i[r[a]=u]=a,a=l}}function se(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function le(e){return e.e.c.b}function ue(e){return e.e.a.b}(n=W.prototype).x=function(){Z(this,0)},n.B=function(e,t){switch(e){case 100142:return;case 100140:switch(t){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=t)}break;case 100141:return void(this.m=!!t);default:return void q(this,100900)}q(this,100901)},n.y=function(e){switch(e){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:q(this,100900)}return!1},n.A=function(e,t,r){this.j[0]=e,this.j[1]=t,this.j[2]=r},n.z=function(e,t){var r=t||null;switch(e){case 100100:case 100106:this.h=r;break;case 100104:case 100110:this.l=r;break;case 100101:case 100107:this.k=r;break;case 100102:case 100108:this.i=r;break;case 100103:case 100109:this.p=r;break;case 100105:case 100111:this.o=r;break;case 100112:this.r=r;break;default:q(this,100900)}},n.C=function(e,t){var r=!1,n=[0,0,0];Z(this,2);for(var i=0;i<3;++i){var o=e[i];o<-1e150&&(o=-1e150,r=!0),1e150<o&&(o=1e150,r=!0),n[i]=o}r&&q(this,100155),null===(r=this.q)?h(r=f(this.b),r.b):(m(r),r=r.e),r.a.d=t,r.a.g[0]=n[0],r.a.g[1]=n[1],r.a.g[2]=n[2],r.f=1,r.b.f=-1,this.q=r},n.u=function(e){Z(this,0),this.d=1,this.b=new K,this.c=e},n.t=function(){Z(this,1),this.d=2,this.q=null},n.v=function(){Z(this,2),this.d=1},n.w=function(){Z(this,1),this.d=0;var e,t,r=!1,n=[d=this.j[0],a=this.j[1],u=this.j[2]];if(0===d&&0===a&&0===u){for(var a=[-2e150,-2e150,-2e150],l=[2e150,2e150,2e150],u=[],c=[],d=(r=this.b.c).e;d!==r;d=d.e)for(var f=0;f<3;++f){var y=d.g[f];y<l[f]&&(l[f]=y,c[f]=d),y>a[f]&&(a[f]=y,u[f]=d)}if(a[1]-l[1]>a[d=0]-l[0]&&(d=1),l[d=a[2]-l[2]>a[d]-l[d]?2:d]>=a[d])n[0]=0,n[1]=0,n[2]=1;else{for(l=c[d],u=u[d],c=[a=0,0,0],l=[l.g[0]-u.g[0],l.g[1]-u.g[1],l.g[2]-u.g[2]],f=[0,0,0],d=r.e;d!==r;d=d.e)f[0]=d.g[0]-u.g[0],f[1]=d.g[1]-u.g[1],f[2]=d.g[2]-u.g[2],c[0]=l[1]*f[2]-l[2]*f[1],c[1]=l[2]*f[0]-l[0]*f[2],c[2]=l[0]*f[1]-l[1]*f[0],a<(y=c[0]*c[0]+c[1]*c[1]+c[2]*c[2])&&(a=y,n[0]=c[0],n[1]=c[1],n[2]=c[2]);a<=0&&(n[0]=n[1]=n[2]=0,n[S(l)]=1)}r=!0}for(c=S(n),d=this.b.c,a=(c+1)%3,u=(c+2)%3,c=0<n[c]?1:-1,n=d.e;n!==d;n=n.e)n.b=n.g[a],n.a=c*n.g[u];if(r){for(n=0,d=(r=this.b.a).b;d!==r;d=d.b)if(!((a=d.a).f<=0))for(;n+=(a.a.b-a.b.a.b)*(a.a.a+a.b.a.a),(a=a.e)!==d.a;);if(n<0)for(r=(n=this.b.c).e;r!==n;r=r.e)r.a=-r.a}for(this.n=!1,d=(n=this.b.b).h;d!==n;d=r)r=d.h,a=d.e,i(d.a,d.b.a)&&d.e.e!==d&&(L(this,a,d),p(d),a=(d=a).e),a.e===d&&(a!==d&&(a!==r&&a!==r.b||(r=r.h),p(a)),d!==r&&d!==r.b||(r=r.h),p(d));for(this.e=n=new $,d=(r=this.b.c).e;d!==r;d=d.e)d.h=J(n,d);var b=n;b.d=[];for(var _=0;_<b.a;_++)b.d[_]=_;b.d.sort(function(e){return function(t,r){return o(e[t],e[r])?1:-1}}(b.c)),b.e=!0;for(var x=b.b,A=x.a;1<=A;--A)oe(x,A);for(x.h=!0,this.f=new z(this),G(this,-4e150),G(this,4e150);null!==(n=ee(this.e));){for(;;){e:if(0===(d=this.e).a)r=ne(d.b);else if(r=d.c[d.d[d.a-1]],0!==d.b.a&&o(d=ne(d.b),r)){r=d;break e}if(null===r||!i(r,n))break;r=ee(this.e),L(this,n.c,r.c)}!function e(t,r){for(var n,a=(t.a=r).c;null===a.i;)if((a=a.c)===r.c){a=t;var l=r;(y=new se).a=l.c.b;for(var u=(c=a.f).a;null!==(u=u.a).b&&!c.c(c.b,y,u.b););var c,d,f=le(c=u.b),y=c.a;u=f.a;return void(0===s(y.b.a,l,y.a)?i((y=c.a).a,l)||i(y.b.a,l)||(m(y.b),c.c&&(p(y.c),c.c=!1),h(l.c,y),e(a,l)):(d=o(u.b.a,y.b.a)?c:f,f=void 0,c.d||d.c?(f=d===c?g(l.c.b,y.e):g(u.b.c.b,l.c).b,d.c?R(d,f):((c=I(y=a,c,f)).f=ue(c).f+c.a.f,c.d=k(y,c.f)),e(a,l)):j(a,c,l.c,l.c,null,!0)))}c=(y=le(a=C(a.i))).a,(y=O(t,y,null)).c===c?(y=(c=y).c,u=le(a),f=a.a,d=u.a,n=!1,f.b.a!==d.b.a&&U(t,a),i(f.a,t.a)&&(h(y.b.e,f),y=le(a=C(a)).a,O(t,le(a),u),n=!0),i(d.a,t.a)&&(h(c,d.b.e),c=O(t,u,null),n=!0),n?j(t,a,c.c,y,y,!0):(l=o(d.a,f.a)?d.b.e:f,j(t,a,l=g(c.c.b,l),l.c,l.c,!1),l.b.i.c=!0,B(t,a))):j(t,a,y.c,c,c,!0)}(this,n)}for(this.a=this.f.a.a.b.a.a,n=0;null!==(r=this.f.a.a.b);)r.h||++n,M(r);for(this.f=null,(n=this.e).b=null,n.d=null,this.e=n.c=null,d=(n=this.b).a.b;d!==n.a;d=r)r=d.b,(d=d.a).e.e===d&&(T(d.c,d),p(d));if(!this.n){if(n=this.b,this.m)for(d=n.b.h;d!==n.b;d=r)r=d.h,d.b.d.c!==d.d.c?d.f=d.d.c?1:-1:p(d);else for(d=n.a.b;d!==n.a;d=r)if(r=d.b,d.c){for(d=d.a;o(d.b.a,d.a);d=d.c.b);for(;o(d.a,d.b.a);d=d.e);for(a=d.c.b,u=void 0;d.e!==a;)if(o(d.b.a,a.a)){for(;a.e!==d&&(o((t=a.e).b.a,t.a)||s(a.a,a.b.a,a.e.b.a)<=0);)a=(u=g(a.e,a)).b;a=a.c.b}else{for(;a.e!==d&&(o((e=d.c.b).a,e.b.a)||0<=s(d.b.a,d.a,d.c.b.a));)d=(u=g(d,d.c.b)).b;d=d.e}for(;a.e.e!==d;)a=(u=g(a.e,a)).b}if(this.h||this.i||this.k||this.l)if(this.m){for(r=(n=this.b).a.b;r!==n.a;r=r.b)if(r.c){for(this.h&&this.h(2,this.c),d=r.a;this.k&&this.k(d.a.d,this.c),(d=d.e)!==r.a;);this.i&&this.i(this.c)}}else{for(n=this.b,r=!!this.l,d=!1,a=-1,u=n.a.d;u!==n.a;u=u.d)if(u.c)for(d||(this.h&&this.h(4,this.c),d=!0),c=u.a;r&&(a!==(l=c.b.d.c?0:1)&&(a=l,this.l&&this.l(!!a,this.c))),this.k&&this.k(c.a.d,this.c),(c=c.e)!==u.a;);d&&this.i&&this.i(this.c)}if(this.r){for(d=(n=this.b).a.b;d!==n.a;d=r)if(r=d.b,!d.c){for(u=(a=d.a).e,c=void 0;u=(c=u).e,(c.d=null)===c.b.d&&(c.c===c?E(c.a,null):(c.a.c=c.c,v(c,c.b.e)),(l=c.b).c===l?E(l.a,null):(l.a.c=l.c,v(l,l.b.e)),w(c)),c!==a;);a=d.d,((d=d.b).d=a).b=d}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:W,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},W.prototype.gluDeleteTess=W.prototype.x,W.prototype.gluTessProperty=W.prototype.B,W.prototype.gluGetTessProperty=W.prototype.y,W.prototype.gluTessNormal=W.prototype.A,W.prototype.gluTessCallback=W.prototype.z,W.prototype.gluTessVertex=W.prototype.C,W.prototype.gluTessBeginPolygon=W.prototype.u,W.prototype.gluTessBeginContour=W.prototype.t,W.prototype.gluTessEndContour=W.prototype.v,W.prototype.gluTessEndPolygon=W.prototype.w,void 0!==t&&(t.exports=this.libtess)},{}],246:[function(e,t,r){"use strict";function n(e,t,r,n){for(var i=e[t++],o=1<<i,a=1+o,s=1+a,l=i+1,u=(1<<l)-1,c=0,d=0,f=0,h=e[t++],p=new Int32Array(4096),m=null;;){for(;c<16&&0!==h;)d|=e[t++]<<c,c+=8,1===h?h=e[t++]:--h;if(c<l)break;var g=d&u;if(d>>=l,c-=l,g==o)s=1+a,u=(1<<(l=i+1))-1,m=null;else{if(g==a)break;for(var y=g<s?g:m,v=0,b=y;o<b;)b=p[b]>>8,++v;var _=b;if(n<f+v+(y!==g?1:0))return void console.log("Warning, gif stream longer than expected.");r[f++]=_;var w=f+=v;for(y!==g&&(r[f++]=_),b=y;v--;)b=p[b],r[--w]=255&b,b>>=8;null!==m&&s<4096&&(p[s++]=m<<8|_,u+1<=s&&l<12&&(++l,u=u<<1|1)),m=g}}f!==n&&console.log("Warning, gif stream shorter than expected.")}try{r.GifWriter=function(e,t,r,n){var i=0,o=void 0===(n=void 0===n?{}:n).loop?null:n.loop,a=void 0===n.palette?null:n.palette;if(t<=0||r<=0||65535<t||65535<r)throw new Error("Width/Height invalid.");function s(e){if((e=e.length)<2||256<e||e&e-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return e}e[i++]=71,e[i++]=73,e[i++]=70,e[i++]=56,e[i++]=57,e[i++]=97;var l=0,u=0;if(null!==a){for(var c=s(a);c>>=1;)++l;if(c=1<<l,--l,void 0!==n.background){if(c<=(u=n.background))throw new Error("Background index out of range.");if(0===u)throw new Error("Background index explicitly passed as 0.")}}if(e[i++]=255&t,e[i++]=t>>8&255,e[i++]=255&r,e[i++]=r>>8&255,e[i++]=(null!==a?128:0)|l,e[i++]=u,e[i++]=0,null!==a)for(var d=0,f=a.length;d<f;++d){var h=a[d];e[i++]=h>>16&255,e[i++]=h>>8&255,e[i++]=255&h}if(null!==o){if(o<0||65535<o)throw new Error("Loop count invalid.");e[i++]=33,e[i++]=255,e[i++]=11,e[i++]=78,e[i++]=69,e[i++]=84,e[i++]=83,e[i++]=67,e[i++]=65,e[i++]=80,e[i++]=69,e[i++]=50,e[i++]=46,e[i++]=48,e[i++]=3,e[i++]=1,e[i++]=255&o,e[i++]=o>>8&255,e[i++]=0}var p=!1;this.addFrame=function(t,r,n,o,l,u){if(!0===p&&(--i,p=!1),u=void 0===u?{}:u,t<0||r<0||65535<t||65535<r)throw new Error("x/y invalid.");if(n<=0||o<=0||65535<n||65535<o)throw new Error("Width/Height invalid.");if(l.length<n*o)throw new Error("Not enough pixels for the frame size.");var c=!0,d=u.palette;if(null==d&&(c=!1,d=a),null==d)throw new Error("Must supply either a local or global palette.");for(var f=s(d),h=0;f>>=1;)++h;f=1<<h;var m=void 0===u.delay?0:u.delay,g=void 0===u.disposal?0:u.disposal;if(g<0||3<g)throw new Error("Disposal out of range.");var y=!1,v=0;if(void 0!==u.transparent&&null!==u.transparent&&(y=!0,(v=u.transparent)<0||f<=v))throw new Error("Transparent color index.");if(0===g&&!y&&0===m||(e[i++]=33,e[i++]=249,e[i++]=4,e[i++]=g<<2|(!0===y?1:0),e[i++]=255&m,e[i++]=m>>8&255,e[i++]=v,e[i++]=0),e[i++]=44,e[i++]=255&t,e[i++]=t>>8&255,e[i++]=255&r,e[i++]=r>>8&255,e[i++]=255&n,e[i++]=n>>8&255,e[i++]=255&o,e[i++]=o>>8&255,e[i++]=!0===c?128|h-1:0,!0===c)for(var b=0,_=d.length;b<_;++b){var w=d[b];e[i++]=w>>16&255,e[i++]=w>>8&255,e[i++]=255&w}return i=function(e,t,r,n){e[t++]=r;var i=t++,o=1<<r,a=o-1,s=1+o,l=1+s,u=r+1,c=0,d=0;function f(r){for(;r<=c;)e[t++]=255&d,d>>=8,c-=8,t===i+256&&(e[i]=255,i=t++)}function h(e){d|=e<<c,c+=u,f(8)}var p=n[0]&a,m={};h(o);for(var g=1,y=n.length;g<y;++g){var v=n[g]&a,b=p<<8|v,_=m[b];if(void 0===_){for(d|=p<<c,c+=u;8<=c;)e[t++]=255&d,d>>=8,c-=8,t===i+256&&(e[i]=255,i=t++);4096===l?(h(o),l=1+s,u=r+1,m={}):(1<<u<=l&&++u,m[b]=l++),p=v}else p=_}return h(p),h(s),f(1),i+1===t?e[i]=0:(e[i]=t-i-1,e[t++]=0),t}(e,i,h<2?2:h,l)},this.end=function(){return!1===p&&(e[i++]=59,p=!0),i},this.getOutputBuffer=function(){return e},this.setOutputBuffer=function(t){e=t},this.getOutputBufferPosition=function(){return i},this.setOutputBufferPosition=function(e){i=e}},r.GifReader=function(e){var t=0;if(71!==e[t++]||73!==e[t++]||70!==e[t++]||56!==e[t++]||56!=(e[t++]+1&253)||97!==e[t++])throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,i=e[t++]|e[t++]<<8,o=e[t++],a=1<<1+(7&o),s=(e[t++],e[t++],null),l=null,u=(o>>7&&(s=t,t+=3*(l=a)),!0),c=[],d=0,f=null,h=0,p=null;for(this.width=r,this.height=i;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(11!==e[t]||78==e[t+1]&&69==e[t+2]&&84==e[t+3]&&83==e[t+4]&&67==e[t+5]&&65==e[t+6]&&80==e[t+7]&&69==e[t+8]&&50==e[t+9]&&46==e[t+10]&&48==e[t+11]&&3==e[t+12]&&1==e[t+13]&&0==e[t+16])t+=14,p=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!(0<=(g=e[t++])))throw Error("Invalid block size");if(0===g)break;t+=g}break;case 249:if(4!==e[t++]||0!==e[t+4])throw new Error("Invalid graphics extension block.");var m=e[t++];d=e[t++]|e[t++]<<8,f=e[t++];0==(1&m)&&(f=null),h=m>>2&7,t++;break;case 254:for(;;){if(!(0<=(g=e[t++])))throw Error("Invalid block size");if(0===g)break;t+=g}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var g,y=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,_=e[t++]|e[t++]<<8,w=(T=e[t++])>>6&1,E=s,x=l,S=!1,T=(T>>7&&(S=!0,E=t,t+=3*(x=1<<1+(7&T))),t);for(t++;;){if(!(0<=(g=e[t++])))throw Error("Invalid block size");if(0===g)break;t+=g}c.push({x:y,y:v,width:b,height:_,has_local_palette:S,palette_offset:E,palette_size:x,data_offset:T,data_length:t-T,transparent_index:f,interlaced:!!w,delay:d,disposal:h});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return p},this.frameInfo=function(e){if(e<0||e>=c.length)throw new Error("Frame index out of range.");return c[e]},this.decodeAndBlitFrameBGRA=function(t,i){for(var o=(t=this.frameInfo(t)).width*t.height,a=new Uint8Array(o),s=(n(e,t.data_offset,a,o),t.palette_offset),l=t.transparent_index,u=(null===l&&(l=256),t.width),c=r-u,d=u,f=4*(t.y*r+t.x),h=4*((t.y+t.height)*r+t.x),p=f,m=4*c,g=(!0===t.interlaced&&(m+=4*r*7),8),y=0,v=a.length;y<v;++y){var b,_,w=a[y];0===d&&(d=u,h<=(p+=m)&&(m=4*c+4*r*(g-1),p=f+(u+c)*(g<<1),g>>=1)),w===l?p+=4:(b=e[s+3*w],_=e[s+3*w+1],w=e[s+3*w+2],i[p++]=w,i[p++]=_,i[p++]=b,i[p++]=255),--d}},this.decodeAndBlitFrameRGBA=function(t,i){for(var o=(t=this.frameInfo(t)).width*t.height,a=new Uint8Array(o),s=(n(e,t.data_offset,a,o),t.palette_offset),l=t.transparent_index,u=(null===l&&(l=256),t.width),c=r-u,d=u,f=4*(t.y*r+t.x),h=4*((t.y+t.height)*r+t.x),p=f,m=4*c,g=(!0===t.interlaced&&(m+=4*r*7),8),y=0,v=a.length;y<v;++y){var b,_,w=a[y];0===d&&(d=u,h<=(p+=m)&&(m=4*c+4*r*(g-1),p=f+(u+c)*(g<<1),g>>=1)),w===l?p+=4:(b=e[s+3*w],_=e[s+3*w+1],w=e[s+3*w+2],i[p++]=b,i[p++]=_,i[p++]=w,i[p++]=255),--d}}}}catch(e){}},{}],247:[function(e,t,r){(function(n){var i;i=function(t){"use strict";function r(e){if(null==this)throw TypeError();var t,r=String(this),n=r.length;if(!((e=(e=e?Number(e):0)!=e?0:e)<0||n<=e))return 55296<=(t=r.charCodeAt(e))&&t<=56319&&e+1<n&&56320<=(n=r.charCodeAt(e+1))&&n<=57343?1024*(t-55296)+n-56320+65536:t}String.prototype.codePointAt||((i=function(){try{var e={},t=Object.defineProperty,r=t(e,e,e)&&t}catch(e){}return r}())?i(String.prototype,"codePointAt",{value:r,configurable:!0,writable:!0}):String.prototype.codePointAt=r);var i;function o(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function a(e,t){this.source=e,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=t,this.destLen=0,this.ltree=new o,this.dtree=new o}var s=new o,l=new o,u=new Uint8Array(30),c=new Uint16Array(30),d=new Uint8Array(30),f=new Uint16Array(30),h=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),p=new o,m=new Uint8Array(320);function g(e,t,r,n){for(var i,o=0;o<r;++o)e[o]=0;for(o=0;o<30-r;++o)e[o+r]=o/r|0;for(i=n,o=0;o<30;++o)t[o]=i,i+=1<<e[o]}var y=new Uint16Array(16);function v(e,t,r,n){for(var i,o=0;o<16;++o)e.table[o]=0;for(o=0;o<n;++o)e.table[t[r+o]]++;for(o=i=e.table[0]=0;o<16;++o)y[o]=i,i+=e.table[o];for(o=0;o<n;++o)t[r+o]&&(e.trans[y[t[r+o]]++]=o)}function b(e,t,r){if(!t)return r;for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var n=e.tag&65535>>>16-t;return e.tag>>>=t,e.bitcount-=t,n+r}function _(e,t){for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;for(var r=0,n=0,i=0,o=e.tag;n=2*n+(1&o),o>>>=1,r+=t.table[++i],0<=(n-=t.table[i]););return e.tag=o,e.bitcount-=i,t.trans[r+n]}function w(e,t,r){for(;;){if(256===(o=_(e,t)))return 0;if(o<256)e.dest[e.destLen++]=o;else for(var n,i=b(e,u[o-=257],c[o]),o=_(e,r),a=n=e.destLen-b(e,d[o],f[o]);a<n+i;++a)e.dest[e.destLen++]=e.dest[a]}}for(var E=s,x=l,S=0;S<7;++S)E.table[S]=0;for(E.table[7]=24,E.table[8]=152,E.table[9]=112,S=0;S<24;++S)E.trans[S]=256+S;for(S=0;S<144;++S)E.trans[24+S]=S;for(S=0;S<8;++S)E.trans[168+S]=280+S;for(S=0;S<112;++S)E.trans[176+S]=144+S;for(S=0;S<5;++S)x.table[S]=0;for(x.table[5]=32,S=0;S<32;++S)x.trans[S]=S;g(u,c,4,3),g(d,f,2,1),u[28]=0,c[28]=258;var T=function(e,t){var r,n,i,o=new a(e,t);do{switch(void 0,(n=o).bitcount--||(n.tag=n.source[n.sourceIndex++],n.bitcount=7),i=1&n.tag,n.tag>>>=1,n=i,b(o,2,0)){case 0:r=function(e){for(var t,r;8<e.bitcount;)e.sourceIndex--,e.bitcount-=8;if((t=256*e.source[e.sourceIndex+1]+e.source[e.sourceIndex])!==(65535&~(256*e.source[e.sourceIndex+3]+e.source[e.sourceIndex+2])))return-3;for(e.sourceIndex+=4,r=t;r;--r)e.dest[e.destLen++]=e.source[e.sourceIndex++];return e.bitcount=0,0}(o);break;case 1:r=w(o,s,l);break;case 2:A=T=S=M=u=x=void 0;for(var u,c=o,d=o.ltree,f=o.dtree,g=b(c,5,257),y=b(c,5,1),E=b(c,4,4),x=0;x<19;++x)m[x]=0;for(x=0;x<E;++x){var S=b(c,3,0);m[h[x]]=S}for(v(p,m,0,19),u=0;u<g+y;){var T=_(c,p);switch(T){case 16:for(var A=m[u-1],M=b(c,2,3);M;--M)m[u++]=A;break;case 17:for(M=b(c,3,3);M;--M)m[u++]=0;break;case 18:for(M=b(c,7,11);M;--M)m[u++]=0;break;default:m[u++]=T}}v(d,m,0,g),v(f,m,g,y),r=w(o,o.ltree,o.dtree);break;default:r=-3}if(0!==r)throw new Error("Data error")}while(!n);return o.destLen<o.dest.length?"function"==typeof o.dest.slice?o.dest.slice(0,o.destLen):o.dest.subarray(0,o.destLen):o.dest};function A(e,t,r,n,i){return Math.pow(1-i,3)*e+3*Math.pow(1-i,2)*i*t+3*(1-i)*Math.pow(i,2)*r+Math.pow(i,3)*n}function M(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function R(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function C(e){throw new Error(e)}function I(e,t){e||C(t)}M.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},M.prototype.addPoint=function(e,t){"number"==typeof e&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=e,this.x2=e),e<this.x1&&(this.x1=e),e>this.x2&&(this.x2=e)),"number"==typeof t&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=t,this.y2=t),t<this.y1&&(this.y1=t),t>this.y2&&(this.y2=t))},M.prototype.addX=function(e){this.addPoint(e,null)},M.prototype.addY=function(e){this.addPoint(null,e)},M.prototype.addBezier=function(e,t,r,n,i,o,a,s){var l=[e,t],u=[r,n],c=[i,o],d=[a,s];this.addPoint(e,t),this.addPoint(a,s);for(var f=0;f<=1;f++){var h,p=6*l[f]-12*u[f]+6*c[f],m=-3*l[f]+9*u[f]-9*c[f]+3*d[f],g=3*u[f]-3*l[f];0==m?0==p||0<(h=-g/p)&&h<1&&(0===f&&this.addX(A(l[f],u[f],c[f],d[f],h)),1===f&&this.addY(A(l[f],u[f],c[f],d[f],h))):(h=Math.pow(p,2)-4*g*m)<0||(0<(g=(-p+Math.sqrt(h))/(2*m))&&g<1&&(0===f&&this.addX(A(l[f],u[f],c[f],d[f],g)),1===f&&this.addY(A(l[f],u[f],c[f],d[f],g))),0<(g=(-p-Math.sqrt(h))/(2*m))&&g<1&&(0===f&&this.addX(A(l[f],u[f],c[f],d[f],g)),1===f&&this.addY(A(l[f],u[f],c[f],d[f],g))))}},M.prototype.addQuad=function(e,t,r,n,i,o){r=e+2/3*(r-e),n=t+2/3*(n-t),this.addBezier(e,t,r,n,r+1/3*(i-e),n+1/3*(o-t),i,o)},R.prototype.moveTo=function(e,t){this.commands.push({type:"M",x:e,y:t})},R.prototype.lineTo=function(e,t){this.commands.push({type:"L",x:e,y:t})},R.prototype.curveTo=R.prototype.bezierCurveTo=function(e,t,r,n,i,o){this.commands.push({type:"C",x1:e,y1:t,x2:r,y2:n,x:i,y:o})},R.prototype.quadTo=R.prototype.quadraticCurveTo=function(e,t,r,n){this.commands.push({type:"Q",x1:e,y1:t,x:r,y:n})},R.prototype.close=R.prototype.closePath=function(){this.commands.push({type:"Z"})},R.prototype.extend=function(e){var t;if(e.commands)e=e.commands;else if(e instanceof M)return t=e,this.moveTo(t.x1,t.y1),this.lineTo(t.x2,t.y1),this.lineTo(t.x2,t.y2),this.lineTo(t.x1,t.y2),void this.close();Array.prototype.push.apply(this.commands,e)},R.prototype.getBoundingBox=function(){for(var e=new M,t=0,r=0,n=0,i=0,o=0;o<this.commands.length;o++){var a=this.commands[o];switch(a.type){case"M":e.addPoint(a.x,a.y),t=n=a.x,r=i=a.y;break;case"L":e.addPoint(a.x,a.y),n=a.x,i=a.y;break;case"Q":e.addQuad(n,i,a.x1,a.y1,a.x,a.y),n=a.x,i=a.y;break;case"C":e.addBezier(n,i,a.x1,a.y1,a.x2,a.y2,a.x,a.y),n=a.x,i=a.y;break;case"Z":n=t,i=r;break;default:throw new Error("Unexpected path command "+a.type)}}return e.isEmpty()&&e.addPoint(0,0),e},R.prototype.draw=function(e){e.beginPath();for(var t=0;t<this.commands.length;t+=1){var r=this.commands[t];"M"===r.type?e.moveTo(r.x,r.y):"L"===r.type?e.lineTo(r.x,r.y):"C"===r.type?e.bezierCurveTo(r.x1,r.y1,r.x2,r.y2,r.x,r.y):"Q"===r.type?e.quadraticCurveTo(r.x1,r.y1,r.x,r.y):"Z"===r.type&&e.closePath()}this.fill&&(e.fillStyle=this.fill,e.fill()),this.stroke&&(e.strokeStyle=this.stroke,e.lineWidth=this.strokeWidth,e.stroke())},R.prototype.toPathData=function(e){function t(){for(var t=arguments,r="",n=0;n<arguments.length;n+=1){var i=t[n];0<=i&&0<n&&(r+=" "),r+=Math.round(i)===i?""+Math.round(i):i.toFixed(e)}return r}e=void 0!==e?e:2;for(var r="",n=0;n<this.commands.length;n+=1){var i=this.commands[n];"M"===i.type?r+="M"+t(i.x,i.y):"L"===i.type?r+="L"+t(i.x,i.y):"C"===i.type?r+="C"+t(i.x1,i.y1,i.x2,i.y2,i.x,i.y):"Q"===i.type?r+="Q"+t(i.x1,i.y1,i.x,i.y):"Z"===i.type&&(r+="Z")}return r},R.prototype.toSVG=function(e){var t=(t='<path d="')+this.toPathData(e)+'"';return this.fill&&"black"!==this.fill&&(null===this.fill?t+=' fill="none"':t+=' fill="'+this.fill+'"'),this.stroke&&(t+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),t+"/>"},R.prototype.toDOMElement=function(e){e=this.toPathData(e);var t=document.createElementNS("http://www.w3.org/2000/svg","path");return t.setAttribute("d",e),t};var k={fail:C,argument:I,assert:I},P={},O={},j={};function N(e){return function(){return e}}O.BYTE=function(e){return k.argument(0<=e&&e<=255,"Byte value should be between 0 and 255."),[e]},j.BYTE=N(1),O.CHAR=function(e){return[e.charCodeAt(0)]},j.CHAR=N(1),O.CHARARRAY=function(e){for(var t=[],r=0;r<e.length;r+=1)t[r]=e.charCodeAt(r);return t},j.CHARARRAY=function(e){return e.length},O.USHORT=function(e){return[e>>8&255,255&e]},j.USHORT=N(2),O.SHORT=function(e){return[(e=32768<=e?-(65536-e):e)>>8&255,255&e]},j.SHORT=N(2),O.UINT24=function(e){return[e>>16&255,e>>8&255,255&e]},j.UINT24=N(3),O.ULONG=function(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]},j.ULONG=N(4),O.LONG=function(e){return[(e=2147483648<=e?-(4294967296-e):e)>>24&255,e>>16&255,e>>8&255,255&e]},j.LONG=N(4),O.FIXED=O.ULONG,j.FIXED=j.ULONG,O.FWORD=O.SHORT,j.FWORD=j.SHORT,O.UFWORD=O.USHORT,j.UFWORD=j.USHORT,O.LONGDATETIME=function(e){return[0,0,0,0,e>>24&255,e>>16&255,e>>8&255,255&e]},j.LONGDATETIME=N(8),O.TAG=function(e){return k.argument(4===e.length,"Tag should be exactly 4 ASCII characters."),[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]},j.TAG=N(4),O.Card8=O.BYTE,j.Card8=j.BYTE,O.Card16=O.USHORT,j.Card16=j.USHORT,O.OffSize=O.BYTE,j.OffSize=j.BYTE,O.SID=O.USHORT,j.SID=j.USHORT,O.NUMBER=function(e){return-107<=e&&e<=107?[e+139]:108<=e&&e<=1131?[247+((e-=108)>>8),255&e]:-1131<=e&&e<=-108?[251+((e=-e-108)>>8),255&e]:-32768<=e&&e<=32767?O.NUMBER16(e):O.NUMBER32(e)},j.NUMBER=function(e){return O.NUMBER(e).length},O.NUMBER16=function(e){return[28,e>>8&255,255&e]},j.NUMBER16=N(3),O.NUMBER32=function(e){return[29,e>>24&255,e>>16&255,e>>8&255,255&e]},j.NUMBER32=N(5),O.REAL=function(e){for(var t=e.toString(),r=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(t),n=(r&&(r=parseFloat("1e"+((r[2]?+r[2]:0)+r[1].length)),t=(Math.round(e*r)/r).toString()),""),i=0,o=t.length;i<o;i+=1){var a=t[i];n+="e"===a?"-"===t[++i]?"c":"b":"."===a?"a":"-"===a?"e":a}for(var s=[30],l=0,u=(n+=1&n.length?"f":"ff").length;l<u;l+=2)s.push(parseInt(n.substr(l,2),16));return s},j.REAL=function(e){return O.REAL(e).length},O.NAME=O.CHARARRAY,j.NAME=j.CHARARRAY,O.STRING=O.CHARARRAY,j.STRING=j.CHARARRAY,P.UTF8=function(e,t,r){for(var n=[],i=r,o=0;o<i;o++,t+=1)n[o]=e.getUint8(t);return String.fromCharCode.apply(null,n)},P.UTF16=function(e,t,r){for(var n=[],i=r/2,o=0;o<i;o++,t+=2)n[o]=e.getUint16(t);return String.fromCharCode.apply(null,n)},O.UTF16=function(e){for(var t=[],r=0;r<e.length;r+=1){var n=e.charCodeAt(r);t[t.length]=n>>8&255,t[t.length]=255&n}return t},j.UTF16=function(e){return 2*e.length};var L,D={"x-mac-croatian":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\u0160\u2122\xb4\xa8\u2260\u017d\xd8\u221e\xb1\u2264\u2265\u2206\xb5\u2202\u2211\u220f\u0161\u222b\xaa\xba\u03a9\u017e\xf8\xbf\xa1\xac\u221a\u0192\u2248\u0106\xab\u010c\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u0110\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\uf8ff\xa9\u2044\u20ac\u2039\u203a\xc6\xbb\u2013\xb7\u201a\u201e\u2030\xc2\u0107\xc1\u010d\xc8\xcd\xce\xcf\xcc\xd3\xd4\u0111\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u03c0\xcb\u02da\xb8\xca\xe6\u02c7","x-mac-cyrillic":"\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041a\u041b\u041c\u041d\u041e\u041f\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042a\u042b\u042c\u042d\u042e\u042f\u2020\xb0\u0490\xa3\xa7\u2022\xb6\u0406\xae\xa9\u2122\u0402\u0452\u2260\u0403\u0453\u221e\xb1\u2264\u2265\u0456\xb5\u0491\u0408\u0404\u0454\u0407\u0457\u0409\u0459\u040a\u045a\u0458\u0405\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\u040b\u045b\u040c\u045c\u0455\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u201e\u040e\u045e\u040f\u045f\u2116\u0401\u0451\u044f\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043a\u043b\u043c\u043d\u043e\u043f\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044a\u044b\u044c\u044d\u044e","x-mac-gaelic":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u1e02\xb1\u2264\u2265\u1e03\u010a\u010b\u1e0a\u1e0b\u1e1e\u1e1f\u0120\u0121\u1e40\xe6\xf8\u1e41\u1e56\u1e57\u027c\u0192\u017f\u1e60\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\u1e61\u1e9b\xff\u0178\u1e6a\u20ac\u2039\u203a\u0176\u0177\u1e6b\xb7\u1ef2\u1ef3\u204a\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\u2663\xd2\xda\xdb\xd9\u0131\xdd\xfd\u0174\u0175\u1e84\u1e85\u1e80\u1e81\u1e82\u1e83","x-mac-greek":"\xc4\xb9\xb2\xc9\xb3\xd6\xdc\u0385\xe0\xe2\xe4\u0384\xa8\xe7\xe9\xe8\xea\xeb\xa3\u2122\xee\xef\u2022\xbd\u2030\xf4\xf6\xa6\u20ac\xf9\xfb\xfc\u2020\u0393\u0394\u0398\u039b\u039e\u03a0\xdf\xae\xa9\u03a3\u03aa\xa7\u2260\xb0\xb7\u0391\xb1\u2264\u2265\xa5\u0392\u0395\u0396\u0397\u0399\u039a\u039c\u03a6\u03ab\u03a8\u03a9\u03ac\u039d\xac\u039f\u03a1\u2248\u03a4\xab\xbb\u2026\xa0\u03a5\u03a7\u0386\u0388\u0153\u2013\u2015\u201c\u201d\u2018\u2019\xf7\u0389\u038a\u038c\u038e\u03ad\u03ae\u03af\u03cc\u038f\u03cd\u03b1\u03b2\u03c8\u03b4\u03b5\u03c6\u03b3\u03b7\u03b9\u03be\u03ba\u03bb\u03bc\u03bd\u03bf\u03c0\u03ce\u03c1\u03c3\u03c4\u03b8\u03c9\u03c2\u03c7\u03c5\u03b6\u03ca\u03cb\u0390\u03b0\xad","x-mac-icelandic":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\xdd\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\xd0\xf0\xde\xfe\xfd\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-inuit":"\u1403\u1404\u1405\u1406\u140a\u140b\u1431\u1432\u1433\u1434\u1438\u1439\u1449\u144e\u144f\u1450\u1451\u1455\u1456\u1466\u146d\u146e\u146f\u1470\u1472\u1473\u1483\u148b\u148c\u148d\u148e\u1490\u1491\xb0\u14a1\u14a5\u14a6\u2022\xb6\u14a7\xae\xa9\u2122\u14a8\u14aa\u14ab\u14bb\u14c2\u14c3\u14c4\u14c5\u14c7\u14c8\u14d0\u14ef\u14f0\u14f1\u14f2\u14f4\u14f5\u1505\u14d5\u14d6\u14d7\u14d8\u14da\u14db\u14ea\u1528\u1529\u152a\u152b\u152d\u2026\xa0\u152e\u153e\u1555\u1556\u1557\u2013\u2014\u201c\u201d\u2018\u2019\u1558\u1559\u155a\u155d\u1546\u1547\u1548\u1549\u154b\u154c\u1550\u157f\u1580\u1581\u1582\u1583\u1584\u1585\u158f\u1590\u1591\u1592\u1593\u1594\u1595\u1671\u1672\u1673\u1674\u1675\u1676\u1596\u15a0\u15a1\u15a2\u15a3\u15a4\u15a5\u15a6\u157c\u0141\u0142","x-mac-ce":"\xc4\u0100\u0101\xc9\u0104\xd6\xdc\xe1\u0105\u010c\xe4\u010d\u0106\u0107\xe9\u0179\u017a\u010e\xed\u010f\u0112\u0113\u0116\xf3\u0117\xf4\xf6\xf5\xfa\u011a\u011b\xfc\u2020\xb0\u0118\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\u0119\xa8\u2260\u0123\u012e\u012f\u012a\u2264\u2265\u012b\u0136\u2202\u2211\u0142\u013b\u013c\u013d\u013e\u0139\u013a\u0145\u0146\u0143\xac\u221a\u0144\u0147\u2206\xab\xbb\u2026\xa0\u0148\u0150\xd5\u0151\u014c\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\u014d\u0154\u0155\u0158\u2039\u203a\u0159\u0156\u0157\u0160\u201a\u201e\u0161\u015a\u015b\xc1\u0164\u0165\xcd\u017d\u017e\u016a\xd3\xd4\u016b\u016e\xda\u016f\u0170\u0171\u0172\u0173\xdd\xfd\u0137\u017b\u0141\u017c\u0122\u02c7",macintosh:"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\u2039\u203a\ufb01\ufb02\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-romanian":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\u0102\u0218\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\u0103\u0219\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\u2039\u203a\u021a\u021b\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-turkish":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u011e\u011f\u0130\u0131\u015e\u015f\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\uf8a0\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7"},F=(P.MACSTRING=function(e,t,r,n){var i=D[n];if(void 0!==i){for(var o="",a=0;a<r;a++){var s=e.getUint8(t+a);o+=s<=127?String.fromCharCode(s):i[127&s]}return o}},"function"==typeof WeakMap&&new WeakMap);function U(e){return-128<=e&&e<=127}O.MACSTRING=function(e,t){var r=function(e){if(!L)for(var t in L={},D)L[t]=new String(t);var r=L[e];if(void 0!==r){if(F){var n=F.get(r);if(void 0!==n)return n}var i=D[e];if(void 0!==i){for(var o={},a=0;a<i.length;a++)o[i.charCodeAt(a)]=a+128;return F&&F.set(r,o),o}}}(t);if(void 0!==r){for(var n=[],i=0;i<e.length;i++){var o=e.charCodeAt(i);if(128<=o&&void 0===(o=r[o]))return;n[i]=o}return n}},j.MACSTRING=function(e,t){return void 0!==(e=O.MACSTRING(e,t))?e.length:0},O.VARDELTAS=function(e){for(var t=0,r=[];t<e.length;){var n=e[t];t=(0===n?function(e,t,r){for(var n=0,i=e.length;t<i&&n<64&&0===e[t];)++t,++n;return r.push(128|n-1),t}:-128<=n&&n<=127?function(e,t,r){for(var n=0,i=e.length,o=t;o<i&&n<64;){var a=e[o];if(!U(a))break;if(0===a&&o+1<i&&0===e[o+1])break;++o,++n}r.push(n-1);for(var s=t;s<o;++s)r.push(e[s]+256&255);return o}:function(e,t,r){for(var n=0,i=e.length,o=t;o<i&&n<64;){var a=e[o];if(0===a)break;if(U(a)&&o+1<i&&U(e[o+1]))break;++o,++n}r.push(64|n-1);for(var s=t;s<o;++s){var l=e[s];r.push(l+65536>>8&255,l+256&255)}return o})(e,t,r)}return r},O.INDEX=function(e){for(var t=1,r=[t],n=[],i=0;i<e.length;i+=1){var o=O.OBJECT(e[i]);Array.prototype.push.apply(n,o),t+=o.length,r.push(t)}if(0===n.length)return[0,0];for(var a=[],s=1+Math.floor(Math.log(t)/Math.log(2))/8|0,l=[void 0,O.BYTE,O.USHORT,O.UINT24,O.ULONG][s],u=0;u<r.length;u+=1){var c=l(r[u]);Array.prototype.push.apply(a,c)}return Array.prototype.concat(O.Card16(e.length),O.OffSize(s),a,n)},j.INDEX=function(e){return O.INDEX(e).length},O.DICT=function(e){for(var t=[],r=Object.keys(e),n=r.length,i=0;i<n;i+=1){var o=parseInt(r[i],0),a=e[o];t=(t=t.concat(O.OPERAND(a.value,a.type))).concat(O.OPERATOR(o))}return t},j.DICT=function(e){return O.DICT(e).length},O.OPERATOR=function(e){return e<1200?[e]:[12,e-1200]},O.OPERAND=function(e,t){var r=[];if(Array.isArray(t))for(var n=0;n<t.length;n+=1)k.argument(e.length===t.length,"Not enough arguments given for type"+t),r=r.concat(O.OPERAND(e[n],t[n]));else if("SID"===t)r=r.concat(O.NUMBER(e));else if("offset"===t)r=r.concat(O.NUMBER32(e));else if("number"===t)r=r.concat(O.NUMBER(e));else{if("real"!==t)throw new Error("Unknown operand type "+t);r=r.concat(O.REAL(e))}return r},O.OP=O.BYTE,j.OP=j.BYTE;var B="function"==typeof WeakMap&&new WeakMap;function G(e,t,r){for(var n=0;n<t.length;n+=1){var i=t[n];this[i.name]=i.value}if(this.tableName=e,this.fields=t,r)for(var o=Object.keys(r),a=0;a<o.length;a+=1){var s=o[a],l=r[s];void 0!==this[s]&&(this[s]=l)}}function z(e,t,r){void 0===r&&(r=t.length);var n=new Array(t.length+1);n[0]={name:e+"Count",type:"USHORT",value:r};for(var i=0;i<t.length;i++)n[i+1]={name:e+i,type:"USHORT",value:t[i]};return n}function V(e,t,r){var n=t.length,i=new Array(n+1);i[0]={name:e+"Count",type:"USHORT",value:n};for(var o=0;o<n;o++)i[o+1]={name:e+o,type:"TABLE",value:r(t[o],o)};return i}function H(e,t,r){var n=t.length,i=[];i[0]={name:e+"Count",type:"USHORT",value:n};for(var o=0;o<n;o++)i=i.concat(r(t[o],o));return i}function W(e){1===e.format?G.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(z("glyph",e.glyphs))):k.assert(!1,"Can't create coverage table format 2 yet.")}function Z(e){G.call(this,"scriptListTable",H("scriptRecord",e,(function(e,t){var r=e.script,n=r.defaultLangSys;return k.assert(!!n,"Unable to write GSUB: script "+e.tag+" has no default language system."),[{name:"scriptTag"+t,type:"TAG",value:e.tag},{name:"script"+t,type:"TABLE",value:new G("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new G("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:n.reqFeatureIndex}].concat(z("featureIndex",n.featureIndexes)))}].concat(H("langSys",r.langSysRecords,(function(e,t){var r=e.langSys;return[{name:"langSysTag"+t,type:"TAG",value:e.tag},{name:"langSys"+t,type:"TABLE",value:new G("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:r.reqFeatureIndex}].concat(z("featureIndex",r.featureIndexes)))}]}))))}]})))}function q(e){G.call(this,"featureListTable",H("featureRecord",e,(function(e,t){var r=e.feature;return[{name:"featureTag"+t,type:"TAG",value:e.tag},{name:"feature"+t,type:"TABLE",value:new G("featureTable",[{name:"featureParams",type:"USHORT",value:r.featureParams}].concat(z("lookupListIndex",r.lookupListIndexes)))}]})))}function Y(e,t){G.call(this,"lookupListTable",V("lookup",e,(function(e){var r=t[e.lookupType];return k.assert(!!r,"Unable to write GSUB lookup type "+e.lookupType+" tables."),new G("lookupTable",[{name:"lookupType",type:"USHORT",value:e.lookupType},{name:"lookupFlag",type:"USHORT",value:e.lookupFlag}].concat(V("subtable",e.subtables,r)))})))}O.CHARSTRING=function(e){if(B){var t=B.get(e);if(void 0!==t)return t}for(var r=[],n=e.length,i=0;i<n;i+=1){var o=e[i];r=r.concat(O[o.type](o.value))}return B&&B.set(e,r),r},j.CHARSTRING=function(e){return O.CHARSTRING(e).length},O.OBJECT=function(e){var t=O[e.type];return k.argument(void 0!==t,"No encoding function for type "+e.type),t(e.value)},j.OBJECT=function(e){var t=j[e.type];return k.argument(void 0!==t,"No sizeOf function for type "+e.type),t(e.value)},O.TABLE=function(e){for(var t=[],r=e.fields.length,n=[],i=[],o=0;o<r;o+=1){var a=e.fields[o],s=O[a.type],l=(k.argument(void 0!==s,"No encoding function for field type "+a.type+" ("+a.name+")"),e[a.name]);s=s(l=void 0===l?a.value:l);"TABLE"===a.type?(i.push(t.length),t=t.concat([0,0]),n.push(s)):t=t.concat(s)}for(var u=0;u<n.length;u+=1){var c=i[u],d=t.length;k.argument(d<65536,"Table "+e.tableName+" too big."),t[c]=d>>8,t[c+1]=255&d,t=t.concat(n[u])}return t},j.TABLE=function(e){for(var t=0,r=e.fields.length,n=0;n<r;n+=1){var i=e.fields[n],o=j[i.type],a=(k.argument(void 0!==o,"No sizeOf function for field type "+i.type+" ("+i.name+")"),e[i.name]);t+=o(a=void 0===a?i.value:a),"TABLE"===i.type&&(t+=2)}return t},O.RECORD=O.TABLE,j.RECORD=j.TABLE,O.LITERAL=function(e){return e},j.LITERAL=function(e){return e.length},G.prototype.encode=function(){return O.TABLE(this)},G.prototype.sizeOf=function(){return j.TABLE(this)};var X={Table:G,Record:G,Coverage:(W.prototype=Object.create(G.prototype)).constructor=W,ScriptList:(Z.prototype=Object.create(G.prototype)).constructor=Z,FeatureList:(q.prototype=Object.create(G.prototype)).constructor=q,LookupList:(Y.prototype=Object.create(G.prototype)).constructor=Y,ushortList:z,tableList:V,recordList:H};function K(e,t){return e.getUint8(t)}function Q(e,t){return e.getUint16(t,!1)}function $(e,t){return e.getUint32(t,!1)}function J(e,t){return e.getInt16(t,!1)+e.getUint16(t+2,!1)/65535}var ee={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function te(e,t){this.data=e,this.offset=t,this.relativeOffset=0}te.prototype.parseByte=function(){var e=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,e},te.prototype.parseChar=function(){var e=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,e},te.prototype.parseCard8=te.prototype.parseByte,te.prototype.parseCard16=te.prototype.parseUShort=function(){var e=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e},te.prototype.parseSID=te.prototype.parseUShort,te.prototype.parseOffset16=te.prototype.parseUShort,te.prototype.parseShort=function(){var e=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e},te.prototype.parseF2Dot14=function(){var e=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,e},te.prototype.parseOffset32=te.prototype.parseULong=function(){var e=$(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e},te.prototype.parseFixed=function(){var e=J(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e},te.prototype.parseString=function(e){var t=this.data,r=this.offset+this.relativeOffset,n="";this.relativeOffset+=e;for(var i=0;i<e;i++)n+=String.fromCharCode(t.getUint8(r+i));return n},te.prototype.parseTag=function(){return this.parseString(4)},te.prototype.parseLongDateTime=function(){var e=$(this.data,this.offset+this.relativeOffset+4);return e-=2082844800,this.relativeOffset+=8,e},te.prototype.parseVersion=function(e){var t=Q(this.data,this.offset+this.relativeOffset),r=Q(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,t+r/(e=void 0===e?4096:e)/10},te.prototype.skip=function(e,t){this.relativeOffset+=ee[e]*(t=void 0===t?1:t)},te.prototype.parseULongList=function(e){void 0===e&&(e=this.parseULong());for(var t=new Array(e),r=this.data,n=this.offset+this.relativeOffset,i=0;i<e;i++)t[i]=r.getUint32(n),n+=4;return this.relativeOffset+=4*e,t},te.prototype.parseOffset16List=te.prototype.parseUShortList=function(e){void 0===e&&(e=this.parseUShort());for(var t=new Array(e),r=this.data,n=this.offset+this.relativeOffset,i=0;i<e;i++)t[i]=r.getUint16(n),n+=2;return this.relativeOffset+=2*e,t},te.prototype.parseShortList=function(e){for(var t=new Array(e),r=this.data,n=this.offset+this.relativeOffset,i=0;i<e;i++)t[i]=r.getInt16(n),n+=2;return this.relativeOffset+=2*e,t},te.prototype.parseByteList=function(e){for(var t=new Array(e),r=this.data,n=this.offset+this.relativeOffset,i=0;i<e;i++)t[i]=r.getUint8(n++);return this.relativeOffset+=e,t},te.prototype.parseList=function(e,t){t||(t=e,e=this.parseUShort());for(var r=new Array(e),n=0;n<e;n++)r[n]=t.call(this);return r},te.prototype.parseList32=function(e,t){t||(t=e,e=this.parseULong());for(var r=new Array(e),n=0;n<e;n++)r[n]=t.call(this);return r},te.prototype.parseRecordList=function(e,t){t||(t=e,e=this.parseUShort());for(var r=new Array(e),n=Object.keys(t),i=0;i<e;i++){for(var o={},a=0;a<n.length;a++){var s=n[a],l=t[s];o[s]=l.call(this)}r[i]=o}return r},te.prototype.parseRecordList32=function(e,t){t||(t=e,e=this.parseULong());for(var r=new Array(e),n=Object.keys(t),i=0;i<e;i++){for(var o={},a=0;a<n.length;a++){var s=n[a],l=t[s];o[s]=l.call(this)}r[i]=o}return r},te.prototype.parseStruct=function(e){if("function"==typeof e)return e.call(this);for(var t=Object.keys(e),r={},n=0;n<t.length;n++){var i=t[n],o=e[i];r[i]=o.call(this)}return r},te.prototype.parseValueRecord=function(e){var t;if(0!==(e=void 0===e?this.parseUShort():e))return t={},1&e&&(t.xPlacement=this.parseShort()),2&e&&(t.yPlacement=this.parseShort()),4&e&&(t.xAdvance=this.parseShort()),8&e&&(t.yAdvance=this.parseShort()),16&e&&(t.xPlaDevice=void 0,this.parseShort()),32&e&&(t.yPlaDevice=void 0,this.parseShort()),64&e&&(t.xAdvDevice=void 0,this.parseShort()),128&e&&(t.yAdvDevice=void 0,this.parseShort()),t},te.prototype.parseValueRecordList=function(){for(var e=this.parseUShort(),t=this.parseUShort(),r=new Array(t),n=0;n<t;n++)r[n]=this.parseValueRecord(e);return r},te.prototype.parsePointer=function(e){var t=this.parseOffset16();if(0<t)return new te(this.data,this.offset+t).parseStruct(e)},te.prototype.parsePointer32=function(e){var t=this.parseOffset32();if(0<t)return new te(this.data,this.offset+t).parseStruct(e)},te.prototype.parseListOfLists=function(e){for(var t=this.parseOffset16List(),r=t.length,n=this.relativeOffset,i=new Array(r),o=0;o<r;o++){var a=t[o];if(0===a)i[o]=void 0;else if(this.relativeOffset=a,e){for(var s=this.parseOffset16List(),l=new Array(s.length),u=0;u<s.length;u++)this.relativeOffset=a+s[u],l[u]=e.call(this);i[o]=l}else i[o]=this.parseUShortList()}return this.relativeOffset=n,i},te.prototype.parseCoverage=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort(),r=this.parseUShort();if(1===t)return{format:1,glyphs:this.parseUShortList(r)};if(2!==t)throw new Error("0x"+e.toString(16)+": Coverage format must be 1 or 2.");for(var n=new Array(r),i=0;i<r;i++)n[i]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:n}},te.prototype.parseClassDef=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();if(1===t)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(2===t)return{format:2,ranges:this.parseRecordList({start:te.uShort,end:te.uShort,classId:te.uShort})};throw new Error("0x"+e.toString(16)+": ClassDef format must be 1 or 2.")},te.list=function(e,t){return function(){return this.parseList(e,t)}},te.list32=function(e,t){return function(){return this.parseList32(e,t)}},te.recordList=function(e,t){return function(){return this.parseRecordList(e,t)}},te.recordList32=function(e,t){return function(){return this.parseRecordList32(e,t)}},te.pointer=function(e){return function(){return this.parsePointer(e)}},te.pointer32=function(e){return function(){return this.parsePointer32(e)}},te.tag=te.prototype.parseTag,te.byte=te.prototype.parseByte,te.uShort=te.offset16=te.prototype.parseUShort,te.uShortList=te.prototype.parseUShortList,te.uLong=te.offset32=te.prototype.parseULong,te.uLongList=te.prototype.parseULongList,te.struct=te.prototype.parseStruct,te.coverage=te.prototype.parseCoverage,te.classDef=te.prototype.parseClassDef;var re={reserved:te.uShort,reqFeatureIndex:te.uShort,featureIndexes:te.uShortList},ne=(te.prototype.parseScriptList=function(){return this.parsePointer(te.recordList({tag:te.tag,script:te.pointer({defaultLangSys:te.pointer(re),langSysRecords:te.recordList({tag:te.tag,langSys:te.pointer(re)})})}))||[]},te.prototype.parseFeatureList=function(){return this.parsePointer(te.recordList({tag:te.tag,feature:te.pointer({featureParams:te.offset16,lookupListIndexes:te.uShortList})}))||[]},te.prototype.parseLookupList=function(e){return this.parsePointer(te.list(te.pointer((function(){var t=this.parseUShort(),r=(k.argument(1<=t&&t<=9,"GPOS/GSUB lookup type "+t+" unknown."),this.parseUShort()),n=16&r;return{lookupType:t,lookupFlag:r,subtables:this.parseList(te.pointer(e[t])),markFilteringSet:n?this.parseUShort():void 0}}))))||[]},te.prototype.parseFeatureVariationsList=function(){return this.parsePointer32((function(){var e=this.parseUShort(),t=this.parseUShort();return k.argument(1===e&&t<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:te.offset32,featureTableSubstitutionOffset:te.offset32})}))||[]},{getByte:K,getCard8:K,getUShort:Q,getCard16:Q,getShort:function(e,t){return e.getInt16(t,!1)},getULong:$,getFixed:J,getTag:function(e,t){for(var r="",n=t;n<t+4;n+=1)r+=String.fromCharCode(e.getInt8(n));return r},getOffset:function(e,t,r){for(var n=0,i=0;i<r;i+=1)n=(n<<=8)+e.getUint8(t+i);return n},getBytes:function(e,t,r){for(var n=[],i=t;i<r;i+=1)n.push(e.getUint8(i));return n},bytesToString:function(e){for(var t="",r=0;r<e.length;r+=1)t+=String.fromCharCode(e[r]);return t},Parser:te}),ie=function(e,t){for(var r={},n=(r.version=ne.getUShort(e,t),k.argument(0===r.version,"cmap table version should be 0."),r.numTables=ne.getUShort(e,t+2),-1),i=r.numTables-1;0<=i;--i){var o=ne.getUShort(e,t+4+8*i),a=ne.getUShort(e,t+4+8*i+2);if(3===o&&(0===a||1===a||10===a)||0===o&&(0===a||1===a||2===a||3===a||4===a)){n=ne.getULong(e,t+4+8*i+4);break}}if(-1===n)throw new Error("No valid cmap sub-tables found.");var s=new ne.Parser(e,t+n);if(r.format=s.parseUShort(),12===r.format){var l,u=r,c=s;c.parseUShort(),u.length=c.parseULong(),u.language=c.parseULong(),u.groupCount=l=c.parseULong(),u.glyphIndexMap={};for(var d=0;d<l;d+=1)for(var f=c.parseULong(),h=c.parseULong(),p=c.parseULong(),m=f;m<=h;m+=1)u.glyphIndexMap[m]=p,p++}else{if(4!==r.format)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+r.format+").");var g=r,y=e,v=t,b=n;g.length=s.parseUShort(),g.language=s.parseUShort(),g.segCount=_=s.parseUShort()>>1,s.skip("uShort",3),g.glyphIndexMap={};for(var _,w=new ne.Parser(y,v+b+14),E=new ne.Parser(y,v+b+16+2*_),x=new ne.Parser(y,v+b+16+4*_),S=new ne.Parser(y,v+b+16+6*_),T=v+b+16+8*_,A=0;A<_-1;A+=1)for(var M=void 0,R=w.parseUShort(),C=E.parseUShort(),I=x.parseShort(),P=S.parseUShort(),O=C;O<=R;O+=1)0!==P?(T=(T=S.offset+S.relativeOffset-2)+P+2*(O-C),0!==(M=ne.getUShort(y,T))&&(M=M+I&65535)):M=O+I&65535,g.glyphIndexMap[O]=M}return r},oe=function(e){for(var t=!0,r=e.length-1;0<r;--r)if(65535<e.get(r).unicode){console.log("Adding CMAP format 12 (needed!)"),t=!1;break}var n,i,o=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:t?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:t?12:20}],a=(o=(o=t?o:o.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new X.Table("cmap",o));for(a.segments=[],r=0;r<e.length;r+=1){for(var s=e.get(r),l=0;l<s.unicodes.length;l+=1)n=s.unicodes[l],i=r,a.segments.push({end:n,start:n,delta:-(n-i),offset:0,glyphIndex:i});a.segments=a.segments.sort((function(e,t){return e.start-t.start}))}a.segments.push({end:65535,start:65535,delta:1,offset:0});var u=a.segments.length,c=0,d=[],f=[],h=[],p=[],m=[],g=[];for(r=0;r<u;r+=1){var y=a.segments[r];y.end<=65535&&y.start<=65535?(d=d.concat({name:"end_"+r,type:"USHORT",value:y.end}),f=f.concat({name:"start_"+r,type:"USHORT",value:y.start}),h=h.concat({name:"idDelta_"+r,type:"SHORT",value:y.delta}),p=p.concat({name:"idRangeOffset_"+r,type:"USHORT",value:y.offset}),void 0!==y.glyphId&&(m=m.concat({name:"glyph_"+r,type:"USHORT",value:y.glyphId}))):c+=1,t||void 0===y.glyphIndex||(g=(g=(g=g.concat({name:"cmap12Start_"+r,type:"ULONG",value:y.start})).concat({name:"cmap12End_"+r,type:"ULONG",value:y.end})).concat({name:"cmap12Glyph_"+r,type:"ULONG",value:y.glyphIndex}))}return a.segCountX2=2*(u-c),a.searchRange=2*Math.pow(2,Math.floor(Math.log(u-c)/Math.log(2))),a.entrySelector=Math.log(a.searchRange/2)/Math.log(2),a.rangeShift=a.segCountX2-a.searchRange,a.fields=a.fields.concat(d),a.fields.push({name:"reservedPad",type:"USHORT",value:0}),a.fields=a.fields.concat(f),a.fields=a.fields.concat(h),a.fields=a.fields.concat(p),a.fields=a.fields.concat(m),a.cmap4Length=14+2*d.length+2+2*f.length+2*h.length+2*p.length+2*m.length,t||(o=16+4*g.length,a.cmap12Offset=20+a.cmap4Length,a.fields=a.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:o},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:g.length/3}]),a.fields=a.fields.concat(g)),a},ae=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],se=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],le=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],ue=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function ce(e){this.font=e}function de(e){this.cmap=e}function fe(e,t){this.encoding=e,this.charset=t}function he(e){switch(e.version){case 1:this.names=ue.slice();break;case 2:this.names=new Array(e.numberOfGlyphs);for(var t=0;t<e.numberOfGlyphs;t++)e.glyphNameIndex[t]<ue.length?this.names[t]=ue[e.glyphNameIndex[t]]:this.names[t]=e.names[e.glyphNameIndex[t]-ue.length];break;case 2.5:this.names=new Array(e.numberOfGlyphs);for(var r=0;r<e.numberOfGlyphs;r++)this.names[r]=ue[r+e.glyphNameIndex[r]];break;default:this.names=[]}}ce.prototype.charToGlyphIndex=function(e){var t=e.codePointAt(0),r=this.font.glyphs;if(r)for(var n=0;n<r.length;n+=1)for(var i=r.get(n),o=0;o<i.unicodes.length;o+=1)if(i.unicodes[o]===t)return n;return null},de.prototype.charToGlyphIndex=function(e){return this.cmap.glyphIndexMap[e.codePointAt(0)]||0},fe.prototype.charToGlyphIndex=function(e){return e=e.codePointAt(0),e=this.encoding[e],this.charset.indexOf(e)},he.prototype.nameToGlyphIndex=function(e){return this.names.indexOf(e)},he.prototype.glyphIndexToName=function(e){return this.names[e]};var pe=function(e,t,r,n,i){e.beginPath(),e.moveTo(t,r),e.lineTo(n,i),e.stroke()};function me(e){this.bindConstructorValues(e)}function ge(e,t,r){Object.defineProperty(e,t,{get:function(){return e.path,e[r]},set:function(t){e[r]=t},enumerable:!0,configurable:!0})}function ye(e,t){if(this.font=e,this.glyphs={},Array.isArray(t))for(var r=0;r<t.length;r++)this.glyphs[r]=t[r];this.length=t&&t.length||0}me.prototype.bindConstructorValues=function(e){var t;this.index=e.index||0,this.name=e.name||null,this.unicode=e.unicode||void 0,this.unicodes=e.unicodes||void 0!==e.unicode?[e.unicode]:[],e.xMin&&(this.xMin=e.xMin),e.yMin&&(this.yMin=e.yMin),e.xMax&&(this.xMax=e.xMax),e.yMax&&(this.yMax=e.yMax),e.advanceWidth&&(this.advanceWidth=e.advanceWidth),Object.defineProperty(this,"path",(e=e.path,t=e||new R,{configurable:!0,get:function(){return t="function"==typeof t?t():t},set:function(e){t=e}}))},me.prototype.addUnicode=function(e){0===this.unicodes.length&&(this.unicode=e),this.unicodes.push(e)},me.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},me.prototype.getPath=function(e,t,r,n,i){e=void 0!==e?e:0,t=void 0!==t?t:0,r=void 0!==r?r:72;for(var o,a,s=(n=n||{}).xScale,l=n.yScale,u=((o=n.hinting&&i&&i.hinting?this.path&&i.hinting.exec(this,r):o)?(a=i.hinting.getCommands(o),e=Math.round(e),t=Math.round(t),s=l=1):(a=this.path.commands,n=1/this.path.unitsPerEm*r,void 0===s&&(s=n),void 0===l&&(l=n)),new R),c=0;c<a.length;c+=1){var d=a[c];"M"===d.type?u.moveTo(e+d.x*s,t+-d.y*l):"L"===d.type?u.lineTo(e+d.x*s,t+-d.y*l):"Q"===d.type?u.quadraticCurveTo(e+d.x1*s,t+-d.y1*l,e+d.x*s,t+-d.y*l):"C"===d.type?u.curveTo(e+d.x1*s,t+-d.y1*l,e+d.x2*s,t+-d.y2*l,e+d.x*s,t+-d.y*l):"Z"===d.type&&u.closePath()}return u},me.prototype.getContours=function(){if(void 0===this.points)return[];for(var e=[],t=[],r=0;r<this.points.length;r+=1){var n=this.points[r];t.push(n),n.lastPointOfContour&&(e.push(t),t=[])}return k.argument(0===t.length,"There are still points left in the current contour."),e},me.prototype.getMetrics=function(){for(var e=this.path.commands,t=[],r=[],n=0;n<e.length;n+=1){var i=e[n];"Z"!==i.type&&(t.push(i.x),r.push(i.y)),"Q"!==i.type&&"C"!==i.type||(t.push(i.x1),r.push(i.y1)),"C"===i.type&&(t.push(i.x2),r.push(i.y2))}var o={xMin:Math.min.apply(null,t),yMin:Math.min.apply(null,r),xMax:Math.max.apply(null,t),yMax:Math.max.apply(null,r),leftSideBearing:this.leftSideBearing};return isFinite(o.xMin)||(o.xMin=0),isFinite(o.xMax)||(o.xMax=this.advanceWidth),isFinite(o.yMin)||(o.yMin=0),isFinite(o.yMax)||(o.yMax=0),o.rightSideBearing=this.advanceWidth-o.leftSideBearing-(o.xMax-o.xMin),o},me.prototype.draw=function(e,t,r,n,i){this.getPath(t,r,n,i).draw(e)},me.prototype.drawPoints=function(e,t,r,n){function i(t,r,n,i){var o=2*Math.PI;e.beginPath();for(var a=0;a<t.length;a+=1)e.moveTo(r+t[a].x*i,n+t[a].y*i),e.arc(r+t[a].x*i,n+t[a].y*i,2,0,o,!1);e.closePath(),e.fill()}t=void 0!==t?t:0,r=void 0!==r?r:0;n=1/this.path.unitsPerEm*(n=void 0!==n?n:24);for(var o=[],a=[],s=this.path,l=0;l<s.commands.length;l+=1){var u=s.commands[l];void 0!==u.x&&o.push({x:u.x,y:-u.y}),void 0!==u.x1&&a.push({x:u.x1,y:-u.y1}),void 0!==u.x2&&a.push({x:u.x2,y:-u.y2})}e.fillStyle="blue",i(o,t,r,n),e.fillStyle="red",i(a,t,r,n)},me.prototype.drawMetrics=function(e,t,r,n){t=void 0!==t?t:0,r=void 0!==r?r:0,n=1/this.path.unitsPerEm*(n=void 0!==n?n:24),e.lineWidth=1,e.strokeStyle="black",pe(e,t,-1e4,t,1e4),pe(e,-1e4,r,1e4,r);var i=this.xMin||0,o=this.yMin||0,a=this.xMax||0,s=this.yMax||0,l=this.advanceWidth||0;e.strokeStyle="blue",pe(e,t+i*n,-1e4,t+i*n,1e4),pe(e,t+a*n,-1e4,t+a*n,1e4),pe(e,-1e4,r+-o*n,1e4,r+-o*n),pe(e,-1e4,r+-s*n,1e4,r+-s*n),e.strokeStyle="green",pe(e,t+l*n,-1e4,t+l*n,1e4)},ye.prototype.get=function(e){return"function"==typeof this.glyphs[e]&&(this.glyphs[e]=this.glyphs[e]()),this.glyphs[e]},ye.prototype.push=function(e,t){this.glyphs[e]=t,this.length++};var ve={GlyphSet:ye,glyphLoader:function(e,t){return new me({index:t,font:e})},ttfGlyphLoader:function(e,t,r,n,i,o){return function(){var a=new me({index:t,font:e});return a.path=function(){r(a,n,i);var t=o(e.glyphs,a);return t.unitsPerEm=e.unitsPerEm,t},ge(a,"xMin","_xMin"),ge(a,"xMax","_xMax"),ge(a,"yMin","_yMin"),ge(a,"yMax","_yMax"),a}},cffGlyphLoader:function(e,t,r,n){return function(){var i=new me({index:t,font:e});return i.path=function(){var t=r(e,i,n);return t.unitsPerEm=e.unitsPerEm,t},i}}};function be(e){return e=e.length<1240?107:e.length<33900?1131:32768}function _e(e,t,r){var n,i=[],o=[],a=ne.getCard16(e,t);if(0!==a){for(var s=ne.getByte(e,t+2),l=t+(a+1)*s+2,u=t+3,c=0;c<a+1;c+=1)i.push(ne.getOffset(e,u,s)),u+=s;n=l+i[a]}else n=t+2;for(var d=0;d<i.length-1;d+=1){var f=ne.getBytes(e,l+i[d],l+i[d+1]);r&&(f=r(f)),o.push(f)}return{objects:o,startOffset:t,endOffset:n}}function we(e,t){if(28===t)return e.parseByte()<<8|e.parseByte();if(29===t)return e.parseByte()<<24|e.parseByte()<<16|e.parseByte()<<8|e.parseByte();if(30===t){for(var r=e,n="",i=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var o=(a=r.parseByte())>>4,a=15&a;if(15==o)break;if(n+=i[o],15==a)break;n+=i[a]}return parseFloat(n)}if(32<=t&&t<=246)return t-139;if(247<=t&&t<=250)return 256*(t-247)+e.parseByte()+108;if(251<=t&&t<=254)return 256*-(t-251)-e.parseByte()-108;throw new Error("Invalid b0 "+t)}function Ee(e,t,r){var n=new ne.Parser(e,t=void 0!==t?t:0),i=[],o=[];for(r=void 0!==r?r:e.length;n.relativeOffset<r;){var a=n.parseByte();a<=21?(12===a&&(a=1200+n.parseByte()),i.push([a,o]),o=[]):o.push(we(n,a))}for(var s=i,l={},u=0;u<s.length;u+=1){var c=s[u][0],d=s[u][1],f=1===d.length?d[0]:d;if(l.hasOwnProperty(c)&&!isNaN(l[c]))throw new Error("Object "+l+" already has key "+c);l[c]=f}return l}function xe(e,t){return t<=390?ae[t]:e[t-391]}function Se(e,t,r){for(var n,i={},o=0;o<t.length;o+=1){var a=t[o];if(Array.isArray(a.type)){var s=[];s.length=a.type.length;for(var l=0;l<a.type.length;l++)void 0===(n=void 0!==e[a.op]?e[a.op][l]:void 0)&&(n=void 0!==a.value&&void 0!==a.value[l]?a.value[l]:null),"SID"===a.type[l]&&(n=xe(r,n)),s[l]=n;i[a.name]=s}else void 0===(n=e[a.op])&&(n=void 0!==a.value?a.value:null),"SID"===a.type&&(n=xe(r,n)),i[a.name]=n}return i}var Te=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],Ae=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function Me(e,t,r,n){return Se(Ee(e,t,r),Ae,n)}function Re(e,t,r,n){for(var i=[],o=0;o<r.length;o+=1){var a,s=((a=(s=n,Se(Ee(a=new DataView(new Uint8Array(r[o]).buffer),0,a.byteLength),Te,s)))._subrs=[],a._subrsBias=0,a.private[0]),l=a.private[1];0!==s&&0!==l&&(s=Me(e,l+t,s,n),a._defaultWidthX=s.defaultWidthX,a._nominalWidthX=s.nominalWidthX,0!==s.subrs&&(l=_e(e,l+s.subrs+t),a._subrs=l.objects,a._subrsBias=be(a._subrs)),a._privateDict=s),i.push(a)}return i}function Ce(e,t,r){var n,i,o,a,s,l,u,c,d,f=new R,h=[],p=0,m=!1,g=!1,y=0,v=0,b=(d=(e.isCIDFont?(s=e.tables.cff.topDict._fdSelect[t.index],s=e.tables.cff.topDict._fdArray[s],l=s._subrs,u=s._subrsBias,c=s._defaultWidthX,s):(l=e.tables.cff.topDict._subrs,u=e.tables.cff.topDict._subrsBias,c=e.tables.cff.topDict._defaultWidthX,e.tables.cff.topDict))._nominalWidthX,c);function _(e,t){g&&f.closePath(),f.moveTo(e,t),g=!0}function w(){h.length%2==0||m||(b=h.shift()+d),p+=h.length>>1,h.length=0,m=!0}return function r(s){for(var c,E,x,S,T,A,M,R,C,I,k,P,O=0;O<s.length;){var j=s[O];switch(O+=1,j){case 1:case 3:case 18:case 23:w();break;case 4:1<h.length&&!m&&(b=h.shift()+d,m=!0),v+=h.pop(),_(y,v);break;case 5:for(;0<h.length;)y+=h.shift(),v+=h.shift(),f.lineTo(y,v);break;case 6:for(;0<h.length&&(y+=h.shift(),f.lineTo(y,v),0!==h.length);)v+=h.shift(),f.lineTo(y,v);break;case 7:for(;0<h.length&&(v+=h.shift(),f.lineTo(y,v),0!==h.length);)y+=h.shift(),f.lineTo(y,v);break;case 8:for(;0<h.length;)n=y+h.shift(),i=v+h.shift(),o=n+h.shift(),a=i+h.shift(),y=o+h.shift(),v=a+h.shift(),f.curveTo(n,i,o,a,y,v);break;case 10:T=h.pop()+u,(A=l[T])&&r(A);break;case 11:return;case 12:switch(j=s[O],O+=1,j){case 35:n=y+h.shift(),i=v+h.shift(),o=n+h.shift(),a=i+h.shift(),M=o+h.shift(),R=a+h.shift(),C=M+h.shift(),I=R+h.shift(),k=C+h.shift(),P=I+h.shift(),y=k+h.shift(),v=P+h.shift(),h.shift(),f.curveTo(n,i,o,a,M,R),f.curveTo(C,I,k,P,y,v);break;case 34:n=y+h.shift(),i=v,o=n+h.shift(),a=i+h.shift(),M=o+h.shift(),R=a,C=M+h.shift(),I=a,k=C+h.shift(),P=v,y=k+h.shift(),f.curveTo(n,i,o,a,M,R),f.curveTo(C,I,k,P,y,v);break;case 36:n=y+h.shift(),i=v+h.shift(),o=n+h.shift(),a=i+h.shift(),M=o+h.shift(),R=a,C=M+h.shift(),I=a,k=C+h.shift(),P=I+h.shift(),y=k+h.shift(),f.curveTo(n,i,o,a,M,R),f.curveTo(C,I,k,P,y,v);break;case 37:n=y+h.shift(),i=v+h.shift(),o=n+h.shift(),a=i+h.shift(),M=o+h.shift(),R=a+h.shift(),C=M+h.shift(),I=R+h.shift(),k=C+h.shift(),P=I+h.shift(),Math.abs(k-y)>Math.abs(P-v)?y=k+h.shift():v=P+h.shift(),f.curveTo(n,i,o,a,M,R),f.curveTo(C,I,k,P,y,v);break;default:console.log("Glyph "+t.index+": unknown operator 1200"+j),h.length=0}break;case 14:0<h.length&&!m&&(b=h.shift()+d,m=!0),g&&(f.closePath(),g=!1);break;case 19:case 20:w(),O+=p+7>>3;break;case 21:2<h.length&&!m&&(b=h.shift()+d,m=!0),v+=h.pop(),_(y+=h.pop(),v);break;case 22:1<h.length&&!m&&(b=h.shift()+d,m=!0),_(y+=h.pop(),v);break;case 24:for(;2<h.length;)n=y+h.shift(),i=v+h.shift(),o=n+h.shift(),a=i+h.shift(),y=o+h.shift(),v=a+h.shift(),f.curveTo(n,i,o,a,y,v);y+=h.shift(),v+=h.shift(),f.lineTo(y,v);break;case 25:for(;6<h.length;)y+=h.shift(),v+=h.shift(),f.lineTo(y,v);n=y+h.shift(),i=v+h.shift(),o=n+h.shift(),a=i+h.shift(),y=o+h.shift(),v=a+h.shift(),f.curveTo(n,i,o,a,y,v);break;case 26:for(h.length%2&&(y+=h.shift());0<h.length;)n=y,i=v+h.shift(),o=n+h.shift(),a=i+h.shift(),y=o,v=a+h.shift(),f.curveTo(n,i,o,a,y,v);break;case 27:for(h.length%2&&(v+=h.shift());0<h.length;)n=y+h.shift(),i=v,o=n+h.shift(),a=i+h.shift(),y=o+h.shift(),v=a,f.curveTo(n,i,o,a,y,v);break;case 28:c=s[O],E=s[O+1],h.push((c<<24|E<<16)>>16),O+=2;break;case 29:T=h.pop()+e.gsubrsBias,(A=e.gsubrs[T])&&r(A);break;case 30:for(;0<h.length&&(n=y,i=v+h.shift(),o=n+h.shift(),a=i+h.shift(),y=o+h.shift(),v=a+(1===h.length?h.shift():0),f.curveTo(n,i,o,a,y,v),0!==h.length);)n=y+h.shift(),i=v,o=n+h.shift(),a=i+h.shift(),v=a+h.shift(),y=o+(1===h.length?h.shift():0),f.curveTo(n,i,o,a,y,v);break;case 31:for(;0<h.length&&(n=y+h.shift(),i=v,o=n+h.shift(),a=i+h.shift(),v=a+h.shift(),y=o+(1===h.length?h.shift():0),f.curveTo(n,i,o,a,y,v),0!==h.length);)n=y,i=v+h.shift(),o=n+h.shift(),a=i+h.shift(),y=o+h.shift(),v=a+(1===h.length?h.shift():0),f.curveTo(n,i,o,a,y,v);break;default:j<32?console.log("Glyph "+t.index+": unknown operator "+j):j<247?h.push(j-139):j<251?(c=s[O],O+=1,h.push(256*(j-247)+c+108)):j<255?(c=s[O],O+=1,h.push(256*-(j-251)-c-108)):(c=s[O],E=s[O+1],x=s[O+2],S=s[O+3],O+=4,h.push((c<<24|E<<16|x<<8|S)/65536))}}}(r),t.advanceWidth=b,f}function Ie(e,t){var r,n=ae.indexOf(e);return 0<=n&&(r=n),0<=(n=t.indexOf(e))?r=n+ae.length:(r=ae.length+t.length,t.push(e)),r}function ke(e,t,r){for(var n={},i=0;i<e.length;i+=1){var o=e[i],a=t[o.name];void 0===a||function e(t,r){if(t===r)return 1;if(Array.isArray(t)&&Array.isArray(r)&&t.length===r.length){for(var n=0;n<t.length;n+=1)if(!e(t[n],r[n]))return;return 1}}(a,o.value)||("SID"===o.type&&(a=Ie(a,r)),n[o.op]={name:o.name,type:o.type,value:a})}return n}function Pe(e,t){var r=new X.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return r.dict=ke(Te,e,t),r}function Oe(e){var t=new X.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return t.topDicts=[{name:"topDict_0",type:"TABLE",value:e}],t}var je=function(e,t,r){r.tables.cff={},n=e,i=t,(o={}).formatMajor=ne.getCard8(n,i),o.formatMinor=ne.getCard8(n,i+1),o.size=ne.getCard8(n,i+2),o.offsetSize=ne.getCard8(n,i+3),o.startOffset=i,o.endOffset=i+4;var n=_e(e,o.endOffset,ne.bytesToString),i=_e(e,n.endOffset),o=_e(e,i.endOffset,ne.bytesToString);n=_e(e,o.endOffset);if(r.gsubrs=n.objects,r.gsubrsBias=be(r.gsubrs),1!==(n=Re(e,t,i.objects,o.objects)).length)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+n.length);if(i=n[0],(r.tables.cff.topDict=i)._privateDict&&(r.defaultWidthX=i._privateDict.defaultWidthX,r.nominalWidthX=i._privateDict.nominalWidthX),void 0!==i.ros[0]&&void 0!==i.ros[1]&&(r.isCIDFont=!0),r.isCIDFont){n=i.fdArray;var a=i.fdSelect;if(0===n||0===a)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");n=Re(e,t,_e(e,n+=t).objects,o.objects),i._fdArray=n,i._fdSelect=function(e,t,r,n){var i,o=[],a=new ne.Parser(e,t);if(0===(e=a.parseCard8()))for(var s=0;s<r;s++){if(n<=(i=a.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+i+" (FD count "+n+")");o.push(i)}else{if(3!==e)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+e);var l,u=a.parseCard16(),c=a.parseCard16();if(0!==c)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+c);for(var d=0;d<u;d++){if(i=a.parseCard8(),l=a.parseCard16(),n<=i)throw new Error("CFF table CID Font FDSelect has bad FD index value "+i+" (FD count "+n+")");if(r<l)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+l);for(;c<l;c++)o.push(i);c=l}if(l!==r)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+l)}return o}(e,a+=t,r.numGlyphs,n.length)}n=Me(e,a=t+i.private[1],i.private[0],o.objects);var s=(r.defaultWidthX=n.defaultWidthX,r.nominalWidthX=n.nominalWidthX,0!==n.subrs?(a=_e(e,a+n.subrs),r.subrs=a.objects,r.subrsBias=be(r.subrs)):(r.subrs=[],r.subrsBias=0),_e(e,t+i.charStrings));r.nGlyphs=s.objects.length,n=function(e,t,r,n){var i=new ne.Parser(e,t),o=(--r,[".notdef"]);if(0===(e=i.parseCard8()))for(var a=0;a<r;a+=1)s=i.parseSID(),o.push(xe(n,s));else if(1===e)for(;o.length<=r;)for(var s=i.parseSID(),l=i.parseCard8(),u=0;u<=l;u+=1)o.push(xe(n,s)),s+=1;else{if(2!==e)throw new Error("Unknown charset format "+e);for(;o.length<=r;){s=i.parseSID(),l=i.parseCard16();for(var c=0;c<=l;c+=1)o.push(xe(n,s)),s+=1}}return o}(e,t+i.charset,r.nGlyphs,o.objects);0===i.encoding?r.cffEncoding=new fe(se,n):1===i.encoding?r.cffEncoding=new fe(le,n):r.cffEncoding=function(e,t,r){var n={},i=new ne.Parser(e,t);if(0===(e=i.parseCard8()))for(var o=i.parseCard8(),a=0;a<o;a+=1)n[l=i.parseCard8()]=a;else{if(1!==e)throw new Error("Unknown encoding format "+e);for(var s=i.parseCard8(),l=1,u=0;u<s;u+=1)for(var c=i.parseCard8(),d=i.parseCard8(),f=c;f<=c+d;f+=1)n[f]=l,l+=1}return new fe(n,r)}(e,t+i.encoding,n),r.encoding=r.encoding||r.cffEncoding,r.glyphs=new ve.GlyphSet(r);for(var l=0;l<r.nGlyphs;l+=1){var u=s.objects[l];r.glyphs.push(l,ve.cffGlyphLoader(r,l,Ce,u))}},Ne=function(e,t){for(var r,n=new X.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),i=1/t.unitsPerEm,o=(i={version:t.version,fullName:t.fullName,familyName:t.familyName,weight:t.weightName,fontBBox:t.fontBBox||[0,0,0,0],fontMatrix:[i,0,0,i,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},[]),a=1;a<e.length;a+=1)r=e.get(a),o.push(r.name);var s,l,u=[],c=(t=(n.header=new X.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),n.nameIndex=function(e){var t=new X.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);t.names=[];for(var r=0;r<e.length;r+=1)t.names.push({name:"name_"+r,type:"NAME",value:e[r]});return t}([t.postScriptName]),Pe(i,u)),n.topDictIndex=Oe(t),n.globalSubrIndex=new X.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),n.charsets=function(e,t){for(var r=new X.Record("Charsets",[{name:"format",type:"Card8",value:0}]),n=0;n<e.length;n+=1){var i=Ie(e[n],t);r.fields.push({name:"glyph_"+n,type:"SID",value:i})}return r}(o,u),n.charStringsIndex=function(e){for(var t=new X.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),r=0;r<e.length;r+=1){var n=e.get(r),i=function(e){for(var t=[],r=e.path,n=(t.push({name:"width",type:"NUMBER",value:e.advanceWidth}),0),i=0,o=0;o<r.commands.length;o+=1){var a,s,l,u,c=void 0,d=void 0,f=r.commands[o];"M"===(f="Q"===f.type?{type:"C",x:f.x,y:f.y,x1:1/3*n+2/3*f.x1,y1:1/3*i+2/3*f.y1,x2:1/3*f.x+2/3*f.x1,y2:1/3*f.y+2/3*f.y1}:f).type?(c=Math.round(f.x-n),d=Math.round(f.y-i),t.push({name:"dx",type:"NUMBER",value:c}),t.push({name:"dy",type:"NUMBER",value:d}),t.push({name:"rmoveto",type:"OP",value:21}),n=Math.round(f.x),i=Math.round(f.y)):"L"===f.type?(c=Math.round(f.x-n),d=Math.round(f.y-i),t.push({name:"dx",type:"NUMBER",value:c}),t.push({name:"dy",type:"NUMBER",value:d}),t.push({name:"rlineto",type:"OP",value:5}),n=Math.round(f.x),i=Math.round(f.y)):"C"===f.type&&(a=Math.round(f.x1-n),s=Math.round(f.y1-i),l=Math.round(f.x2-f.x1),u=Math.round(f.y2-f.y1),c=Math.round(f.x-f.x2),d=Math.round(f.y-f.y2),t.push({name:"dx1",type:"NUMBER",value:a}),t.push({name:"dy1",type:"NUMBER",value:s}),t.push({name:"dx2",type:"NUMBER",value:l}),t.push({name:"dy2",type:"NUMBER",value:u}),t.push({name:"dx",type:"NUMBER",value:c}),t.push({name:"dy",type:"NUMBER",value:d}),t.push({name:"rrcurveto",type:"OP",value:8}),n=Math.round(f.x),i=Math.round(f.y))}return t.push({name:"endchar",type:"OP",value:14}),t}(n);t.charStrings.push({name:n.name,type:"CHARSTRING",value:i})}return t}(e),n.privateDict=(c={},s=u,(l=new X.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=ke(Ae,c,s),l),n.stringIndex=function(e){var t=new X.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);t.strings=[];for(var r=0;r<e.length;r+=1)t.strings.push({name:"string_"+r,type:"STRING",value:e[r]});return t}(u),n.header.sizeOf()+n.nameIndex.sizeOf()+n.topDictIndex.sizeOf()+n.stringIndex.sizeOf()+n.globalSubrIndex.sizeOf());return i.charset=c,i.encoding=0,i.charStrings=i.charset+n.charsets.sizeOf(),i.private[1]=i.charStrings+n.charStringsIndex.sizeOf(),t=Pe(i,u),n.topDictIndex=Oe(t),n},Le=function(e,t){var r={};e=new ne.Parser(e,t);return r.version=e.parseVersion(),r.fontRevision=Math.round(1e3*e.parseFixed())/1e3,r.checkSumAdjustment=e.parseULong(),r.magicNumber=e.parseULong(),k.argument(1594834165===r.magicNumber,"Font header has wrong magic number."),r.flags=e.parseUShort(),r.unitsPerEm=e.parseUShort(),r.created=e.parseLongDateTime(),r.modified=e.parseLongDateTime(),r.xMin=e.parseShort(),r.yMin=e.parseShort(),r.xMax=e.parseShort(),r.yMax=e.parseShort(),r.macStyle=e.parseUShort(),r.lowestRecPPEM=e.parseUShort(),r.fontDirectionHint=e.parseShort(),r.indexToLocFormat=e.parseShort(),r.glyphDataFormat=e.parseShort(),r},De=function(e){var t=Math.round((new Date).getTime()/1e3)+2082844800,r=t;return e.createdTimestamp&&(r=e.createdTimestamp+2082844800),new X.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:r},{name:"modified",type:"LONGDATETIME",value:t},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],e)},Fe=function(e,t){var r={};e=new ne.Parser(e,t);return r.version=e.parseVersion(),r.ascender=e.parseShort(),r.descender=e.parseShort(),r.lineGap=e.parseShort(),r.advanceWidthMax=e.parseUShort(),r.minLeftSideBearing=e.parseShort(),r.minRightSideBearing=e.parseShort(),r.xMaxExtent=e.parseShort(),r.caretSlopeRise=e.parseShort(),r.caretSlopeRun=e.parseShort(),r.caretOffset=e.parseShort(),e.relativeOffset+=8,r.metricDataFormat=e.parseShort(),r.numberOfHMetrics=e.parseUShort(),r},Ue=function(e){return new X.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],e)},Be=function(e,t,r,n,i){for(var o,a,s=new ne.Parser(e,t),l=0;l<n;l+=1){l<r&&(o=s.parseUShort(),a=s.parseShort());var u=i.get(l);u.advanceWidth=o,u.leftSideBearing=a}},Ge=function(e){for(var t=new X.Table("hmtx",[]),r=0;r<e.length;r+=1){var n=(i=e.get(r)).advanceWidth||0,i=i.leftSideBearing||0;t.fields.push({name:"advanceWidth_"+r,type:"USHORT",value:n}),t.fields.push({name:"leftSideBearing_"+r,type:"SHORT",value:i})}return t},ze=function(e){for(var t=new X.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:e.length}]),r="",n=12+4*e.length,i=0;i<e.length;++i){var o=r.indexOf(e[i]);o<0&&(o=r.length,r+=e[i]),t.fields.push({name:"offset "+i,type:"USHORT",value:n+o}),t.fields.push({name:"length "+i,type:"USHORT",value:e[i].length})}return t.fields.push({name:"stringPool",type:"CHARARRAY",value:r}),t},Ve=function(e,t){for(var r=new ne.Parser(e,t),n=r.parseULong(),i=(k.argument(1===n,"Unsupported ltag table version."),r.skip("uLong",1),r.parseULong()),o=[],a=0;a<i;a++){for(var s="",l=t+r.parseUShort(),u=r.parseUShort(),c=l;c<l+u;++c)s+=String.fromCharCode(e.getInt8(c));o.push(s)}return o},He=function(e,t){var r={};e=new ne.Parser(e,t);return r.version=e.parseVersion(),r.numGlyphs=e.parseUShort(),1===r.version&&(r.maxPoints=e.parseUShort(),r.maxContours=e.parseUShort(),r.maxCompositePoints=e.parseUShort(),r.maxCompositeContours=e.parseUShort(),r.maxZones=e.parseUShort(),r.maxTwilightPoints=e.parseUShort(),r.maxStorage=e.parseUShort(),r.maxFunctionDefs=e.parseUShort(),r.maxInstructionDefs=e.parseUShort(),r.maxStackElements=e.parseUShort(),r.maxSizeOfInstructions=e.parseUShort(),r.maxComponentElements=e.parseUShort(),r.maxComponentDepth=e.parseUShort()),r},We=function(e){return new X.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:e}])},Ze=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],qe={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},Ye={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},Xe={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},Ke="utf-16",Qe={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},$e={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function Je(e,t,r){switch(e){case 0:return Ke;case 1:return $e[r]||Qe[t];case 3:if(1===t||10===t)return Ke}}function et(e){var t,r={};for(t in e)r[e[t]]=parseInt(t);return r}function tt(e,t,r,n,i,o){return new X.Record("NameRecord",[{name:"platformID",type:"USHORT",value:e},{name:"encodingID",type:"USHORT",value:t},{name:"languageID",type:"USHORT",value:r},{name:"nameID",type:"USHORT",value:n},{name:"length",type:"USHORT",value:i},{name:"offset",type:"USHORT",value:o}])}function rt(e,t){if((r=function(e,t){var r=e.length,n=t.length-r+1;e:for(var i=0;i<n;i++)for(;i<n;i++){for(var o=0;o<r;o++)if(t[i+o]!==e[o])continue e;return i}return-1}(e,t))<0)for(var r=t.length,n=0,i=e.length;n<i;++n)t.push(e[n]);return r}var nt=function(e,t,r){for(var n={},i=new ne.Parser(e,t),o=(t=i.parseUShort(),i.parseUShort()),a=i.offset+i.parseUShort(),s=0;s<o;s++){var l=i.parseUShort(),u=i.parseUShort(),c=i.parseUShort(),d=i.parseUShort(),f=(d=Ze[d]||d,i.parseUShort()),h=i.parseUShort(),p=function(e,t,r){switch(e){case 0:if(65535===t)return"und";if(r)return r[t];break;case 1:return qe[t];case 3:return Xe[t]}}(l,c,r);void 0!==(l=Je(l,u,c))&&void 0!==p&&(u=void 0,(u=l===Ke?P.UTF16(e,a+h,f):P.MACSTRING(e,a+h,f,l))&&((c=void 0===(c=n[d])?n[d]={}:c)[p]=u))}return 1===t&&i.parseUShort(),n},it=function(e,t){var r,n=[],i={},o=et(Ze);for(r in e){var a=o[r];if(void 0===a&&(a=r),f=parseInt(a),isNaN(f))throw new Error('Name table entry "'+r+'" does not exist, see nameTableNames for complete list.');i[f]=e[r],n.push(f)}for(var s=et(qe),l=et(Xe),u=[],c=[],d=0;d<n.length;d++){var f,h,p=i[f=n[d]];for(h in p){var m=p[h],g=1,y=s[h],v=Ye[y],b=Je(g,v,y),_=(void 0===(b=O.MACSTRING(m,b))&&(g=0,(y=t.indexOf(h))<0&&(y=t.length,t.push(h)),v=4,b=O.UTF16(m)),rt(b,c));void 0!==(g=(u.push(tt(g,v,y,f,b.length,_)),l[h]))&&(y=rt(v=O.UTF16(m),c),u.push(tt(3,1,g,f,v.length,y)))}}u.sort((function(e,t){return e.platformID-t.platformID||e.encodingID-t.encodingID||e.languageID-t.languageID||e.nameID-t.nameID}));for(var w=new X.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:u.length},{name:"stringOffset",type:"USHORT",value:6+12*u.length}]),E=0;E<u.length;E++)w.fields.push({name:"record_"+E,type:"RECORD",value:u[E]});return w.fields.push({name:"strings",type:"LITERAL",value:c}),w},ot=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],at=function(e,t){var r={},n=new ne.Parser(e,t);r.version=n.parseUShort(),r.xAvgCharWidth=n.parseShort(),r.usWeightClass=n.parseUShort(),r.usWidthClass=n.parseUShort(),r.fsType=n.parseUShort(),r.ySubscriptXSize=n.parseShort(),r.ySubscriptYSize=n.parseShort(),r.ySubscriptXOffset=n.parseShort(),r.ySubscriptYOffset=n.parseShort(),r.ySuperscriptXSize=n.parseShort(),r.ySuperscriptYSize=n.parseShort(),r.ySuperscriptXOffset=n.parseShort(),r.ySuperscriptYOffset=n.parseShort(),r.yStrikeoutSize=n.parseShort(),r.yStrikeoutPosition=n.parseShort(),r.sFamilyClass=n.parseShort(),r.panose=[];for(var i=0;i<10;i++)r.panose[i]=n.parseByte();return r.ulUnicodeRange1=n.parseULong(),r.ulUnicodeRange2=n.parseULong(),r.ulUnicodeRange3=n.parseULong(),r.ulUnicodeRange4=n.parseULong(),r.achVendID=String.fromCharCode(n.parseByte(),n.parseByte(),n.parseByte(),n.parseByte()),r.fsSelection=n.parseUShort(),r.usFirstCharIndex=n.parseUShort(),r.usLastCharIndex=n.parseUShort(),r.sTypoAscender=n.parseShort(),r.sTypoDescender=n.parseShort(),r.sTypoLineGap=n.parseShort(),r.usWinAscent=n.parseUShort(),r.usWinDescent=n.parseUShort(),1<=r.version&&(r.ulCodePageRange1=n.parseULong(),r.ulCodePageRange2=n.parseULong()),2<=r.version&&(r.sxHeight=n.parseShort(),r.sCapHeight=n.parseShort(),r.usDefaultChar=n.parseUShort(),r.usBreakChar=n.parseUShort(),r.usMaxContent=n.parseUShort()),r},st=function(e){return new X.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],e)},lt=function(e){for(var t=0;t<ot.length;t+=1){var r=ot[t];if(e>=r.begin&&e<r.end)return t}return-1},ut=function(e,t){var r={},n=new ne.Parser(e,t);switch(r.version=n.parseVersion(),r.italicAngle=n.parseFixed(),r.underlinePosition=n.parseShort(),r.underlineThickness=n.parseShort(),r.isFixedPitch=n.parseULong(),r.minMemType42=n.parseULong(),r.maxMemType42=n.parseULong(),r.minMemType1=n.parseULong(),r.maxMemType1=n.parseULong(),r.version){case 1:r.names=ue.slice();break;case 2:r.numberOfGlyphs=n.parseUShort(),r.glyphNameIndex=new Array(r.numberOfGlyphs);for(var i=0;i<r.numberOfGlyphs;i++)r.glyphNameIndex[i]=n.parseUShort();r.names=[];for(var o,a=0;a<r.numberOfGlyphs;a++)r.glyphNameIndex[a]>=ue.length&&(o=n.parseChar(),r.names.push(n.parseString(o)));break;case 2.5:r.numberOfGlyphs=n.parseUShort(),r.offset=new Array(r.numberOfGlyphs);for(var s=0;s<r.numberOfGlyphs;s++)r.offset[s]=n.parseChar()}return r},ct=function(){return new X.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])},dt=new Array(9),ft=(dt[1]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();return 1===t?{substFormat:1,coverage:this.parsePointer(te.coverage),deltaGlyphId:this.parseUShort()}:2===t?{substFormat:2,coverage:this.parsePointer(te.coverage),substitute:this.parseOffset16List()}:void k.assert(!1,"0x"+e.toString(16)+": lookup type 1 format must be 1 or 2.")},dt[2]=function(){var e=this.parseUShort();return k.argument(1===e,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(te.coverage),sequences:this.parseListOfLists()}},dt[3]=function(){var e=this.parseUShort();return k.argument(1===e,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(te.coverage),alternateSets:this.parseListOfLists()}},dt[4]=function(){var e=this.parseUShort();return k.argument(1===e,"GSUB ligature table identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(te.coverage),ligatureSets:this.parseListOfLists((function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}}))}},{sequenceIndex:te.uShort,lookupListIndex:te.uShort});dt[5]=function(){var e,t,r=this.offset+this.relativeOffset,n=this.parseUShort();return 1===n?{substFormat:n,coverage:this.parsePointer(te.coverage),ruleSets:this.parseListOfLists((function(){var e=this.parseUShort(),t=this.parseUShort();return{input:this.parseUShortList(e-1),lookupRecords:this.parseRecordList(t,ft)}}))}:2===n?{substFormat:n,coverage:this.parsePointer(te.coverage),classDef:this.parsePointer(te.classDef),classSets:this.parseListOfLists((function(){var e=this.parseUShort(),t=this.parseUShort();return{classes:this.parseUShortList(e-1),lookupRecords:this.parseRecordList(t,ft)}}))}:3===n?(e=this.parseUShort(),t=this.parseUShort(),{substFormat:n,coverages:this.parseList(e,te.pointer(te.coverage)),lookupRecords:this.parseRecordList(t,ft)}):void k.assert(!1,"0x"+r.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},dt[6]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();return 1===t?{substFormat:1,coverage:this.parsePointer(te.coverage),chainRuleSets:this.parseListOfLists((function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(ft)}}))}:2===t?{substFormat:2,coverage:this.parsePointer(te.coverage),backtrackClassDef:this.parsePointer(te.classDef),inputClassDef:this.parsePointer(te.classDef),lookaheadClassDef:this.parsePointer(te.classDef),chainClassSet:this.parseListOfLists((function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(ft)}}))}:3===t?{substFormat:3,backtrackCoverage:this.parseList(te.pointer(te.coverage)),inputCoverage:this.parseList(te.pointer(te.coverage)),lookaheadCoverage:this.parseList(te.pointer(te.coverage)),lookupRecords:this.parseRecordList(ft)}:void k.assert(!1,"0x"+e.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},dt[7]=function(){var e=this.parseUShort(),t=(e=(k.argument(1===e,"GSUB Extension Substitution subtable identifier-format must be 1"),this.parseUShort()),new te(this.data,this.offset+this.parseULong()));return{substFormat:1,lookupType:e,extension:dt[e].call(t)}},dt[8]=function(){var e=this.parseUShort();return k.argument(1===e,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(te.coverage),backtrackCoverage:this.parseList(te.pointer(te.coverage)),lookaheadCoverage:this.parseList(te.pointer(te.coverage)),substitutes:this.parseUShortList()}};var ht=new Array(9);ht[1]=function(e){return 1===e.substFormat?new X.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new X.Coverage(e.coverage)},{name:"deltaGlyphID",type:"USHORT",value:e.deltaGlyphId}]):new X.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new X.Coverage(e.coverage)}].concat(X.ushortList("substitute",e.substitute)))},ht[3]=function(e){return k.assert(1===e.substFormat,"Lookup type 3 substFormat must be 1."),new X.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new X.Coverage(e.coverage)}].concat(X.tableList("altSet",e.alternateSets,(function(e){return new X.Table("alternateSetTable",X.ushortList("alternate",e))}))))},ht[4]=function(e){return k.assert(1===e.substFormat,"Lookup type 4 substFormat must be 1."),new X.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new X.Coverage(e.coverage)}].concat(X.tableList("ligSet",e.ligatureSets,(function(e){return new X.Table("ligatureSetTable",X.tableList("ligature",e,(function(e){return new X.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:e.ligGlyph}].concat(X.ushortList("component",e.components,e.components.length+1)))})))}))))};var pt=function(e,t){return t=(e=new te(e,t=t||0)).parseVersion(1),k.argument(1===t||1.1===t,"Unsupported GSUB table version."),1===t?{version:t,scripts:e.parseScriptList(),features:e.parseFeatureList(),lookups:e.parseLookupList(dt)}:{version:t,scripts:e.parseScriptList(),features:e.parseFeatureList(),lookups:e.parseLookupList(dt),variations:e.parseFeatureVariationsList()}},mt=function(e){return new X.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new X.ScriptList(e.scripts)},{name:"features",type:"TABLE",value:new X.FeatureList(e.features)},{name:"lookups",type:"TABLE",value:new X.LookupList(e.lookups,ht)}])},gt=function(e,t){for(var r=new ne.Parser(e,t),n=r.parseULong(),i=(k.argument(1===n,"Unsupported META table version."),r.parseULong(),r.parseULong(),r.parseULong()),o={},a=0;a<i;a++){var s=r.parseTag(),l=r.parseULong(),u=r.parseULong();l=P.UTF8(e,t+l,u);o[s]=l}return o},yt=function(e){var t,r=Object.keys(e).length,n="",i=16+12*r,o=new X.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:i},{name:"numTags",type:"ULONG",value:r}]);for(t in e){var a=n.length;n+=e[t],o.fields.push({name:"tag "+t,type:"TAG",value:t}),o.fields.push({name:"offset "+t,type:"ULONG",value:i+a}),o.fields.push({name:"length "+t,type:"ULONG",value:e[t].length})}return o.fields.push({name:"stringPool",type:"CHARARRAY",value:n}),o};function vt(e){return Math.log(e)/Math.log(2)|0}function bt(e){for(;e.length%4!=0;)e.push(0);for(var t=0,r=0;r<e.length;r+=4)t+=(e[r]<<24)+(e[r+1]<<16)+(e[r+2]<<8)+e[r+3];return t%Math.pow(2,32)}function _t(e,t,r,n){return new X.Record("Table Record",[{name:"tag",type:"TAG",value:void 0!==e?e:""},{name:"checkSum",type:"ULONG",value:void 0!==t?t:0},{name:"offset",type:"ULONG",value:void 0!==r?r:0},{name:"length",type:"ULONG",value:void 0!==n?n:0}])}function wt(e){for(var t=new X.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),r=(t.tables=e,t.numTables=e.length,Math.pow(2,vt(t.numTables))),n=(t.searchRange=16*r,t.entrySelector=vt(r),t.rangeShift=16*t.numTables-t.searchRange,[]),i=[],o=t.sizeOf()+_t().sizeOf()*t.numTables;o%4!=0;)o+=1,i.push({name:"padding",type:"BYTE",value:0});for(var a=0;a<e.length;a+=1){var s=e[a],l=(k.argument(4===s.tableName.length,"Table name"+s.tableName+" is invalid."),s.sizeOf()),u=_t(s.tableName,bt(s.encode()),o,l);for(n.push({name:u.tag+" Table Record",type:"RECORD",value:u}),i.push({name:s.tableName+" table",type:"RECORD",value:s}),o+=l,k.argument(!isNaN(o),"Something went wrong calculating the offset.");o%4!=0;)o+=1,i.push({name:"padding",type:"BYTE",value:0})}return n.sort((function(e,t){return e.value.tag>t.value.tag?1:-1})),t.fields=t.fields.concat(n),t.fields=t.fields.concat(i),t}function Et(e,t,r){for(var n=0;n<t.length;n+=1){var i=e.charToGlyphIndex(t[n]);if(0<i)return e.glyphs.get(i).getMetrics()}return r}var xt=function(e){for(var t,r=[],n=[],i=[],o=[],a=[],s=[],l=[],u=0,c=0,d=0,f=0,h=0,p=0;p<e.glyphs.length;p+=1){var m=e.glyphs.get(p),g=0|m.unicode;if(isNaN(m.advanceWidth))throw new Error("Glyph "+m.name+" ("+p+"): advanceWidth is not a number.");if((g<t||void 0===t)&&0<g&&(t=g),u<g&&(u=g),(g=lt(g))<32)c|=1<<g;else if(g<64)d|=1<<g-32;else if(g<96)f|=1<<g-64;else{if(!(g<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");h|=1<<g-96}".notdef"!==m.name&&(g=m.getMetrics(),r.push(g.xMin),n.push(g.yMin),i.push(g.xMax),o.push(g.yMax),s.push(g.leftSideBearing),l.push(g.rightSideBearing),a.push(m.advanceWidth))}var y,v={xMin:Math.min.apply(null,r),yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,i),yMax:Math.max.apply(null,o),advanceWidthMax:Math.max.apply(null,a),advanceWidthAvg:function(e){for(var t=0,r=0;r<e.length;r+=1)t+=e[r];return t/e.length}(a),minLeftSideBearing:Math.min.apply(null,s),maxLeftSideBearing:Math.max.apply(null,s),minRightSideBearing:Math.min.apply(null,l)},b=(v.ascender=e.ascender,v.descender=e.descender,De({flags:3,unitsPerEm:e.unitsPerEm,xMin:v.xMin,yMin:v.yMin,xMax:v.xMax,yMax:v.yMax,lowestRecPPEM:3,createdTimestamp:e.createdTimestamp})),_=Ue({ascender:v.ascender,descender:v.descender,advanceWidthMax:v.advanceWidthMax,minLeftSideBearing:v.minLeftSideBearing,minRightSideBearing:v.minRightSideBearing,xMaxExtent:v.maxLeftSideBearing+(v.xMax-v.xMin),numberOfHMetrics:e.glyphs.length}),w=We(e.glyphs.length),E=st({xAvgCharWidth:Math.round(v.advanceWidthAvg),usWeightClass:e.tables.os2.usWeightClass,usWidthClass:e.tables.os2.usWidthClass,usFirstCharIndex:t,usLastCharIndex:u,ulUnicodeRange1:c,ulUnicodeRange2:d,ulUnicodeRange3:f,ulUnicodeRange4:h,fsSelection:e.tables.os2.fsSelection,sTypoAscender:v.ascender,sTypoDescender:v.descender,sTypoLineGap:0,usWinAscent:v.yMax,usWinDescent:Math.abs(v.yMin),ulCodePageRange1:1,sxHeight:Et(e,"xyvw",{yMax:Math.round(v.ascender/2)}).yMax,sCapHeight:Et(e,"HIKLEFJMNTZBDPRAGOQSUVWXY",v).yMax,usDefaultChar:e.hasChar(" ")?32:0,usBreakChar:e.hasChar(" ")?32:0}),x=Ge(e.glyphs),S=oe(e.glyphs),T=(k=e.getEnglishName("fontFamily"))+" "+(P=e.getEnglishName("fontSubfamily")),A=(A=e.getEnglishName("postScriptName"))||k.replace(/\s/g,"")+"-"+P,M={};for(y in e.names)M[y]=e.names[y];M.uniqueID||(M.uniqueID={en:e.getEnglishName("manufacturer")+":"+T}),M.postScriptName||(M.postScriptName={en:A}),M.preferredFamily||(M.preferredFamily=e.names.fontFamily),M.preferredSubfamily||(M.preferredSubfamily=e.names.fontSubfamily);var R=it(M,C=[]),C=0<C.length?ze(C):void 0,I=ct(),k=(T=Ne(e.glyphs,{version:e.getEnglishName("version"),fullName:T,familyName:k,weightName:P,postScriptName:A,unitsPerEm:e.unitsPerEm,fontBBox:[0,v.yMin,v.ascender,v.advanceWidthMax]}),e.metas&&0<Object.keys(e.metas).length?yt(e.metas):void 0),P=[b,_,w,E,R,S,I,T,x];C&&P.push(C),e.tables.gsub&&P.push(mt(e.tables.gsub)),k&&P.push(k);for(var O=bt((A=wt(P)).encode()),j=A.fields,N=!1,L=0;L<j.length;L+=1)if("head table"===j[L].name){j[L].value.checkSumAdjustment=2981146554-O,N=!0;break}if(N)return A;throw new Error("Could not find head table with checkSum to adjust.")};function St(e,t){for(var r=0,n=e.length-1;r<=n;){var i=r+n>>>1,o=e[i].tag;if(o===t)return i;o<t?r=1+i:n=i-1}return-r-1}function Tt(e,t){for(var r=0,n=e.length-1;r<=n;){var i=r+n>>>1,o=e[i];if(o===t)return i;o<t?r=1+i:n=i-1}return-r-1}function At(e,t){for(var r=0,n=e.length-1;r<=n;){var i,o=r+n>>>1,a=(i=e[o]).start;if(a===t)return i;a<t?r=1+o:n=o-1}if(0<r)return t>(i=e[r-1]).end?0:i}function Mt(e,t){this.font=e,this.tableName=t}function Rt(e){Mt.call(this,e,"gpos")}function Ct(e){Mt.call(this,e,"gsub")}function It(e,t,r){for(var n=e.subtables,i=0;i<n.length;i++){var o=n[i];if(o.substFormat===t)return o}if(r)return n.push(r),r}function kt(e){for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n<e.length;++n)r[n]=e[n];return t}function Pt(e,t){if(!e)throw t}function Ot(e,t,r,n,i){var o=0<(t&n)?(o=e.parseByte(),r+(o=0==(t&i)?-o:o)):0<(t&i)?r:r+e.parseShort();return o}function jt(e,t,r){var n,i=new ne.Parser(t,r);if(e.numberOfContours=i.parseShort(),e._xMin=i.parseShort(),e._yMin=i.parseShort(),e._xMax=i.parseShort(),e._yMax=i.parseShort(),0<e.numberOfContours){for(var o=e.endPointIndices=[],a=0;a<e.numberOfContours;a+=1)o.push(i.parseUShort());e.instructionLength=i.parseUShort(),e.instructions=[];for(var s=0;s<e.instructionLength;s+=1)e.instructions.push(i.parseByte());for(var l=o[o.length-1]+1,u=[],c=0;c<l;c+=1)if(n=i.parseByte(),u.push(n),0<(8&n))for(var d=i.parseByte(),f=0;f<d;f+=1)u.push(n),c+=1;if(k.argument(u.length===l,"Bad flags."),0<o.length){var h,p=[];if(0<l){for(var m=0;m<l;m+=1)n=u[m],(h={}).onCurve=!!(1&n),h.lastPointOfContour=0<=o.indexOf(m),p.push(h);for(var g=0,y=0;y<l;y+=1)n=u[y],(h=p[y]).x=Ot(i,n,g,2,16),g=h.x;for(var v=0,b=0;b<l;b+=1)n=u[b],(h=p[b]).y=Ot(i,n,v,4,32),v=h.y}e.points=p}else e.points=[]}else if(0===e.numberOfContours)e.points=[];else{e.isComposite=!0,e.points=[],e.components=[];for(var _=!0;_;){u=i.parseUShort();var w={glyphIndex:i.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&u)?0<(2&u)?(w.dx=i.parseShort(),w.dy=i.parseShort()):w.matchedPoints=[i.parseUShort(),i.parseUShort()]:0<(2&u)?(w.dx=i.parseChar(),w.dy=i.parseChar()):w.matchedPoints=[i.parseByte(),i.parseByte()],0<(8&u)?w.xScale=w.yScale=i.parseF2Dot14():0<(64&u)?(w.xScale=i.parseF2Dot14(),w.yScale=i.parseF2Dot14()):0<(128&u)&&(w.xScale=i.parseF2Dot14(),w.scale01=i.parseF2Dot14(),w.scale10=i.parseF2Dot14(),w.yScale=i.parseF2Dot14()),e.components.push(w),_=!!(32&u)}if(256&u){e.instructionLength=i.parseUShort(),e.instructions=[];for(var E=0;E<e.instructionLength;E+=1)e.instructions.push(i.parseByte())}}}function Nt(e,t){for(var r=[],n=0;n<e.length;n+=1){var i=e[n];i={x:t.xScale*i.x+t.scale01*i.y+t.dx,y:t.scale10*i.x+t.yScale*i.y+t.dy,onCurve:i.onCurve,lastPointOfContour:i.lastPointOfContour};r.push(i)}return r}function Lt(e){var t=new R;if(e)for(var r=function(e){for(var t=[],r=[],n=0;n<e.length;n+=1){var i=e[n];r.push(i),i.lastPointOfContour&&(t.push(r),r=[])}return k.argument(0===r.length,"There are still points left in the current contour."),t}(e),n=0;n<r.length;++n){var i,o=r[n],a=o[o.length-1],s=o[0];a.onCurve?t.moveTo(a.x,a.y):s.onCurve?t.moveTo(s.x,s.y):(i={x:.5*(a.x+s.x),y:.5*(a.y+s.y)},t.moveTo(i.x,i.y));for(var l=0;l<o.length;++l){var u,c=a;a=s,s=o[(l+1)%o.length];a.onCurve?t.lineTo(a.x,a.y):(u=s,c.onCurve||(a.x,c.x,a.y,c.y),s.onCurve||(u={x:.5*(a.x+s.x),y:.5*(a.y+s.y)}),t.quadraticCurveTo(a.x,a.y,u.x,u.y))}t.closePath()}return t}function Dt(e,t){if(t.isComposite)for(var r=0;r<t.components.length;r+=1){var n=t.components[r],i=e.get(n.glyphIndex);if(i.getPath(),i.points){var o=void 0;if(void 0===n.matchedPoints)o=Nt(i.points,n);else{if(n.matchedPoints[0]>t.points.length-1||n.matchedPoints[1]>i.points.length-1)throw Error("Matched points out of range in "+t.name);var a=t.points[n.matchedPoints[0]],s=Nt([s=i.points[n.matchedPoints[1]]],n={xScale:n.xScale,scale01:n.scale01,scale10:n.scale10,yScale:n.yScale,dx:0,dy:0})[0];n.dx=a.x-s.x,n.dy=a.y-s.y,o=Nt(i.points,n)}t.points=t.points.concat(o)}}return Lt(t.points)}(Rt.prototype=Mt.prototype={searchTag:St,binSearch:Tt,getTable:function(e){var t=this.font.tables[this.tableName];return!t&&e?this.font.tables[this.tableName]=this.createDefaultTable():t},getScriptNames:function(){var e=this.getTable();return e?e.scripts.map((function(e){return e.tag})):[]},getDefaultScriptName:function(){var e=this.getTable();if(e){for(var t=!1,r=0;r<e.scripts.length;r++){var n=e.scripts[r].tag;if("DFLT"===n)return n;"latn"===n&&(t=!0)}return t?"latn":void 0}},getScriptTable:function(e,t){var r,n=this.getTable(t);if(n)return r=n.scripts,0<=(n=St(n.scripts,e=e||"DFLT"))?r[n].script:t?(r.splice(-1-n,0,t={tag:e,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),t.script):void 0},getLangSysTable:function(e,t,r){var n;if(e=this.getScriptTable(e,r))return t&&"dflt"!==t&&"DFLT"!==t?0<=(n=St(e.langSysRecords,t))?e.langSysRecords[n].langSys:r?(e.langSysRecords.splice(-1-n,0,r={tag:t,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),r.langSys):void 0:e.defaultLangSys},getFeatureTable:function(e,t,r,n){if(e=this.getLangSysTable(e,t,n)){for(var i,o=e.featureIndexes,a=this.font.tables[this.tableName].features,s=0;s<o.length;s++)if((i=a[o[s]]).tag===r)return i.feature;if(n)return t=a.length,k.assert(0===t||r>=a[t-1].tag,"Features must be added in alphabetical order."),a.push(i={tag:r,feature:{params:0,lookupListIndexes:[]}}),o.push(t),i.feature}},getLookupTables:function(e,t,r,n,i){var o=[];if(e=this.getFeatureTable(e,t,r,i)){for(var a,s=e.lookupListIndexes,l=this.font.tables[this.tableName].lookups,u=0;u<s.length;u++)(a=l[s[u]]).lookupType===n&&o.push(a);if(0===o.length&&i)return t=l.length,l.push(a={lookupType:n,lookupFlag:0,subtables:[],markFilteringSet:void 0}),s.push(t),[a]}return o},getGlyphClass:function(e,t){switch(e.format){case 1:return e.startGlyph<=t&&t<e.startGlyph+e.classes.length?e.classes[t-e.startGlyph]:0;case 2:var r=At(e.ranges,t);return r?r.classId:0}},getCoverageIndex:function(e,t){switch(e.format){case 1:var r=Tt(e.glyphs,t);return 0<=r?r:-1;case 2:return(r=At(e.ranges,t))?r.index+t-r.start:-1}},expandCoverage:function(e){if(1===e.format)return e.glyphs;for(var t=[],r=e.ranges,n=0;n<r.length;n++)for(var i=r[n],o=i.start,a=i.end,s=o;s<=a;s++)t.push(s);return t}}).init=function(){var e=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(e)},Rt.prototype.getKerningValue=function(e,t,r){for(var n=0;n<e.length;n++)for(var i=e[n].subtables,o=0;o<i.length;o++){var a=i[o],s=this.getCoverageIndex(a.coverage,t);if(!(s<0))switch(a.posFormat){case 1:for(var l=a.pairSets[s],u=0;u<l.length;u++){var c=l[u];if(c.secondGlyph===r)return c.value1&&c.value1.xAdvance||0}break;case 2:var d=this.getGlyphClass(a.classDef1,t),f=this.getGlyphClass(a.classDef2,r);return(d=a.classRecords[d][f]).value1&&d.value1.xAdvance||0}}return 0},Rt.prototype.getKerningTables=function(e,t){if(this.font.tables.gpos)return this.getLookupTables(e,t,"kern",2)},(Ct.prototype=Mt.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},Ct.prototype.getSingle=function(e,t,r){for(var n=[],i=this.getLookupTables(t,r,e,1),o=0;o<i.length;o++)for(var a=i[o].subtables,s=0;s<a.length;s++){var l=a[s],u=this.expandCoverage(l.coverage),c=void 0;if(1===l.substFormat){var d=l.deltaGlyphId;for(c=0;c<u.length;c++){var f=u[c];n.push({sub:f,by:f+d})}}else{var h=l.substitute;for(c=0;c<u.length;c++)n.push({sub:u[c],by:h[c]})}}return n},Ct.prototype.getAlternates=function(e,t,r){for(var n=[],i=this.getLookupTables(t,r,e,3),o=0;o<i.length;o++)for(var a=i[o].subtables,s=0;s<a.length;s++)for(var l=a[s],u=this.expandCoverage(l.coverage),c=l.alternateSets,d=0;d<u.length;d++)n.push({sub:u[d],by:c[d]});return n},Ct.prototype.getLigatures=function(e,t,r){for(var n=[],i=this.getLookupTables(t,r,e,4),o=0;o<i.length;o++)for(var a=i[o].subtables,s=0;s<a.length;s++)for(var l=a[s],u=this.expandCoverage(l.coverage),c=l.ligatureSets,d=0;d<u.length;d++)for(var f=u[d],h=c[d],p=0;p<h.length;p++){var m=h[p];n.push({sub:[f].concat(m.components),by:m.ligGlyph})}return n},Ct.prototype.addSingle=function(e,t,r,n){r=It(this.getLookupTables(r,n,e,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]}),k.assert(1===r.coverage.format,"Ligature: unable to modify coverage table format "+r.coverage.format),n=t.sub,(e=this.binSearch(r.coverage.glyphs,n))<0&&(r.coverage.glyphs.splice(e=-1-e,0,n),r.substitute.splice(e,0,0)),r.substitute[e]=t.by},Ct.prototype.addAlternate=function(e,t,r,n){r=It(this.getLookupTables(r,n,e,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]}),k.assert(1===r.coverage.format,"Ligature: unable to modify coverage table format "+r.coverage.format),n=t.sub,(e=this.binSearch(r.coverage.glyphs,n))<0&&(r.coverage.glyphs.splice(e=-1-e,0,n),r.alternateSets.splice(e,0,0)),r.alternateSets[e]=t.by},Ct.prototype.addLigature=function(e,t,r,n){(n=(r=this.getLookupTables(r,n,e,4,!0)[0]).subtables[0])||(r.subtables[0]=n={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),k.assert(1===n.coverage.format,"Ligature: unable to modify coverage table format "+n.coverage.format),e=t.sub[0];var i=t.sub.slice(1);r={ligGlyph:t.by,components:i};if(0<=(t=this.binSearch(n.coverage.glyphs,e))){for(var o=n.ligatureSets[t],a=0;a<o.length;a++)if(function(e,t){var r=e.length;if(r===t.length){for(var n=0;n<r;n++)if(e[n]!==t[n])return;return 1}}(o[a].components,i))return;o.push(r)}else n.coverage.glyphs.splice(t=-1-t,0,e),n.ligatureSets.splice(t,0,[r])},Ct.prototype.getFeature=function(e,t,r){if(/ss\d\d/.test(e))return this.getSingle(e,t,r);switch(e){case"aalt":case"salt":return this.getSingle(e,t,r).concat(this.getAlternates(e,t,r));case"dlig":case"liga":case"rlig":return this.getLigatures(e,t,r)}},Ct.prototype.add=function(e,t,r,n){if(/ss\d\d/.test(e))return this.addSingle(e,t,r,n);switch(e){case"aalt":case"salt":return"number"==typeof t.by?this.addSingle(e,t,r,n):this.addAlternate(e,t,r,n);case"dlig":case"liga":case"rlig":return this.addLigature(e,t,r,n)}};var Ft={getPath:Lt,parse:function(e,t,r,n){for(var i=new ve.GlyphSet(n),o=0;o<r.length-1;o+=1){var a=r[o];a!==r[o+1]?i.push(o,ve.ttfGlyphLoader(n,o,jt,e,t+a,Dt)):i.push(o,ve.glyphLoader(n,o))}return i}};function Ut(e){this.font=e,this.getCommands=function(e){return Ft.getPath(e).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function Bt(e){return e}function Gt(e){return Math.sign(e)*Math.round(Math.abs(e))}function zt(e){return Math.sign(e)*Math.round(Math.abs(2*e))/2}function Vt(e){return Math.sign(e)*(Math.round(Math.abs(e)+.5)-.5)}function Ht(e){return Math.sign(e)*Math.ceil(Math.abs(e))}function Wt(e){return Math.sign(e)*Math.floor(Math.abs(e))}function Zt(e){var t=this.srPeriod,r=this.srPhase,n=1;return e<0&&(e=-e,n=-1),e+=this.srThreshold-r,e=Math.trunc(e/t)*t,(e+=r)<0?r*n:e*n}var qt={x:1,y:0,axis:"x",distance:function(e,t,r,n){return(r?e.xo:e.x)-(n?t.xo:t.x)},interpolate:function(e,t,r,n){var i,o,a,s,l,u,c;if(!n||n===this)return i=e.xo-t.xo,o=e.xo-r.xo,l=t.x-t.xo,u=r.x-r.xo,0===(c=(a=Math.abs(i))+(s=Math.abs(o)))?void(e.x=e.xo+(l+u)/2):void(e.x=e.xo+(l*s+u*a)/c);i=n.distance(e,t,!0,!0),o=n.distance(e,r,!0,!0),l=n.distance(t,t,!1,!0),u=n.distance(r,r,!1,!0),0===(c=(a=Math.abs(i))+(s=Math.abs(o)))?qt.setRelative(e,e,(l+u)/2,n,!0):qt.setRelative(e,e,(l*s+u*a)/c,n,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(e,t,r,n,i){var o,a;n&&n!==this?(o=i?t.xo:t.x,a=i?t.yo:t.y,o+=r*n.x,a+=r*n.y,e.x=o+(e.y-a)/n.normalSlope):e.x=(i?t.xo:t.x)+r},slope:0,touch:function(e){e.xTouched=!0},touched:function(e){return e.xTouched},untouch:function(e){e.xTouched=!1}},Yt={x:0,y:1,axis:"y",distance:function(e,t,r,n){return(r?e.yo:e.y)-(n?t.yo:t.y)},interpolate:function(e,t,r,n){var i,o,a,s,l,u,c;if(!n||n===this)return i=e.yo-t.yo,o=e.yo-r.yo,l=t.y-t.yo,u=r.y-r.yo,0===(c=(a=Math.abs(i))+(s=Math.abs(o)))?void(e.y=e.yo+(l+u)/2):void(e.y=e.yo+(l*s+u*a)/c);i=n.distance(e,t,!0,!0),o=n.distance(e,r,!0,!0),l=n.distance(t,t,!1,!0),u=n.distance(r,r,!1,!0),0===(c=(a=Math.abs(i))+(s=Math.abs(o)))?Yt.setRelative(e,e,(l+u)/2,n,!0):Yt.setRelative(e,e,(l*s+u*a)/c,n,!0)},normalSlope:0,setRelative:function(e,t,r,n,i){var o,a;n&&n!==this?(o=i?t.xo:t.x,a=i?t.yo:t.y,o+=r*n.x,a+=r*n.y,e.y=a+n.normalSlope*(e.x-o)):e.y=(i?t.yo:t.y)+r},slope:Number.POSITIVE_INFINITY,touch:function(e){e.yTouched=!0},touched:function(e){return e.yTouched},untouch:function(e){e.yTouched=!1}};function Xt(e,t){this.x=e,this.y=t,this.axis=void 0,this.slope=t/e,this.normalSlope=-e/t,Object.freeze(this)}function Kt(e,t){var r=Math.sqrt(e*e+t*t);return t/=r,1===(e/=r)&&0===t?qt:0===e&&1===t?Yt:new Xt(e,t)}function Qt(e,t,r,n){this.x=this.xo=Math.round(64*e)/64,this.y=this.yo=Math.round(64*t)/64,this.lastPointOfContour=r,this.onCurve=n,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(qt),Object.freeze(Yt),Xt.prototype.distance=function(e,t,r,n){return this.x*qt.distance(e,t,r,n)+this.y*Yt.distance(e,t,r,n)},Xt.prototype.interpolate=function(e,t,r,n){var i=n.distance(e,t,!0,!0),o=n.distance(e,r,!0,!0),a=(t=n.distance(t,t,!1,!0),r=n.distance(r,r,!1,!0),(i=Math.abs(i))+(o=Math.abs(o)));0===a?this.setRelative(e,e,(t+r)/2,n,!0):this.setRelative(e,e,(t*o+r*i)/a,n,!0)},Xt.prototype.setRelative=function(e,t,r,n,i){var o=i?t.xo:t.x,a=(i=i?t.yo:t.y,t=o+r*(n=n||this).x,o=i+r*n.y,i=n.normalSlope,r=this.slope,n=e.x,e.y);e.x=(r*n-i*t+o-a)/(r-i),e.y=r*(e.x-n)+a},Xt.prototype.touch=function(e){e.xTouched=!0,e.yTouched=!0},Qt.prototype.nextTouched=function(e){for(var t=this.nextPointOnContour;!e.touched(t)&&t!==this;)t=t.nextPointOnContour;return t},Qt.prototype.prevTouched=function(e){for(var t=this.prevPointOnContour;!e.touched(t)&&t!==this;)t=t.prevPointOnContour;return t};var $t=Object.freeze(new Qt(0,0)),Jt={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function er(e,t){switch(this.env=e,this.stack=[],this.prog=t,e){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=qt,this.round=Gt}}function tr(e){for(var t=e.tZone=new Array(e.gZone.length),r=0;r<t.length;r++)t[r]=new Qt(0,0)}function rr(e,t){var r,n=e.prog,i=e.ip,o=1;do{if(88===(r=n[++i]))o++;else if(89===r)o--;else if(64===r)i+=n[i+1]+1;else if(65===r)i+=2*n[i+1]+1;else if(176<=r&&r<=183)i+=r-176+1;else if(184<=r&&r<=191)i+=2*(r-184+1);else if(t&&1===o&&27===r)break}while(0<o);e.ip=i}function nr(e,r){t.DEBUG&&console.log(r.step,"SVTCA["+e.axis+"]"),r.fv=r.pv=r.dpv=e}function ir(e,r){t.DEBUG&&console.log(r.step,"SPVTCA["+e.axis+"]"),r.pv=r.dpv=e}function or(e,r){t.DEBUG&&console.log(r.step,"SFVTCA["+e.axis+"]"),r.fv=e}function ar(e,r){var n,i=(o=r.stack).pop(),o=o.pop(),a=r.z2[i],s=r.z1[o];t.DEBUG&&console.log("SPVTL["+e+"]",i,o),i=e?(n=a.y-s.y,s.x-a.x):(n=s.x-a.x,s.y-a.y),r.pv=r.dpv=Kt(n,i)}function sr(e,r){var n,i=(o=r.stack).pop(),o=o.pop(),a=r.z2[i],s=r.z1[o];t.DEBUG&&console.log("SFVTL["+e+"]",i,o),i=e?(n=a.y-s.y,s.x-a.x):(n=s.x-a.x,s.y-a.y),r.fv=Kt(n,i)}function lr(e){t.DEBUG&&console.log(e.step,"POP[]"),e.stack.pop()}function ur(e,r){var n=r.stack.pop(),i=r.z0[n],o=r.fv,a=r.pv,s=(t.DEBUG&&console.log(r.step,"MDAP["+e+"]",n),a.distance(i,$t));e&&(s=r.round(s)),o.setRelative(i,$t,s,a),o.touch(i),r.rp0=r.rp1=n}function cr(e,r){var n,i,o,a=r.z2,s=a.length-2;t.DEBUG&&console.log(r.step,"IUP["+e.axis+"]");for(var l=0;l<s;l++)n=a[l],e.touched(n)||(i=n.prevTouched(e))!==n&&(i===(o=n.nextTouched(e))&&e.setRelative(n,n,e.distance(i,i,!1,!0),e,!0),e.interpolate(n,i,o,e))}function dr(e,r){for(var n=r.stack,i=e?r.rp1:r.rp2,o=(e?r.z0:r.z1)[i],a=r.fv,s=r.pv,l=r.loop,u=r.z2;l--;){var c=n.pop(),d=u[c],f=s.distance(o,o,!1,!0);a.setRelative(d,d,f,s),a.touch(d),t.DEBUG&&console.log(r.step,(1<r.loop?"loop "+(r.loop-l)+": ":"")+"SHP["+(e?"rp1":"rp2")+"]",c)}r.loop=1}function fr(e,r){for(var n=r.stack,i=e?r.rp1:r.rp2,o=(e?r.z0:r.z1)[i],a=r.fv,s=r.pv,l=(i=n.pop(),r.z2[r.contours[i]]),u=l,c=(t.DEBUG&&console.log(r.step,"SHC["+e+"]",i),s.distance(o,o,!1,!0));u!==o&&a.setRelative(u,u,c,s),(u=u.nextPointOnContour)!==l;);}function hr(e,r){var n,i,o=r.stack,a=e?r.rp1:r.rp2,s=(a=(e?r.z0:r.z1)[a],r.fv),l=r.pv;o=o.pop();switch(t.DEBUG&&console.log(r.step,"SHZ["+e+"]",o),o){case 0:n=r.tZone;break;case 1:n=r.gZone;break;default:throw new Error("Invalid zone")}for(var u=l.distance(a,a,!1,!0),c=n.length-2,d=0;d<c;d++)i=n[d],s.setRelative(i,i,u,l)}function pr(e,r){var n=(i=r.stack).pop()/64,i=i.pop(),o=r.z1[i],a=r.z0[r.rp0],s=r.fv,l=r.pv;s.setRelative(o,a,n,l),s.touch(o),t.DEBUG&&console.log(r.step,"MSIRP["+e+"]",n,i),r.rp1=r.rp0,r.rp2=i,e&&(r.rp0=i)}function mr(e,r){var n=(i=r.stack).pop(),i=i.pop(),o=r.z0[i],a=r.fv,s=r.pv,l=r.cvt[n];t.DEBUG&&console.log(r.step,"MIAP["+e+"]",n,"(",l,")",i),n=s.distance(o,$t);e&&(Math.abs(n-l)<r.cvCutIn&&(n=l),n=r.round(n)),a.setRelative(o,$t,n,s),0===r.zp0&&(o.xo=o.x,o.yo=o.y),a.touch(o),r.rp0=r.rp1=i}function gr(e,r){var n=r.stack,i=n.pop(),o=r.z2[i];t.DEBUG&&console.log(r.step,"GC["+e+"]",i),n.push(64*r.dpv.distance(o,$t,e,!1))}function yr(e,r){var n=(i=r.stack).pop(),i=i.pop(),o=r.z1[n],a=r.z0[i];a=r.dpv.distance(a,o,e,e);t.DEBUG&&console.log(r.step,"MD["+e+"]",n,i,"->",a),r.stack.push(Math.round(64*a))}function vr(e,r){var n=r.stack,i=n.pop(),o=r.fv,a=r.pv,s=r.ppem,l=r.deltaBase+16*(e-1),u=r.deltaShift,c=r.z0;t.DEBUG&&console.log(r.step,"DELTAP["+e+"]",i,n);for(var d=0;d<i;d++){var f=n.pop(),h=n.pop();l+((240&h)>>4)===s&&(0<=(h=(15&h)-8)&&h++,t.DEBUG&&console.log(r.step,"DELTAPFIX",f,"by",h*u),f=c[f],o.setRelative(f,f,h*u,a))}}function br(e,r){var n=r.stack,i=n.pop();t.DEBUG&&console.log(r.step,"ROUND[]"),n.push(64*r.round(i/64))}function _r(e,r){var n=r.stack,i=n.pop(),o=r.ppem,a=r.deltaBase+16*(e-1),s=r.deltaShift;t.DEBUG&&console.log(r.step,"DELTAC["+e+"]",i,n);for(var l=0;l<i;l++){var u=n.pop(),c=n.pop();a+((240&c)>>4)===o&&(0<=(c=(15&c)-8)&&c++,c*=s,t.DEBUG&&console.log(r.step,"DELTACFIX",u,"by",c),r.cvt[u]+=c)}}function wr(e,r){var n,i=(o=r.stack).pop(),o=o.pop(),a=r.z2[i],s=r.z1[o];t.DEBUG&&console.log(r.step,"SDPVTL["+e+"]",i,o),i=e?(n=a.y-s.y,s.x-a.x):(n=s.x-a.x,s.y-a.y),r.dpv=Kt(n,i)}function Er(e,r){var n=r.stack,i=r.prog,o=r.ip;t.DEBUG&&console.log(r.step,"PUSHB["+e+"]");for(var a=0;a<e;a++)n.push(i[++o]);r.ip=o}function xr(e,r){var n=r.ip,i=r.prog,o=r.stack;t.DEBUG&&console.log(r.ip,"PUSHW["+e+"]");for(var a=0;a<e;a++){var s=i[++n]<<8|i[++n];32768&s&&(s=-(1+(65535^s))),o.push(s)}r.ip=n}function Sr(e,r,n,i,o,a){var s,l,u=a.stack,c=e&&u.pop(),d=(u=u.pop(),a.rp0),f=(d=a.z0[d],a.z1[u]),h=a.minDis,p=a.fv,m=a.dpv,g=s=m.distance(f,d,!0,!0),y=0<=g?1:-1;g=Math.abs(g),e&&(l=a.cvt[c],i&&Math.abs(g-l)<a.cvCutIn&&(g=l)),n&&g<h&&(g=h),i&&(g=a.round(g)),p.setRelative(f,d,y*g,m),p.touch(f),t.DEBUG&&console.log(a.step,(e?"MIRP[":"MDRP[")+(r?"M":"m")+(n?">":"_")+(i?"R":"_")+(0===o?"Gr":1===o?"Bl":2===o?"Wh":"")+"]",e?c+"("+a.cvt[c]+","+l+")":"",u,"(d =",s,"->",y*g,")"),a.rp1=a.rp0,a.rp2=u,r&&(a.rp0=u)}Ut.prototype.exec=function(e,r){if("number"!=typeof r)throw new Error("Point size is not a number!");if(!(2<this._errorState)){var n=this.font,i=this._prepState;if(!i||i.ppem!==r){var o=this._fpgmState;if(!o){er.prototype=Jt,(o=this._fpgmState=new er("fpgm",n.tables.fpgm)).funcs=[],o.font=n,t.DEBUG&&(console.log("---EXEC FPGM---"),o.step=-1);try{Mr(o)}catch(e){return console.log("Hinting error in FPGM:"+e),void(this._errorState=3)}}er.prototype=o,(i=this._prepState=new er("prep",n.tables.prep)).ppem=r;var a=n.tables.cvt;if(a)for(var s=i.cvt=new Array(a.length),l=r/n.unitsPerEm,u=0;u<a.length;u++)s[u]=a[u]*l;else i.cvt=[];t.DEBUG&&(console.log("---EXEC PREP---"),i.step=-1);try{Mr(i)}catch(e){this._errorState<2&&console.log("Hinting error in PREP:"+e),this._errorState=2}}if(!(1<this._errorState))try{return Tr(e,i)}catch(e){this._errorState<1&&(console.log("Hinting error:"+e),console.log("Note: further hinting errors are silenced")),this._errorState=1}}};var Tr=function(e,r){var n=r.ppem/r.font.unitsPerEm,i=n,o=e.components;if(er.prototype=r,o){for(var a=r.font,s=[],l=[],u=0;u<o.length;u++){var c=o[u],d=a.glyphs.get(c.glyphIndex),f=new er("glyf",d.instructions);t.DEBUG&&(console.log("---EXEC COMP "+u+"---"),f.step=-1),Ar(d,f,n,i);for(var h=Math.round(c.dx*n),p=Math.round(c.dy*i),m=f.gZone,g=f.contours,y=0;y<m.length;y++){var v=m[y];v.xTouched=v.yTouched=!1,v.xo=v.x=v.x+h,v.yo=v.y=v.y+p}var b=s.length;s.push.apply(s,m);for(var _=0;_<g.length;_++)l.push(g[_]+b)}e.instructions&&!f.inhibitGridFit&&((f=new er("glyf",e.instructions)).gZone=f.z0=f.z1=f.z2=s,f.contours=l,s.push(new Qt(0,0),new Qt(Math.round(e.advanceWidth*n),0)),t.DEBUG&&(console.log("---EXEC COMPOSITE---"),f.step=-1),Mr(f),s.length-=2)}else f=new er("glyf",e.instructions),t.DEBUG&&(console.log("---EXEC GLYPH---"),f.step=-1),Ar(e,f,n,i),s=f.gZone;return s},Ar=function(e,r,n,i){for(var o,a,s,l=e.points||[],u=l.length,c=r.gZone=r.z0=r.z1=r.z2=[],d=r.contours=[],f=0;f<u;f++)o=l[f],c[f]=new Qt(o.x*n,o.y*i,o.lastPointOfContour,o.onCurve);for(var h=0;h<u;h++)o=c[h],a||(a=o,d.push(h)),o.lastPointOfContour?((o.nextPointOnContour=a).prevPointOnContour=o,a=void 0):(s=c[h+1],(o.nextPointOnContour=s).prevPointOnContour=o);if(!r.inhibitGridFit){if(t.DEBUG){console.log("PROCESSING GLYPH",r.stack);for(var p=0;p<u;p++)console.log(p,c[p].x,c[p].y)}if(c.push(new Qt(0,0),new Qt(Math.round(e.advanceWidth*n),0)),Mr(r),c.length-=2,t.DEBUG){console.log("FINISHED GLYPH",r.stack);for(var m=0;m<u;m++)console.log(m,c[m].x,c[m].y)}}},Mr=function(e){var r=e.prog;if(r){var n,i=r.length;for(e.ip=0;e.ip<i;e.ip++){if(t.DEBUG&&e.step++,!(n=Rr[r[e.ip]]))throw new Error("unknown instruction: 0x"+Number(r[e.ip]).toString(16));n(e)}}},Rr=[nr.bind(void 0,Yt),nr.bind(void 0,qt),ir.bind(void 0,Yt),ir.bind(void 0,qt),or.bind(void 0,Yt),or.bind(void 0,qt),ar.bind(void 0,0),ar.bind(void 0,1),sr.bind(void 0,0),sr.bind(void 0,1),function(e){var r=(n=e.stack).pop(),n=n.pop();t.DEBUG&&console.log(e.step,"SPVFS[]",r,n),e.pv=e.dpv=Kt(n,r)},function(e){var r=(n=e.stack).pop(),n=n.pop();t.DEBUG&&console.log(e.step,"SPVFS[]",r,n),e.fv=Kt(n,r)},function(e){var r=e.stack,n=e.pv;t.DEBUG&&console.log(e.step,"GPV[]"),r.push(16384*n.x),r.push(16384*n.y)},function(e){var r=e.stack,n=e.fv;t.DEBUG&&console.log(e.step,"GFV[]"),r.push(16384*n.x),r.push(16384*n.y)},function(e){e.fv=e.pv,t.DEBUG&&console.log(e.step,"SFVTPV[]")},function(e){var r=(a=e.stack).pop(),n=a.pop(),i=a.pop(),o=a.pop(),a=a.pop(),s=e.z0,l=e.z1,u=s[r],c=(s=s[n],l[i]),d=(l=l[o],e=e.z2[a],r=(t.DEBUG&&console.log("ISECT[], ",r,n,i,o,a),u.x),n=u.y,i=s.x,o=s.y,a=c.x,u=c.y,s=l.x,l=(r-i)*(u-(c=l.y))-(n-o)*(a-s),r*o-n*i),f=a*c-u*s;e.x=(d*(a-s)-f*(r-i))/l,e.y=(d*(u-c)-f*(n-o))/l},function(e){e.rp0=e.stack.pop(),t.DEBUG&&console.log(e.step,"SRP0[]",e.rp0)},function(e){e.rp1=e.stack.pop(),t.DEBUG&&console.log(e.step,"SRP1[]",e.rp1)},function(e){e.rp2=e.stack.pop(),t.DEBUG&&console.log(e.step,"SRP2[]",e.rp2)},function(e){var r=e.stack.pop();switch(t.DEBUG&&console.log(e.step,"SZP0[]",r),e.zp0=r){case 0:e.tZone||tr(e),e.z0=e.tZone;break;case 1:e.z0=e.gZone;break;default:throw new Error("Invalid zone pointer")}},function(e){var r=e.stack.pop();switch(t.DEBUG&&console.log(e.step,"SZP1[]",r),e.zp1=r){case 0:e.tZone||tr(e),e.z1=e.tZone;break;case 1:e.z1=e.gZone;break;default:throw new Error("Invalid zone pointer")}},function(e){var r=e.stack.pop();switch(t.DEBUG&&console.log(e.step,"SZP2[]",r),e.zp2=r){case 0:e.tZone||tr(e),e.z2=e.tZone;break;case 1:e.z2=e.gZone;break;default:throw new Error("Invalid zone pointer")}},function(e){var r=e.stack.pop();switch(t.DEBUG&&console.log(e.step,"SZPS[]",r),e.zp0=e.zp1=e.zp2=r){case 0:e.tZone||tr(e),e.z0=e.z1=e.z2=e.tZone;break;case 1:e.z0=e.z1=e.z2=e.gZone;break;default:throw new Error("Invalid zone pointer")}},function(e){e.loop=e.stack.pop(),t.DEBUG&&console.log(e.step,"SLOOP[]",e.loop)},function(e){t.DEBUG&&console.log(e.step,"RTG[]"),e.round=Gt},function(e){t.DEBUG&&console.log(e.step,"RTHG[]"),e.round=Vt},function(e){var r=e.stack.pop();t.DEBUG&&console.log(e.step,"SMD[]",r),e.minDis=r/64},function(e){t.DEBUG&&console.log(e.step,"ELSE[]"),rr(e,!1)},function(e){var r=e.stack.pop();t.DEBUG&&console.log(e.step,"JMPR[]",r),e.ip+=r-1},function(e){var r=e.stack.pop();t.DEBUG&&console.log(e.step,"SCVTCI[]",r),e.cvCutIn=r/64},void 0,void 0,function(e){var r=e.stack;t.DEBUG&&console.log(e.step,"DUP[]"),r.push(r[r.length-1])},lr,function(e){t.DEBUG&&console.log(e.step,"CLEAR[]"),e.stack.length=0},function(e){var r=e.stack,n=r.pop(),i=r.pop();t.DEBUG&&console.log(e.step,"SWAP[]"),r.push(n),r.push(i)},function(e){var r=e.stack;t.DEBUG&&console.log(e.step,"DEPTH[]"),r.push(r.length)},function(e){var r=e.stack,n=r.pop();t.DEBUG&&console.log(e.step,"CINDEX[]",n),r.push(r[r.length-n])},function(e){var r=e.stack,n=r.pop();t.DEBUG&&console.log(e.step,"MINDEX[]",n),r.push(r.splice(r.length-n,1)[0])},void 0,void 0,void 0,function(e){var r=(i=e.stack).pop(),n=i.pop(),i=(t.DEBUG&&console.log(e.step,"LOOPCALL[]",r,n),e.ip),o=e.prog;e.prog=e.funcs[r];for(var a=0;a<n;a++)Mr(e),t.DEBUG&&console.log(++e.step,a+1<n?"next loopcall":"done loopcall",a);e.ip=i,e.prog=o},function(e){var r=e.stack.pop(),n=(t.DEBUG&&console.log(e.step,"CALL[]",r),e.ip),i=e.prog;e.prog=e.funcs[r],Mr(e),e.ip=n,e.prog=i,t.DEBUG&&console.log(++e.step,"returning from",r)},function(e){if("fpgm"!==e.env)throw new Error("FDEF not allowed here");var r=e.stack,n=e.prog,i=e.ip,o=(r=r.pop(),i);for(t.DEBUG&&console.log(e.step,"FDEF[]",r);45!==n[++i];);e.ip=i,e.funcs[r]=n.slice(o+1,i)},void 0,ur.bind(void 0,0),ur.bind(void 0,1),cr.bind(void 0,Yt),cr.bind(void 0,qt),dr.bind(void 0,0),dr.bind(void 0,1),fr.bind(void 0,0),fr.bind(void 0,1),hr.bind(void 0,0),hr.bind(void 0,1),function(e){for(var r=e.stack,n=e.loop,i=e.fv,o=r.pop()/64,a=e.z2;n--;){var s=r.pop(),l=a[s];t.DEBUG&&console.log(e.step,(1<e.loop?"loop "+(e.loop-n)+": ":"")+"SHPIX[]",s,o),i.setRelative(l,l,o),i.touch(l)}e.loop=1},function(e){for(var r=e.stack,n=e.rp1,i=e.rp2,o=e.loop,a=e.z0[n],s=e.z1[i],l=e.fv,u=e.dpv,c=e.z2;o--;){var d=r.pop(),f=c[d];t.DEBUG&&console.log(e.step,(1<e.loop?"loop "+(e.loop-o)+": ":"")+"IP[]",d,n,"<->",i),l.interpolate(f,a,s,u),l.touch(f)}e.loop=1},pr.bind(void 0,0),pr.bind(void 0,1),function(e){for(var r=e.stack,n=e.rp0,i=e.z0[n],o=e.loop,a=e.fv,s=e.pv,l=e.z1;o--;){var u=r.pop(),c=l[u];t.DEBUG&&console.log(e.step,(1<e.loop?"loop "+(e.loop-o)+": ":"")+"ALIGNRP[]",u),a.setRelative(c,i,0,s),a.touch(c)}e.loop=1},function(e){t.DEBUG&&console.log(e.step,"RTDG[]"),e.round=zt},mr.bind(void 0,0),mr.bind(void 0,1),function(e){var r=e.prog,n=e.ip,i=e.stack,o=r[++n];t.DEBUG&&console.log(e.step,"NPUSHB[]",o);for(var a=0;a<o;a++)i.push(r[++n]);e.ip=n},function(e){var r=e.ip,n=e.prog,i=e.stack,o=n[++r];t.DEBUG&&console.log(e.step,"NPUSHW[]",o);for(var a=0;a<o;a++){var s=n[++r]<<8|n[++r];32768&s&&(s=-(1+(65535^s))),i.push(s)}e.ip=r},function(e){var r=e.stack,n=(n=e.store)||(e.store=[]),i=r.pop();r=r.pop();t.DEBUG&&console.log(e.step,"WS",i,r),n[r]=i},function(e){var r=e.stack,n=e.store,i=r.pop();t.DEBUG&&console.log(e.step,"RS",i),e=n&&n[i]||0;r.push(e)},function(e){var r=(n=e.stack).pop(),n=n.pop();t.DEBUG&&console.log(e.step,"WCVTP",r,n),e.cvt[n]=r/64},function(e){var r=e.stack,n=r.pop();t.DEBUG&&console.log(e.step,"RCVT",n),r.push(64*e.cvt[n])},gr.bind(void 0,0),gr.bind(void 0,1),void 0,yr.bind(void 0,0),yr.bind(void 0,1),function(e){t.DEBUG&&console.log(e.step,"MPPEM[]"),e.stack.push(e.ppem)},void 0,function(e){t.DEBUG&&console.log(e.step,"FLIPON[]"),e.autoFlip=!0},void 0,void 0,function(e){var r=e.stack,n=r.pop(),i=r.pop();t.DEBUG&&console.log(e.step,"LT[]",n,i),r.push(i<n?1:0)},function(e){var r=e.stack,n=r.pop(),i=r.pop();t.DEBUG&&console.log(e.step,"LTEQ[]",n,i),r.push(i<=n?1:0)},function(e){var r=e.stack,n=r.pop(),i=r.pop();t.DEBUG&&console.log(e.step,"GT[]",n,i),r.push(n<i?1:0)},function(e){var r=e.stack,n=r.pop(),i=r.pop();t.DEBUG&&console.log(e.step,"GTEQ[]",n,i),r.push(n<=i?1:0)},function(e){var r=e.stack,n=r.pop(),i=r.pop();t.DEBUG&&console.log(e.step,"EQ[]",n,i),r.push(n===i?1:0)},function(e){var r=e.stack,n=r.pop(),i=r.pop();t.DEBUG&&console.log(e.step,"NEQ[]",n,i),r.push(n!==i?1:0)},function(e){var r=e.stack,n=r.pop();t.DEBUG&&console.log(e.step,"ODD[]",n),r.push(Math.trunc(n)%2?1:0)},function(e){var r=e.stack,n=r.pop();t.DEBUG&&console.log(e.step,"EVEN[]",n),r.push(Math.trunc(n)%2?0:1)},function(e){var r=e.stack.pop();t.DEBUG&&console.log(e.step,"IF[]",r),r||(rr(e,!0),t.DEBUG&&console.log(e.step,"EIF[]"))},function(e){t.DEBUG&&console.log(e.step,"EIF[]")},function(e){var r=e.stack,n=r.pop(),i=r.pop();t.DEBUG&&console.log(e.step,"AND[]",n,i),r.push(n&&i?1:0)},function(e){var r=e.stack,n=r.pop(),i=r.pop();t.DEBUG&&console.log(e.step,"OR[]",n,i),r.push(n||i?1:0)},function(e){var r=e.stack,n=r.pop();t.DEBUG&&console.log(e.step,"NOT[]",n),r.push(n?0:1)},vr.bind(void 0,1),function(e){var r=e.stack.pop();t.DEBUG&&console.log(e.step,"SDB[]",r),e.deltaBase=r},function(e){var r=e.stack.pop();t.DEBUG&&console.log(e.step,"SDS[]",r),e.deltaShift=Math.pow(.5,r)},function(e){var r=e.stack,n=r.pop(),i=r.pop();t.DEBUG&&console.log(e.step,"ADD[]",n,i),r.push(i+n)},function(e){var r=e.stack,n=r.pop(),i=r.pop();t.DEBUG&&console.log(e.step,"SUB[]",n,i),r.push(i-n)},function(e){var r=e.stack,n=r.pop(),i=r.pop();t.DEBUG&&console.log(e.step,"DIV[]",n,i),r.push(64*i/n)},function(e){var r=e.stack,n=r.pop(),i=r.pop();t.DEBUG&&console.log(e.step,"MUL[]",n,i),r.push(i*n/64)},function(e){var r=e.stack,n=r.pop();t.DEBUG&&console.log(e.step,"ABS[]",n),r.push(Math.abs(n))},function(e){var r=e.stack,n=r.pop();t.DEBUG&&console.log(e.step,"NEG[]",n),r.push(-n)},function(e){var r=e.stack,n=r.pop();t.DEBUG&&console.log(e.step,"FLOOR[]",n),r.push(64*Math.floor(n/64))},function(e){var r=e.stack,n=r.pop();t.DEBUG&&console.log(e.step,"CEILING[]",n),r.push(64*Math.ceil(n/64))},br.bind(void 0,0),br.bind(void 0,1),br.bind(void 0,2),br.bind(void 0,3),void 0,void 0,void 0,void 0,function(e){var r=(n=e.stack).pop(),n=n.pop();t.DEBUG&&console.log(e.step,"WCVTF[]",r,n),e.cvt[n]=r*e.ppem/e.font.unitsPerEm},vr.bind(void 0,2),vr.bind(void 0,3),_r.bind(void 0,1),_r.bind(void 0,2),_r.bind(void 0,3),function(e){var r,n=e.stack.pop();switch(t.DEBUG&&console.log(e.step,"SROUND[]",n),e.round=Zt,192&n){case 0:r=.5;break;case 64:r=1;break;case 128:r=2;break;default:throw new Error("invalid SROUND value")}switch(e.srPeriod=r,48&n){case 0:e.srPhase=0;break;case 16:e.srPhase=.25*r;break;case 32:e.srPhase=.5*r;break;case 48:e.srPhase=.75*r;break;default:throw new Error("invalid SROUND value")}e.srThreshold=0===(n&=15)?0:(n/8-.5)*r},function(e){var r,n=e.stack.pop();switch(t.DEBUG&&console.log(e.step,"S45ROUND[]",n),e.round=Zt,192&n){case 0:r=Math.sqrt(2)/2;break;case 64:r=Math.sqrt(2);break;case 128:r=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(e.srPeriod=r,48&n){case 0:e.srPhase=0;break;case 16:e.srPhase=.25*r;break;case 32:e.srPhase=.5*r;break;case 48:e.srPhase=.75*r;break;default:throw new Error("invalid S45ROUND value")}e.srThreshold=0===(n&=15)?0:(n/8-.5)*r},void 0,void 0,function(e){t.DEBUG&&console.log(e.step,"ROFF[]"),e.round=Bt},void 0,function(e){t.DEBUG&&console.log(e.step,"RUTG[]"),e.round=Ht},function(e){t.DEBUG&&console.log(e.step,"RDTG[]"),e.round=Wt},lr,lr,void 0,void 0,void 0,void 0,void 0,function(e){var r=e.stack.pop();t.DEBUG&&console.log(e.step,"SCANCTRL[]",r)},wr.bind(void 0,0),wr.bind(void 0,1),function(e){var r=e.stack,n=r.pop(),i=0;t.DEBUG&&console.log(e.step,"GETINFO[]",n),1&n&&(i=35),32&n&&(i|=4096),r.push(i)},void 0,function(e){var r=e.stack,n=r.pop(),i=r.pop(),o=r.pop();t.DEBUG&&console.log(e.step,"ROLL[]"),r.push(i),r.push(n),r.push(o)},function(e){var r=e.stack,n=r.pop(),i=r.pop();t.DEBUG&&console.log(e.step,"MAX[]",n,i),r.push(Math.max(i,n))},function(e){var r=e.stack,n=r.pop(),i=r.pop();t.DEBUG&&console.log(e.step,"MIN[]",n,i),r.push(Math.min(i,n))},function(e){var r=e.stack.pop();t.DEBUG&&console.log(e.step,"SCANTYPE[]",r)},function(e){var r=e.stack.pop(),n=e.stack.pop();switch(t.DEBUG&&console.log(e.step,"INSTCTRL[]",r,n),r){case 1:return void(e.inhibitGridFit=!!n);case 2:return void(e.ignoreCvt=!!n);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,Er.bind(void 0,1),Er.bind(void 0,2),Er.bind(void 0,3),Er.bind(void 0,4),Er.bind(void 0,5),Er.bind(void 0,6),Er.bind(void 0,7),Er.bind(void 0,8),xr.bind(void 0,1),xr.bind(void 0,2),xr.bind(void 0,3),xr.bind(void 0,4),xr.bind(void 0,5),xr.bind(void 0,6),xr.bind(void 0,7),xr.bind(void 0,8),Sr.bind(void 0,0,0,0,0,0),Sr.bind(void 0,0,0,0,0,1),Sr.bind(void 0,0,0,0,0,2),Sr.bind(void 0,0,0,0,0,3),Sr.bind(void 0,0,0,0,1,0),Sr.bind(void 0,0,0,0,1,1),Sr.bind(void 0,0,0,0,1,2),Sr.bind(void 0,0,0,0,1,3),Sr.bind(void 0,0,0,1,0,0),Sr.bind(void 0,0,0,1,0,1),Sr.bind(void 0,0,0,1,0,2),Sr.bind(void 0,0,0,1,0,3),Sr.bind(void 0,0,0,1,1,0),Sr.bind(void 0,0,0,1,1,1),Sr.bind(void 0,0,0,1,1,2),Sr.bind(void 0,0,0,1,1,3),Sr.bind(void 0,0,1,0,0,0),Sr.bind(void 0,0,1,0,0,1),Sr.bind(void 0,0,1,0,0,2),Sr.bind(void 0,0,1,0,0,3),Sr.bind(void 0,0,1,0,1,0),Sr.bind(void 0,0,1,0,1,1),Sr.bind(void 0,0,1,0,1,2),Sr.bind(void 0,0,1,0,1,3),Sr.bind(void 0,0,1,1,0,0),Sr.bind(void 0,0,1,1,0,1),Sr.bind(void 0,0,1,1,0,2),Sr.bind(void 0,0,1,1,0,3),Sr.bind(void 0,0,1,1,1,0),Sr.bind(void 0,0,1,1,1,1),Sr.bind(void 0,0,1,1,1,2),Sr.bind(void 0,0,1,1,1,3),Sr.bind(void 0,1,0,0,0,0),Sr.bind(void 0,1,0,0,0,1),Sr.bind(void 0,1,0,0,0,2),Sr.bind(void 0,1,0,0,0,3),Sr.bind(void 0,1,0,0,1,0),Sr.bind(void 0,1,0,0,1,1),Sr.bind(void 0,1,0,0,1,2),Sr.bind(void 0,1,0,0,1,3),Sr.bind(void 0,1,0,1,0,0),Sr.bind(void 0,1,0,1,0,1),Sr.bind(void 0,1,0,1,0,2),Sr.bind(void 0,1,0,1,0,3),Sr.bind(void 0,1,0,1,1,0),Sr.bind(void 0,1,0,1,1,1),Sr.bind(void 0,1,0,1,1,2),Sr.bind(void 0,1,0,1,1,3),Sr.bind(void 0,1,1,0,0,0),Sr.bind(void 0,1,1,0,0,1),Sr.bind(void 0,1,1,0,0,2),Sr.bind(void 0,1,1,0,0,3),Sr.bind(void 0,1,1,0,1,0),Sr.bind(void 0,1,1,0,1,1),Sr.bind(void 0,1,1,0,1,2),Sr.bind(void 0,1,1,0,1,3),Sr.bind(void 0,1,1,1,0,0),Sr.bind(void 0,1,1,1,0,1),Sr.bind(void 0,1,1,1,0,2),Sr.bind(void 0,1,1,1,0,3),Sr.bind(void 0,1,1,1,1,0),Sr.bind(void 0,1,1,1,1,1),Sr.bind(void 0,1,1,1,1,2),Sr.bind(void 0,1,1,1,1,3)],Cr=Array.from||function(e){return e.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function Ir(e){(e=e||{}).empty||(Pt(e.familyName,"When creating a new Font object, familyName is required."),Pt(e.styleName,"When creating a new Font object, styleName is required."),Pt(e.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),Pt(e.ascender,"When creating a new Font object, ascender is required."),Pt(e.descender,"When creating a new Font object, descender is required."),Pt(e.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:e.familyName||" "},fontSubfamily:{en:e.styleName||" "},fullName:{en:e.fullName||e.familyName+" "+e.styleName},postScriptName:{en:e.postScriptName||(e.familyName+e.styleName).replace(/\s/g,"")},designer:{en:e.designer||" "},designerURL:{en:e.designerURL||" "},manufacturer:{en:e.manufacturer||" "},manufacturerURL:{en:e.manufacturerURL||" "},license:{en:e.license||" "},licenseURL:{en:e.licenseURL||" "},version:{en:e.version||"Version 0.1"},description:{en:e.description||" "},copyright:{en:e.copyright||" "},trademark:{en:e.trademark||" "}},this.unitsPerEm=e.unitsPerEm||1e3,this.ascender=e.ascender,this.descender=e.descender,this.createdTimestamp=e.createdTimestamp,this.tables={os2:{usWeightClass:e.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:e.widthClass||this.usWidthClasses.MEDIUM,fsSelection:e.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new ve.GlyphSet(this,e.glyphs||[]),this.encoding=new ce(this),this.position=new Rt(this),this.substitution=new Ct(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting||("truetype"===this.outlinesFormat?this._hinting=new Ut(this):void 0)}})}Ir.prototype.hasChar=function(e){return null!==this.encoding.charToGlyphIndex(e)},Ir.prototype.charToGlyphIndex=function(e){return this.encoding.charToGlyphIndex(e)},Ir.prototype.charToGlyph=function(e){return e=this.charToGlyphIndex(e),this.glyphs.get(e)||this.glyphs.get(0)},Ir.prototype.stringToGlyphs=function(e,t){t=t||this.defaultRenderOptions;for(var r=Cr(e),n=[],i=0;i<r.length;i+=1){var o=r[i];n.push(this.charToGlyphIndex(o))}var a=n.length;if(t.features){e=t.script||this.substitution.getDefaultScriptName();var s=[];t.features.liga&&(s=s.concat(this.substitution.getFeature("liga",e,t.language))),t.features.rlig&&(s=s.concat(this.substitution.getFeature("rlig",e,t.language)));for(var l=0;l<a;l+=1)for(var u=0;u<s.length;u++){for(var c=s[u],d=c.sub,f=d.length,h=0;h<f&&d[h]===n[l+h];)h++;h===f&&(n.splice(l,f,c.by),a=a-f+1)}}for(var p=new Array(a),m=this.glyphs.get(0),g=0;g<a;g+=1)p[g]=this.glyphs.get(n[g])||m;return p},Ir.prototype.nameToGlyphIndex=function(e){return this.glyphNames.nameToGlyphIndex(e)},Ir.prototype.nameToGlyph=function(e){return e=this.nameToGlyphIndex(e),this.glyphs.get(e)||this.glyphs.get(0)},Ir.prototype.glyphIndexToName=function(e){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(e):""},Ir.prototype.getKerningValue=function(e,t){e=e.index||e,t=t.index||t;var r=this.position.defaultKerningTables;return r?this.position.getKerningValue(r,e,t):this.kerningPairs[e+","+t]||0},Ir.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},Ir.prototype.forEachGlyph=function(e,t,r,n,i,o){t=void 0!==t?t:0,r=void 0!==r?r:0,i=i||this.defaultRenderOptions;var a,s=1/this.unitsPerEm*(n=void 0!==n?n:72),l=this.stringToGlyphs(e,i);i.kerning&&(e=i.script||this.position.getDefaultScriptName(),a=this.position.getKerningTables(e,i.language));for(var u=0;u<l.length;u+=1){var c=l[u];o.call(this,c,t,r,n,i),c.advanceWidth&&(t+=c.advanceWidth*s),i.kerning&&u<l.length-1&&(t+=(a?this.position.getKerningValue(a,c.index,l[u+1].index):this.getKerningValue(c,l[u+1]))*s),i.letterSpacing?t+=i.letterSpacing*n:i.tracking&&(t+=i.tracking/1e3*n)}return t},Ir.prototype.getPath=function(e,t,r,n,i){var o=new R;return this.forEachGlyph(e,t,r,n,i,(function(e,t,r,n){e=e.getPath(t,r,n,i,this),o.extend(e)})),o},Ir.prototype.getPaths=function(e,t,r,n,i){var o=[];return this.forEachGlyph(e,t,r,n,i,(function(e,t,r,n){e=e.getPath(t,r,n,i,this),o.push(e)})),o},Ir.prototype.getAdvanceWidth=function(e,t,r){return this.forEachGlyph(e,0,0,t,r,(function(){}))},Ir.prototype.draw=function(e,t,r,n,i,o){this.getPath(t,r,n,i,o).draw(e)},Ir.prototype.drawPoints=function(e,t,r,n,i,o){this.forEachGlyph(t,r,n,i,o,(function(t,r,n,i){t.drawPoints(e,r,n,i)}))},Ir.prototype.drawMetrics=function(e,t,r,n,i,o){this.forEachGlyph(t,r,n,i,o,(function(t,r,n,i){t.drawMetrics(e,r,n,i)}))},Ir.prototype.getEnglishName=function(e){if(e=this.names[e])return e.en},Ir.prototype.validate=function(){var e=this;function t(t){(t=e.getEnglishName(t))&&t.trim().length}t("fontFamily"),t("weightName"),t("manufacturer"),t("copyright"),t("version"),this.unitsPerEm},Ir.prototype.toTables=function(){return xt(this)},Ir.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},Ir.prototype.toArrayBuffer=function(){for(var e=this.toTables().encode(),t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n<e.length;n++)r[n]=e[n];return t},Ir.prototype.download=function(t){var r=this.getEnglishName("fontFamily"),i=this.getEnglishName("fontSubfamily"),o=(t=t||r.replace(/\s/g,"")+"-"+i+".otf",this.toArrayBuffer());"undefined"!=typeof window?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,o.byteLength,(function(e){e.root.getFile(t,{create:!0},(function(e){e.createWriter((function(t){var r=new DataView(o);r=new Blob([r],{type:"font/opentype"});t.write(r),t.addEventListener("writeend",(function(){location.href=e.toURL()}),!1)}))}))}),(function(e){throw new Error(e.name+": "+e.message)}))):(r=e("fs"),i=function(e){for(var t=new n(e.byteLength),r=new Uint8Array(e),i=0;i<t.length;++i)t[i]=r[i];return t}(o),r.writeFileSync(t,i))},Ir.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},Ir.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},Ir.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var kr=function(e,t,r){for(var n,i,o,a,s=new ne.Parser(e,t),l=s.parseULong(),u=(k.argument(65536===l,"Unsupported fvar table version."),s.parseOffset16()),c=(s.skip("uShort",1),s.parseUShort()),d=s.parseUShort(),f=s.parseUShort(),h=s.parseUShort(),p=[],m=0;m<c;m++)p.push((n=e,i=t+u+m*d,o=r,a={},n=new ne.Parser(n,i),a.tag=n.parseTag(),a.minValue=n.parseFixed(),a.defaultValue=n.parseFixed(),a.maxValue=n.parseFixed(),n.skip("uShort",1),a.name=o[n.parseUShort()]||{},a));for(var g=[],y=t+u+c*d,v=0;v<f;v++)g.push(function(e,t,r,n){var i={},o=new ne.Parser(e,t);i.name=n[o.parseUShort()]||{},o.skip("uShort",1),i.coordinates={};for(var a=0;a<r.length;++a)i.coordinates[r[a].tag]=o.parseFixed();return i}(e,y+v*h,p,r));return{axes:p,instances:g}},Pr=new Array(10);Pr[1]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();return 1===t?{posFormat:1,coverage:this.parsePointer(te.coverage),value:this.parseValueRecord()}:2===t?{posFormat:2,coverage:this.parsePointer(te.coverage),values:this.parseValueRecordList()}:void k.assert(!1,"0x"+e.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},Pr[2]=function(){var e,t,r,n,i=this.offset+this.relativeOffset,o=this.parseUShort(),a=(i=(k.assert(1===o||2===o,"0x"+i.toString(16)+": GPOS lookup type 2 format must be 1 or 2."),this.parsePointer(te.coverage)),this.parseUShort()),s=this.parseUShort();return 1===o?{posFormat:o,coverage:i,valueFormat1:a,valueFormat2:s,pairSets:this.parseList(te.pointer(te.list((function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(a),value2:this.parseValueRecord(s)}}))))}:2===o?(e=this.parsePointer(te.classDef),t=this.parsePointer(te.classDef),r=this.parseUShort(),n=this.parseUShort(),{posFormat:o,coverage:i,valueFormat1:a,valueFormat2:s,classDef1:e,classDef2:t,class1Count:r,class2Count:n,classRecords:this.parseList(r,te.list(n,(function(){return{value1:this.parseValueRecord(a),value2:this.parseValueRecord(s)}})))}):void 0},Pr[3]=function(){return{error:"GPOS Lookup 3 not supported"}},Pr[4]=function(){return{error:"GPOS Lookup 4 not supported"}},Pr[5]=function(){return{error:"GPOS Lookup 5 not supported"}},Pr[6]=function(){return{error:"GPOS Lookup 6 not supported"}},Pr[7]=function(){return{error:"GPOS Lookup 7 not supported"}},Pr[8]=function(){return{error:"GPOS Lookup 8 not supported"}},Pr[9]=function(){return{error:"GPOS Lookup 9 not supported"}};new Array(10);var Or=function(e,t){return t=(e=new te(e,t=t||0)).parseVersion(1),k.argument(1===t||1.1===t,"Unsupported GPOS table version "+t),1===t?{version:t,scripts:e.parseScriptList(),features:e.parseFeatureList(),lookups:e.parseLookupList(Pr)}:{version:t,scripts:e.parseScriptList(),features:e.parseFeatureList(),lookups:e.parseLookupList(Pr),variations:e.parseFeatureVariationsList()}},jr=function(e,t){if(0===(t=(e=new ne.Parser(e,t)).parseUShort())){var r=e,n={},i=(r.skip("uShort"),r.parseUShort()),o=(k.argument(0===i,"Unsupported kern sub-table version."),r.skip("uShort",2),r.parseUShort());r.skip("uShort",3);for(var a=0;a<o;a+=1){var s=r.parseUShort(),l=r.parseUShort(),u=r.parseShort();n[s+","+l]=u}return n}if(1!==t)throw new Error("Unsupported kern table version ("+t+").");var c=e,d={};c.skip("uShort"),1<c.parseULong()&&console.warn("Only the first kern subtable is supported."),c.skip("uLong"),i=255&c.parseUShort();if(c.skip("uShort"),0==i){var f=c.parseUShort();c.skip("uShort",3);for(var h=0;h<f;h+=1){var p=c.parseUShort(),m=c.parseUShort(),g=c.parseShort();d[p+","+m]=g}}return d},Nr=function(e,t,r,n){for(var i=new ne.Parser(e,t),o=n?i.parseUShort:i.parseULong,a=[],s=0;s<r+1;s+=1){var l=o.call(i);n&&(l*=2),a.push(l)}return a};function Lr(t,r){e("fs").readFile(t,(function(e,t){if(e)return r(e.message);r(null,kt(t))}))}function Dr(e,t){var r=new XMLHttpRequest;r.open("get",e,!0),r.responseType="arraybuffer",r.onload=function(){return r.response?t(null,r.response):t("Font could not be loaded: "+r.statusText)},r.onerror=function(){t("Font could not be loaded")},r.send()}function Fr(e,t){for(var r=[],n=12,i=0;i<t;i+=1){var o=ne.getTag(e,n),a=ne.getULong(e,n+4),s=ne.getULong(e,n+8),l=ne.getULong(e,n+12);r.push({tag:o,checksum:a,offset:s,length:l,compression:!1}),n+=16}return r}function Ur(e,t){if("WOFF"!==t.compression)return{data:e,offset:t.offset};e=new Uint8Array(e.buffer,t.offset+2,t.compressedLength-2);var r=new Uint8Array(t.length);if(T(e,r),r.byteLength!==t.length)throw new Error("Decompression error: "+t.tag+" decompressed length doesn't match recorded length");return{data:new DataView(r.buffer,0),offset:0}}function Br(e){var t,r,n,i,o,a,s,l,u,c,d,f,h,p,m=new Ir({empty:!0}),g=new DataView(e,0),y=[];if((e=ne.getTag(g,0))===String.fromCharCode(0,1,0,0)||"true"===e||"typ1"===e)m.outlinesFormat="truetype",y=Fr(g,n=ne.getUShort(g,4));else if("OTTO"===e)m.outlinesFormat="cff",y=Fr(g,n=ne.getUShort(g,4));else{if("wOFF"!==e)throw new Error("Unsupported OpenType signature "+e);if((w=ne.getTag(g,4))===String.fromCharCode(0,1,0,0))m.outlinesFormat="truetype";else{if("OTTO"!==w)throw new Error("Unsupported OpenType flavor "+e);m.outlinesFormat="cff"}y=function(e,t){for(var r=[],n=44,i=0;i<t;i+=1){var o=ne.getTag(e,n),a=ne.getULong(e,n+4),s=ne.getULong(e,n+8),l=ne.getULong(e,n+12),u=s<l&&"WOFF";r.push({tag:o,offset:a,compression:u,compressedLength:s,length:l}),n+=20}return r}(g,n=ne.getUShort(g,12))}for(var v=0;v<n;v+=1){var b=y[v],_=void 0;switch(b.tag){case"cmap":_=Ur(g,b),m.tables.cmap=ie(_.data,_.offset),m.encoding=new de(m.tables.cmap);break;case"cvt ":_=Ur(g,b),p=new ne.Parser(_.data,_.offset),m.tables.cvt=p.parseShortList(b.length/2);break;case"fvar":o=b;break;case"fpgm":_=Ur(g,b),p=new ne.Parser(_.data,_.offset),m.tables.fpgm=p.parseByteList(b.length);break;case"head":_=Ur(g,b),m.tables.head=Le(_.data,_.offset),m.unitsPerEm=m.tables.head.unitsPerEm,t=m.tables.head.indexToLocFormat;break;case"hhea":_=Ur(g,b),m.tables.hhea=Fe(_.data,_.offset),m.ascender=m.tables.hhea.ascender,m.descender=m.tables.hhea.descender,m.numberOfHMetrics=m.tables.hhea.numberOfHMetrics;break;case"hmtx":u=b;break;case"ltag":_=Ur(g,b),r=Ve(_.data,_.offset);break;case"maxp":_=Ur(g,b),m.tables.maxp=He(_.data,_.offset),m.numGlyphs=m.tables.maxp.numGlyphs;break;case"name":f=b;break;case"OS/2":_=Ur(g,b),m.tables.os2=at(_.data,_.offset);break;case"post":_=Ur(g,b),m.tables.post=ut(_.data,_.offset),m.glyphNames=new he(m.tables.post);break;case"prep":_=Ur(g,b),p=new ne.Parser(_.data,_.offset),m.tables.prep=p.parseByteList(b.length);break;case"glyf":a=b;break;case"loca":d=b;break;case"CFF ":i=b;break;case"kern":c=b;break;case"GPOS":s=b;break;case"GSUB":l=b;break;case"meta":h=b}}if(w=Ur(g,f),m.tables.name=nt(w.data,w.offset,r),m.names=m.tables.name,a&&d)e=0===t,w=Ur(g,d),w=Nr(w.data,w.offset,m.numGlyphs,e),e=Ur(g,a),m.glyphs=Ft.parse(e.data,e.offset,w,m);else{if(!i)throw new Error("Font doesn't contain TrueType or CFF outlines.");e=Ur(g,i),je(e.data,e.offset,m)}for(var w=Ur(g,u),E=(Be(w.data,w.offset,m.numberOfHMetrics,m.numGlyphs,m.glyphs),m),x=E.tables.cmap.glyphIndexMap,S=Object.keys(x),T=0;T<S.length;T+=1){var A,M=S[T],R=x[M];(A=E.glyphs.get(R)).addUnicode(parseInt(M))}for(var C=0;C<E.glyphs.length;C+=1)A=E.glyphs.get(C),E.cffEncoding?E.isCIDFont?A.name="gid"+C:A.name=E.cffEncoding.charset[C]:E.glyphNames.names&&(A.name=E.glyphNames.glyphIndexToName(C));return c?(e=Ur(g,c),m.kerningPairs=jr(e.data,e.offset)):m.kerningPairs={},s&&(w=Ur(g,s),m.tables.gpos=Or(w.data,w.offset),m.position.init()),l&&(e=Ur(g,l),m.tables.gsub=pt(e.data,e.offset)),o&&(w=Ur(g,o),m.tables.fvar=kr(w.data,w.offset,m.names)),h&&(e=Ur(g,h),m.tables.meta=gt(e.data,e.offset),m.metas=m.tables.meta),m}t.Font=Ir,t.Glyph=me,t.Path=R,t.BoundingBox=M,t._parse=ne,t.parse=Br,t.load=function(e,t){("undefined"==typeof window?Lr:Dr)(e,(function(e,r){if(e)return t(e);var n;try{n=Br(r)}catch(e){return t(e,null)}return t(null,n)}))},t.loadSync=function(t){return Br(kt(e("fs").readFileSync(t)))},Object.defineProperty(t,"__esModule",{value:!0})},i("object"==typeof r&&void 0!==t?r:this.opentype={})}).call(this,e("buffer").Buffer)},{buffer:4,fs:2}],248:[function(e,t,r){(function(e){function t(e,t){for(var r=0,n=e.length-1;0<=n;n--){var i=e[n];"."===i?e.splice(n,1):".."===i?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;)e.unshift("..");return e}function n(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}r.resolve=function(){for(var r="",i=!1,o=arguments.length-1;-1<=o&&!i;o--){var a=0<=o?arguments[o]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(r=a+"/"+r,i="/"===a.charAt(0))}return(i?"/":"")+(r=t(n(r.split("/"),(function(e){return!!e})),!i).join("/"))||"."},r.normalize=function(e){var o=r.isAbsolute(e),a="/"===i(e,-1);return(e=(e=t(n(e.split("/"),(function(e){return!!e})),!o).join("/"))||o?e:".")&&a&&(e+="/"),(o?"/":"")+e},r.isAbsolute=function(e){return"/"===e.charAt(0)},r.join=function(){var e=Array.prototype.slice.call(arguments,0);return r.normalize(n(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},r.relative=function(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;0<=r&&""===e[r];r--);return r<t?[]:e.slice(t,r-t+1)}e=r.resolve(e).substr(1),t=r.resolve(t).substr(1);for(var i=n(e.split("/")),o=n(t.split("/")),a=Math.min(i.length,o.length),s=a,l=0;l<a;l++)if(i[l]!==o[l]){s=l;break}var u=[];for(l=s;l<i.length;l++)u.push("..");return(u=u.concat(o.slice(s))).join("/")},r.sep="/",r.delimiter=":",r.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=47===e.charCodeAt(0),r=-1,n=!0,i=e.length-1;1<=i;--i)if(47===e.charCodeAt(i)){if(!n){r=i;break}}else n=!1;return-1===r?t?"/":".":t&&1===r?"/":e.slice(0,r)},r.basename=function(e,t){return e=function(e){"string"!=typeof e&&(e+="");for(var t=0,r=-1,n=!0,i=e.length-1;0<=i;--i)if(47===e.charCodeAt(i)){if(!n){t=i+1;break}}else-1===r&&(n=!1,r=i+1);return-1===r?"":e.slice(t,r)}(e),t&&e.substr(-1*t.length)===t?e.substr(0,e.length-t.length):e},r.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,r=0,n=-1,i=!0,o=0,a=e.length-1;0<=a;--a){var s=e.charCodeAt(a);if(47===s){if(i)continue;r=a+1;break}-1===n&&(i=!1,n=a+1),46===s?-1===t?t=a:1!==o&&(o=1):-1!==t&&(o=-1)}return-1===t||-1===n||0===o||1===o&&t===n-1&&t===r+1?"":e.slice(t,n)};var i=function(e,t,r){return e.substr(t,r)}}).call(this,e("_process"))},{_process:249}],249:[function(e,t,r){var n,i;t=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return(n=setTimeout)(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}var l,u=[],c=!1,d=-1;function f(){c&&l&&(c=!1,l.length?u=l.concat(u):d=-1,u.length&&h())}function h(){if(!c){for(var e=s(f),t=(c=!0,u.length);t;){for(l=u,u=[];++d<t;)l&&l[d].run();d=-1,t=u.length}l=null,c=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===a||!i)&&clearTimeout)return(i=clearTimeout)(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}t.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new p(e,t)),1!==u.length||c||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=m,t.addListener=m,t.once=m,t.off=m,t.removeListener=m,t.removeAllListeners=m,t.emit=m,t.prependListener=m,t.prependOnceListener=m,t.listeners=function(e){return[]},t.binding=function(e){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(e){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},{}],250:[function(e,t,r){t=function(e){"use strict";var t,r=Object.prototype,n=r.hasOwnProperty,i=(y="function"==typeof Symbol?Symbol:{}).iterator||"@@iterator",o=y.asyncIterator||"@@asyncIterator",a=y.toStringTag||"@@toStringTag";function s(e,r,n,i){var o,a,s,m;r=r&&r.prototype instanceof p?r:p,r=Object.create(r.prototype),i=new S(i||[]);return r._invoke=(o=e,a=n,s=i,m=u,function(e,r){if(m===d)throw new Error("Generator is already running");if(m===f){if("throw"===e)throw r;return A()}for(s.method=e,s.arg=r;;){var n=s.delegate;if(n&&(n=function e(r,n){var i=r.iterator[n.method];if(i===t){if(n.delegate=null,"throw"===n.method){if(r.iterator.return&&(n.method="return",n.arg=t,e(r,n),"throw"===n.method))return h;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}return"throw"===(i=l(i,r.iterator,n.arg)).type?(n.method="throw",n.arg=i.arg,n.delegate=null,h):(i=i.arg)?i.done?(n[r.resultName]=i.value,n.next=r.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}(n,s),n)){if(n===h)continue;return n}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(m===u)throw m=f,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);if(m=d,"normal"===(n=l(o,a,s)).type){if(m=s.done?f:c,n.arg!==h)return{value:n.arg,done:s.done}}else"throw"===n.type&&(m=f,s.method="throw",s.arg=n.arg)}}),r}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var u="suspendedStart",c="suspendedYield",d="executing",f="completed",h={};function p(){}function m(){}function g(){}var y,v,b=((v=(v=((y={})[i]=function(){return this},Object.getPrototypeOf))&&v(v(T([]))))&&v!==r&&n.call(v,i)&&(y=v),g.prototype=p.prototype=Object.create(y));function _(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function w(e){var t;this._invoke=function(r,i){function o(){return new Promise((function(t,o){!function t(r,i,o,a){var s;if("throw"!==(r=l(e[r],e,i)).type)return(i=(s=r.arg).value)&&"object"==typeof i&&n.call(i,"__await")?Promise.resolve(i.__await).then((function(e){t("next",e,o,a)}),(function(e){t("throw",e,o,a)})):Promise.resolve(i).then((function(e){s.value=e,o(s)}),(function(e){return t("throw",e,o,a)}));a(r.arg)}(r,i,t,o)}))}return t=t?t.then(o,o):o()}}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function T(e){if(e){var r,o=e[i];if(o)return o.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return r=-1,(o=function i(){for(;++r<e.length;)if(n.call(e,r))return i.value=e[r],i.done=!1,i;return i.value=t,i.done=!0,i}).next=o}return{next:A}}function A(){return{value:t,done:!0}}return(m.prototype=b.constructor=g).constructor=m,g[a]=m.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){return!!(e="function"==typeof e&&e.constructor)&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,a in e||(e[a]="GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},_(w.prototype),w.prototype[o]=function(){return this},e.AsyncIterator=w,e.async=function(t,r,n,i){var o=new w(s(t,r,n,i));return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(b),b[a]="Generator",b[i]=function(){return this},b.toString=function(){return"[object Generator]"},e.keys=function(e){var t,r=[];for(t in e)r.push(t);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=T,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(x),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;0<=o;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;0<=r;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}var a=(o=o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc?null:o)?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r,n,i=this.tryEntries[t];if(i.tryLoc===e)return"throw"===(r=i.completion).type&&(n=r.arg,x(i)),n}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:T(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),h}},e}("object"==typeof t?t.exports:{});try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}},{}],251:[function(e,t,r){!function(e){"use strict";var t,r,n,i,o,a,s,l,u,c;function d(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function f(e){return"string"!=typeof e?String(e):e}function h(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function p(e){this.map={},e instanceof p?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function m(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function g(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function y(e){var t=new FileReader,r=g(t);return t.readAsArrayBuffer(e),r}function v(e){var t;return e.slice?e.slice(0):((t=new Uint8Array(e.byteLength)).set(new Uint8Array(e)),t.buffer)}function b(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e)if("string"==typeof e)this._bodyText=e;else if(n&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(i&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(o&&n&&s(e))this._bodyArrayBuffer=v(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!o||!ArrayBuffer.prototype.isPrototypeOf(e)&&!l(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=v(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n&&(this.blob=function(){var e=m(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?m(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(y)}),this.text=function(){var e,t,r=m(this);if(r)return r;if(this._bodyBlob)return r=this._bodyBlob,t=g(e=new FileReader),e.readAsText(r),t;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}function _(e,t){var r,n=(t=t||{}).body;if(e instanceof _){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new p(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new p(t.headers)),this.method=(r=(e=t.method||this.method||"GET").toUpperCase(),-1<u.indexOf(r)?r:e),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){var r;e&&(r=(e=e.split("=")).shift().replace(/\+/g," "),e=e.join("=").replace(/\+/g," "),t.append(decodeURIComponent(r),decodeURIComponent(e)))})),t}function E(e,t){t=t||{},this.type="default",this.status=void 0===t.status?200:t.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new p(t.headers),this.url=t.url||"",this._initBody(e)}e.fetch||(t="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,n="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),i="FormData"in e,(o="ArrayBuffer"in e)&&(a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=function(e){return e&&DataView.prototype.isPrototypeOf(e)},l=ArrayBuffer.isView||function(e){return e&&-1<a.indexOf(Object.prototype.toString.call(e))}),p.prototype.append=function(e,t){e=d(e),t=f(t);var r=this.map[e];this.map[e]=r?r+","+t:t},p.prototype.delete=function(e){delete this.map[d(e)]},p.prototype.get=function(e){return e=d(e),this.has(e)?this.map[e]:null},p.prototype.has=function(e){return this.map.hasOwnProperty(d(e))},p.prototype.set=function(e,t){this.map[d(e)]=f(t)},p.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},p.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),h(e)},p.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),h(e)},p.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),h(e)},r&&(p.prototype[Symbol.iterator]=p.prototype.entries),u=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],_.prototype.clone=function(){return new _(this,{body:this._bodyInit})},b.call(_.prototype),b.call(E.prototype),E.prototype.clone=function(){return new E(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},E.error=function(){var e=new E(null,{status:0,statusText:""});return e.type="error",e},c=[301,302,303,307,308],E.redirect=function(e,t){if(-1===c.indexOf(t))throw new RangeError("Invalid status code");return new E(null,{status:t,headers:{location:e}})},e.Headers=p,e.Request=_,e.Response=E,e.fetch=function(e,t){return new Promise((function(r,i){var o=new _(e,t),a=new XMLHttpRequest;a.onload=function(){var e,t={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new p,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var r=(t=t.split(":")).shift().trim();r&&(t=t.join(":").trim(),e.append(r,t))})),e)},n=(t.url="responseURL"in a?a.responseURL:t.headers.get("X-Request-URL"),"response"in a?a.response:a.responseText);r(new E(n,t))},a.onerror=function(){i(new TypeError("Network request failed"))},a.ontimeout=function(){i(new TypeError("Network request failed"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&n&&(a.responseType="blob"),o.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),a.send(void 0===o._bodyInit?null:o._bodyInit)}))},e.fetch.polyfill=!0)}("undefined"!=typeof self?self:this)},{}],252:[function(e,t,r){"use strict";e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.split"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.split"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=a(e("../core/main")),o=a(e("../color/color_conversion"));function a(e){return e&&e.__esModule?e:{default:e}}var s=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],l=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];i.default.prototype._rgbColorName=function(e){e=o.default._rgbaToHSBA(e);var t,r,i=[(n=e)[0],e[1],e[2]];0!==i[0]&&(i[0]=Math.round(100*i[0]),(e=i[0].toString().split(""))[r=e.length-1]=parseInt(e[r]),e[r]<2.5?e[r]=0:2.5<=e[r]&&e[r]<7.5&&(e[r]=5),2===e.length?(e[0]=parseInt(e[0]),7.5<=e[r]&&(e[r]=0,e[0]=e[0]+1),i[0]=10*e[0]+e[1]):7.5<=e[r]?i[0]=10:i[0]=e[r]),i[2]=i[2]/255;for(var a=i.length-1;1<=a;a--)i[a]<=.25?i[a]=0:.25<i[a]&&i[a]<.75?i[a]=.5:i[a]=1;if(0===i[0]&&0===i[1]&&1===i[2]){for(var u=2;0<=u;u--)n[u]=Math.round(1e4*n[u])/1e4;for(var c=0;c<s.length;c++){if(s[c].h===n[0]&&s[c].s===n[1]&&s[c].b===n[2]){t=s[c].name;break}t="white"}}else for(var d=0;d<l.length;d++)if(l[d].h===i[0]&&l[d].s===i[1]&&l[d].b===i[2]){t=l[d].name;break}return t},e=i.default,r.default=e},{"../color/color_conversion":258,"../core/main":273,"core-js/modules/es.function.name":167,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.split":196}],253:[function(e,t,r){"use strict";e("core-js/modules/es.array.concat"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.ends-with"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.ends-with"),e("core-js/modules/es.string.replace"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=(e=e("../core/main"))&&e.__esModule?e:{default:e},i="_Description",o="_fallbackDesc",a="_fallbackTable",s="_Label",l="_labelDesc",u="_labelTable";function c(e){if("label"===e||"fallback"===e)throw new Error("description should not be LABEL or FALLBACK");return e.endsWith(".")||e.endsWith(";")||e.endsWith(",")||e.endsWith("?")||e.endsWith("!")||(e+="."),e}n.default.prototype.describe=function(e,t){var r;n.default._validateParameters("describe",arguments),"string"==typeof e&&(r=this.canvas.id,e=c(e),this.dummyDOM||(this.dummyDOM=document.getElementById(r).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==e&&(this.descriptions.fallback.innerHTML=e):this._describeHTML("fallback",e),t===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==e&&(this.descriptions.label.innerHTML=e):this._describeHTML("label",e)))},n.default.prototype.describeElement=function(e,t,r){var i,o;n.default._validateParameters("describeElement",arguments),"string"==typeof t&&"string"==typeof e&&(i=this.canvas.id,t=c(t),o=function(e){if("label"===e||"fallback"===e)throw new Error("element name should not be LABEL or FALLBACK");return e.endsWith(".")||e.endsWith(";")||e.endsWith(",")?e=e.replace(/.$/,":"):e.endsWith(":")||(e+=":"),e}(e),e=e.replace(/[^a-zA-Z0-9]/g,""),o='<th scope="row">'.concat(o,"</th><td>").concat(t,"</td>"),this.dummyDOM||(this.dummyDOM=document.getElementById(i).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[e]?this.descriptions.fallbackElements[e].innerHTML!==o&&(this.descriptions.fallbackElements[e].innerHTML=o):this._describeElementHTML("fallback",e,o),r===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[e]?this.descriptions.labelElements[e].innerHTML!==o&&(this.descriptions.labelElements[e].innerHTML=o):this._describeElementHTML("label",e,o)))},n.default.prototype._describeHTML=function(e,t){var r,n=this.canvas.id;"fallback"===e?(this.dummyDOM.querySelector("#".concat(n+i))?this.dummyDOM.querySelector("#"+n+a).insertAdjacentHTML("beforebegin",'<p id="'.concat(n+o,'"></p>')):(r='<div id="'.concat(n).concat(i,'" role="region" aria-label="Canvas Description"><p id="').concat(n).concat(o,'"></p></div>'),this.dummyDOM.querySelector("#".concat(n,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(n,"accessibleOutput")).insertAdjacentHTML("beforebegin",r):this.dummyDOM.querySelector("#".concat(n)).innerHTML=r),this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(n).concat(o)),this.descriptions.fallback.innerHTML=t):"label"===e&&(this.dummyDOM.querySelector("#".concat(n+s))?this.dummyDOM.querySelector("#".concat(n+u))&&this.dummyDOM.querySelector("#".concat(n+u)).insertAdjacentHTML("beforebegin",'<p id="'.concat(n).concat(l,'"></p>')):(r='<div id="'.concat(n).concat(s,'" class="p5Label"><p id="').concat(n).concat(l,'"></p></div>'),this.dummyDOM.querySelector("#".concat(n,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(n,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",r):this.dummyDOM.querySelector("#"+n).insertAdjacentHTML("afterend",r)),this.descriptions.label=this.dummyDOM.querySelector("#"+n+l),this.descriptions.label.innerHTML=t)},n.default.prototype._describeElementHTML=function(e,t,r){var n,c=this.canvas.id;"fallback"===e?(this.dummyDOM.querySelector("#".concat(c+i))?this.dummyDOM.querySelector("#"+c+a)||this.dummyDOM.querySelector("#"+c+o).insertAdjacentHTML("afterend",'<table id="'.concat(c).concat(a,'"><caption>Canvas elements and their descriptions</caption></table>')):(n='<div id="'.concat(c).concat(i,'" role="region" aria-label="Canvas Description"><table id="').concat(c).concat(a,'"><caption>Canvas elements and their descriptions</caption></table></div>'),this.dummyDOM.querySelector("#".concat(c,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(c,"accessibleOutput")).insertAdjacentHTML("beforebegin",n):this.dummyDOM.querySelector("#"+c).innerHTML=n),(n=document.createElement("tr")).id=c+"_fte_"+t,this.dummyDOM.querySelector("#"+c+a).appendChild(n),this.descriptions.fallbackElements[t]=this.dummyDOM.querySelector("#".concat(c).concat("_fte_").concat(t)),this.descriptions.fallbackElements[t].innerHTML=r):"label"===e&&(this.dummyDOM.querySelector("#".concat(c+s))?this.dummyDOM.querySelector("#".concat(c+u))||this.dummyDOM.querySelector("#"+c+l).insertAdjacentHTML("afterend",'<table id="'.concat(c+u,'"></table>')):(n='<div id="'.concat(c).concat(s,'" class="p5Label"><table id="').concat(c).concat(u,'"></table></div>'),this.dummyDOM.querySelector("#".concat(c,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(c,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",n):this.dummyDOM.querySelector("#"+c).insertAdjacentHTML("afterend",n)),(e=document.createElement("tr")).id=c+"_lte_"+t,this.dummyDOM.querySelector("#"+c+u).appendChild(e),this.descriptions.labelElements[t]=this.dummyDOM.querySelector("#".concat(c).concat("_lte_").concat(t)),this.descriptions.labelElements[t].innerHTML=r)},e=n.default,r.default=e},{"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.ends-with":188,"core-js/modules/es.string.replace":194}],254:[function(e,t,r){"use strict";e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.map"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.map"),e("core-js/modules/es.string.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,(e=(e=e("../core/main"))&&e.__esModule?e:{default:e}).default.prototype._updateGridOutput=function(e){var t,r,n,i;this.dummyDOM.querySelector("#".concat(e,"_summary"))&&(t=this._accessibleOutputs[e],n=function(e,t,r,n){return t="".concat(t," canvas, ").concat(r," by ").concat(n," pixels, contains ").concat(e[0]),t=(1===e[0]?"".concat(t," shape: "):"".concat(t," shapes: ")).concat(e[1])}((r=function(e,t){var r,n="",i="",o=0;for(r in t){var a,s=0;for(a in t[r]){var l='<li id="'.concat(e,"shape").concat(o,'">').concat(t[r][a].color," ").concat(r,",");"line"===r?l+=" location = ".concat(t[r][a].pos,", length = ").concat(t[r][a].length," pixels"):(l+=" location = ".concat(t[r][a].pos),"point"!==r&&(l+=", area = ".concat(t[r][a].area," %")),l+="</li>"),n+=l,s++,o++}i=1<s?"".concat(i," ").concat(s," ").concat(r,"s"):"".concat(i," ").concat(s," ").concat(r)}return{numShapes:[o,i],details:n}}(e,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),i=function(e,t){var r,n,i=0,o="",a=Array.from(Array(10),(function(){return Array(10)}));for(r in t)for(var s in t[r]){var l;l="line"!==r?'<a href="#'.concat(e,"shape").concat(i,'">').concat(t[r][s].color," ").concat(r,"</a>"):'<a href="#'.concat(e,"shape").concat(i,'">').concat(t[r][s].color," ").concat(r," midpoint</a>"),a[t[r][s].loc.locY][t[r][s].loc.locX]?a[t[r][s].loc.locY][t[r][s].loc.locX]=a[t[r][s].loc.locY][t[r][s].loc.locX]+"  "+l:a[t[r][s].loc.locY][t[r][s].loc.locX]=l,i++}for(n in a){var u,c="<tr>";for(u in a[n])c+="<td>",void 0!==a[n][u]&&(c+=a[n][u]),c+="</td>";o=o+c+"</tr>"}return o}(e,this.ingredients.shapes),n!==t.summary.innerHTML&&(t.summary.innerHTML=n),i!==t.map.innerHTML&&(t.map.innerHTML=i),r.details!==t.shapeDetails.innerHTML&&(t.shapeDetails.innerHTML=r.details),this._accessibleOutputs[e]=t)},e=e.default,r.default=e},{"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.from":157,"core-js/modules/es.array.map":163,"core-js/modules/es.string.iterator":190}],255:[function(e,t,r){"use strict";e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.number.to-fixed"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.number.to-fixed"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=(e=e("../core/main"))&&e.__esModule?e:{default:e};function i(e,t,r){return 10===(t=Math.floor(e[0]/t*10))&&(t-=1),10===(e=Math.floor(e[1]/r*10))&&(e-=1),{locX:t,locY:e}}n.default.prototype.textOutput=function(e){n.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),e===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},n.default.prototype.gridOutput=function(e){n.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),e===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},n.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},n.default.prototype._createOutput=function(e,t){var r,n,i,o=this.canvas.id,a=(this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(o).parentNode),"");"Fallback"===t?(r=o+e,this.dummyDOM.querySelector("#".concat(n=o+"accessibleOutput"))||(this.dummyDOM.querySelector("#".concat(o,"_Description"))?this.dummyDOM.querySelector("#".concat(o,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(n,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(o)).innerHTML='<div id="'.concat(n,'" role="region" aria-label="Canvas Outputs"></div>'))):"Label"===t&&(r=o+e+(a=t),this.dummyDOM.querySelector("#".concat(n=o+"accessibleOutput"+t))||(this.dummyDOM.querySelector("#".concat(o,"_Label"))?this.dummyDOM.querySelector("#".concat(o,"_Label")):this.dummyDOM.querySelector("#".concat(o))).insertAdjacentHTML("afterend",'<div id="'.concat(n,'"></div>'))),this._accessibleOutputs[r]={},"textOutput"===e?(a="#".concat(o,"gridOutput").concat(a),i='<div id="'.concat(r,'">Text Output<div id="').concat(r,'Summary" aria-label="text output summary"><p id="').concat(r,'_summary"></p><ul id="').concat(r,'_list"></ul></div><table id="').concat(r,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(a)?this.dummyDOM.querySelector(a).insertAdjacentHTML("beforebegin",i):this.dummyDOM.querySelector("#".concat(n)).innerHTML=i,this._accessibleOutputs[r].list=this.dummyDOM.querySelector("#".concat(r,"_list"))):"gridOutput"===e&&(a="#".concat(o,"textOutput").concat(a),i='<div id="'.concat(r,'">Grid Output<p id="').concat(r,'_summary" aria-label="grid output summary"><table id="').concat(r,'_map" summary="grid output content"></table><ul id="').concat(r,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(a)?this.dummyDOM.querySelector(a).insertAdjacentHTML("afterend",i):this.dummyDOM.querySelector("#".concat(n)).innerHTML=i,this._accessibleOutputs[r].map=this.dummyDOM.querySelector("#".concat(r,"_map"))),this._accessibleOutputs[r].shapeDetails=this.dummyDOM.querySelector("#".concat(r,"_shapeDetails")),this._accessibleOutputs[r].summary=this.dummyDOM.querySelector("#".concat(r,"_summary"))},n.default.prototype._updateAccsOutput=function(){var e=this.canvas.id;JSON.stringify(this.ingredients.shapes)!==this.ingredients.pShapes&&(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(e+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(e+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(e+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(e+"gridOutputLabel"))},n.default.prototype._accsBackground=function(e){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==e&&(this.ingredients.colors.backgroundRGBA=e,this.ingredients.colors.background=this._rgbColorName(e))},n.default.prototype._accsCanvasColors=function(e,t){"fill"===e?this.ingredients.colors.fillRGBA!==t&&(this.ingredients.colors.fillRGBA=t,this.ingredients.colors.fill=this._rgbColorName(t)):"stroke"===e&&this.ingredients.colors.strokeRGBA!==t&&(this.ingredients.colors.strokeRGBA=t,this.ingredients.colors.stroke=this._rgbColorName(t))},n.default.prototype._accsOutput=function(e,t){"ellipse"===e&&t[2]===t[3]?e="circle":"rectangle"===e&&t[2]===t[3]&&(e="square");var r,n,o={},a=!0,s=function(e,t){var r;return e="rectangle"===e||"ellipse"===e||"arc"===e||"circle"===e||"square"===e?(r=Math.round(t[0]+t[2]/2),Math.round(t[1]+t[3]/2)):"triangle"===e?(r=(t[0]+t[2]+t[4])/3,(t[1]+t[3]+t[5])/3):"quadrilateral"===e?(r=(t[0]+t[2]+t[4]+t[6])/4,(t[1]+t[3]+t[5]+t[7])/4):"line"===e?(r=(t[0]+t[2])/2,(t[1]+t[3])/2):(r=t[0],t[1]),[r,e]}(e,t);if("line"===e?(o.color=this.ingredients.colors.stroke,o.length=Math.round(this.dist(t[0],t[1],t[2],t[3])),r=this._getPos(t[0],[1]),n=this._getPos(t[2],[3]),o.loc=i(s,this.width,this.height),o.pos=r===n?"at ".concat(r):"from ".concat(r," to ").concat(n)):("point"===e?o.color=this.ingredients.colors.stroke:(o.color=this.ingredients.colors.fill,o.area=this._getArea(e,t)),o.pos=this._getPos.apply(this,function(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(s)),o.loc=i(s,this.width,this.height)),this.ingredients.shapes[e]){if(this.ingredients.shapes[e]!==[o]){for(var l in this.ingredients.shapes[e])JSON.stringify(this.ingredients.shapes[e][l])===JSON.stringify(o)&&(a=!1);!0===a&&this.ingredients.shapes[e].push(o)}}else this.ingredients.shapes[e]=[o]},n.default.prototype._getPos=function(e,t){e=new DOMPointReadOnly(e,t),t=this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform(),t=(e=e.matrixTransform(t)).x,e=e.y;var r=this.width,n=this.height;return t<.4*r?e<.4*n?"top left":.6*n<e?"bottom left":"mid left":.6*r<t?e<.4*n?"top right":.6*n<e?"bottom right":"mid right":e<.4*n?"top middle":.6*n<e?"bottom middle":"middle"},n.default.prototype._getArea=function(e,t){var r,n,i=0,o=("arc"===e?(i=(r=((t[5]-t[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI))*t[2]*t[3]/8,"open"!==t[6]&&"chord"!==t[6]||(n=t[0],u=t[1],o=t[0]+t[2]/2*Math.cos(t[4]).toFixed(2),c=t[1]+t[3]/2*Math.sin(t[4]).toFixed(2),s=t[0]+t[2]/2*Math.cos(t[5]).toFixed(2),a=t[1]+t[3]/2*Math.sin(t[5]).toFixed(2),n=Math.abs(n*(c-a)+o*(a-u)+s*(u-c))/2,r>Math.PI?i+=n:i-=n)):"ellipse"===e||"circle"===e?i=3.14*t[2]/2*t[3]/2:"line"===e||"point"===e?i=0:"quadrilateral"===e?i=Math.abs((t[6]+t[0])*(t[7]-t[1])+(t[0]+t[2])*(t[1]-t[3])+(t[2]+t[4])*(t[3]-t[5])+(t[4]+t[6])*(t[5]-t[7]))/2:"rectangle"===e||"square"===e?i=t[2]*t[3]:"triangle"===e&&(i=Math.abs(t[0]*(t[3]-t[5])+t[2]*(t[5]-t[1])+t[4]*(t[1]-t[3]))/2),this.width*this._pixelDensity),a=this.height*this._pixelDensity,s=[new DOMPoint(0,0),new DOMPoint(o,0),new DOMPoint(o,a),new DOMPoint(0,a)],l=(this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform()).inverse(),u=s.map((function(e){return e.matrixTransform(l)})),c=Math.abs((u[3].x+u[0].x)*(u[3].y-u[0].y)+(u[0].x+u[1].x)*(u[0].y-u[1].y)+(u[1].x+u[2].x)*(u[1].y-u[2].y)+(u[2].x+u[3].x)*(u[2].y-u[3].y))/2;return Math.round(100*i/c)},e=n.default,r.default=e},{"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.from":157,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.map":163,"core-js/modules/es.number.to-fixed":173,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],256:[function(e,t,r){"use strict";e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.concat"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,(e=(e=e("../core/main"))&&e.__esModule?e:{default:e}).default.prototype._updateTextOutput=function(e){var t,r,n,i;this.dummyDOM.querySelector("#".concat(e,"_summary"))&&(t=this._accessibleOutputs[e],n=function(e,t,r,n){return r="Your output is a, ".concat(r," by ").concat(n," pixels, ").concat(t," canvas containing the following"),r=1===e?"".concat(r," shape:"):"".concat(r," ").concat(e," shapes:")}((r=function(e,t){var r,n="",i=0;for(r in t)for(var o in t[r]){var a='<li><a href="#'.concat(e,"shape").concat(i,'">').concat(t[r][o].color," ").concat(r,"</a>");"line"===r?a+=", ".concat(t[r][o].pos,", ").concat(t[r][o].length," pixels long.</li>"):(a+=", at ".concat(t[r][o].pos),"point"!==r&&(a+=", covering ".concat(t[r][o].area,"% of the canvas")),a+=".</li>"),n+=a,i++}return{numShapes:i,listShapes:n}}(e,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),i=function(e,t){var r,n="",i=0;for(r in t)for(var o in t[r]){var a='<tr id="'.concat(e,"shape").concat(i,'"><th>').concat(t[r][o].color," ").concat(r,"</th>");"line"===r?a+="<td>location = ".concat(t[r][o].pos,"</td><td>length = ").concat(t[r][o].length," pixels</td></tr>"):(a+="<td>location = ".concat(t[r][o].pos,"</td>"),"point"!==r&&(a+="<td> area = ".concat(t[r][o].area,"%</td>")),a+="</tr>"),n+=a,i++}return n}(e,this.ingredients.shapes),n!==t.summary.innerHTML&&(t.summary.innerHTML=n),r.listShapes!==t.list.innerHTML&&(t.list.innerHTML=r.listShapes),i!==t.shapeDetails.innerHTML&&(t.shapeDetails.innerHTML=i),this._accessibleOutputs[e]=t)},e=e.default,r.default=e},{"../core/main":273,"core-js/modules/es.array.concat":151}],257:[function(e,t,r){"use strict";var n=(n=e("./core/main"))&&n.__esModule?n:{default:n};e("./core/constants"),e("./core/environment"),e("./core/friendly_errors/stacktrace"),e("./core/friendly_errors/validate_params"),e("./core/friendly_errors/file_errors"),e("./core/friendly_errors/fes_core"),e("./core/friendly_errors/sketch_reader"),e("./core/helpers"),e("./core/legacy"),e("./core/preload"),e("./core/p5.Element"),e("./core/p5.Graphics"),e("./core/p5.Renderer"),e("./core/p5.Renderer2D"),e("./core/rendering"),e("./core/shim"),e("./core/structure"),e("./core/transform"),e("./core/shape/2d_primitives"),e("./core/shape/attributes"),e("./core/shape/curves"),e("./core/shape/vertex"),e("./accessibility/outputs"),e("./accessibility/textOutput"),e("./accessibility/gridOutput"),e("./accessibility/color_namer"),e("./color/color_conversion"),e("./color/creating_reading"),e("./color/p5.Color"),e("./color/setting"),e("./data/p5.TypedDict"),e("./data/local_storage.js"),e("./dom/dom"),e("./accessibility/describe"),e("./events/acceleration"),e("./events/keyboard"),e("./events/mouse"),e("./events/touch"),e("./image/filters"),e("./image/image"),e("./image/loading_displaying"),e("./image/p5.Image"),e("./image/pixels"),e("./io/files"),e("./io/p5.Table"),e("./io/p5.TableRow"),e("./io/p5.XML"),e("./math/calculation"),e("./math/math"),e("./math/noise"),e("./math/p5.Vector"),e("./math/random"),e("./math/trigonometry"),e("./typography/attributes"),e("./typography/loading_displaying"),e("./typography/p5.Font"),e("./utilities/array_functions"),e("./utilities/conversion"),e("./utilities/string_functions"),e("./utilities/time_date"),e("./webgl/3d_primitives"),e("./webgl/interaction"),e("./webgl/light"),e("./webgl/loading"),e("./webgl/material"),e("./webgl/p5.Camera"),e("./webgl/p5.Geometry"),e("./webgl/p5.Matrix"),e("./webgl/p5.RendererGL.Immediate"),e("./webgl/p5.RendererGL"),e("./webgl/p5.RendererGL.Retained"),e("./webgl/p5.Framebuffer"),e("./webgl/p5.Shader"),e("./webgl/p5.RenderBuffer"),e("./webgl/p5.Texture"),e("./webgl/text"),e("./core/init"),t.exports=n.default},{"./accessibility/color_namer":252,"./accessibility/describe":253,"./accessibility/gridOutput":254,"./accessibility/outputs":255,"./accessibility/textOutput":256,"./color/color_conversion":258,"./color/creating_reading":259,"./color/p5.Color":260,"./color/setting":261,"./core/constants":262,"./core/environment":263,"./core/friendly_errors/fes_core":264,"./core/friendly_errors/file_errors":265,"./core/friendly_errors/sketch_reader":266,"./core/friendly_errors/stacktrace":267,"./core/friendly_errors/validate_params":268,"./core/helpers":269,"./core/init":270,"./core/legacy":272,"./core/main":273,"./core/p5.Element":274,"./core/p5.Graphics":275,"./core/p5.Renderer":276,"./core/p5.Renderer2D":277,"./core/preload":278,"./core/rendering":279,"./core/shape/2d_primitives":280,"./core/shape/attributes":281,"./core/shape/curves":282,"./core/shape/vertex":283,"./core/shim":284,"./core/structure":285,"./core/transform":286,"./data/local_storage.js":287,"./data/p5.TypedDict":288,"./dom/dom":289,"./events/acceleration":290,"./events/keyboard":291,"./events/mouse":292,"./events/touch":293,"./image/filters":294,"./image/image":295,"./image/loading_displaying":296,"./image/p5.Image":297,"./image/pixels":298,"./io/files":299,"./io/p5.Table":300,"./io/p5.TableRow":301,"./io/p5.XML":302,"./math/calculation":303,"./math/math":304,"./math/noise":305,"./math/p5.Vector":306,"./math/random":307,"./math/trigonometry":308,"./typography/attributes":309,"./typography/loading_displaying":310,"./typography/p5.Font":311,"./utilities/array_functions":312,"./utilities/conversion":313,"./utilities/string_functions":314,"./utilities/time_date":315,"./webgl/3d_primitives":316,"./webgl/interaction":317,"./webgl/light":318,"./webgl/loading":319,"./webgl/material":320,"./webgl/p5.Camera":321,"./webgl/p5.Framebuffer":322,"./webgl/p5.Geometry":323,"./webgl/p5.Matrix":324,"./webgl/p5.RenderBuffer":325,"./webgl/p5.RendererGL":328,"./webgl/p5.RendererGL.Immediate":326,"./webgl/p5.RendererGL.Retained":327,"./webgl/p5.Shader":329,"./webgl/p5.Texture":330,"./webgl/text":331}],258:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,(e=(e=e("../core/main"))&&e.__esModule?e:{default:e}).default.ColorConversion={_hsbaToHSLA:function(e){var t=e[0],r=e[1],n=e[2],i=(2-r)*n/2;return 0!=i&&(1==i?r=0:i<.5?r/=2-r:r=r*n/(2-2*i)),[t,r,i,e[3]]},_hsbaToRGBA:function(e){var t,r,n,i,o,a=6*e[0],s=e[1],l=e[2];return 0===s?[l,l,l,e[3]]:(r=l*(1-s),n=l*(1-s*(a-(t=Math.floor(a)))),s=l*(1-s*(1+t-a)),a=1===t?(i=n,o=l,r):2===t?(i=r,o=l,s):3===t?(i=r,o=n,l):4===t?(i=s,o=r,l):5===t?(i=l,o=r,n):(i=l,o=s,r),[i,o,a,e[3]])},_hslaToHSBA:function(e){var t=e[0],r=e[1],n=e[2],i=n<.5?(1+r)*n:n+r-n*r;return[t,r=2*(i-n)/i,i,e[3]]},_hslaToRGBA:function(e){var t,r=6*e[0],n=e[1],i=e[2];return 0===n?[i,i,i,e[3]]:[(t=function(e,t,r){return e<0?e+=6:6<=e&&(e-=6),e<1?t+(r-t)*e:e<3?r:e<4?t+(r-t)*(4-e):t})(2+r,n=2*i-(i=i<.5?(1+n)*i:i+n-i*n),i),t(r,n,i),t(r-2,n,i),e[3]]},_rgbaToHSBA:function(e){var t,r,n=e[0],i=e[1],o=e[2],a=Math.max(n,i,o),s=a-Math.min(n,i,o);return 0==s?r=t=0:(r=s/a,n===a?t=(i-o)/s:i===a?t=2+(o-n)/s:o===a&&(t=4+(n-i)/s),t<0?t+=6:6<=t&&(t-=6)),[t/6,r,a,e[3]]},_rgbaToHSLA:function(e){var t,r,n,i=e[0],o=e[1],a=e[2],s=Math.max(i,o,a),l=s+(n=Math.min(i,o,a));return 0==(n=s-n)?r=t=0:(r=l<1?n/l:n/(2-l),i===s?t=(o-a)/n:o===s?t=2+(a-i)/n:a===s&&(t=4+(i-o)/n),t<0?t+=6:6<=t&&(t-=6)),[t/6,r,l/2,e[3]]}},e=e.default.ColorConversion,r.default=e},{"../core/main":273}],259:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.map"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=(l=e("../core/main"))&&l.__esModule?l:{default:l},a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var a;Object.prototype.hasOwnProperty.call(e,r)&&((a=o?Object.getOwnPropertyDescriptor(e,r):null)&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=e[r])}return n.default=e,t&&t.set(e,n),n}(e("../core/constants"));function s(){var e;return"function"!=typeof WeakMap?null:(e=new WeakMap,s=function(){return e},e)}e("./p5.Color"),e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),o.default.prototype.alpha=function(e){return o.default._validateParameters("alpha",arguments),this.color(e)._getAlpha()},o.default.prototype.blue=function(e){return o.default._validateParameters("blue",arguments),this.color(e)._getBlue()},o.default.prototype.brightness=function(e){return o.default._validateParameters("brightness",arguments),this.color(e)._getBrightness()},o.default.prototype.color=function(){var e;return o.default._validateParameters("color",arguments),arguments[0]instanceof o.default.Color?arguments[0]:(e=arguments[0]instanceof Array?arguments[0]:arguments,new o.default.Color(this,e))},o.default.prototype.green=function(e){return o.default._validateParameters("green",arguments),this.color(e)._getGreen()},o.default.prototype.hue=function(e){return o.default._validateParameters("hue",arguments),this.color(e)._getHue()},o.default.prototype.lerpColor=function(e,t,r){o.default._validateParameters("lerpColor",arguments);var n,i,s,l=this._colorMode,u=this._colorMaxes;if(l===a.RGB)i=e.levels.map((function(e){return e/255})),s=t.levels.map((function(e){return e/255}));else if(l===a.HSB)e._getBrightness(),t._getBrightness(),i=e.hsba,s=t.hsba;else{if(l!==a.HSL)throw new Error("".concat(l,"cannot be used for interpolation."));e._getLightness(),t._getLightness(),i=e.hsla,s=t.hsla}return r=Math.max(Math.min(r,1),0),void 0===this.lerp&&(this.lerp=function(e,t,r){return r*(t-e)+e}),e=this.lerp(i[0],s[0],r),t=this.lerp(i[1],s[1],r),n=this.lerp(i[2],s[2],r),i=this.lerp(i[3],s[3],r),e*=u[l][0],t*=u[l][1],n*=u[l][2],i*=u[l][3],this.color(e,t,n,i)},o.default.prototype.lightness=function(e){return o.default._validateParameters("lightness",arguments),this.color(e)._getLightness()},o.default.prototype.red=function(e){return o.default._validateParameters("red",arguments),this.color(e)._getRed()},o.default.prototype.saturation=function(e){return o.default._validateParameters("saturation",arguments),this.color(e)._getSaturation()};var l=o.default;r.default=l},{"../core/constants":262,"../core/friendly_errors/fes_core":264,"../core/friendly_errors/file_errors":265,"../core/friendly_errors/validate_params":268,"../core/main":273,"./p5.Color":260,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.map":163,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],260:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.trim"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.trim"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=u(e("../core/main")),a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var r,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var a;Object.prototype.hasOwnProperty.call(e,r)&&((a=o?Object.getOwnPropertyDescriptor(e,r):null)&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=e[r])}return n.default=e,t&&t.set(e,n),n}(e("../core/constants")),s=u(e("./color_conversion"));function l(){var e;return"function"!=typeof WeakMap?null:(e=new WeakMap,l=function(){return e},e)}function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var d={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},f=(e=/\s*/,/(\d{1,3})/),h=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,p=new RegExp("".concat(h.source,"%")),m={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",f.source,",",f.source,",",f.source,"\\)$"].join(e.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",p.source,",",p.source,",",p.source,"\\)$"].join(e.source),"i"),RGBA:new RegExp(["^rgba\\(",f.source,",",f.source,",",f.source,",",h.source,"\\)$"].join(e.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",p.source,",",p.source,",",p.source,",",h.source,"\\)$"].join(e.source),"i"),HSL:new RegExp(["^hsl\\(",f.source,",",p.source,",",p.source,"\\)$"].join(e.source),"i"),HSLA:new RegExp(["^hsla\\(",f.source,",",p.source,",",p.source,",",h.source,"\\)$"].join(e.source),"i"),HSB:new RegExp(["^hsb\\(",f.source,",",p.source,",",p.source,"\\)$"].join(e.source),"i"),HSBA:new RegExp(["^hsba\\(",f.source,",",p.source,",",p.source,",",h.source,"\\)$"].join(e.source),"i")};o.default.Color=function(){function e(t,r){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");if(this._storeModeAndMaxes(t._colorMode,t._colorMaxes),![a.RGB,a.HSL,a.HSB].includes(this.mode))throw new Error("".concat(this.mode," is an invalid colorMode."));this._array=e._parseInputs.apply(this,r),this._calculateLevels()}var t,r,n;return t=e,n=[{key:"_parseInputs",value:function(t,r,n,i){var o,l=arguments.length,u=this.mode,c=this.maxes[u],f=[];if(3<=l){for(f[0]=t/c[0],f[1]=r/c[1],f[2]=n/c[2],f[3]="number"==typeof i?i/c[3]:1,o=f.length-1;0<=o;--o){var h=f[o];h<0?f[o]=0:1<h&&(f[o]=1)}return u===a.HSL?s.default._hslaToRGBA(f):u===a.HSB?s.default._hsbaToRGBA(f):f}if(1===l&&"string"==typeof t){if(n=t.trim().toLowerCase(),d[n])return e._parseInputs.call(this,d[n]);if(m.HEX3.test(n))return(f=m.HEX3.exec(n).slice(1).map((function(e){return parseInt(e+e,16)/255})))[3]=1,f;if(m.HEX6.test(n))return(f=m.HEX6.exec(n).slice(1).map((function(e){return parseInt(e,16)/255})))[3]=1,f;if(m.HEX4.test(n))return m.HEX4.exec(n).slice(1).map((function(e){return parseInt(e+e,16)/255}));if(m.HEX8.test(n))return m.HEX8.exec(n).slice(1).map((function(e){return parseInt(e,16)/255}));if(m.RGB.test(n))return(f=m.RGB.exec(n).slice(1).map((function(e){return e/255})))[3]=1,f;if(m.RGB_PERCENT.test(n))return(f=m.RGB_PERCENT.exec(n).slice(1).map((function(e){return parseFloat(e)/100})))[3]=1,f;if(m.RGBA.test(n))return m.RGBA.exec(n).slice(1).map((function(e,t){return 3===t?parseFloat(e):e/255}));if(m.RGBA_PERCENT.test(n))return m.RGBA_PERCENT.exec(n).slice(1).map((function(e,t){return 3===t?parseFloat(e):parseFloat(e)/100}));if(m.HSL.test(n)?(f=m.HSL.exec(n).slice(1).map((function(e,t){return 0===t?parseInt(e,10)/360:parseInt(e,10)/100})))[3]=1:m.HSLA.test(n)&&(f=m.HSLA.exec(n).slice(1).map((function(e,t){return 0===t?parseInt(e,10)/360:3===t?parseFloat(e):parseInt(e,10)/100}))),(f=f.map((function(e){return Math.max(Math.min(e,1),0)}))).length)return s.default._hslaToRGBA(f);if(m.HSB.test(n)?(f=m.HSB.exec(n).slice(1).map((function(e,t){return 0===t?parseInt(e,10)/360:parseInt(e,10)/100})))[3]=1:m.HSBA.test(n)&&(f=m.HSBA.exec(n).slice(1).map((function(e,t){return 0===t?parseInt(e,10)/360:3===t?parseFloat(e):parseInt(e,10)/100}))),f.length){for(o=f.length-1;0<=o;--o)f[o]=Math.max(Math.min(f[o],1),0);return s.default._hsbaToRGBA(f)}f=[1,1,1,1]}else{if(1!==l&&2!==l||"number"!=typeof t)throw new Error("".concat(arguments,"is not a valid color representation."));f[0]=t/c[2],f[1]=t/c[2],f[2]=t/c[2],f[3]="number"==typeof r?r/c[3]:1,f=f.map((function(e){return Math.max(Math.min(e,1),0)}))}return f}}],(r=[{key:"toString",value:function(e){var t=this.levels,r=this._array,n=r[3];switch(e){case"#rrggbb":return"#".concat(t[0]<16?"0".concat(t[0].toString(16)):t[0].toString(16),t[1]<16?"0".concat(t[1].toString(16)):t[1].toString(16),t[2]<16?"0".concat(t[2].toString(16)):t[2].toString(16));case"#rrggbbaa":return"#".concat(t[0]<16?"0".concat(t[0].toString(16)):t[0].toString(16),t[1]<16?"0".concat(t[1].toString(16)):t[1].toString(16),t[2]<16?"0".concat(t[2].toString(16)):t[2].toString(16),t[3]<16?"0".concat(t[3].toString(16)):t[3].toString(16));case"#rgb":return"#".concat(Math.round(15*r[0]).toString(16),Math.round(15*r[1]).toString(16),Math.round(15*r[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*r[0]).toString(16),Math.round(15*r[1]).toString(16),Math.round(15*r[2]).toString(16),Math.round(15*r[3]).toString(16));case"rgb":return"rgb(".concat(t[0],", ",t[1],", ",t[2],")");case"rgb%":return"rgb(".concat((100*r[0]).toPrecision(3),"%, ",(100*r[1]).toPrecision(3),"%, ",(100*r[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*r[0]).toPrecision(3),"%, ",(100*r[1]).toPrecision(3),"%, ",(100*r[2]).toPrecision(3),"%, ",(100*r[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=s.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[a.HSB][0],", ",this.hsba[1]*this.maxes[a.HSB][1],", ",this.hsba[2]*this.maxes[a.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=s.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=s.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[a.HSB][0],", ",this.hsba[1]*this.maxes[a.HSB][1],", ",this.hsba[2]*this.maxes[a.HSB][2],", ",n,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=s.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*n).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=s.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[a.HSL][0],", ",this.hsla[1]*this.maxes[a.HSL][1],", ",this.hsla[2]*this.maxes[a.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=s.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=s.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[a.HSL][0],", ",this.hsla[1]*this.maxes[a.HSL][1],", ",this.hsla[2]*this.maxes[a.HSL][2],", ",n,")");case"hsla%":return this.hsla||(this.hsla=s.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*n).toPrecision(3),"%)");default:return"rgba(".concat(t[0],",",t[1],",",t[2],",",n,")")}}},{key:"setRed",value:function(e){this._array[0]=e/this.maxes[a.RGB][0],this._calculateLevels()}},{key:"setGreen",value:function(e){this._array[1]=e/this.maxes[a.RGB][1],this._calculateLevels()}},{key:"setBlue",value:function(e){this._array[2]=e/this.maxes[a.RGB][2],this._calculateLevels()}},{key:"setAlpha",value:function(e){this._array[3]=e/this.maxes[this.mode][3],this._calculateLevels()}},{key:"_calculateLevels",value:function(){for(var e=this._array,t=this.levels=new Array(e.length),r=e.length-1;0<=r;--r)t[r]=Math.round(255*e[r]);this.hsla=null,this.hsba=null}},{key:"_getAlpha",value:function(){return this._array[3]*this.maxes[this.mode][3]}},{key:"_storeModeAndMaxes",value:function(e,t){this.mode=e,this.maxes=t}},{key:"_getMode",value:function(){return this.mode}},{key:"_getMaxes",value:function(){return this.maxes}},{key:"_getBlue",value:function(){return this._array[2]*this.maxes[a.RGB][2]}},{key:"_getBrightness",value:function(){return this.hsba||(this.hsba=s.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[a.HSB][2]}},{key:"_getGreen",value:function(){return this._array[1]*this.maxes[a.RGB][1]}},{key:"_getHue",value:function(){return this.mode===a.HSB?(this.hsba||(this.hsba=s.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[a.HSB][0]):(this.hsla||(this.hsla=s.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[a.HSL][0])}},{key:"_getLightness",value:function(){return this.hsla||(this.hsla=s.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[a.HSL][2]}},{key:"_getRed",value:function(){return this._array[0]*this.maxes[a.RGB][0]}},{key:"_getSaturation",value:function(){return this.mode===a.HSB?(this.hsba||(this.hsba=s.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[a.HSB][1]):(this.hsla||(this.hsla=s.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[a.HSL][1])}}])&&c(t.prototype,r),n&&c(t,n),e}(),f=o.default.Color;r.default=f},{"../core/constants":262,"../core/main":273,"./color_conversion":258,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.constructor":184,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.trim":199,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],261:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.fill"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=(l=e("../core/main"))&&l.__esModule?l:{default:l},a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var a;Object.prototype.hasOwnProperty.call(e,r)&&((a=o?Object.getOwnPropertyDescriptor(e,r):null)&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=e[r])}return n.default=e,t&&t.set(e,n),n}(e("../core/constants"));function s(){var e;return"function"!=typeof WeakMap?null:(e=new WeakMap,s=function(){return e},e)}e("./p5.Color"),o.default.prototype.background=function(){var e;return(e=this._renderer).background.apply(e,arguments),this},o.default.prototype.clear=function(){return this._renderer.clear((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this},o.default.prototype.colorMode=function(e,t,r,n,i){return o.default._validateParameters("colorMode",arguments),e!==a.RGB&&e!==a.HSB&&e!==a.HSL||(this._colorMode=e,e=this._colorMaxes[e],2===arguments.length?(e[0]=t,e[1]=t,e[2]=t,e[3]=t):4===arguments.length?(e[0]=t,e[1]=r,e[2]=n):5===arguments.length&&(e[0]=t,e[1]=r,e[2]=n,e[3]=i)),this},o.default.prototype.fill=function(){var e;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(e=this._renderer).fill.apply(e,arguments),this},o.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},o.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},o.default.prototype.stroke=function(){var e;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(e=this._renderer).stroke.apply(e,arguments),this},o.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&void 0!==arguments[0]?arguments[0]:255,1<arguments.length&&void 0!==arguments[1]?arguments[1]:255),this},o.default.prototype.noErase=function(){return this._renderer.noErase(),this};var l=o.default;r.default=l},{"../core/constants":262,"../core/main":273,"./p5.Color":260,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],262:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.QUADRATIC=r.LINEAR=r._CTX_MIDDLE=r._DEFAULT_LEADMULT=r._DEFAULT_TEXT_FILL=r.WORD=r.CHAR=r.BOLDITALIC=r.BOLD=r.ITALIC=r.NORMAL=r.BLUR=r.ERODE=r.DILATE=r.POSTERIZE=r.INVERT=r.OPAQUE=r.GRAY=r.THRESHOLD=r.BURN=r.DODGE=r.SOFT_LIGHT=r.HARD_LIGHT=r.OVERLAY=r.REPLACE=r.SCREEN=r.MULTIPLY=r.EXCLUSION=r.SUBTRACT=r.DIFFERENCE=r.LIGHTEST=r.DARKEST=r.ADD=r.REMOVE=r.BLEND=r.UP_ARROW=r.TAB=r.SHIFT=r.RIGHT_ARROW=r.RETURN=r.OPTION=r.LEFT_ARROW=r.ESCAPE=r.ENTER=r.DOWN_ARROW=r.DELETE=r.CONTROL=r.BACKSPACE=r.ALT=r.AUTO=r.HSL=r.HSB=r.RGB=r.MITER=r.BEVEL=r.ROUND=r.SQUARE=r.PROJECT=r.PIE=r.CHORD=r.OPEN=r.CLOSE=r.TESS=r.QUAD_STRIP=r.QUADS=r.TRIANGLE_STRIP=r.TRIANGLE_FAN=r.TRIANGLES=r.LINE_LOOP=r.LINE_STRIP=r.LINES=r.POINTS=r.BASELINE=r.BOTTOM=r.TOP=r.CENTER=r.LEFT=r.RIGHT=r.RADIUS=r.CORNERS=r.CORNER=r.RAD_TO_DEG=r.DEG_TO_RAD=r.RADIANS=r.DEGREES=r.TWO_PI=r.TAU=r.QUARTER_PI=r.PI=r.HALF_PI=r.WAIT=r.TEXT=r.MOVE=r.HAND=r.CROSS=r.ARROW=r.WEBGL2=r.WEBGL=r.P2D=r.VERSION=void 0,r.RGBA=r.HALF_FLOAT=r.FLOAT=r.UNSIGNED_INT=r.UNSIGNED_BYTE=r.COVER=r.CONTAIN=r.FALLBACK=r.LABEL=r.AXES=r.GRID=r._DEFAULT_FILL=r._DEFAULT_STROKE=r.PORTRAIT=r.LANDSCAPE=r.MIRROR=r.CLAMP=r.REPEAT=r.NEAREST=r.IMAGE=r.IMMEDIATE=r.TEXTURE=r.FILL=r.STROKE=r.CURVE=r.BEZIER=void 0;var n=Math.PI,i=(r.VERSION="1.7.0",r.P2D="p2d",r.WEBGL="webgl",r.WEBGL2="webgl2",r.ARROW="default",r.CROSS="crosshair",r.HAND="pointer",r.MOVE="move",r.TEXT="text",r.WAIT="wait",n/2);r.HALF_PI=i,i=n,r.PI=i,i=n/4,r.QUARTER_PI=i,i=2*n,r.TAU=i,i=2*n,r.TWO_PI=i,r.DEGREES="degrees",r.RADIANS="radians",i=n/180,r.DEG_TO_RAD=i,i=180/n;r.RAD_TO_DEG=i,r.CORNER="corner",r.CORNERS="corners",r.RADIUS="radius",r.RIGHT="right",r.LEFT="left",r.CENTER="center",r.TOP="top",r.BOTTOM="bottom",r.BASELINE="alphabetic",r.POINTS=0,r.LINES=1,r.LINE_STRIP=3,r.LINE_LOOP=2,r.TRIANGLES=4,r.TRIANGLE_FAN=6,r.TRIANGLE_STRIP=5,r.QUADS="quads",r.QUAD_STRIP="quad_strip",r.TESS="tess",r.CLOSE="close",r.OPEN="open",r.CHORD="chord",r.PIE="pie",r.PROJECT="square",r.SQUARE="butt",r.ROUND="round",r.BEVEL="bevel",r.MITER="miter",r.RGB="rgb",r.HSB="hsb",r.HSL="hsl",r.AUTO="auto",r.ALT=18,r.BACKSPACE=8,r.CONTROL=17,r.DELETE=46,r.DOWN_ARROW=40,r.ENTER=13,r.ESCAPE=27,r.LEFT_ARROW=37,r.OPTION=18,r.RETURN=13,r.RIGHT_ARROW=39,r.SHIFT=16,r.TAB=9,r.UP_ARROW=38,r.BLEND="source-over",r.REMOVE="destination-out",r.ADD="lighter",r.DARKEST="darken",r.LIGHTEST="lighten",r.DIFFERENCE="difference",r.SUBTRACT="subtract",r.EXCLUSION="exclusion",r.MULTIPLY="multiply",r.SCREEN="screen",r.REPLACE="copy",r.OVERLAY="overlay",r.HARD_LIGHT="hard-light",r.SOFT_LIGHT="soft-light",r.DODGE="color-dodge",r.BURN="color-burn",r.THRESHOLD="threshold",r.GRAY="gray",r.OPAQUE="opaque",r.INVERT="invert",r.POSTERIZE="posterize",r.DILATE="dilate",r.ERODE="erode",r.BLUR="blur",r.NORMAL="normal",r.ITALIC="italic",r.BOLD="bold",r.BOLDITALIC="bold italic",r.CHAR="CHAR",r.WORD="WORD",r._DEFAULT_TEXT_FILL="#000000",r._DEFAULT_LEADMULT=1.25,r._CTX_MIDDLE="middle",r.LINEAR="linear",r.QUADRATIC="quadratic",r.BEZIER="bezier",r.CURVE="curve",r.STROKE="stroke",r.FILL="fill",r.TEXTURE="texture",r.IMMEDIATE="immediate",r.IMAGE="image",r.NEAREST="nearest",r.REPEAT="repeat",r.CLAMP="clamp",r.MIRROR="mirror",r.LANDSCAPE="landscape",r.PORTRAIT="portrait",r._DEFAULT_STROKE="#000000",r._DEFAULT_FILL="#FFFFFF",r.GRID="grid",r.AXES="axes",r.LABEL="label",r.FALLBACK="fallback",r.CONTAIN="contain",r.COVER="cover",r.UNSIGNED_BYTE="unsigned-byte",r.UNSIGNED_INT="unsigned-int",r.FLOAT="float",r.HALF_FLOAT="half-float",r.RGBA="rgba"},{}],263:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.search"),e("core-js/modules/es.string.split"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.search"),e("core-js/modules/es.string.split"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=(a=e("./main"))&&a.__esModule?a:{default:a},a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var a;Object.prototype.hasOwnProperty.call(e,r)&&((a=o?Object.getOwnPropertyDescriptor(e,r):null)&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=e[r])}return n.default=e,t&&t.set(e,n),n}(e("./constants"));function s(){var e;return"function"!=typeof WeakMap?null:(e=new WeakMap,s=function(){return e},e)}var l=[a.ARROW,a.CROSS,a.HAND,a.MOVE,a.TEXT,a.WAIT],u=(o.default.prototype._frameRate=0,o.default.prototype._lastFrameTime=window.performance.now(),o.default.prototype._targetFrameRate=60,window.print);function c(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function d(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}o.default.prototype.print=function(){var e;arguments.length?(e=console).log.apply(e,arguments):u()},o.default.prototype.frameCount=0,o.default.prototype.deltaTime=0,o.default.prototype.focused=document.hasFocus(),o.default.prototype.cursor=function(e,t,r){var n,i="auto",o=this._curElement.elt;l.includes(e)?i=e:"string"==typeof e&&(n="",t&&r&&"number"==typeof t&&"number"==typeof r&&(n="".concat(t," ").concat(r)),i="http://"===e.substring(0,7)||"https://"===e.substring(0,8)||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(e)?"url(".concat(e,") ").concat(n,", auto"):e),o.style.cursor=i},o.default.prototype.frameRate=function(e){return o.default._validateParameters("frameRate",arguments),"number"!=typeof e||e<0?this._frameRate:(this._setProperty("_targetFrameRate",e),0===e&&this._setProperty("_frameRate",e),this)},o.default.prototype.getFrameRate=function(){return this.frameRate()},o.default.prototype.setFrameRate=function(e){return this.frameRate(e)},o.default.prototype.getTargetFrameRate=function(){return this._targetFrameRate},o.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},o.default.prototype.webglVersion=a.P2D,o.default.prototype.displayWidth=screen.width,o.default.prototype.displayHeight=screen.height,o.default.prototype.windowWidth=c(),o.default.prototype.windowHeight=d(),o.default.prototype._onresize=function(e){this._setProperty("windowWidth",c()),this._setProperty("windowHeight",d());var t=this._isGlobal?window:this;"function"!=typeof t.windowResized||void 0===(t=t.windowResized(e))||t||e.preventDefault()},o.default.prototype.width=0,o.default.prototype.height=0,o.default.prototype.fullscreen=function(e){if(o.default._validateParameters("fullscreen",arguments),void 0===e)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(e){if(e=document.documentElement,!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},o.default.prototype.pixelDensity=function(e){var t;return o.default._validateParameters("pixelDensity",arguments),"number"==typeof e?(e!==this._pixelDensity&&(this._pixelDensity=e),(t=this).resizeCanvas(this.width,this.height,!0)):t=this._pixelDensity,t},o.default.prototype.displayDensity=function(){return window.devicePixelRatio},o.default.prototype.getURL=function(){return location.href},o.default.prototype.getURLPath=function(){return location.pathname.split("/").filter((function(e){return""!==e}))},o.default.prototype.getURLParams=function(){for(var e,t=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,r={};null!=(e=t.exec(location.search));)e.index===t.lastIndex&&t.lastIndex++,r[e[1]]=e[2];return r},e=o.default,r.default=e},{"./constants":262,"./main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.search":195,"core-js/modules/es.string.split":196,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],264:[function(e,t,r){"use strict";e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.some"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.get-own-property-names"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.starts-with"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.some"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.get-own-property-names"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.starts-with"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=(l=e("../main"))&&l.__esModule?l:{default:l};function i(e,t){t=t||console.log.bind(console),o||a(),o.some((function(r){var n;if(e.message&&null!==e.message.match("\\W?".concat(r.name,"\\W")))return n="function"===r.type?"".concat(r.name,"()"):r.name,t("Did you just try to use p5.js's ".concat(n," ").concat(r.type,"? If so, you may want to move it into your sketch's setup() function.\n\nFor more details, see: ").concat(s)),!0}))}e("../internationalization");var o=null,a=null,s=(n.default._friendlyError=n.default._checkForUserDefinedFunctions=n.default._fesErrorMonitor=function(){},o=null,"https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"),l=(a=function(){function t(e){return Object.getOwnPropertyNames(e).filter((function(e){return"_"!==e[0]&&!(e in r)&&(r[e]=!0)})).map((function(t){var r="function"==typeof e[t]?"function":t===t.toUpperCase()?"constant":"variable";return{name:t,type:r}}))}var r={};(o=[].concat(t(n.default.prototype),t(e("../constants")))).sort((function(e,t){return t.name.length-e.name.length}))},n.default.prototype._helpForMisusedAtTopLevelCode=i,"complete"!==document.readyState&&(window.addEventListener("error",i,!1),window.addEventListener("load",(function(){window.removeEventListener("error",i,!1)}))),n.default);r.default=l},{"../constants":262,"../internationalization":271,"../main":273,"./browser_errors":void 0,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.some":165,"core-js/modules/es.function.name":167,"core-js/modules/es.object.assign":174,"core-js/modules/es.object.get-own-property-names":177,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.constructor":184,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.match":191,"core-js/modules/es.string.replace":194,"core-js/modules/es.string.split":196,"core-js/modules/es.string.starts-with":197,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.dom-collections.iterator":236}],265:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=(n=e("../main"))&&n.__esModule?n:{default:n};e("../internationalization"),n.default._friendlyFileLoadError=function(){},e=n.default,r.default=e},{"../internationalization":271,"../main":273}],266:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(e("../main"));e("../internationalization"),function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r,n,o={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&((n=s?Object.getOwnPropertyDescriptor(e,r):null)&&(n.get||n.set)?Object.defineProperty(o,r,n):o[r]=e[r]);o.default=e,t&&t.set(e,o)}(e("../constants"));function a(){var e;return"function"!=typeof WeakMap?null:(e=new WeakMap,a=function(){return e},e)}o.default._fesCodeReader=function(){};var s=o.default;r.default=s},{"../constants":262,"../internationalization":271,"../main":273,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.from":157,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.constructor":184,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.match":191,"core-js/modules/es.string.split":196,"core-js/modules/es.string.trim":199,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.dom-collections.iterator":236}],267:[function(e,t,r){"use strict";function n(){var e=/(^|@)\S+:\d+/,t=/^\s*at .*(\S+:\d+|\(native\))/m,r=/^(eval@)?(\[native code])?$/;return{parse:function(e){return void 0!==e.stacktrace||void 0!==e["opera#sourceloc"]?this.parseOpera(e):e.stack&&e.stack.match(t)?this.parseV8OrIE(e):e.stack?this.parseFFOrSafari(e):void 0},extractLocation:function(e){return-1===e.indexOf(":")?[e]:[(e=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(e.replace(/[()]/g,"")))[1],e[2]||void 0,e[3]||void 0]},parseV8OrIE:function(e){return e.stack.split("\n").filter((function(e){return!!e.match(t)}),this).map((function(e){var t=(r=(e=-1<e.indexOf("(eval ")?e.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""):e).replace(/^\s+/,"").replace(/\(eval code/g,"(")).match(/ (\((.+):(\d+):(\d+)\)$)/),r=(r=t?r.replace(t[0],""):r).split(/\s+/).slice(1);t=this.extractLocation(t?t[1]:r.pop());return{functionName:r.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(t[0])?void 0:t[0],lineNumber:t[1],columnNumber:t[2],source:e}}),this)},parseFFOrSafari:function(e){return e.stack.split("\n").filter((function(e){return!e.match(r)}),this).map((function(e){var t,r;return-1===(e=-1<e.indexOf(" > eval")?e.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1"):e).indexOf("@")&&-1===e.indexOf(":")?{functionName:e}:{functionName:(r=e.match(t=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&r[1]?r[1]:void 0,fileName:(r=this.extractLocation(e.replace(t,"")))[0],lineNumber:r[1],columnNumber:r[2],source:e}}),this)},parseOpera:function(e){return!e.stacktrace||-1<e.message.indexOf("\n")&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(e){for(var t=/Line (\d+).*script (?:in )?(\S+)/i,r=e.message.split("\n"),n=[],i=2,o=r.length;i<o;i+=2){var a=t.exec(r[i]);a&&n.push({fileName:a[2],lineNumber:a[1],source:r[i]})}return n},parseOpera10:function(e){for(var t=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,r=e.stacktrace.split("\n"),n=[],i=0,o=r.length;i<o;i+=2){var a=t.exec(r[i]);a&&n.push({functionName:a[3]||void 0,fileName:a[2],lineNumber:a[1],source:r[i]})}return n},parseOpera11:function(t){return t.stack.split("\n").filter((function(t){return!!t.match(e)&&!t.match(/^Error created at/)}),this).map((function(e){var t,r=e.split("@"),n=this.extractLocation(r.pop());return{functionName:(r=r.shift()||"").replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,args:void 0===(t=r.match(/\(([^)]*)\)/)?r.replace(/^[^(]+\(([^)]*)\)$/,"$1"):t)||"[arguments not available]"===t?void 0:t.split(","),fileName:n[0],lineNumber:n[1],columnNumber:n[2],source:e}}),this)}}}e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,(e=(e=e("../main"))&&e.__esModule?e:{default:e}).default._getErrorStackParser=function(){return new n},e=e.default,r.default=e},{"../main":273,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.join":161,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.match":191,"core-js/modules/es.string.replace":194,"core-js/modules/es.string.split":196}],268:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.last-index-of"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.map"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.get-prototype-of"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.reflect.construct"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.set"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.last-index-of"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.map"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.get-prototype-of"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.reflect.construct"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.set"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=(i=e("../main"))&&i.__esModule?i:{default:i};function o(){var e;return"function"!=typeof WeakMap?null:(e=new WeakMap,o=function(){return e},e)}function a(e){return(a="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}(function(e){if((!e||!e.__esModule)&&null!==e&&("object"===a(e)||"function"==typeof e)){var t=o();if(t&&t.has(e))return t.get(e);var r,n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var s;Object.prototype.hasOwnProperty.call(e,r)&&((s=i?Object.getOwnPropertyDescriptor(e,r):null)&&(s.get||s.set)?Object.defineProperty(n,r,s):n[r]=e[r])}n.default=e,t&&t.set(e,n)}})(e("../constants")),e("../internationalization"),i.default._validateParameters=i.default._clearValidateParamsCache=function(){},e=i.default,r.default=e},{"../../../docs/parameterData.json":void 0,"../constants":262,"../internationalization":271,"../main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.last-index-of":162,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.function.name":167,"core-js/modules/es.map":168,"core-js/modules/es.number.constructor":171,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.set":187,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.split":196,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.dom-collections.iterator":236}],269:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var s;Object.prototype.hasOwnProperty.call(e,r)&&((s=o?Object.getOwnPropertyDescriptor(e,r):null)&&(s.get||s.set)?Object.defineProperty(n,r,s):n[r]=e[r])}return n.default=e,t&&t.set(e,n),n}(e("./constants"));function a(){var e;return"function"!=typeof WeakMap?null:(e=new WeakMap,a=function(){return e},e)}r.default={modeAdjust:function(e,t,r,n,i){return i===o.CORNER?{x:e,y:t,w:r,h:n}:i===o.CORNERS?{x:e,y:t,w:r-e,h:n-t}:i===o.RADIUS?{x:e-r,y:t-n,w:2*r,h:2*n}:i===o.CENTER?{x:e-.5*r,y:t-.5*n,w:r,h:n}:void 0}}},{"./constants":262,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],270:[function(e,t,r){"use strict";e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator");var n=(i=e("../core/main"))&&i.__esModule?i:{default:i};e("./internationalization");var i=Promise.resolve();Promise.all([new Promise((function(e,t){"complete"===document.readyState?e():window.addEventListener("load",e,!1)})),i]).then((function(){void 0!==window._setupDone?console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import"):window.mocha||(window.setup&&"function"==typeof window.setup||window.draw&&"function"==typeof window.draw)&&!n.default.instance&&new n.default}))},{"../core/main":273,"./internationalization":271,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.to-string":180,"core-js/modules/es.promise":181,"core-js/modules/es.string.iterator":190,"core-js/modules/web.dom-collections.iterator":236}],271:[function(e,t,r){"use strict";e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.setTranslatorLanguage=r.currentTranslatorLanguage=r.availableTranslatorLanguages=r.initialize=r.translator=void 0;var n,i=a(e("i18next")),o=a(e("i18next-browser-languagedetector"));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var l=function(){function e(t,r){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.init(t,r)}var t,r;return t=e,(r=[{key:"fetchWithTimeout",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:2e3;return Promise.race([fetch(e,t),new Promise((function(e,t){return setTimeout((function(){return t(new Error("timeout"))}),r)}))])}},{key:"init",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.services=e,this.options=t}},{key:"read",value:function(e,t,r){var i=this.options.loadPath;e===this.options.fallback?r(null,n[e][t]):undefined.includes(e)?(i=this.services.interpolator.interpolate(i,{lng:e,ns:t}),this.loadUrl(i,r)):r("Not found",!1)}},{key:"loadUrl",value:function(e,t){this.fetchWithTimeout(e).then((function(t){if(t.ok)return t.json();throw new Error("failed loading ".concat(e))}),(function(){throw new Error("failed loading ".concat(e))})).then((function(e){return t(null,e)})).catch(t)}}])&&s(t.prototype,r),e}();l.type="backend",r.translator=function(e,t){console.debug("p5.js translator called before translations were loaded"),i.default.t(e,t)},r.initialize=function(){return i.default.use(o.default).use(l).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:n}).then((function(e){r.translator=e}),(function(e){return console.debug("Translations failed to load (".concat(e,")"))}))},r.availableTranslatorLanguages=function(){return i.default.languages},r.currentTranslatorLanguage=function(e){return i.default.language},r.setTranslatorLanguage=function(e){return i.default.changeLanguage(e||void 0,(function(e){return console.debug("Translations failed to load (".concat(e,")"))}))}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.promise":181,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.split":196,"core-js/modules/web.dom-collections.iterator":236,i18next:3,"i18next-browser-languagedetector":3}],272:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,(e=(e=e("./main"))&&e.__esModule?e:{default:e}).default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},e.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},e.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},e.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},e=e.default,r.default=e},{"./main":273}],273:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.get-own-property-names"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.get-own-property-names"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,e("./shim");var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var s;Object.prototype.hasOwnProperty.call(e,r)&&((s=o?Object.getOwnPropertyDescriptor(e,r):null)&&(s.get||s.set)?Object.defineProperty(n,r,s):n[r]=e[r])}return n.default=e,t&&t.set(e,n),n}(e("./constants"));function a(){var e;return"function"!=typeof WeakMap?null:(e=new WeakMap,a=function(){return e},e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var l,u=function(){function e(t,r,n){var i=this;if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this._setupDone=!1,this._preloadDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._userNode=r,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._recording=!1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={};r=Object.getOwnPropertyNames(e.prototype._registeredMethods);var o=!0,a=!1,s=void 0;try{for(var l,u=r[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;this._registeredMethods[c]=e.prototype._registeredMethods[c].slice()}}catch(t){a=!0,s=t}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),this._start=function(){i._userNode&&"string"==typeof i._userNode&&(i._userNode=document.getElementById(i._userNode));var t=i._isGlobal?window:i;if(t.preload){var r,n=document.getElementById(i._loadingScreenId),o=(n||((n=document.createElement("div")).innerHTML="Loading...",n.style.position="absolute",n.id=i._loadingScreenId,(i._userNode||document.body).appendChild(n)),i._preloadMethods);for(r in o){o[r]=o[r]||e;var a=o[r];a!==e.prototype&&a!==e||(i._isGlobal&&(window[r]=i._wrapPreload(i,r)),a=i),i._registeredPreloadMethods[r]=a[r],a[r]=i._wrapPreload(a,r)}t.preload(),i._runIfPreloadsAreDone()}else i._setup(),i._recording||i._draw()},this._runIfPreloadsAreDone=function(){var e,t=this._isGlobal?window:this;0===t._preloadCount&&((e=document.getElementById(t._loadingScreenId))&&e.parentNode.removeChild(e),this._setupDone||(this._lastTargetFrameTime=window.performance.now(),this._lastRealFrameTime=window.performance.now(),t._setup(),this._recording||t._draw()))},this._decrementPreload=function(){var e=this._isGlobal?window:this;e._preloadDone||"function"!=typeof e.preload||(e._setProperty("_preloadCount",e._preloadCount-1),e._runIfPreloadsAreDone())},this._wrapPreload=function(e,t){var r=this;return function(){r._incrementPreload();for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r._registeredPreloadMethods[t].apply(e,i)}},this._incrementPreload=function(){var e=this._isGlobal?window:this;e._preloadDone||e._setProperty("_preloadCount",e._preloadCount+1)},this._setup=function(){i.createCanvas(i._defaultCanvasSize.width,i._defaultCanvasSize.height,"p2d");var e=i._isGlobal?window:i;if("function"==typeof e.preload)for(var t in i._preloadMethods)e[t]=i._preloadMethods[t][t],e[t]&&i&&(e[t]=e[t].bind(i));i._millisStart=window.performance.now(),e._preloadDone=!0,"function"==typeof e.setup&&e.setup();var r=document.getElementsByTagName("canvas"),n=!0,o=!1,a=void 0;try{for(var s,l=r[Symbol.iterator]();!(n=(s=l.next()).done);n=!0){var u=s.value;"true"===u.dataset.hidden&&(u.style.visibility="",delete u.dataset.hidden)}}catch(e){o=!0,a=e}finally{try{n||null==l.return||l.return()}finally{if(o)throw a}}i._lastTargetFrameTime=window.performance.now(),i._lastRealFrameTime=window.performance.now(),i._setupDone=!0,(i._accessibleOutputs.grid||i._accessibleOutputs.text)&&i._updateAccsOutput()},this._draw=function(){var e=window.performance.now(),t=e-i._lastTargetFrameTime,r=1e3/i._targetFrameRate;(!i._loop||r-5<=t)&&(i.deltaTime=e-i._lastRealFrameTime,i._setProperty("deltaTime",i.deltaTime),i._frameRate=1e3/i.deltaTime,i.redraw(),i._lastTargetFrameTime=Math.max(i._lastTargetFrameTime+r,e),i._lastRealFrameTime=e,void 0!==i._updateMouseCoords&&(i._updateMouseCoords(),i._setProperty("movedX",0),i._setProperty("movedY",0))),i._loop&&(i._requestAnimId=window.requestAnimationFrame(i._draw))},this._setProperty=function(e,t){i[e]=t,i._isGlobal&&(window[e]=t)},this.remove=function(){if((n=document.getElementById(i._loadingScreenId))&&(n.parentNode.removeChild(n),i._incrementPreload()),i._curElement){for(var t in i._loop=!1,i._requestAnimId&&window.cancelAnimationFrame(i._requestAnimId),i._events)window.removeEventListener(t,i._events[t]);var r=!0,n=!1,o=void 0;try{for(var a,s=i._elements[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l,u=a.value;for(l in u.elt&&u.elt.parentNode&&u.elt.parentNode.removeChild(u.elt),u._events)u.elt.removeEventListener(l,u._events[l])}}catch(t){n=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(n)throw o}}var c=i;i._registeredMethods.remove.forEach((function(e){void 0!==e&&e.call(c)}))}if(i._isGlobal){for(var d in e.prototype)try{delete window[d]}catch(t){window[d]=void 0}for(var f in i)if(i.hasOwnProperty(f))try{delete window[f]}catch(t){window[f]=void 0}e.instance=null}},this._registeredMethods.init.forEach((function(e){void 0!==e&&e.call(this)}),this),this._setupPromisePreloads();var d,f,h=this._createFriendlyGlobalFunctionBinder();if(t)t(this),e._checkForUserDefinedFunctions(this);else{for(var p in this._isGlobal=!0,e.instance=this,e.prototype)"function"==typeof e.prototype[p]?(d=p.substring(2),this._events.hasOwnProperty(d)||(Math.hasOwnProperty(p)&&Math[p]===e.prototype[p]?h(p,e.prototype[p]):h(p,e.prototype[p].bind(this)))):h(p,e.prototype[p]);for(var m in this)this.hasOwnProperty(m)&&h(m,this[m])}for(f in this._events){var g=this["_on".concat(f)];g&&(g=g.bind(this),window.addEventListener(f,g,{passive:!1}),this._events[f]=g)}function y(){i._setProperty("focused",!0)}function v(){i._setProperty("focused",!1)}window.addEventListener("focus",y),window.addEventListener("blur",v),this.registerMethod("remove",(function(){window.removeEventListener("focus",y),window.removeEventListener("blur",v)})),"complete"===document.readyState?this._start():window.addEventListener("load",this._start.bind(this),!1)}var t,r;return t=e,(r=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=o.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(t,r){e.prototype._preloadMethods.hasOwnProperty(t)||(e.prototype._preloadMethods[t]=r)}},{key:"registerMethod",value:function(t,r){var n=this||e.prototype;n._registeredMethods.hasOwnProperty(t)||(n._registeredMethods[t]=[]),n._registeredMethods[t].push(r)}},{key:"_createFriendlyGlobalFunctionBinder",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=t.globalObject||window;return t.log||console.log.bind(console),function(t,n){e.disableFriendlyErrors,r[t]=n}}}])&&s(t.prototype,r),e}();for(l in u.instance=null,u.disableFriendlyErrors=!1,o)u.prototype[l]=o[l];u.VERSION=o.VERSION,u.prototype._preloadMethods={loadJSON:u.prototype,loadImage:u.prototype,loadStrings:u.prototype,loadXML:u.prototype,loadBytes:u.prototype,loadTable:u.prototype,loadFont:u.prototype,loadModel:u.prototype,loadShader:u.prototype},u.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},u.prototype._registeredPreloadMethods={},r.default=u},{"./constants":262,"./shim":284,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.get-own-property-names":177,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.dom-collections.iterator":236}],274:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=(e=e("./main"))&&e.__esModule?e:{default:e};function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}n.default.Element=function(){function e(t,r){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.elt=t,this._pInst=this._pixelsState=r,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight}var t,r,o;return t=e,o=[{key:"_adjustListener",value:function(e,t,r){return!1===t?n.default.Element._detachListener(e,r):n.default.Element._attachListener(e,t,r),this}},{key:"_attachListener",value:function(e,t,r){r._events[e]&&n.default.Element._detachListener(e,r),t=t.bind(r),r.elt.addEventListener(e,t,!1),r._events[e]=t}},{key:"_detachListener",value:function(e,t){var r=t._events[e];t.elt.removeEventListener(e,r,!1),t._events[e]=null}}],(r=[{key:"parent",value:function(e){return void 0===e?this.elt.parentNode:("string"==typeof e?("#"===e[0]&&(e=e.substring(1)),e=document.getElementById(e)):e instanceof n.default.Element&&(e=e.elt),e.appendChild(this.elt),this)}},{key:"id",value:function(e){return void 0===e?this.elt.id:(this.elt.id=e,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)}},{key:"class",value:function(e){return void 0===e?this.elt.className:(this.elt.className=e,this)}},{key:"mousePressed",value:function(e){return n.default.Element._adjustListener("mousedown",(function(t){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(t),e.call(this,t)}),this),this}},{key:"doubleClicked",value:function(e){return n.default.Element._adjustListener("dblclick",e,this),this}},{key:"mouseWheel",value:function(e){return n.default.Element._adjustListener("wheel",e,this),this}},{key:"mouseReleased",value:function(e){return n.default.Element._adjustListener("mouseup",e,this),this}},{key:"mouseClicked",value:function(e){return n.default.Element._adjustListener("click",e,this),this}},{key:"mouseMoved",value:function(e){return n.default.Element._adjustListener("mousemove",e,this),this}},{key:"mouseOver",value:function(e){return n.default.Element._adjustListener("mouseover",e,this),this}},{key:"mouseOut",value:function(e){return n.default.Element._adjustListener("mouseout",e,this),this}},{key:"touchStarted",value:function(e){return n.default.Element._adjustListener("touchstart",e,this),this}},{key:"touchMoved",value:function(e){return n.default.Element._adjustListener("touchmove",e,this),this}},{key:"touchEnded",value:function(e){return n.default.Element._adjustListener("touchend",e,this),this}},{key:"dragOver",value:function(e){return n.default.Element._adjustListener("dragover",e,this),this}},{key:"dragLeave",value:function(e){return n.default.Element._adjustListener("dragleave",e,this),this}},{key:"_setProperty",value:function(e,t){this[e]=t}}])&&i(t.prototype,r),o&&i(t,o),e}(),e=n.default.Element,r.default=e},{"./main":273}],275:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.get-prototype-of"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.reflect.construct"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.object.get-prototype-of"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.reflect.construct"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=(p=e("./main"))&&p.__esModule?p:{default:p},o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r,n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var o;Object.prototype.hasOwnProperty.call(e,r)&&((o=i?Object.getOwnPropertyDescriptor(e,r):null)&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r])}return n.default=e,t&&t.set(e,n),n}(e("./constants"));function a(){var e;return"function"!=typeof WeakMap?null:(e=new WeakMap,a=function(){return e},e)}function s(e){return(s="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){return function(){var t,r=h(e);return d(this,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),1}catch(t){}}}()?(t=h(this).constructor,Reflect.construct(r,arguments,t)):r.apply(this,arguments))}}function d(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}i.default.Graphics=function(e){var t=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e);var r=c(n);function n(e,t,a,s,l){var u;if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");h=l||document.createElement("canvas"),(u=r.call(this,h,s)).canvas=h;var c,h=a||o.P2D;a=s._userNode||document.body;for(c in l||a.appendChild(u.canvas),i.default.prototype)u[c]||("function"==typeof i.default.prototype[c]?u[c]=i.default.prototype[c].bind(f(u)):u[c]=i.default.prototype[c]);return i.default.prototype._initializeInstanceVariables.apply(f(u)),u.width=e,u.height=t,u._pixelDensity=s._pixelDensity,h===o.WEBGL?u._renderer=new i.default.RendererGL(u.canvas,f(u),!1):u._renderer=new i.default.Renderer2D(u.canvas,f(u),!1),s._elements.push(f(u)),Object.defineProperty(f(u),"deltaTime",{get:function(){return this._pInst.deltaTime}}),u._renderer.resize(e,t),u._renderer._applyDefaults(),d(u,f(u))}return t=n,(e=[{key:"reset",value:function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()}},{key:"remove",value:function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var e,t=this._pInst._elements.indexOf(this);for(e in-1!==t&&this._pInst._elements.splice(t,1),this._events)this.elt.removeEventListener(e,this._events[e])}},{key:"createFramebuffer",value:function(e){return new i.default.Framebuffer(this,e)}}])&&l(t.prototype,e),n}(i.default.Element);var p=i.default.Graphics;r.default=p},{"./constants":262,"./main":273,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.splice":166,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],276:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.get-prototype-of"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.reflect.construct"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.get-prototype-of"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.reflect.construct"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=(h=e("./main"))&&h.__esModule?h:{default:h},o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r,n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var o;Object.prototype.hasOwnProperty.call(e,r)&&((o=i?Object.getOwnPropertyDescriptor(e,r):null)&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r])}return n.default=e,t&&t.set(e,n),n}(e("../core/constants"));function a(){var e;return"function"!=typeof WeakMap?null:(e=new WeakMap,a=function(){return e},e)}function s(e){return(s="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){return function(){var t,r,n=f(e);return t=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),1}catch(t){}}}()?(t=f(this).constructor,Reflect.construct(n,arguments,t)):n.apply(this,arguments),n=this,!(r=t)||"object"!==s(r)&&"function"!=typeof r?d(n):r}}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(e){var t=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e);var r=c(n);function n(e,t,i){var a;if(this instanceof n)return(a=r.call(this,e,t)).canvas=e,a._pixelsState=t,i?(a._isMainCanvas=!0,a._pInst._setProperty("_curElement",d(a)),a._pInst._setProperty("canvas",a.canvas),a._pInst._setProperty("width",a.width),a._pInst._setProperty("height",a.height)):(a.canvas.style.display="none",a._styles=[]),a._textSize=12,a._textLeading=15,a._textFont="sans-serif",a._textStyle=o.NORMAL,a._textAscent=null,a._textDescent=null,a._textAlign=o.LEFT,a._textBaseline=o.BASELINE,a._textWrap=o.WORD,a._rectMode=o.CORNER,a._ellipseMode=o.CENTER,a._curveTightness=0,a._imageMode=o.CORNER,a._tint=null,a._doStroke=!0,a._doFill=!0,a._strokeSet=!1,a._fillSet=!1,a._leadingSet=!1,a;throw new TypeError("Cannot call a class as a function")}return t=n,(e=[{key:"push",value:function(){return{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}}},{key:"pop",value:function(e){e.properties&&Object.assign(this,e.properties)}},{key:"resize",value:function(e,t){this.width=e,this.height=t,this.elt.width=e*this._pInst._pixelDensity,this.elt.height=t*this._pInst._pixelDensity,this.elt.style.width="".concat(e,"px"),this.elt.style.height="".concat(t,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))}},{key:"get",value:function(e,t,r,n){var o=this._pixelsState,a=o._pixelDensity,s=this.canvas;if(void 0===e&&void 0===t)e=t=0,r=o.width,n=o.height;else if(e*=a,t*=a,void 0===r&&void 0===n)return e<0||t<0||e>=s.width||t>=s.height?[0,0,0,0]:this._getPixel(e,t);return(o=new i.default.Image(r,n)).canvas.getContext("2d").drawImage(s,e,t,r*a,n*a,0,0,r,n),o}},{key:"textLeading",value:function(e){return"number"==typeof e?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",e),this._pInst):this._textLeading}},{key:"textStyle",value:function(e){return e?(e!==o.NORMAL&&e!==o.ITALIC&&e!==o.BOLD&&e!==o.BOLDITALIC||this._setProperty("_textStyle",e),this._applyTextProperties()):this._textStyle}},{key:"textAscent",value:function(){return null===this._textAscent&&this._updateTextMetrics(),this._textAscent}},{key:"textDescent",value:function(){return null===this._textDescent&&this._updateTextMetrics(),this._textDescent}},{key:"textAlign",value:function(e,t){return void 0!==e?(this._setProperty("_textAlign",e),void 0!==t&&this._setProperty("_textBaseline",t),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}}},{key:"textWrap",value:function(e){return this._setProperty("_textWrap",e),this._textWrap}},{key:"text",value:function(e,t,r,n,i){var a,s,l,u,c=this._pInst,d=this._textWrap,f=Number.MAX_VALUE,h=r;if((this._doFill||this._doStroke)&&void 0!==e){if(a=(e=(e="string"!=typeof e?e.toString():e).replace(/(\t)/g,"  ")).split("\n"),void 0!==n){switch(this._rectMode===o.CENTER&&(t-=n/2),this._textAlign){case o.CENTER:t+=n/2;break;case o.RIGHT:t+=n}if(void 0!==i){this._rectMode===o.CENTER&&(r-=i/2,h-=i/2);e=r;var p=c.textAscent();switch(this._textBaseline){case o.BOTTOM:u=r+i,r=Math.max(u,r),h+=p;break;case o.CENTER:u=r+i/2,r=Math.max(u,r),h+=p/2}f=r+i-p,this._textBaseline===o.CENTER&&(f=e+i-p/2)}else this._textBaseline!==o.BOTTOM&&this._textBaseline!==o.CENTER||(h=r-(e=c.textSize()*this._textLeading)/2,f=r+e/2);if(d===o.WORD){for(var m=[],g=0;g<a.length;g++){for(var y="",v=a[g].split(" "),b=0;b<v.length;b++)s="".concat(y+v[b])+" ",y=n<(l=this.textWidth(s))&&0<y.length?(m.push(y),"".concat(v[b])+" "):s;m.push(y)}var _=0;this._textBaseline===o.CENTER?_=(m.length-1)*c.textLeading()/2:this._textBaseline===o.BOTTOM&&(_=(m.length-1)*c.textLeading());for(var w=0;w<a.length;w++){y="",v=a[w].split(" ");for(var E=0;E<v.length;E++)s="".concat(y+v[E])+" ",n<(l=this.textWidth(s))&&0<y.length?(this._renderText(c,y.trim(),t,r-_,f,h),y="".concat(v[E])+" ",r+=c.textLeading()):y=s;this._renderText(c,y.trim(),t,r-_,f,h),r+=c.textLeading()}}else{for(var x=[],S=0;S<a.length;S++)for(var T=a[S].split(y=""),A=0;A<T.length;A++)s="".concat(y+T[A]),(l=this.textWidth(s))<=n?y+=T[A]:n<l&&0<y.length&&(x.push(y),y="".concat(T[A]));x.push(y);var M=0;this._textBaseline===o.CENTER?M=(x.length-1)*c.textLeading()/2:this._textBaseline===o.BOTTOM&&(M=(x.length-1)*c.textLeading());for(var R=0;R<a.length;R++){T=a[R].split(y="");for(var C=0;C<T.length;C++)s="".concat(y+T[C]),(l=this.textWidth(s))<=n?y+=T[C]:n<l&&0<y.length&&(this._renderText(c,y.trim(),t,r-M,f,h),r+=c.textLeading(),y="".concat(T[C]))}this._renderText(c,y.trim(),t,r-M,f,h),r+=c.textLeading()}}else{var I=0;this._textBaseline===o.CENTER?I=(a.length-1)*c.textLeading()/2:this._textBaseline===o.BOTTOM&&(I=(a.length-1)*c.textLeading());for(var k=0;k<a.length;k++)this._renderText(c,a[k],t,r-I,f,h-I),r+=c.textLeading()}return c}}},{key:"_applyDefaults",value:function(){return this}},{key:"_isOpenType",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._textFont;return"object"===s(e)&&e.font&&e.font.supported}},{key:"_updateTextMetrics",value:function(){var e,t,r,n,i,o;return this._isOpenType()?(this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent())):((e=document.createElement("span")).style.fontFamily=this._textFont,e.style.fontSize="".concat(this._textSize,"px"),e.innerHTML="ABCjgq|",(o=document.createElement("div")).style.display="inline-block",o.style.width="1px",o.style.height="0px",(t=document.createElement("div")).appendChild(e),t.appendChild(o),t.style.height="0px",t.style.overflow="hidden",document.body.appendChild(t),o.style.verticalAlign="baseline",n=p(o),i=p(e),r=n[1]-i[1],o.style.verticalAlign="bottom",n=p(o),i=p(e),o=n[1]-i[1]-r,document.body.removeChild(t),this._setProperty("_textAscent",r),this._setProperty("_textDescent",o)),this}}])&&l(t.prototype,e),n}(i.default.Element);function p(e){var t=0,r=0;if(e.offsetParent)for(;t+=e.offsetLeft,r+=e.offsetTop,e=e.offsetParent;);else t+=e.offsetLeft,r+=e.offsetTop;return[t,r]}h.prototype.textSize=function(e){return"number"==typeof e?(this._setProperty("_textSize",e),this._leadingSet||this._setProperty("_textLeading",e*o._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},i.default.Renderer=h,e=i.default.Renderer,r.default=e},{"../core/constants":262,"./main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.number.constructor":171,"core-js/modules/es.object.assign":174,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.replace":194,"core-js/modules/es.string.split":196,"core-js/modules/es.string.trim":199,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],277:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.number.to-fixed"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.get-prototype-of"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.reflect.construct"),e("core-js/modules/es.reflect.get"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.number.to-fixed"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.get-prototype-of"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.reflect.construct"),e("core-js/modules/es.reflect.get"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=(h=e("./main"))&&h.__esModule?h:{default:h},o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r,n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var o;Object.prototype.hasOwnProperty.call(e,r)&&((o=i?Object.getOwnPropertyDescriptor(e,r):null)&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r])}return n.default=e,t&&t.set(e,n),n}(e("./constants"));function a(){var e;return"function"!=typeof WeakMap?null:(e=new WeakMap,a=function(){return e},e)}function s(e){return(s="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t,r){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){e=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(e)return(e=Object.getOwnPropertyDescriptor(e,t)).get?e.get.call(r):e.value})(e,t,r||e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}e("./p5.Renderer");var f="rgba(0,0,0,0)",h=function(e){var t=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e);var r=function(e){return function(){var t,r=d(e);if(t=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),1}catch(t){}}}()?(t=d(this).constructor,Reflect.construct(r,arguments,t)):r.apply(this,arguments),r=this,!t||"object"!==s(t)&&"function"!=typeof t){if(void 0!==r)return r;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}}(n);function n(e,t,i){if(this instanceof n)return(e=r.call(this,e,t,i)).drawingContext=e.canvas.getContext("2d"),e._pInst._setProperty("drawingContext",e.drawingContext),e;throw new TypeError("Cannot call a class as a function")}return t=n,(e=[{key:"_applyDefaults",value:function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=o.BLEND,this._setFill(o._DEFAULT_FILL),this._setStroke(o._DEFAULT_STROKE),this.drawingContext.lineCap=o.ROUND,this.drawingContext.font="normal 12px sans-serif"}},{key:"resize",value:function(e,t){u(d(n.prototype),"resize",this).call(this,e,t),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)}},{key:"background",value:function(){var e,t;this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof i.default.Image?0<=(arguments.length<=1?void 0:arguments[1])?(e=arguments.length<=0?void 0:arguments[0],this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(e,0,0,this.width,this.height)):this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height):(e=this._getFill(),t=(t=this._pInst).color.apply(t,arguments),this._pInst._addAccsOutput()&&this._pInst._accsBackground(t.levels),t=t.toString(),this._setFill(t),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(e),this._isErasing&&this._pInst.erase()),this.drawingContext.restore()}},{key:"clear",value:function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()}},{key:"fill",value:function(){var e=(e=this._pInst).color.apply(e,arguments);this._setFill(e.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",e.levels)}},{key:"stroke",value:function(){var e=(e=this._pInst).color.apply(e,arguments);this._setStroke(e.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",e.levels)}},{key:"erase",value:function(e,t){this._isErasing||(this._cachedFillStyle=this.drawingContext.fillStyle,e=this._pInst.color(255,e).toString(),this.drawingContext.fillStyle=e,this._cachedStrokeStyle=this.drawingContext.strokeStyle,e=this._pInst.color(255,t).toString(),this.drawingContext.strokeStyle=e,t=this._cachedBlendMode,this.blendMode(o.REMOVE),this._cachedBlendMode=t,this._isErasing=!0)}},{key:"noErase",value:function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)}},{key:"image",value:function(e,t,r,n,o,a,s,l,u){e.gifProperties&&e._animateGif(this._pInst);try{i.default.MediaElement&&e instanceof i.default.MediaElement&&e._ensureCanvas();var c=(c=this._tint&&e.canvas?this._getTintedImageCanvas(e):c)||e.canvas||e.elt,d=1;e.width&&0<e.width&&(d=c.width/e.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(c,d*t,d*r,d*n,d*o,a,s,l,u),this._isErasing&&this._pInst.erase()}catch(e){if("NS_ERROR_NOT_AVAILABLE"!==e.name)throw e}}},{key:"_getTintedImageCanvas",value:function(e){if(!e.canvas)return e;e.tintCanvas||(e.tintCanvas=document.createElement("canvas")),e.tintCanvas.width!==e.canvas.width&&(e.tintCanvas.width=e.canvas.width),e.tintCanvas.height!==e.canvas.height&&(e.tintCanvas.height=e.canvas.height);var t=e.tintCanvas.getContext("2d");return t.save(),t.clearRect(0,0,e.canvas.width,e.canvas.height),(this._tint[0]<255||this._tint[1]<255||this._tint[2]<255)&&(t.drawImage(e.canvas,0,0),t.globalCompositeOperation="luminosity",t.drawImage(e.canvas,0,0),t.globalCompositeOperation="color",t.drawImage(e.canvas,0,0),t.globalCompositeOperation="multiply",t.fillStyle="rgb(".concat(this._tint.slice(0,3).join(", "),")"),t.fillRect(0,0,e.canvas.width,e.canvas.height),t.globalCompositeOperation="destination-in"),t.globalAlpha=this._tint[3]/255,t.drawImage(e.canvas,0,0),t.restore(),e.tintCanvas}},{key:"blendMode",value:function(e){if(e===o.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(e!==o.BLEND&&e!==o.REMOVE&&e!==o.DARKEST&&e!==o.LIGHTEST&&e!==o.DIFFERENCE&&e!==o.MULTIPLY&&e!==o.EXCLUSION&&e!==o.SCREEN&&e!==o.REPLACE&&e!==o.OVERLAY&&e!==o.HARD_LIGHT&&e!==o.SOFT_LIGHT&&e!==o.DODGE&&e!==o.BURN&&e!==o.ADD)throw new Error("Mode ".concat(e," not recognized."));this._cachedBlendMode=e,this.drawingContext.globalCompositeOperation=e}}},{key:"blend",value:function(){for(var e=this.drawingContext.globalCompositeOperation,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var o=r[r.length-1],a=Array.prototype.slice.call(r,0,r.length-1);this.drawingContext.globalCompositeOperation=o,i.default.prototype.copy.apply(this,a),this.drawingContext.globalCompositeOperation=e}},{key:"_getPixel",value:function(e,t){return[(e=this.drawingContext.getImageData(e,t,1,1).data)[0],e[1],e[2],e[3]]}},{key:"loadPixels",value:function(){var e=this._pixelsState,t=e._pixelDensity,r=this.width*t;t=this.height*t,r=this.drawingContext.getImageData(0,0,r,t);e._setProperty("imageData",r),e._setProperty("pixels",r.data)}},{key:"set",value:function(e,t,r){e=Math.floor(e),t=Math.floor(t);var n=this._pixelsState;if(r instanceof i.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(n._pixelDensity,n._pixelDensity),this.drawingContext.clearRect(e,t,r.width,r.height),this.drawingContext.drawImage(r.canvas,e,t),this.drawingContext.restore();else{var o=0,a=0,s=0,l=0,u=4*(t*n._pixelDensity*(this.width*n._pixelDensity)+e*n._pixelDensity);if(n.imageData||n.loadPixels.call(n),"number"==typeof r)u<n.pixels.length&&(s=a=o=r,l=255);else if(r instanceof Array){if(r.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");u<n.pixels.length&&(o=r[0],a=r[1],s=r[2],l=r[3])}else r instanceof i.default.Color&&u<n.pixels.length&&(o=r.levels[0],a=r.levels[1],s=r.levels[2],l=r.levels[3]);for(var c=0;c<n._pixelDensity;c++)for(var d=0;d<n._pixelDensity;d++)u=4*((t*n._pixelDensity+d)*this.width*n._pixelDensity+(e*n._pixelDensity+c)),n.pixels[u]=o,n.pixels[u+1]=a,n.pixels[u+2]=s,n.pixels[u+3]=l}}},{key:"updatePixels",value:function(e,t,r,n){var i=this._pixelsState,o=i._pixelDensity;void 0===e&&void 0===t&&void 0===r&&void 0===n&&(t=e=0,r=this.width,n=this.height),e*=o,t*=o,r*=o,n*=o,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=i.imageData),this.drawingContext.putImageData(i.imageData,e,t,0,0,r,n)}},{key:"_acuteArcToBezier",value:function(e,t){var r=t/2,n=Math.cos(r),i=Math.sin(r),o=1/Math.tan(r),a=(r=e+r,Math.cos(r)),s=(r=Math.sin(r),(4-n)/3);i+=(n-s)*o;return{ax:Math.cos(e).toFixed(7),ay:Math.sin(e).toFixed(7),bx:(s*a+i*r).toFixed(7),by:(s*r-i*a).toFixed(7),cx:(s*a-i*r).toFixed(7),cy:(s*r+i*a).toFixed(7),dx:Math.cos(e+t).toFixed(7),dy:Math.sin(e+t).toFixed(7)}}},{key:"arc",value:function(e,t,r,n,i,a,s){var l,u=this.drawingContext,c=r/2,d=n/2,f=[];for(e+=c,t+=d;1e-5<=a-i;)l=Math.min(a-i,o.HALF_PI),f.push(this._acuteArcToBezier(i,l)),i+=l;return this._doFill&&(u.beginPath(),f.forEach((function(r,n){0===n&&u.moveTo(e+r.ax*c,t+r.ay*d),u.bezierCurveTo(e+r.bx*c,t+r.by*d,e+r.cx*c,t+r.cy*d,e+r.dx*c,t+r.dy*d)})),s!==o.PIE&&null!=s||u.lineTo(e,t),u.closePath(),u.fill()),this._doStroke&&(u.beginPath(),f.forEach((function(r,n){0===n&&u.moveTo(e+r.ax*c,t+r.ay*d),u.bezierCurveTo(e+r.bx*c,t+r.by*d,e+r.cx*c,t+r.cy*d,e+r.dx*c,t+r.dy*d)})),s===o.PIE?(u.lineTo(e,t),u.closePath()):s===o.CHORD&&u.closePath(),u.stroke()),this}},{key:"ellipse",value:function(e){var t=this.drawingContext,r=this._doFill,n=this._doStroke,i=parseFloat(e[0]),o=parseFloat(e[1]),a=parseFloat(e[2]);e=parseFloat(e[3]);if(r&&!n){if(this._getFill()===f)return this}else if(!r&&n&&this._getStroke()===f)return this;var s=a/2*.5522847498,l=e/2*.5522847498,u=i+a,c=o+e;a=i+a/2,e=o+e/2;t.beginPath(),t.moveTo(i,e),t.bezierCurveTo(i,e-l,a-s,o,a,o),t.bezierCurveTo(a+s,o,u,e-l,u,e),t.bezierCurveTo(u,e+l,a+s,c,a,c),t.bezierCurveTo(a-s,c,i,e+l,i,e),r&&t.fill(),n&&t.stroke()}},{key:"line",value:function(e,t,r,n){var i=this.drawingContext;return this._doStroke&&this._getStroke()!==f&&(i.beginPath(),i.moveTo(e,t),i.lineTo(r,n),i.stroke()),this}},{key:"point",value:function(e,t){var r,n,i=this.drawingContext;return this._doStroke&&this._getStroke()!==f?(r=this._getStroke(),n=this._getFill(),this._setFill(r),i.beginPath(),i.arc(e,t,i.lineWidth/2,0,o.TWO_PI,!1),i.fill(),void this._setFill(n)):this}},{key:"quad",value:function(e,t,r,n,i,o,a,s){var l=this.drawingContext,u=this._doFill,c=this._doStroke;if(u&&!c){if(this._getFill()===f)return this}else if(!u&&c&&this._getStroke()===f)return this;return l.beginPath(),l.moveTo(e,t),l.lineTo(r,n),l.lineTo(i,o),l.lineTo(a,s),l.closePath(),u&&l.fill(),c&&l.stroke(),this}},{key:"rect",value:function(e){var t,r,n=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=(e=e[7],this.drawingContext),d=this._doFill,h=this._doStroke;if(d&&!h){if(this._getFill()===f)return this}else if(!d&&h&&this._getStroke()===f)return this;return c.beginPath(),void 0===s?c.rect(n,i,o,a):(void 0===l&&(l=s),void 0===u&&(u=l),void 0===e&&(e=u),h=(d=Math.abs(o))/2,r=(t=Math.abs(a))/2,t<2*(s=d<2*s?h:s)&&(s=r),t<2*(l=d<2*l?h:l)&&(l=r),t<2*(u=d<2*u?h:u)&&(u=r),t<2*(e=d<2*e?h:e)&&(e=r),c.beginPath(),c.moveTo(n+s,i),c.arcTo(n+o,i,n+o,i+a,l),c.arcTo(n+o,i+a,n,i+a,u),c.arcTo(n,i+a,n,i,e),c.arcTo(n,i,n+o,i,s),c.closePath()),this._doFill&&c.fill(),this._doStroke&&c.stroke(),this}},{key:"triangle",value:function(e){var t=this.drawingContext,r=this._doFill,n=this._doStroke,i=e[0],o=e[1],a=e[2],s=e[3],l=e[4];e=e[5];if(r&&!n){if(this._getFill()===f)return this}else if(!r&&n&&this._getStroke()===f)return this;t.beginPath(),t.moveTo(i,o),t.lineTo(a,s),t.lineTo(l,e),t.closePath(),r&&t.fill(),n&&t.stroke()}},{key:"endShape",value:function(e,t,r,n,i,a,s){if(0!==t.length&&(this._doStroke||this._doFill)){var l,u,c,d=e===o.CLOSE,f=(d&&!a&&t.push(t[0]),t.length);if(!r||s!==o.POLYGON&&null!==s)if(!n||s!==o.POLYGON&&null!==s)if(!i||s!==o.POLYGON&&null!==s)if(s===o.POINTS)for(u=0;u<f;u++)l=t[u],this._doStroke&&this._pInst.stroke(l[6]),this._pInst.point(l[0],l[1]);else if(s===o.LINES)for(u=0;u+1<f;u+=2)l=t[u],this._doStroke&&this._pInst.stroke(t[u+1][6]),this._pInst.line(l[0],l[1],t[u+1][0],t[u+1][1]);else if(s===o.TRIANGLES)for(u=0;u+2<f;u+=3)l=t[u],this.drawingContext.beginPath(),this.drawingContext.moveTo(l[0],l[1]),this.drawingContext.lineTo(t[u+1][0],t[u+1][1]),this.drawingContext.lineTo(t[u+2][0],t[u+2][1]),this.drawingContext.closePath(),this._doFill&&(this._pInst.fill(t[u+2][5]),this.drawingContext.fill()),this._doStroke&&(this._pInst.stroke(t[u+2][6]),this.drawingContext.stroke());else if(s===o.TRIANGLE_STRIP)for(u=0;u+1<f;u++)l=t[u],this.drawingContext.beginPath(),this.drawingContext.moveTo(t[u+1][0],t[u+1][1]),this.drawingContext.lineTo(l[0],l[1]),this._doStroke&&this._pInst.stroke(t[u+1][6]),this._doFill&&this._pInst.fill(t[u+1][5]),u+2<f&&(this.drawingContext.lineTo(t[u+2][0],t[u+2][1]),this._doStroke&&this._pInst.stroke(t[u+2][6]),this._doFill&&this._pInst.fill(t[u+2][5])),this._doFillStrokeClose(d);else if(s===o.TRIANGLE_FAN){if(2<f){for(this.drawingContext.beginPath(),u=2;u<f;u++)l=t[u],this.drawingContext.moveTo(t[0][0],t[0][1]),this.drawingContext.lineTo(t[u-1][0],t[u-1][1]),this.drawingContext.lineTo(l[0],l[1]),this.drawingContext.lineTo(t[0][0],t[0][1]),u<f-1&&(this._doFill&&l[5]!==t[u+1][5]||this._doStroke&&l[6]!==t[u+1][6])&&(this._doFill&&(this._pInst.fill(l[5]),this.drawingContext.fill(),this._pInst.fill(t[u+1][5])),this._doStroke&&(this._pInst.stroke(l[6]),this.drawingContext.stroke(),this._pInst.stroke(t[u+1][6])),this.drawingContext.closePath(),this.drawingContext.beginPath());this._doFillStrokeClose(d)}}else if(s===o.QUADS)for(u=0;u+3<f;u+=4){for(l=t[u],this.drawingContext.beginPath(),this.drawingContext.moveTo(l[0],l[1]),c=1;c<4;c++)this.drawingContext.lineTo(t[u+c][0],t[u+c][1]);this.drawingContext.lineTo(l[0],l[1]),this._doFill&&this._pInst.fill(t[u+3][5]),this._doStroke&&this._pInst.stroke(t[u+3][6]),this._doFillStrokeClose(d)}else if(s===o.QUAD_STRIP){if(3<f)for(u=0;u+1<f;u+=2)l=t[u],this.drawingContext.beginPath(),u+3<f?(this.drawingContext.moveTo(t[u+2][0],t[u+2][1]),this.drawingContext.lineTo(l[0],l[1]),this.drawingContext.lineTo(t[u+1][0],t[u+1][1]),this.drawingContext.lineTo(t[u+3][0],t[u+3][1]),this._doFill&&this._pInst.fill(t[u+3][5]),this._doStroke&&this._pInst.stroke(t[u+3][6])):(this.drawingContext.moveTo(l[0],l[1]),this.drawingContext.lineTo(t[u+1][0],t[u+1][1])),this._doFillStrokeClose(d)}else{for(this.drawingContext.beginPath(),this.drawingContext.moveTo(t[0][0],t[0][1]),u=1;u<f;u++)(l=t[u]).isVert&&(l.moveTo?this.drawingContext.moveTo(l[0],l[1]):this.drawingContext.lineTo(l[0],l[1]));this._doFillStrokeClose(d)}else{for(this.drawingContext.beginPath(),u=0;u<f;u++)t[u].isVert?t[u].moveTo?this.drawingContext.moveTo(t[u][0],t[u][1]):this.drawingContext.lineTo(t[u][0],t[u][1]):this.drawingContext.quadraticCurveTo(t[u][0],t[u][1],t[u][2],t[u][3]);this._doFillStrokeClose(d)}else{for(this.drawingContext.beginPath(),u=0;u<f;u++)t[u].isVert?t[u].moveTo?this.drawingContext.moveTo(t[u][0],t[u][1]):this.drawingContext.lineTo(t[u][0],t[u][1]):this.drawingContext.bezierCurveTo(t[u][0],t[u][1],t[u][2],t[u][3],t[u][4],t[u][5]);this._doFillStrokeClose(d)}else if(3<f){var h=[],p=1-this._curveTightness;for(this.drawingContext.beginPath(),this.drawingContext.moveTo(t[1][0],t[1][1]),u=1;u+2<f;u++)l=t[u],h[0]=[l[0],l[1]],h[1]=[l[0]+(p*t[u+1][0]-p*t[u-1][0])/6,l[1]+(p*t[u+1][1]-p*t[u-1][1])/6],h[2]=[t[u+1][0]+(p*t[u][0]-p*t[u+2][0])/6,t[u+1][1]+(p*t[u][1]-p*t[u+2][1])/6],h[3]=[t[u+1][0],t[u+1][1]],this.drawingContext.bezierCurveTo(h[1][0],h[1][1],h[2][0],h[2][1],h[3][0],h[3][1]);d&&this.drawingContext.lineTo(t[u+1][0],t[u+1][1]),this._doFillStrokeClose(d)}a=i=n=r=!1,d&&t.pop()}return this}},{key:"strokeCap",value:function(e){return e!==o.ROUND&&e!==o.SQUARE&&e!==o.PROJECT||(this.drawingContext.lineCap=e),this}},{key:"strokeJoin",value:function(e){return e!==o.ROUND&&e!==o.BEVEL&&e!==o.MITER||(this.drawingContext.lineJoin=e),this}},{key:"strokeWeight",value:function(e){return this.drawingContext.lineWidth=void 0===e||0===e?1e-4:e,this}},{key:"_getFill",value:function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle}},{key:"_setFill",value:function(e){e!==this._cachedFillStyle&&(this.drawingContext.fillStyle=e,this._cachedFillStyle=e)}},{key:"_getStroke",value:function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle}},{key:"_setStroke",value:function(e){e!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=e,this._cachedStrokeStyle=e)}},{key:"bezier",value:function(e,t,r,n,i,o,a,s){return this._pInst.beginShape(),this._pInst.vertex(e,t),this._pInst.bezierVertex(r,n,i,o,a,s),this._pInst.endShape(),this}},{key:"curve",value:function(e,t,r,n,i,o,a,s){return this._pInst.beginShape(),this._pInst.curveVertex(e,t),this._pInst.curveVertex(r,n),this._pInst.curveVertex(i,o),this._pInst.curveVertex(a,s),this._pInst.endShape(),this}},{key:"_doFillStrokeClose",value:function(e){e&&this.drawingContext.closePath(),this._doFill&&this.drawingContext.fill(),this._doStroke&&this.drawingContext.stroke()}},{key:"applyMatrix",value:function(e,t,r,n,i,o){this.drawingContext.transform(e,t,r,n,i,o)}},{key:"resetMatrix",value:function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this}},{key:"rotate",value:function(e){this.drawingContext.rotate(e)}},{key:"scale",value:function(e,t){return this.drawingContext.scale(e,t),this}},{key:"translate",value:function(e,t){return e instanceof i.default.Vector&&(t=e.y,e=e.x),this.drawingContext.translate(e,t),this}},{key:"_renderText",value:function(e,t,r,n,i,a){if(!(n<a||i<=n))return e.push(),this._isOpenType()?this._textFont._renderPath(t,r,n,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(t,r,n),this._doFill&&(this._fillSet||this._setFill(o._DEFAULT_TEXT_FILL),this.drawingContext.fillText(t,r,n))),e.pop(),e}},{key:"textWidth",value:function(e){return this._isOpenType()?this._textFont._textWidth(e,this._textSize):this.drawingContext.measureText(e).width}},{key:"_applyTextProperties",value:function(){var e,t=this._pInst;return this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),e=this._textFont,this._isOpenType()&&(e=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(e||"sans-serif"),this.drawingContext.textAlign=this._textAlign,this._textBaseline===o.CENTER?this.drawingContext.textBaseline=o._CTX_MIDDLE:this.drawingContext.textBaseline=this._textBaseline,t}},{key:"push",value:function(){return this.drawingContext.save(),u(d(n.prototype),"push",this).call(this)}},{key:"pop",value:function(e){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,u(d(n.prototype),"pop",this).call(this,e)}}])&&l(t.prototype,e),n}(i.default.Renderer);h.prototype.text=function(e,t,r,n,a){void 0!==n&&this.drawingContext.textBaseline===o.BASELINE&&(s=!0,this.drawingContext.textBaseline=o.TOP);var s;n=i.default.Renderer.prototype.text.apply(this,arguments);return s&&(this.drawingContext.textBaseline=o.BASELINE),n},i.default.Renderer2D=h,e=i.default.Renderer2D;r.default=e},{"./constants":262,"./main":273,"./p5.Renderer":276,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.slice":164,"core-js/modules/es.function.name":167,"core-js/modules/es.number.to-fixed":173,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.reflect.get":183,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],278:[function(e,t,r){"use strict";e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator");var n=(e=e("./main"))&&e.__esModule?e:{default:e};function i(){return{}}n.default.prototype._promisePreloads=[];var o=!(n.default.prototype.registerPromisePreload=function(e){n.default.prototype._promisePreloads.push(e)});n.default.prototype._setupPromisePreloads=function(){var e=!0,t=!1,r=void 0;try{for(var i,a=this._promisePreloads[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var s=i.value,l=this,u=s.method,c=s.addCallbacks,d=s.legacyPreloadSetup,f=s.target||this,h=f[u].bind(f);if(f===n.default.prototype){if(o)continue;l=null,h=f[u]}f[u]=this._wrapPromisePreload(l,h,c),d&&(f[d.method]=this._legacyPreloadGenerator(l,d,f[u]))}}catch(e){t=!0,r=e}finally{try{e||null==a.return||a.return()}finally{if(t)throw r}}o=!0},n.default.prototype._wrapPromisePreload=function(e,t,r){var n=function(){for(var e=this,n=(this._incrementPreload(),null),i=null,o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];if(r)for(var l=a.length-1;0<=l&&!i&&"function"==typeof a[l];l--)i=n,n=a.pop();var u=Promise.resolve(t.apply(this,a));return n&&u.then(n),i&&u.catch(i),u.then((function(){return e._decrementPreload()})),u};return e?n.bind(e):n},n.default.prototype._legacyPreloadGenerator=function(e,t,r){var n=t.createBaseObject||i;t=function(){var e=this;this._incrementPreload();for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];var a=n.apply(this,i);return r.apply(this,i).then((function(t){Object.assign(a,t),e._decrementPreload()})),a};return e?t.bind(e):t}},{"./main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.assign":174,"core-js/modules/es.object.to-string":180,"core-js/modules/es.promise":181,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],279:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=(u=e("./main"))&&u.__esModule?u:{default:u},o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r,n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var o;Object.prototype.hasOwnProperty.call(e,r)&&((o=i?Object.getOwnPropertyDescriptor(e,r):null)&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r])}return n.default=e,t&&t.set(e,n),n}(e("./constants"));function a(){var e;return"function"!=typeof WeakMap?null:(e=new WeakMap,a=function(){return e},e)}function s(e){return(s="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}e("./p5.Graphics"),e("./p5.Renderer2D"),e("../webgl/p5.RendererGL");var l="defaultCanvas0",u=(i.default.prototype.createCanvas=function(e,t,r,n){var a,s,u;if(i.default._validateParameters("createCanvas",arguments),arguments[2]instanceof HTMLCanvasElement?(r=o.P2D,n=arguments[2]):a=r||o.P2D,n)(u=document.getElementById(l))&&u.parentNode.removeChild(u),u=n,this._defaultGraphicsCreated=!1;else{if(a===o.WEBGL)(u=document.getElementById(l))&&(u.parentNode.removeChild(u),s=this._renderer,this._elements=this._elements.filter((function(e){return e!==s}))),(u=document.createElement("canvas")).id=l,u.classList.add("p5Canvas");else if(this._defaultGraphicsCreated)u=this.canvas;else{u=n||document.createElement("canvas");for(var c=0;document.getElementById("defaultCanvas".concat(c));)c++;l="defaultCanvas".concat(c),u.id=l,u.classList.add("p5Canvas")}this._setupDone||(u.dataset.hidden=!0,u.style.visibility="hidden"),(this._userNode||(0===document.getElementsByTagName("main").length&&(r=document.createElement("main"),document.body.appendChild(r)),document.getElementsByTagName("main")[0])).appendChild(u)}return a===o.WEBGL?(this._setProperty("_renderer",new i.default.RendererGL(u,this,!0)),this._elements.push(this._renderer)):this._defaultGraphicsCreated||(this._setProperty("_renderer",new i.default.Renderer2D(u,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(e,t),this._renderer._applyDefaults(),this._renderer},i.default.prototype.resizeCanvas=function(e,t,r){if(i.default._validateParameters("resizeCanvas",arguments),this._renderer){var n,o,a={};for(n in this.drawingContext){var l=this.drawingContext[n];"object"!==s(l)&&"function"!=typeof l&&(a[n]=l)}for(o in this.width=e,this.height=t,this._renderer.resize(e,t),a)try{this.drawingContext[o]=a[o]}catch(e){}r||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},i.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},i.default.prototype.createGraphics=function(e,t,r,n){return arguments[2]instanceof HTMLCanvasElement&&(r=o.P2D,n=arguments[2]),i.default._validateParameters("createGraphics",arguments),new i.default.Graphics(e,t,r,this,n)},i.default.prototype.createFramebuffer=function(e){return new i.default.Framebuffer(this,e)},i.default.prototype.blendMode=function(e){i.default._validateParameters("blendMode",arguments),e===o.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),e=o.BLEND),this._renderer.blendMode(e)},i.default);r.default=u},{"../webgl/p5.RendererGL":328,"./constants":262,"./main":273,"./p5.Graphics":275,"./p5.Renderer2D":277,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],280:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=u(e("../main")),a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var r,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var a;Object.prototype.hasOwnProperty.call(e,r)&&((a=o?Object.getOwnPropertyDescriptor(e,r):null)&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=e[r])}return n.default=e,t&&t.set(e,n),n}(e("../constants")),s=u(e("../helpers"));function l(){var e;return"function"!=typeof WeakMap?null:(e=new WeakMap,l=function(){return e},e)}function u(e){return e&&e.__esModule?e:{default:e}}e("../friendly_errors/fes_core"),e("../friendly_errors/file_errors"),e("../friendly_errors/validate_params"),o.default.prototype._normalizeArcAngles=function(e,t,r,n,i){var o;return e-=a.TWO_PI*Math.floor(e/a.TWO_PI),t-=a.TWO_PI*Math.floor(t/a.TWO_PI),o=Math.min(Math.abs(e-t),a.TWO_PI-Math.abs(e-t)),i&&(e=e<=a.HALF_PI?Math.atan(r/n*Math.tan(e)):e>a.HALF_PI&&e<=3*a.HALF_PI?Math.atan(r/n*Math.tan(e))+a.PI:Math.atan(r/n*Math.tan(e))+a.TWO_PI,t=t<=a.HALF_PI?Math.atan(r/n*Math.tan(t)):t>a.HALF_PI&&t<=3*a.HALF_PI?Math.atan(r/n*Math.tan(t))+a.PI:Math.atan(r/n*Math.tan(t))+a.TWO_PI),t<e&&(t+=a.TWO_PI),{start:e,stop:t,correspondToSamePoint:o<1e-5}},o.default.prototype.arc=function(e,t,r,n,i,a,l,u){return o.default._validateParameters("arc",arguments),(this._renderer._doStroke||this._renderer._doFill)&&i!==a&&(i=this._toRadians(i),a=this._toRadians(a),r=Math.abs(r),n=Math.abs(n),e=s.default.modeAdjust(e,t,r,n,this._renderer._ellipseMode),(t=this._normalizeArcAngles(i,a,e.w,e.h,!0)).correspondToSamePoint?this._renderer.ellipse([e.x,e.y,e.w,e.h,u]):(this._renderer.arc(e.x,e.y,e.w,e.h,t.start,t.stop,l,u),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[e.x,e.y,e.w,e.h,t.start,t.stop,l]))),this},o.default.prototype.ellipse=function(e,t,r,n,i){return o.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},o.default.prototype.circle=function(){o.default._validateParameters("circle",arguments);var e=Array.prototype.slice.call(arguments,0,2);return e.push(arguments[2]),e.push(arguments[2]),this._renderEllipse.apply(this,function(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(e))},o.default.prototype._renderEllipse=function(e,t,r,n,i){return(this._renderer._doStroke||this._renderer._doFill)&&(r<0&&(r=Math.abs(r)),void 0===n?n=r:n<0&&(n=Math.abs(n)),e=s.default.modeAdjust(e,t,r,n,this._renderer._ellipseMode),this._renderer.ellipse([e.x,e.y,e.w,e.h,i]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[e.x,e.y,e.w,e.h])),this},o.default.prototype.line=function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return o.default._validateParameters("line",r),this._renderer._doStroke&&(e=this._renderer).line.apply(e,r),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",r),this},o.default.prototype.point=function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return o.default._validateParameters("point",r),this._renderer._doStroke&&(1===r.length&&r[0]instanceof o.default.Vector?this._renderer.point.call(this._renderer,r[0].x,r[0].y,r[0].z):((e=this._renderer).point.apply(e,r),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",r))),this},o.default.prototype.quad=function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return o.default._validateParameters("quad",r),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&r.length<12?this._renderer.quad.call(this._renderer,r[0],r[1],0,r[2],r[3],0,r[4],r[5],0,r[6],r[7],0,r[8],r[9]):((e=this._renderer).quad.apply(e,r),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",r))),this},o.default.prototype.rect=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return o.default._validateParameters("rect",t),this._renderRect.apply(this,t)},o.default.prototype.square=function(e,t,r,n,i,a,s){return o.default._validateParameters("square",arguments),this._renderRect.call(this,e,t,r,r,n,i,a,s)},o.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){3===arguments.length&&(arguments[3]=arguments[2]);for(var e=s.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),t=[e.x,e.y,e.w,e.h],r=4;r<arguments.length;r++)t[r]=arguments[r];this._renderer.rect(t),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[e.x,e.y,e.w,e.h])}return this},o.default.prototype.triangle=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return o.default._validateParameters("triangle",t),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(t),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",t),this},e=o.default,r.default=e},{"../constants":262,"../friendly_errors/fes_core":264,"../friendly_errors/file_errors":265,"../friendly_errors/validate_params":268,"../helpers":269,"../main":273,"core-js/modules/es.array.from":157,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],281:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=(l=e("../main"))&&l.__esModule?l:{default:l},a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var a;Object.prototype.hasOwnProperty.call(e,r)&&((a=o?Object.getOwnPropertyDescriptor(e,r):null)&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=e[r])}return n.default=e,t&&t.set(e,n),n}(e("../constants"));function s(){var e;return"function"!=typeof WeakMap?null:(e=new WeakMap,s=function(){return e},e)}o.default.prototype.ellipseMode=function(e){return o.default._validateParameters("ellipseMode",arguments),e!==a.CORNER&&e!==a.CORNERS&&e!==a.RADIUS&&e!==a.CENTER||(this._renderer._ellipseMode=e),this},o.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},o.default.prototype.rectMode=function(e){return o.default._validateParameters("rectMode",arguments),e!==a.CORNER&&e!==a.CORNERS&&e!==a.RADIUS&&e!==a.CENTER||(this._renderer._rectMode=e),this},o.default.prototype.smooth=function(){return this.setAttributes("antialias",!0),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},o.default.prototype.strokeCap=function(e){return o.default._validateParameters("strokeCap",arguments),e!==a.ROUND&&e!==a.SQUARE&&e!==a.PROJECT||this._renderer.strokeCap(e),this},o.default.prototype.strokeJoin=function(e){return o.default._validateParameters("strokeJoin",arguments),e!==a.ROUND&&e!==a.BEVEL&&e!==a.MITER||this._renderer.strokeJoin(e),this},o.default.prototype.strokeWeight=function(e){return o.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(e),this};var l=o.default;r.default=l},{"../constants":262,"../main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],282:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=(i=e("../main"))&&i.__esModule?i:{default:i};e("../friendly_errors/fes_core"),e("../friendly_errors/file_errors"),e("../friendly_errors/validate_params"),n.default.prototype.bezier=function(){for(var e,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return n.default._validateParameters("bezier",r),(this._renderer._doStroke||this._renderer._doFill)&&(e=this._renderer).bezier.apply(e,r),this},n.default.prototype.bezierDetail=function(e){return n.default._validateParameters("bezierDetail",arguments),this._bezierDetail=e,this},n.default.prototype.bezierPoint=function(e,t,r,i,o){n.default._validateParameters("bezierPoint",arguments);var a=1-o;return Math.pow(a,3)*e+3*Math.pow(a,2)*o*t+3*a*Math.pow(o,2)*r+Math.pow(o,3)*i},n.default.prototype.bezierTangent=function(e,t,r,i,o){n.default._validateParameters("bezierTangent",arguments);var a=1-o;return 3*i*Math.pow(o,2)-3*r*Math.pow(o,2)+6*r*a*o-6*t*a*o+3*t*Math.pow(a,2)-3*e*Math.pow(a,2)},n.default.prototype.curve=function(){for(var e,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return n.default._validateParameters("curve",r),this._renderer._doStroke&&(e=this._renderer).curve.apply(e,r),this},n.default.prototype.curveDetail=function(e){return n.default._validateParameters("curveDetail",arguments),this._curveDetail=e<3?3:e,this},n.default.prototype.curveTightness=function(e){return n.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=e,this},n.default.prototype.curvePoint=function(e,t,r,i,o){n.default._validateParameters("curvePoint",arguments);var a=this._renderer._curveTightness,s=o*o*o,l=o*o;return e*((a-1)/2*s+(1-a)*l+(a-1)/2*o)+t*((a+3)/2*s+(-5-a)/2*l+1)+r*((-3-a)/2*s+(a+2)*l+(1-a)/2*o)+i*((1-a)/2*s+(a-1)/2*l)},n.default.prototype.curveTangent=function(e,t,r,i,o){n.default._validateParameters("curveTangent",arguments);var a=this._renderer._curveTightness,s=o*o*3;return e*((a-1)/2*s+(1-a)*(o=2*o)+(a-1)/2)+t*((a+3)/2*s+(-5-a)/2*o)+r*((-3-a)/2*s+(a+2)*o+(1-a)/2)+i*((1-a)/2*s+(a-1)/2*o)};var i=n.default;r.default=i},{"../friendly_errors/fes_core":264,"../friendly_errors/file_errors":265,"../friendly_errors/validate_params":268,"../main":273}],283:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.slice"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=(g=e("../main"))&&g.__esModule?g:{default:g},a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var a;Object.prototype.hasOwnProperty.call(e,r)&&((a=o?Object.getOwnPropertyDescriptor(e,r):null)&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=e[r])}return n.default=e,t&&t.set(e,n),n}(e("../constants"));function s(){var e;return"function"!=typeof WeakMap?null:(e=new WeakMap,s=function(){return e},e)}var l=null,u=[],c=[],d=!1,f=!1,h=!1,p=!1,m=!0,g=(o.default.prototype.beginContour=function(){return c=[],p=!0,this},o.default.prototype.beginShape=function(e){var t;return o.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(t=this._renderer).beginShape.apply(t,arguments):(l=e===a.POINTS||e===a.LINES||e===a.TRIANGLES||e===a.TRIANGLE_FAN||e===a.TRIANGLE_STRIP||e===a.QUADS||e===a.QUAD_STRIP?e:null,u=[],c=[]),this},o.default.prototype.bezierVertex=function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(o.default._validateParameters("bezierVertex",r),this._renderer.isP3D)(e=this._renderer).bezierVertex.apply(e,r);else if(0===u.length)o.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{d=!0;for(var i=[],a=0;a<r.length;a++)i[a]=r[a];i.isVert=!1,(p?c:u).push(i)}return this},o.default.prototype.curveVertex=function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return o.default._validateParameters("curveVertex",r),this._renderer.isP3D?(e=this._renderer).curveVertex.apply(e,r):(f=!0,this.vertex(r[0],r[1])),this},o.default.prototype.endContour=function(){var e=c[0].slice();e.isVert=c[0].isVert,e.moveTo=!1,c.push(e),m&&(u.push(u[0]),m=!1);for(var t=0;t<c.length;t++)u.push(c[t]);return this},o.default.prototype.endShape=function(e){if(o.default._validateParameters("endShape",arguments),this._renderer.isP3D)this._renderer.endShape(e,f,d,h,p,l);else{if(0===u.length)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;var t=e===a.CLOSE;t&&!p&&u.push(u[0]),this._renderer.endShape(e,u,f,d,h,p,l),m=!(p=h=d=f=!1),t&&u.pop()}return this},o.default.prototype.quadraticVertex=function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(o.default._validateParameters("quadraticVertex",r),this._renderer.isP3D)(e=this._renderer).quadraticVertex.apply(e,r);else{if(this._contourInited)return(e={}).x=r[0],e.y=r[1],e.x3=r[2],e.y3=r[3],e.type=a.QUADRATIC,this._contourVertices.push(e),this;if(0<u.length){h=!0;for(var i=[],s=0;s<r.length;s++)i[s]=r[s];i.isVert=!1,(p?c:u).push(i)}else o.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},o.default.prototype.vertex=function(e,t,r,n,i){var o;return this._renderer.isP3D?(o=this._renderer).vertex.apply(o,arguments):((o=[]).isVert=!0,o[0]=e,o[1]=t,o[2]=0,o[3]=0,o[4]=0,o[5]=this._renderer._getFill(),o[6]=this._renderer._getStroke(),r&&(o.moveTo=r),(p?(0===c.length&&(o.moveTo=!0),c):u).push(o)),this},o.default.prototype.normal=function(e,t,r){var n;return this._assert3d("normal"),o.default._validateParameters("normal",arguments),(n=this._renderer).normal.apply(n,arguments),this},o.default);r.default=g},{"../constants":262,"../main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],284:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(e){return(o="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}var a,s,l;e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.uint8-clamped-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.uint8-clamped-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){window.setTimeout(e,1e3/60)},"undefined"==typeof Uint8ClampedArray||Uint8ClampedArray.prototype.slice||Object.defineProperty(Uint8ClampedArray.prototype,"slice",{value:Array.prototype.slice,writable:!0,configurable:!0,enumerable:!1}),Object.assign||(a=Object.keys,e=Object.defineProperty,s="function"==typeof Symbol&&"symbol"===o(Symbol()),l=Object.prototype.propertyIsEnumerable,e(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("target must be an object");for(var r,n=Object(e),o=1;o<arguments.length;++o){var u=Object(arguments[o]),c=a(u);for(s&&Object.getOwnPropertySymbols&&c.push.apply(c,i(Object.getOwnPropertySymbols(u).filter(function(e){return function(t){return l.call(e,t)}}(u)))),r=0;r<c.length;++r)n[c[r]]=u[c[r]]}return n},configurable:!0,enumerable:!1,writable:!0}))},{"core-js/modules/es.array.filter":155,"core-js/modules/es.array.from":157,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.assign":174,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint8-clamped-array":233,"core-js/modules/web.dom-collections.iterator":236}],285:[function(e,t,r){"use strict";e("core-js/modules/es.array.for-each"),e("core-js/modules/es.object.assign"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.object.assign"),e("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,(e=(e=e("./main"))&&e.__esModule?e:{default:e}).default.prototype.noLoop=function(){this._loop=!1},e.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},e.default.prototype.isLooping=function(){return this._loop},e.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},e.default.prototype.pop=function(){var e=this._styles.pop();e?(this._renderer.pop(e.renderer),Object.assign(this,e.props)):console.warn("pop() was called without matching push()")},e.default.prototype.redraw=function(e){if(!this._inUserDraw&&this._setupDone){var t=parseInt(e),r=((isNaN(t)||t<1)&&(t=1),this._isGlobal?window:this);if("function"==typeof r.draw){void 0===r.setup&&r.scale(r._pixelDensity,r._pixelDensity);for(var n=function(e){e.call(r)},i=0;i<t;i++){r.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),r._renderer.isP3D&&r._renderer._update(),r._setProperty("frameCount",r.frameCount+1),r._registeredMethods.pre.forEach(n),this._inUserDraw=!0;try{r.draw()}finally{this._inUserDraw=!1}r._registeredMethods.post.forEach(n)}}}},e=e.default,r.default=e},{"./main":273,"core-js/modules/es.array.for-each":156,"core-js/modules/es.object.assign":174,"core-js/modules/web.dom-collections.for-each":235}],286:[function(e,t,r){"use strict";e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-prototype-of"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-prototype-of"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=(e=e("./main"))&&e.__esModule?e:{default:e};n.default.prototype.applyMatrix=function(){var e=(arguments.length<=0?void 0:arguments[0])instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments.length<=0?void 0:arguments[0])||e?(e=this._renderer).applyMatrix.apply(e,function(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(arguments.length<=0?void 0:arguments[0])):(e=this._renderer).applyMatrix.apply(e,arguments),this},n.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},n.default.prototype.rotate=function(e,t){return n.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(e),t),this},n.default.prototype.rotateX=function(e){return this._assert3d("rotateX"),n.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(e)),this},n.default.prototype.rotateY=function(e){return this._assert3d("rotateY"),n.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(e)),this},n.default.prototype.rotateZ=function(e){return this._assert3d("rotateZ"),n.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(e)),this},n.default.prototype.scale=function(e,t,r){var i;return n.default._validateParameters("scale",arguments),e instanceof n.default.Vector?(e=(i=e).x,t=i.y,r=i.z):e instanceof Array&&(e=(i=e)[0],t=i[1],r=i[2]||1),isNaN(t)?t=r=e:isNaN(r)&&(r=1),this._renderer.scale.call(this._renderer,e,t,r),this},n.default.prototype.shearX=function(e){return n.default._validateParameters("shearX",arguments),e=this._toRadians(e),this._renderer.applyMatrix(1,0,Math.tan(e),1,0,0),this},n.default.prototype.shearY=function(e){return n.default._validateParameters("shearY",arguments),e=this._toRadians(e),this._renderer.applyMatrix(1,Math.tan(e),0,1,0,0),this},n.default.prototype.translate=function(e,t,r){return n.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(e,t,r):this._renderer.translate(e,t),this},e=n.default,r.default=e},{"./main":273,"core-js/modules/es.array.from":157,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint8-array":232,"core-js/modules/web.dom-collections.iterator":236}],287:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.ends-with"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.ends-with"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator");var i=(e=e("../core/main"))&&e.__esModule?e:{default:e};function o(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(e){return(a="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}i.default.prototype.storeItem=function(e,t){"string"!=typeof e&&console.log("The argument that you passed to storeItem() - ".concat(e," is not a string.")),e.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(e," must not end with 'p5TypeID'.")),void 0===t&&console.log("You cannot store undefined variables using storeItem().");var r=a(t);switch(r){case"number":case"boolean":t=t.toString();break;case"object":t instanceof i.default.Color?r="p5.Color":t instanceof i.default.Vector&&(r="p5.Vector",t=[t.x,t.y,t.z]),t=JSON.stringify(t)}localStorage.setItem(e,t),e="".concat(e,"p5TypeID"),localStorage.setItem(e,r)},i.default.prototype.getItem=function(e){var t=localStorage.getItem(e),r=localStorage.getItem("".concat(e,"p5TypeID"));if(void 0===r)console.log("Unable to determine type of item stored under ".concat(e,"in local storage. Did you save the item with something other than setItem()?"));else if(null!==t)switch(r){case"number":t=parseFloat(t);break;case"boolean":t="true"===t;break;case"object":t=JSON.parse(t);break;case"p5.Color":t=JSON.parse(t),t=this.color.apply(this,o(t.levels));break;case"p5.Vector":t=JSON.parse(t),t=this.createVector.apply(this,o(t))}return t},i.default.prototype.clearStorage=function(){localStorage.clear()},i.default.prototype.removeItem=function(e){"string"!=typeof e&&console.log("The argument that you passed to removeItem() - ".concat(e," is not a string.")),localStorage.removeItem(e),localStorage.removeItem("".concat(e,"p5TypeID"))}},{"../core/main":273,"core-js/modules/es.array.from":157,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.ends-with":188,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],288:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-prototype-of"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.reflect.construct"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-prototype-of"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.reflect.construct"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=(e=e("../core/main"))&&e.__esModule?e:{default:e};function o(e){return(o="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){return function(){var t,r=u(e);t=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),1}catch(t){}}}()?(t=u(this).constructor,Reflect.construct(r,arguments,t)):r.apply(this,arguments),r=this;if(!t||"object"!==o(t)&&"function"!=typeof t){if(void 0!==r)return r;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t,r){t&&d(e.prototype,t),r&&d(e,r)}i.default.prototype.createStringDict=function(e,t){return i.default._validateParameters("createStringDict",arguments),new i.default.StringDict(e,t)},i.default.prototype.createNumberDict=function(e,t){return i.default._validateParameters("createNumberDict",arguments),new i.default.NumberDict(e,t)},i.default.TypedDict=function(){function e(t,r){return c(this,e),t instanceof Object?this.data=t:(this.data={},this.data[t]=r),this}return f(e,[{key:"size",value:function(){return Object.keys(this.data).length}},{key:"hasKey",value:function(e){return this.data.hasOwnProperty(e)}},{key:"get",value:function(e){if(this.data.hasOwnProperty(e))return this.data[e];console.log("".concat(e," does not exist in this Dictionary"))}},{key:"set",value:function(e,t){this._validate(t)?this.data[e]=t:console.log("Those values dont work for this dictionary type.")}},{key:"_addObj",value:function(e){for(var t in e)this.set(t,e[t])}},{key:"create",value:function(e,t){e instanceof Object&&void 0===t?this._addObj(e):void 0!==e?this.set(e,t):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")}},{key:"clear",value:function(){this.data={}}},{key:"remove",value:function(e){if(!this.data.hasOwnProperty(e))throw new Error("".concat(e," does not exist in this Dictionary"));delete this.data[e]}},{key:"print",value:function(){for(var e in this.data)console.log("key:".concat(e," value:").concat(this.data[e]))}},{key:"saveTable",value:function(e){var t,r="";for(t in this.data)r+="".concat(t,",").concat(this.data[t],"\n");var n=new Blob([r],{type:"text/csv"});i.default.prototype.downloadFile(n,e||"mycsv","csv")}},{key:"saveJSON",value:function(e,t){i.default.prototype.saveJSON(this.data,e,t)}},{key:"_validate",value:function(e){return!0}}]),e}(),i.default.StringDict=function(){a(t,i.default.TypedDict);var e=l(t);function t(){c(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return e.call.apply(e,[this].concat(n))}return f(t,[{key:"_validate",value:function(e){return"string"==typeof e}}]),t}(),i.default.NumberDict=function(){a(t,i.default.TypedDict);var e=l(t);function t(){c(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return e.call.apply(e,[this].concat(n))}return f(t,[{key:"_validate",value:function(e){return"number"==typeof e}},{key:"add",value:function(e,t){this.data.hasOwnProperty(e)?this.data[e]+=t:console.log("The key - ".concat(e," does not exist in this dictionary."))}},{key:"sub",value:function(e,t){this.add(e,-t)}},{key:"mult",value:function(e,t){this.data.hasOwnProperty(e)?this.data[e]*=t:console.log("The key - ".concat(e," does not exist in this dictionary."))}},{key:"div",value:function(e,t){this.data.hasOwnProperty(e)?this.data[e]/=t:console.log("The key - ".concat(e," does not exist in this dictionary."))}},{key:"_valueTest",value:function(e){if(0===Object.keys(this.data).length)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(1===Object.keys(this.data).length)return this.data[Object.keys(this.data)[0]];var t,r=this.data[Object.keys(this.data)[0]];for(t in this.data)this.data[t]*e<r*e&&(r=this.data[t]);return r}},{key:"minValue",value:function(){return this._valueTest(1)}},{key:"maxValue",value:function(){return this._valueTest(-1)}},{key:"_keyTest",value:function(e){if(0===Object.keys(this.data).length)throw new Error("Unable to use minValue on an empty NumberDict");if(1===Object.keys(this.data).length)return Object.keys(this.data)[0];for(var t=Object.keys(this.data)[0],r=1;r<Object.keys(this.data).length;r++)Object.keys(this.data)[r]*e<t*e&&(t=Object.keys(this.data)[r]);return t}},{key:"minKey",value:function(){return this._keyTest(1)}},{key:"maxKey",value:function(){return this._keyTest(-1)}}]),t}(),e=i.default.TypedDict,r.default=e},{"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],289:[function(t,r,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=(t=t("../core/main"))&&t.__esModule?t:{default:t};function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,r){t&&a(e.prototype,t),r&&a(e,r)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){return function(){var t,r,n=d(e);return t=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),1}catch(t){}}}()?(t=d(this).constructor,Reflect.construct(n,arguments,t)):n.apply(this,arguments),n=this,!(r=t)||"object"!==h(r)&&"function"!=typeof r?c(n):r}}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e){return(h="function"==typeof Symbol&&"symbol"===i(Symbol.iterator)?function(e){return i(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":i(e)})(e)}function p(e,t,r){return(t._userNode||document.body).appendChild(e),r=new(r?o.default.MediaElement:o.default.Element)(e,t),t._elements.push(r),r}function m(e,t,r,n){var i=document.createElement(t),o=("string"==typeof(r=r||"")&&(r=[r]),!0),a=(t=!1,void 0);try{for(var s,l=r[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var u=s.value,c=document.createElement("source");c.setAttribute("src",u),i.appendChild(c)}}catch(e){t=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(t)throw a}}"function"==typeof n&&i.addEventListener("canplaythrough",(function e(){n(),i.removeEventListener("canplaythrough",e)}));var d=p(i,e,!0);return d.loadedmetadata=!1,i.addEventListener("loadedmetadata",(function(){d.width=i.videoWidth,d.height=i.videoHeight,0===d.elt.width&&(d.elt.width=i.videoWidth),0===d.elt.height&&(d.elt.height=i.videoHeight),d.presetPlaybackRate&&(d.elt.playbackRate=d.presetPlaybackRate,delete d.presetPlaybackRate),d.loadedmetadata=!0})),d}function g(e,t,r,n){f(this,g),this.callback=e,this.time=t,this.id=r,this.val=n}o.default.prototype.select=function(e,t){return o.default._validateParameters("select",arguments),(t=this._getContainer(t).querySelector(e))?this._wrapElement(t):null},o.default.prototype.selectAll=function(e,t){o.default._validateParameters("selectAll",arguments);var r=[],n=this._getContainer(t).querySelectorAll(e);if(n)for(var i=0;i<n.length;i++){var a=this._wrapElement(n[i]);r.push(a)}return r},o.default.prototype._getContainer=function(e){var t=document;return"string"==typeof e?t=document.querySelector(e)||document:e instanceof o.default.Element?t=e.elt:e instanceof HTMLElement&&(t=e),t},o.default.prototype._wrapElement=function(e){var t,r=Array.prototype.slice.call(e.children);return"INPUT"===e.tagName&&"checkbox"===e.type?((t=new o.default.Element(e,this)).checked=function(){return 0===arguments.length?this.elt.checked:(this.elt.checked=!(arguments.length<=0||!arguments[0]),this)},t):"VIDEO"===e.tagName||"AUDIO"===e.tagName?new o.default.MediaElement(e,this):"SELECT"===e.tagName?this.createSelect(new o.default.Element(e,this)):0<r.length&&r.every((function(e){return"INPUT"===e.tagName||"LABEL"===e.tagName}))?this.createRadio(new o.default.Element(e,this)):new o.default.Element(e,this)},o.default.prototype.removeElements=function(e){o.default._validateParameters("removeElements",arguments),this._elements.filter((function(e){return!(e.elt instanceof HTMLCanvasElement)})).map((function(e){return e.remove()}))},o.default.Element.prototype.changed=function(e){return o.default.Element._adjustListener("change",e,this),this},o.default.Element.prototype.input=function(e){return o.default.Element._adjustListener("input",e,this),this},o.default.prototype.createDiv=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=document.createElement("div");return t.innerHTML=e,p(t,this)},o.default.prototype.createP=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=document.createElement("p");return t.innerHTML=e,p(t,this)},o.default.prototype.createSpan=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=document.createElement("span");return t.innerHTML=e,p(t,this)},o.default.prototype.createImg=function(){o.default._validateParameters("createImg",arguments);var e,t=document.createElement("img"),r=arguments;return 1<r.length&&"string"==typeof r[1]&&(t.alt=r[1]),2<r.length&&"string"==typeof r[2]&&(t.crossOrigin=r[2]),t.src=r[0],e=p(t,this),t.addEventListener("load",(function(){e.width=t.offsetWidth||t.width,e.height=t.offsetHeight||t.height;var n=r[r.length-1];"function"==typeof n&&n(e)})),e},o.default.prototype.createA=function(e,t,r){o.default._validateParameters("createA",arguments);var n=document.createElement("a");return n.href=e,n.innerHTML=t,r&&(n.target=r),p(n,this)},o.default.prototype.createSlider=function(e,t,r,n){o.default._validateParameters("createSlider",arguments);var i=document.createElement("input");return i.type="range",i.min=e,i.max=t,0===n?i.step=1e-18:n&&(i.step=n),"number"==typeof r&&(i.value=r),p(i,this)},o.default.prototype.createButton=function(e,t){o.default._validateParameters("createButton",arguments);var r=document.createElement("button");return r.innerHTML=e,t&&(r.value=t),p(r,this)},o.default.prototype.createCheckbox=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];o.default._validateParameters("createCheckbox",t);var n=document.createElement("div"),i=document.createElement("input"),a=(i.type="checkbox",document.createElement("label")),s=(a.appendChild(i),n.appendChild(a),p(n,this));return s.checked=function(){var e=s.elt.firstElementChild.getElementsByTagName("input")[0];if(e){if(0===arguments.length)return e.checked;e.checked=!(arguments.length<=0||!arguments[0])}return s},this.value=function(e){return s.value=e,this},t[0]&&(s.value(t[0]),(n=document.createElement("span")).innerHTML=t[0],a.appendChild(n)),t[1]&&(i.checked=!0),s},o.default.prototype.createSelect=function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];o.default._validateParameters("createSelect",r);var i,a=r[0];return a instanceof o.default.Element&&a.elt instanceof HTMLSelectElement?this.elt=(e=a).elt:a instanceof HTMLSelectElement?(e=p(a,this),this.elt=a):(i=document.createElement("select"),a&&"boolean"==typeof a&&i.setAttribute("multiple","true"),e=p(i,this),this.elt=i),e.option=function(e,t){var r;if(void 0!==e){for(var n,i=0;i<this.elt.length;i+=1)if(this.elt[i].textContent===e){r=i;break}void 0!==r?!1===t?this.elt.remove(r):this.elt[r].value=t:((n=document.createElement("option")).textContent=e,n.value=void 0===t?e:t,this.elt.appendChild(n),this._pInst._elements.push(n))}},e.selected=function(e){if(void 0!==e){for(var t=0;t<this.elt.length;t+=1)this.elt[t].value.toString()===e.toString()&&(this.elt.selectedIndex=t);return this}if(this.elt.getAttribute("multiple")){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=this.elt.selectedOptions[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value;r.push(l.value)}}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}return this.elt.value},e.disable=function(e){if("string"==typeof e)for(var t=0;t<this.elt.length;t++)this.elt[t].value.toString()===e&&(this.elt[t].disabled=!0,this.elt[t].selected=!1);else this.elt.disabled=!0;return this},e.enable=function(e){if("string"==typeof e)for(var t=0;t<this.elt.length;t++)this.elt[t].value.toString()===e&&(this.elt[t].disabled=!1,this.elt[t].selected=!1);else{this.elt.disabled=!1;for(var r=0;r<this.elt.length;r++)this.elt[r].disabled=!1,this.elt[r].selected=!1}return this},e},o.default.prototype.createRadio=function(){function e(e){return e instanceof HTMLInputElement&&"radio"===e.type}function t(e){return e instanceof HTMLLabelElement}var r,n,i,a=arguments.length<=0?void 0:arguments[0];return a instanceof o.default.Element&&(a.elt instanceof HTMLDivElement||a.elt instanceof HTMLSpanElement)?(r=a,this.elt=a.elt):a instanceof HTMLDivElement||a instanceof HTMLSpanElement?(r=p(a,this),n=this.elt=a,"string"==typeof(arguments.length<=1?void 0:arguments[1])&&(i=arguments.length<=1?void 0:arguments[1])):("string"==typeof a&&(i=a),n=document.createElement("div"),r=p(n,this),this.elt=n),r._name=i||"radioOption",r._getOptionsArray=function(){return Array.from(this.elt.children).filter((function(r){return e(r)||t(r)&&e(r.firstElementChild)})).map((function(t){return e(t)?t:t.firstElementChild}))},r.option=function(e,n){var i,o,a,s=!0,l=!1,u=void 0;try{for(var c,d=r._getOptionsArray()[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var f=c.value;if(f.value===e){i=f;break}}}catch(e){l=!0,u=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw u}}return void 0===i&&((i=document.createElement("input")).setAttribute("type","radio"),i.setAttribute("value",e)),i.setAttribute("name",r._name),t(i.parentElement)?o=i.parentElement:(o=document.createElement("label")).insertAdjacentElement("afterbegin",i),o.lastElementChild instanceof HTMLSpanElement?a=o.lastElementChild:(a=document.createElement("span"),i.insertAdjacentElement("afterend",a)),a.innerHTML=void 0===n?e:n,this.elt.appendChild(o),i},r.remove=function(e){var n=!0,i=!1,o=void 0;try{for(var a,s=r._getOptionsArray()[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value;if(l.value===e)return void(t(l.parentElement)?l.parentElement:l).remove()}}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}},r.value=function(){var e="",t=!0,n=!1,i=void 0;try{for(var o,a=r._getOptionsArray()[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var s=o.value;if(s.checked){e=s.value;break}}}catch(e){n=!0,i=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw i}}return e},r.selected=function(e){var t=null;if(void 0===e){var n=!0,i=!1,o=void 0;try{for(var a,s=r._getOptionsArray()[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value;if(l.checked){t=l;break}}}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}}else{r._getOptionsArray().forEach((function(e){e.checked=!1,e.removeAttribute("checked")}));var u=!0;i=!1,o=void 0;try{for(var c,d=r._getOptionsArray()[Symbol.iterator]();!(u=(c=d.next()).done);u=!0){var f=c.value;f.value===e&&(f.setAttribute("checked",!0),f.checked=!0,t=f)}}catch(e){i=!0,o=e}finally{try{u||null==d.return||d.return()}finally{if(i)throw o}}}return t},r.disable=function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],t=!0,n=!1,i=void 0;try{for(var o,a=r._getOptionsArray()[Symbol.iterator]();!(t=(o=a.next()).done);t=!0)o.value.setAttribute("disabled",e)}catch(e){n=!0,i=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw i}}},r},o.default.prototype.createColorPicker=function(e){o.default._validateParameters("createColorPicker",arguments);var t=document.createElement("input");return t.type="color",e?e instanceof o.default.Color?t.value=e.toString("#rrggbb"):(o.default.prototype._colorMode="rgb",o.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},t.value=o.default.prototype.color(e).toString("#rrggbb")):t.value="#000000",(t=p(t,this)).color=function(){return e&&(e.mode&&(o.default.prototype._colorMode=e.mode),e.maxes&&(o.default.prototype._colorMaxes=e.maxes)),o.default.prototype.color(this.elt.value)},t},o.default.prototype.createInput=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"text",r=(o.default._validateParameters("createInput",arguments),document.createElement("input"));return r.setAttribute("value",e),r.setAttribute("type",t),p(r,this)},o.default.prototype.createFileInput=function(e){var t,r=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(o.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob)return(t=document.createElement("input")).setAttribute("type","file"),r&&t.setAttribute("multiple",!0),t.addEventListener("change",(function(t){var r=!0,n=!1,i=void 0;try{for(var a,s=t.target.files[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;o.default.File._load(l,e)}}catch(t){n=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(n)throw i}}}),!1),p(t,this);console.log("The File APIs are not fully supported in this browser. Cannot create element.")},o.default.prototype.createVideo=function(e,t){return o.default._validateParameters("createVideo",arguments),m(this,"video",e,t)},o.default.prototype.createAudio=function(e,t){return o.default._validateParameters("createAudio",arguments),m(this,"audio",e,t)},o.default.prototype.VIDEO="video",o.default.prototype.AUDIO="audio",void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(e){var t=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return t?new Promise((function(r,n){t.call(navigator,e,r,n)})):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),o.default.prototype.createCapture=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(o.default._validateParameters("createCapture",t),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");for(var n,i=!0,a=!0,s=0,l=t;s<l.length;s++){var u=l[s];u===o.default.prototype.VIDEO?a=!1:u===o.default.prototype.AUDIO?i=!1:"object"===h(u)?c=u:"function"==typeof u&&(n=u)}var c=c||{video:i,audio:a},d=document.createElement("video"),f=(d.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(c).then((function(t){try{"srcObject"in d?d.srcObject=t:d.src=window.URL.createObjectURL(t)}catch(e){d.src=t}}),console.log),p(d,this,!0));return f.loadedmetadata=!1,d.addEventListener("loadedmetadata",(function(){d.play(),d.width?(f.width=d.width,f.height=d.height):(f.width=f.elt.width=d.videoWidth,f.height=f.elt.height=d.videoHeight),f.loadedmetadata=!0,n&&n(d.srcObject)})),f},o.default.prototype.createElement=function(e,t){return o.default._validateParameters("createElement",arguments),e=document.createElement(e),void 0!==t&&(e.innerHTML=t),p(e,this)},o.default.Element.prototype.addClass=function(e){return this.elt.className?this.hasClass(e)||(this.elt.className=this.elt.className+" "+e):this.elt.className=e,this},o.default.Element.prototype.removeClass=function(e){return this.elt.classList.remove(e),this},o.default.Element.prototype.hasClass=function(e){return this.elt.classList.contains(e)},o.default.Element.prototype.toggleClass=function(e){return this.elt.classList.contains(e)?this.elt.classList.remove(e):this.elt.classList.add(e),this},o.default.Element.prototype.child=function(e){return void 0===e?this.elt.childNodes:("string"==typeof e?("#"===e[0]&&(e=e.substring(1)),e=document.getElementById(e)):e instanceof o.default.Element&&(e=e.elt),e instanceof HTMLElement&&this.elt.appendChild(e),this)},o.default.Element.prototype.center=function(e){var t=this.elt.style.display,r="none"===this.elt.style.display,n="none"===this.parent().style.display,i={x:this.elt.offsetLeft,y:this.elt.offsetTop},o=(r&&this.show(),n&&this.parent().show(),this.elt.style.display="block",this.position(0,0),Math.abs(this.parent().offsetWidth-this.elt.offsetWidth)),a=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return"both"===e||void 0===e?this.position(o/2+this.parent().offsetLeft,a/2+this.parent().offsetTop):"horizontal"===e?this.position(o/2+this.parent().offsetLeft,i.y):"vertical"===e&&this.position(i.x,a/2+this.parent().offsetTop),this.style("display",t),r&&this.hide(),n&&this.parent().hide(),this},o.default.Element.prototype.html=function(){return 0===arguments.length?this.elt.innerHTML:(arguments.length<=1||!arguments[1]?this.elt.innerHTML=arguments.length<=0?void 0:arguments[0]:this.elt.insertAdjacentHTML("beforeend",arguments.length<=0?void 0:arguments[0]),this)},o.default.Element.prototype.position=function(){return 0===arguments.length?{x:this.elt.offsetLeft,y:this.elt.offsetTop}:(this.elt.style.position="static"!==(arguments.length<=2?void 0:arguments[2])&&"fixed"!==(arguments.length<=2?void 0:arguments[2])&&"relative"!==(arguments.length<=2?void 0:arguments[2])&&"sticky"!==(arguments.length<=2?void 0:arguments[2])&&"initial"!==(arguments.length<=2?void 0:arguments[2])&&"inherit"!==(arguments.length<=2?void 0:arguments[2])?"absolute":arguments.length<=2?void 0:arguments[2],this.elt.style.left=(arguments.length<=0?void 0:arguments[0])+"px",this.elt.style.top=(arguments.length<=1?void 0:arguments[1])+"px",this.x=arguments.length<=0?void 0:arguments[0],this.y=arguments.length<=1?void 0:arguments[1],this)},o.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var e="";return this.elt.style.transform&&(e=(e=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),2===arguments.length?this.elt.style.transform="translate("+(arguments.length<=0?void 0:arguments[0])+"px, "+(arguments.length<=1?void 0:arguments[1])+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+(arguments.length<=0?void 0:arguments[0])+"px,"+(arguments.length<=1?void 0:arguments[1])+"px,"+(arguments.length<=2?void 0:arguments[2])+"px)",this.elt.parentElement.style.perspective=3===arguments.length?"1000px":(arguments.length<=3?void 0:arguments[3])+"px"),this.elt.style.transform+=e,this},o.default.Element.prototype._rotate=function(){var e="";return this.elt.style.transform&&(e=(e=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),1===arguments.length?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg)":2===arguments.length?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg, "+(arguments.length<=1?void 0:arguments[1])+"deg)":3===arguments.length&&(this.elt.style.transform="rotateX("+(arguments.length<=0?void 0:arguments[0])+"deg)",this.elt.style.transform+="rotateY("+(arguments.length<=1?void 0:arguments[1])+"deg)",this.elt.style.transform+="rotateZ("+(arguments.length<=2?void 0:arguments[2])+"deg)"),this.elt.style.transform+=e,this},o.default.Element.prototype.style=function(e,t){if(void 0===(t=t instanceof o.default.Color?"rgba("+t.levels[0]+","+t.levels[1]+","+t.levels[2]+","+t.levels[3]/255+")":t)){if(-1===e.indexOf(":"))return window.getComputedStyle(this.elt).getPropertyValue(e);for(var r=e.split(";"),n=0;n<r.length;n++){var i=r[n].split(":");i[0]&&i[1]&&(this.elt.style[i[0].trim()]=i[1].trim())}}else this.elt.style[e]=t,"width"!==e&&"height"!==e&&"left"!==e&&"top"!==e||(t=window.getComputedStyle(this.elt).getPropertyValue(e).replace(/[^\d.]/g,""),this[e]=Math.round(parseFloat(t,10)));return this},o.default.Element.prototype.attribute=function(e,t){if(null==this.elt.firstChild||"checkbox"!==this.elt.firstChild.type&&"radio"!==this.elt.firstChild.type)return void 0===t?this.elt.getAttribute(e):(this.elt.setAttribute(e,t),this);if(void 0===t)return this.elt.firstChild.getAttribute(e);for(var r=0;r<this.elt.childNodes.length;r++)this.elt.childNodes[r].setAttribute(e,t)},o.default.Element.prototype.removeAttribute=function(e){if(null!=this.elt.firstChild&&("checkbox"===this.elt.firstChild.type||"radio"===this.elt.firstChild.type))for(var t=0;t<this.elt.childNodes.length;t++)this.elt.childNodes[t].removeAttribute(e);return this.elt.removeAttribute(e),this},o.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments.length<=0?void 0:arguments[0],this):"range"===this.elt.type?parseFloat(this.elt.value):this.elt.value},o.default.Element.prototype.show=function(){return this.elt.style.display="block",this},o.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},o.default.Element.prototype.size=function(e,t){if(0===arguments.length)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var r=e,n=t,i=o.default.prototype.AUTO;if(r!==i||n!==i){if(r===i?r=t*this.width/this.height:n===i&&(n=e*this.height/this.width),this.elt instanceof HTMLCanvasElement){var a,s={},l=this.elt.getContext("2d");for(a in l)s[a]=l[a];for(a in this.elt.setAttribute("width",r*this._pInst._pixelDensity),this.elt.setAttribute("height",n*this._pInst._pixelDensity),this.elt.style.width=r+"px",this.elt.style.height=n+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),s)this.elt.getContext("2d")[a]=s[a]}else this.elt.style.width=r+"px",this.elt.style.height=n+"px",this.elt.width=r,this.elt.height=n;this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",this.elt.offsetWidth),this._pInst._setProperty("height",this.elt.offsetHeight))}return this},o.default.Element.prototype.remove=function(){this instanceof o.default.MediaElement&&(this.stop(),null!==(t=this.elt.srcObject)&&t.getTracks().forEach((function(e){e.stop()})));var e,t=this._pInst._elements.indexOf(this);for(e in-1!==t&&this._pInst._elements.splice(t,1),this._events)this.elt.removeEventListener(e,this._events[e]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},o.default.Element.prototype.drop=function(e,t){var r;return window.File&&window.FileReader&&window.FileList&&window.Blob?(this._dragDisabled||(this._dragDisabled=!0,this.elt.addEventListener("dragover",r=function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){e.preventDefault()}))),this.elt.addEventListener("dragleave",r)),o.default.Element._attachListener("drop",(function(r){r.preventDefault(),"function"==typeof t&&t.call(this,r);r=r.dataTransfer.files;var n=!0,i=!1,a=void 0;try{for(var s,l=r[Symbol.iterator]();!(n=(s=l.next()).done);n=!0){var u=s.value;o.default.File._load(u,e)}}catch(r){i=!0,a=r}finally{try{n||null==l.return||l.return()}finally{if(i)throw a}}}),this)):console.log("The File APIs are not fully supported in this browser."),this},t=function(t){var r=i;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),t&&l(r,t);var n=u(i);function i(e,t){f(this,i);var r=c(t=n.call(this,e,t));return t.elt.crossOrigin="anonymous",t._prevTime=0,t._cueIDCounter=0,t._cues=[],t.pixels=[],t._pixelsState=c(t),t._pixelDensity=1,t._modified=!1,t._frameOnCanvas=-1,Object.defineProperty(r,"src",{get:function(){var e=r.elt.children[0].src,t=r.elt.src===window.location.href?"":r.elt.src;return e===window.location.href?t:e},set:function(t){for(var n=0;n<r.elt.children.length;n++)r.elt.removeChild(r.elt.children[n]);var i=document.createElement("source");i.src=t,e.appendChild(i),r.elt.src=t,r.modified=!0}}),r._onended=function(){},r.elt.onended=function(){r._onended(r)},t}return s(i,[{key:"play",value:function(){var e;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(e=this.elt.play())&&e.catch&&e.catch((function(e){"NotAllowedError"===e.name?console.error(e):console.error("Media play method encountered an unexpected error",e)})),this}},{key:"stop",value:function(){return this.elt.pause(),this.elt.currentTime=0,this}},{key:"pause",value:function(){return this.elt.pause(),this}},{key:"loop",value:function(){return this.elt.setAttribute("loop",!0),this.play(),this}},{key:"noLoop",value:function(){return this.elt.removeAttribute("loop"),this}},{key:"_setupAutoplayFailDetection",value:function(){var t=setTimeout((function(){console.error(e)}),500);this.elt.addEventListener("play",(function(){return clearTimeout(t)}),{passive:!0,once:!0})}},{key:"autoplay",value:function(e){var t=this,r=this.elt.getAttribute("autoplay");return this.elt.setAttribute("autoplay",e),e&&!r&&(e=function(){return t._setupAutoplayFailDetection()},4===this.elt.readyState?e():this.elt.addEventListener("canplay",e,{passive:!0,once:!0})),this}},{key:"volume",value:function(e){if(void 0===e)return this.elt.volume;this.elt.volume=e}},{key:"speed",value:function(e){if(void 0===e)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=e:this.presetPlaybackRate=e}},{key:"time",value:function(e){return void 0===e?this.elt.currentTime:(this.elt.currentTime=e,this)}},{key:"duration",value:function(){return this.elt.duration}},{key:"_ensureCanvas",value:function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0));var e=this._frameOnCanvas!==this._pInst.frameCount;this.loadedmetadata&&e&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),this.setModified(!0),this._frameOnCanvas=this._pInst.frameCount)}},{key:"loadPixels",value:function(){this._ensureCanvas();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return o.default.Renderer2D.prototype.loadPixels.apply(this,t)}},{key:"updatePixels",value:function(e,t,r,n){return this.loadedmetadata&&(this._ensureCanvas(),o.default.Renderer2D.prototype.updatePixels.call(this,e,t,r,n)),this.setModified(!0),this}},{key:"get",value:function(){this._ensureCanvas();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return o.default.Renderer2D.prototype.get.apply(this,t)}},{key:"_getPixel",value:function(){this.loadPixels();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return o.default.Renderer2D.prototype._getPixel.apply(this,t)}},{key:"set",value:function(e,t,r){this.loadedmetadata&&(this._ensureCanvas(),o.default.Renderer2D.prototype.set.call(this,e,t,r),this.setModified(!0))}},{key:"copy",value:function(){this._ensureCanvas();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];o.default.prototype.copy.apply(this,t)}},{key:"mask",value:function(){this.loadPixels(),this.setModified(!0);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];o.default.Image.prototype.mask.apply(this,t)}},{key:"isModified",value:function(){return this._modified}},{key:"setModified",value:function(e){this._modified=e}},{key:"onended",value:function(e){return this._onended=e,this}},{key:"connect",value:function(e){var t,r;if("function"==typeof o.default.prototype.getAudioContext)t=o.default.prototype.getAudioContext(),r=o.default.soundOut.input;else try{r=(t=e.context).destination}catch(e){throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=t.createMediaElementSource(this.elt),this.audioSourceNode.connect(r)),e?e.input?this.audioSourceNode.connect(e.input):this.audioSourceNode.connect(e):this.audioSourceNode.connect(r)}},{key:"disconnect",value:function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()}},{key:"showControls",value:function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0}},{key:"hideControls",value:function(){this.elt.controls=!1}},{key:"addCue",value:function(e,t,r){var n=this._cueIDCounter++;t=new g(t,e,n,r);return this._cues.push(t),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),n}},{key:"removeCue",value:function(e){for(var t=0;t<this._cues.length;t++)this._cues[t].id===e&&(console.log(e),this._cues.splice(t,1));0===this._cues.length&&(this.elt.ontimeupdate=null)}},{key:"clearCues",value:function(){this._cues=[],this.elt.ontimeupdate=null}},{key:"_onTimeUpdate",value:function(){for(var e=this.time(),t=0;t<this._cues.length;t++){var r=this._cues[t].time,n=this._cues[t].val;this._prevTime<r&&r<=e&&this._cues[t].callback(n)}this._prevTime=e}}]),i}(o.default.Element),o.default.MediaElement=t,t=function(){function e(t,r){f(this,e),this.file=t,this._pInst=r,r=t.type.split("/"),this.type=r[0],this.subtype=r[1],this.name=t.name,this.size=t.size,this.data=void 0}return s(e,null,[{key:"_createLoader",value:function(e,t){var r=new FileReader;return r.onload=function(r){var n,i=new o.default.File(e);"application/json"===i.file.type?i.data=JSON.parse(r.target.result):"text/xml"===i.file.type?(n=(new DOMParser).parseFromString(r.target.result,"text/xml"),i.data=new o.default.XML(n.documentElement)):i.data=r.target.result,t(i)},r}},{key:"_load",value:function(e,t){var r;/^text\//.test(e.type)||"application/json"===e.type?o.default.File._createLoader(e,t).readAsText(e):/^(video|audio)\//.test(e.type)?((r=new o.default.File(e)).data=URL.createObjectURL(e),t(r)):o.default.File._createLoader(e,t).readAsDataURL(e)}}]),e}(),o.default.File=t,t=o.default,n.default=t},{"../core/main":273,"core-js/modules/es.array.every":153,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.from":157,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.splice":166,"core-js/modules/es.function.name":167,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.to-string":180,"core-js/modules/es.promise":181,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.replace":194,"core-js/modules/es.string.split":196,"core-js/modules/es.string.trim":199,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.dom-collections.iterator":236,"core-js/modules/web.url":238}],290:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=(g=e("../core/main"))&&g.__esModule?g:{default:g},a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var a;Object.prototype.hasOwnProperty.call(e,r)&&((a=o?Object.getOwnPropertyDescriptor(e,r):null)&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=e[r])}return n.default=e,t&&t.set(e,n),n}(e("../core/constants"));function s(){var e;return"function"!=typeof WeakMap?null:(e=new WeakMap,s=function(){return e},e)}o.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",o.default.prototype.accelerationX=0,o.default.prototype.accelerationY=0,o.default.prototype.accelerationZ=0,o.default.prototype.pAccelerationX=0,o.default.prototype.pAccelerationY=0,o.default.prototype.pAccelerationZ=0,o.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},o.default.prototype.rotationX=0,o.default.prototype.rotationY=0,o.default.prototype.rotationZ=0,o.default.prototype.pRotationX=0,o.default.prototype.pRotationY=0;var l=o.default.prototype.pRotationZ=0,u=0,c=0,d="clockwise",f="clockwise",h="clockwise",p=(o.default.prototype.pRotateDirectionX=void 0,o.default.prototype.pRotateDirectionY=void 0,o.default.prototype.pRotateDirectionZ=void 0,o.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},o.default.prototype.turnAxis=void 0,.5),m=30,g=(o.default.prototype.setMoveThreshold=function(e){o.default._validateParameters("setMoveThreshold",arguments),p=e},o.default.prototype.setShakeThreshold=function(e){o.default._validateParameters("setShakeThreshold",arguments),m=e},o.default.prototype._ondeviceorientation=function(e){this._updatePRotations(),this._angleMode===a.radians&&(e.beta=e.beta*(_PI/180),e.gamma=e.gamma*(_PI/180),e.alpha=e.alpha*(_PI/180)),this._setProperty("rotationX",e.beta),this._setProperty("rotationY",e.gamma),this._setProperty("rotationZ",e.alpha),this._handleMotion()},o.default.prototype._ondevicemotion=function(e){this._updatePAccelerations(),this._setProperty("accelerationX",2*e.acceleration.x),this._setProperty("accelerationY",2*e.acceleration.y),this._setProperty("accelerationZ",2*e.acceleration.z),this._handleMotion()},o.default.prototype._handleMotion=function(){90===window.orientation||-90===window.orientation?this._setProperty("deviceOrientation","landscape"):0===window.orientation?this._setProperty("deviceOrientation","portrait"):void 0===window.orientation&&this._setProperty("deviceOrientation","undefined");var e,t,r,n,i,o=this._isGlobal?window:this;"function"==typeof o.deviceMoved&&(Math.abs(this.accelerationX-this.pAccelerationX)>p||Math.abs(this.accelerationY-this.pAccelerationY)>p||Math.abs(this.accelerationZ-this.pAccelerationZ)>p)&&o.deviceMoved(),"function"==typeof o.deviceTurned&&(t=this.rotationX+180,e=this.pRotationX+180,r=l+180,0<t-e&&t-e<270||t-e<-270?d="clockwise":(t-e<0||270<t-e)&&(d="counter-clockwise"),d!==this.pRotateDirectionX&&(r=t),90<Math.abs(t-r)&&Math.abs(t-r)<270&&(r=t,this._setProperty("turnAxis","X"),o.deviceTurned()),this.pRotateDirectionX=d,l=r-180,e=this.rotationY+180,t=this.pRotationY+180,r=u+180,0<e-t&&e-t<270||e-t<-270?f="clockwise":(e-t<0||270<e-this.pRotationY)&&(f="counter-clockwise"),f!==this.pRotateDirectionY&&(r=e),90<Math.abs(e-r)&&Math.abs(e-r)<270&&(r=e,this._setProperty("turnAxis","Y"),o.deviceTurned()),this.pRotateDirectionY=f,u=r-180,0<this.rotationZ-this.pRotationZ&&this.rotationZ-this.pRotationZ<270||this.rotationZ-this.pRotationZ<-270?h="clockwise":(this.rotationZ-this.pRotationZ<0||270<this.rotationZ-this.pRotationZ)&&(h="counter-clockwise"),h!==this.pRotateDirectionZ&&(c=this.rotationZ),90<Math.abs(this.rotationZ-c)&&Math.abs(this.rotationZ-c)<270&&(c=this.rotationZ,this._setProperty("turnAxis","Z"),o.deviceTurned()),this.pRotateDirectionZ=h,this._setProperty("turnAxis",void 0)),"function"==typeof o.deviceShaken&&(null!==this.pAccelerationX&&(n=Math.abs(this.accelerationX-this.pAccelerationX),i=Math.abs(this.accelerationY-this.pAccelerationY)),m<n+i&&o.deviceShaken())},o.default);r.default=g},{"../core/constants":262,"../core/main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],291:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=(e=e("../core/main"))&&e.__esModule?e:{default:e};n.default.prototype.isKeyPressed=!1,n.default.prototype.keyIsPressed=!1,n.default.prototype.key="",n.default.prototype.keyCode=0,n.default.prototype._onkeydown=function(e){var t;this._downKeys[e.which]||(this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",e.which),this._downKeys[e.which]=!0,this._setProperty("key",e.key||String.fromCharCode(e.which)||e.which),"function"!=typeof(t=this._isGlobal?window:this).keyPressed||e.charCode||!1===t.keyPressed(e)&&e.preventDefault())},n.default.prototype._onkeyup=function(e){this._downKeys[e.which]=!1,this._areDownKeys()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",e.key||String.fromCharCode(e.which)||e.which),this._setProperty("keyCode",e.which);var t=this._isGlobal?window:this;"function"==typeof t.keyReleased&&!1===t.keyReleased(e)&&e.preventDefault()},n.default.prototype._onkeypress=function(e){var t;e.which!==this._lastKeyCodeTyped&&(this._setProperty("_lastKeyCodeTyped",e.which),this._setProperty("key",e.key||String.fromCharCode(e.which)||e.which),"function"==typeof(t=this._isGlobal?window:this).keyTyped&&!1===t.keyTyped(e)&&e.preventDefault())},n.default.prototype._onblur=function(e){this._downKeys={}},n.default.prototype.keyIsDown=function(e){return n.default._validateParameters("keyIsDown",arguments),this._downKeys[e]||!1},n.default.prototype._areDownKeys=function(){for(var e in this._downKeys)if(this._downKeys.hasOwnProperty(e)&&!0===this._downKeys[e])return!0;return!1},e=n.default,r.default=e},{"../core/main":273}],292:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.string.includes"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=(o=e("../core/main"))&&o.__esModule?o:{default:o},a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var a;Object.prototype.hasOwnProperty.call(e,r)&&((a=o?Object.getOwnPropertyDescriptor(e,r):null)&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=e[r])}return n.default=e,t&&t.set(e,n),n}(e("../core/constants"));function s(){var e;return"function"!=typeof WeakMap?null:(e=new WeakMap,s=function(){return e},e)}o.default.prototype.movedX=0,o.default.prototype.movedY=0,o.default.prototype._hasMouseInteracted=!1,o.default.prototype.mouseX=0,o.default.prototype.mouseY=0,o.default.prototype.pmouseX=0,o.default.prototype.pmouseY=0,o.default.prototype.winMouseX=0,o.default.prototype.winMouseY=0,o.default.prototype.pwinMouseX=0,o.default.prototype.pwinMouseY=0,o.default.prototype.mouseButton=0,o.default.prototype.mouseIsPressed=!1,o.default.prototype._updateNextMouseCoords=function(e){var t,r,n,i,o;null!==this._curElement&&(!e.touches||0<e.touches.length)&&(t=this._curElement.elt,r=this.width,n=this.height,(i=e)&&!i.clientX&&(i.touches?i=i.touches[0]:i.changedTouches&&(i=i.changedTouches[0])),o=t.getBoundingClientRect(),r=t.scrollWidth/r||1,t=t.scrollHeight/n||1,n={x:(i.clientX-o.left)/r,y:(i.clientY-o.top)/t,winX:i.clientX,winY:i.clientY,id:i.identifier},this._setProperty("movedX",e.movementX),this._setProperty("movedY",e.movementY),this._setProperty("mouseX",n.x),this._setProperty("mouseY",n.y),this._setProperty("winMouseX",n.winX),this._setProperty("winMouseY",n.winY)),this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},o.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},o.default.prototype._setMouseButton=function(e){1===e.button?this._setProperty("mouseButton",a.CENTER):2===e.button?this._setProperty("mouseButton",a.RIGHT):this._setProperty("mouseButton",a.LEFT)},o.default.prototype._onmousemove=function(e){var t=this._isGlobal?window:this;this._updateNextMouseCoords(e),this.mouseIsPressed?"function"==typeof t.mouseDragged?!1===t.mouseDragged(e)&&e.preventDefault():"function"==typeof t.touchMoved&&!1===t.touchMoved(e)&&e.preventDefault():"function"==typeof t.mouseMoved&&!1===t.mouseMoved(e)&&e.preventDefault()},o.default.prototype._onmousedown=function(e){var t=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(e),this._updateNextMouseCoords(e),"function"==typeof t.mousePressed?!1===t.mousePressed(e)&&e.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&"function"==typeof t.touchStarted&&!1===t.touchStarted(e)&&e.preventDefault()},o.default.prototype._onmouseup=function(e){var t=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),"function"==typeof t.mouseReleased?!1===t.mouseReleased(e)&&e.preventDefault():"function"==typeof t.touchEnded&&!1===t.touchEnded(e)&&e.preventDefault()},o.default.prototype._ondragend=o.default.prototype._onmouseup,o.default.prototype._ondragover=o.default.prototype._onmousemove,o.default.prototype._onclick=function(e){var t=this._isGlobal?window:this;"function"==typeof t.mouseClicked&&!1===t.mouseClicked(e)&&e.preventDefault()},o.default.prototype._ondblclick=function(e){var t=this._isGlobal?window:this;"function"==typeof t.doubleClicked&&!1===t.doubleClicked(e)&&e.preventDefault()},o.default.prototype._mouseWheelDeltaY=0,o.default.prototype._pmouseWheelDeltaY=0,o.default.prototype._onwheel=function(e){var t=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",e.deltaY),"function"==typeof t.mouseWheel&&(e.delta=e.deltaY,!1===t.mouseWheel(e)&&e.preventDefault())},o.default.prototype.requestPointerLock=function(){var e=this._curElement.elt;return e.requestPointerLock=e.requestPointerLock||e.mozRequestPointerLock,e.requestPointerLock?(e.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},o.default.prototype.exitPointerLock=function(){document.exitPointerLock()},e=o.default,r.default=e},{"../core/constants":262,"../core/main":273,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],293:[function(e,t,r){"use strict";e("core-js/modules/es.array.includes"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.string.includes"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,(e=(e=e("../core/main"))&&e.__esModule?e:{default:e}).default.prototype.touches=[],e.default.prototype._updateTouchCoords=function(e){if(null!==this._curElement){for(var t=[],r=0;r<e.touches.length;r++)t[r]=function(e,t,r,n){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=e.getBoundingClientRect();t=e.scrollWidth/t||1,e=e.scrollHeight/r||1;return{x:((r=n.touches[i]||n.changedTouches[i]).clientX-o.left)/t,y:(r.clientY-o.top)/e,winX:r.clientX,winY:r.clientY,id:r.identifier}}(this._curElement.elt,this.width,this.height,e,r);this._setProperty("touches",t)}},e.default.prototype._ontouchstart=function(e){var t=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(e),this._updateNextMouseCoords(e),this._updateMouseCoords(),"function"==typeof t.touchStarted?!1===t.touchStarted(e)&&e.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&"function"==typeof t.mousePressed&&!1===t.mousePressed(e)&&e.preventDefault()},e.default.prototype._ontouchmove=function(e){var t=this._isGlobal?window:this;this._updateTouchCoords(e),this._updateNextMouseCoords(e),"function"==typeof t.touchMoved?!1===t.touchMoved(e)&&e.preventDefault():"function"==typeof t.mouseDragged&&!1===t.mouseDragged(e)&&e.preventDefault()},e.default.prototype._ontouchend=function(e){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(e),this._updateNextMouseCoords(e);var t=this._isGlobal?window:this;"function"==typeof t.touchEnded?!1===t.touchEnded(e)&&e.preventDefault():"function"==typeof t.mouseReleased&&!1===t.mouseReleased(e)&&e.preventDefault()},e=e.default,r.default=e},{"../core/main":273,"core-js/modules/es.array.includes":158,"core-js/modules/es.string.includes":189}],294:[function(e,t,r){"use strict";e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.typed-array.int32-array"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.typed-array.int32-array"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i,o,a,s={_toPixels:function(e){var t,r;return e instanceof ImageData?e.data:e.getContext("2d")?e.getContext("2d").getImageData(0,0,e.width,e.height).data:e.getContext("webgl")?(r=(t=e.getContext("webgl")).drawingBufferWidth*t.drawingBufferHeight*4,r=new Uint8Array(r),t.readPixels(0,0,e.width,e.height,t.RGBA,t.UNSIGNED_BYTE,r),r):void 0},_getARGB:function(e,t){return e[3+(t*=4)]<<24&4278190080|e[t]<<16&16711680|e[1+t]<<8&65280|255&e[2+t]},_setPixels:function(e,t){for(var r,n=0,i=e.length;n<i;n++)e[0+(r=4*n)]=(16711680&t[n])>>>16,e[1+r]=(65280&t[n])>>>8,e[2+r]=255&t[n],e[3+r]=(4278190080&t[n])>>>24},_toImageData:function(e){return e instanceof ImageData?e:e.getContext("2d").getImageData(0,0,e.width,e.height)},_createImageData:function(e,t){return s._tmpCanvas=document.createElement("canvas"),s._tmpCtx=s._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(e,t)},apply:function(e,t,r){var n=e.getContext("2d"),i=n.getImageData(0,0,e.width,e.height);(t=t(i,r))instanceof ImageData?n.putImageData(t,0,0,0,0,e.width,e.height):n.putImageData(i,0,0,0,0,e.width,e.height)},threshold:function(e,t){for(var r=s._toPixels(e),n=(void 0===t&&(t=.5),Math.floor(255*t)),i=0;i<r.length;i+=4){var o=n<=.2126*r[i]+.7152*r[i+1]+.0722*r[i+2]?255:0;r[i]=r[i+1]=r[i+2]=o}},gray:function(e){for(var t=s._toPixels(e),r=0;r<t.length;r+=4){var n=t[r],i=t[r+1],o=t[r+2];t[r]=t[r+1]=t[r+2]=.2126*n+.7152*i+.0722*o}},opaque:function(e){for(var t=s._toPixels(e),r=0;r<t.length;r+=4)t[r+3]=255;return t},invert:function(e){for(var t=s._toPixels(e),r=0;r<t.length;r+=4)t[r]=255-t[r],t[r+1]=255-t[r+1],t[r+2]=255-t[r+2]},posterize:function(e,t){var r=s._toPixels(e);if(t<2||255<t)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var n=t-1,i=0;i<r.length;i+=4){var o=r[i],a=r[i+1],l=r[i+2];r[i]=255*(o*t>>8)/n,r[i+1]=255*(a*t>>8)/n,r[i+2]=255*(l*t>>8)/n}},dilate:function(e){for(var t,r,n,i,o,a,l,u,c,d=s._toPixels(e),f=0,h=d.length?d.length/4:0,p=new Int32Array(h);f<h;)for(r=(t=f)+e.width;f<r;)i=n=s._getARGB(d,f),(c=f-1)<t&&(c=f),r<=(u=f+1)&&(u=f),(o=f-e.width)<0&&(o=0),h<=(a=f+e.width)&&(a=f),o=s._getARGB(d,o),c=s._getARGB(d,c),a=s._getARGB(d,a),(i=77*(i>>16&255)+151*(i>>8&255)+28*(255&i))<(l=77*(c>>16&255)+151*(c>>8&255)+28*(255&c))&&(n=c,i=l),i<(l=77*((c=s._getARGB(d,u))>>16&255)+151*(c>>8&255)+28*(255&c))&&(n=c,i=l),i<(u=77*(o>>16&255)+151*(o>>8&255)+28*(255&o))&&(n=o,i=u),i<(c=77*(a>>16&255)+151*(a>>8&255)+28*(255&a))&&(n=a,i=c),p[f++]=n;s._setPixels(d,p)},erode:function(e){for(var t,r,n,i,o,a,l,u,c,d=s._toPixels(e),f=0,h=d.length?d.length/4:0,p=new Int32Array(h);f<h;)for(r=(t=f)+e.width;f<r;)i=n=s._getARGB(d,f),(c=f-1)<t&&(c=f),r<=(u=f+1)&&(u=f),(o=f-e.width)<0&&(o=0),h<=(a=f+e.width)&&(a=f),o=s._getARGB(d,o),c=s._getARGB(d,c),a=s._getARGB(d,a),(l=77*(c>>16&255)+151*(c>>8&255)+28*(255&c))<(i=77*(i>>16&255)+151*(i>>8&255)+28*(255&i))&&(n=c,i=l),(l=77*((c=s._getARGB(d,u))>>16&255)+151*(c>>8&255)+28*(255&c))<i&&(n=c,i=l),(u=77*(o>>16&255)+151*(o>>8&255)+28*(255&o))<i&&(n=o,i=u),(c=77*(a>>16&255)+151*(a>>8&255)+28*(255&a))<i&&(n=a,i=c),p[f++]=n;s._setPixels(d,p)},blur:function(e,t){for(var r,l,u,c,d,f,h,p,m,g,y=s._toPixels(e),v=e.width,b=e.height,_=v*b,w=new Int32Array(_),E=0;E<_;E++)w[E]=s._getARGB(y,E);var x,S,T,A,M,R,C,I,k=new Int32Array(_),P=new Int32Array(_),O=new Int32Array(_),j=new Int32Array(_),N=0,L=3.5*t|0;if(n!==(L=L<1?1:L<248?L:248)){i=1+(n=L)<<1,o=new Int32Array(i),a=new Array(i);for(var D=0;D<i;D++)a[D]=new Int32Array(256);for(var F=1,U=L-1;F<L;F++){o[L+F]=o[U]=R=U*U,C=a[L+F],I=a[U--];for(var B=0;B<256;B++)C[B]=I[B]=R*B}M=o[L]=L*L,C=a[L];for(var G=0;G<256;G++)C[G]=M*G}for(S=0;S<b;S++){for(x=0;x<v;x++){if(c=u=l=d=r=0,(f=x-n)<0)g=-f,f=0;else{if(v<=f)break;g=0}for(T=g;T<i&&!(v<=f);T++){var z=w[f+N];d+=(A=a[T])[(-16777216&z)>>>24],l+=A[(16711680&z)>>16],u+=A[(65280&z)>>8],c+=A[255&z],r+=o[T],f++}k[h=N+x]=d/r,P[h]=l/r,O[h]=u/r,j[h]=c/r}N+=v}for(m=(p=-n)*v,S=N=0;S<b;S++){for(x=0;x<v;x++){if(c=u=l=d=r=0,p<0)g=h=-p,f=x;else{if(b<=p)break;g=0,h=p,f=x+m}for(T=g;T<i&&!(b<=h);T++)d+=(A=a[T])[k[f]],l+=A[P[f]],u+=A[O[f]],c+=A[j[f]],r+=o[T],h++,f+=v;w[x+N]=d/r<<24|l/r<<16|u/r<<8|c/r}N+=v,m+=v,p++}s._setPixels(y,w)}};r.default=s},{"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.to-string":180,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.int32-array":215,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint8-array":232}],295:[function(e,t,r){"use strict";e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.set"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.uint32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.set"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.uint32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=o(e("../core/main")),i=o(e("omggif"));function o(e){return e&&e.__esModule?e:{default:e}}function a(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.default.prototype.createImage=function(e,t){return n.default._validateParameters("createImage",arguments),new n.default.Image(e,t)},n.default.prototype.saveCanvas=function(){n.default._validateParameters("saveCanvas",arguments);var e,t,r,i,o=[].slice.call(arguments);switch(arguments[0]instanceof HTMLCanvasElement?(e=arguments[0],o.shift()):arguments[0]instanceof n.default.Element?(e=arguments[0].elt,o.shift()):e=this._curElement&&this._curElement.elt,1<=o.length&&(t=o[0]),r=(r=2<=o.length?o[1]:r)||n.default.prototype._checkFileExtension(t,r)[1]||"png"){default:i="image/png";break;case"jpeg":case"jpg":i="image/jpeg"}e.toBlob((function(e){n.default.prototype.downloadFile(e,t,r)}),i)},n.default.prototype.encodeAndDownloadGif=function(e,t){for(var r=e.gifProperties,o=(1===(R=r.loopLimit)?R=null:null===R&&(R=0),new Uint8Array(e.width*e.height*r.numFrames)),s=[],l={},u=0;u<r.numFrames;u++){for(var c=new Set,d=r.frames[u].image.data,f=d.length,h=new Uint32Array(e.width*e.height),p=0,m=0;p<f;p+=4,m++){var g=d[p+0]<<16|d[p+1]<<8|d[p+2]<<0;c.add(g),h[m]=g}var y=a(c).sort().toString();void 0===l[y]?l[y]={freq:1,frames:[u]}:(l[y].freq+=1,l[y].frames.push(u)),s.push(h)}for(var v=[],b=Object.keys(l).sort((function(e,t){return l[t].freq-l[e].freq})),_=b[0].split(",").map((function(e){return parseInt(e)})),w=(v=v.concat(l[_].frames),new Set(_)),E=1;E<b.length;E++){var x=b[E].split(",").map((function(e){return parseInt(e)})).filter((function(e){return!w.has(e)}));if(_.length+x.length<=256){for(var S=0;S<x.length;S++)_.push(x[S]),w.add(x[S]);v=v.concat(l[b[E]].frames)}}v=new Set(v);for(var T={},A=0;A<_.length;A++)T[_[A]]||(T[_[A]]=A);for(var M=1;M<_.length;)M<<=1;_.length=M;for(var R={loop:R,palette:new Uint32Array(_)},C=new i.default.GifWriter(o,e.width,e.height,R),I={},k=0;k<r.numFrames;k++)!function(t){var n=!v.has(t),i=n?[]:_,o=new Uint8Array(e.width*e.height),a={},l=new Set,u=(s[t].forEach((function(e,r){n?(void 0===a[e]&&(a[e]=i.length,i.push(e)),o[r]=a[e]):o[r]=T[e],0<t&&s[t-1][r]!==e&&l.add(e)})),{}),c=i.filter((function(e){return!l.has(e)}));if(0<c.length){c=c[0];var d=(n?a:T)[c];if(0<t){for(var f=0;f<s[t].length;f++)s[t-1][f]===s[t][f]&&(o[f]=d);u.transparent=d,I.frameOpts.disposal=1}}if(u.delay=r.frames[t].delay/10,n){for(var h=1;h<i.length;)h<<=1;i.length=h,u.palette=new Uint32Array(i)}0<t&&C.addFrame(0,0,e.width,e.height,I.pixelPaletteIndex,I.frameOpts),I={pixelPaletteIndex:o,frameOpts:u}}(k);I.frameOpts.disposal=1,C.addFrame(0,0,e.width,e.height,I.pixelPaletteIndex,I.frameOpts),R=new Blob([o.slice(0,C.end())],{type:"image/gif"}),n.default.prototype.downloadFile(R,t,"gif")},n.default.prototype.saveFrames=function(e,t,r,i,o){n.default._validateParameters("saveFrames",arguments),r=n.default.prototype.constrain(r=r||3,0,15),r*=1e3;i=n.default.prototype.constrain(i||15,0,22);var a=0,s=n.default.prototype._makeFrame,l=this._curElement.elt,u=[],c=setInterval((function(){u.push(s(e+a,t,l)),a++}),1e3/i);setTimeout((function(){if(clearInterval(c),o)o(u);else{var e=!0,t=!1,r=void 0;try{for(var i,a=u[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var s=i.value;n.default.prototype.downloadFile(s.imageData,s.filename,s.ext)}}catch(e){t=!0,r=e}finally{try{e||null==a.return||a.return()}finally{if(t)throw r}}}u=[]}),.01+r)},n.default.prototype._makeFrame=function(e,t,r){var n;r=this?this._curElement.elt:r;if(t)switch(t.toLowerCase()){case"png":default:n="image/png";break;case"jpeg":case"jpg":n="image/jpeg"}else t="png",n="image/png";r=(r=r.toDataURL(n)).replace(n,"image/octet-stream");var i={};return i.imageData=r,i.filename=e,i.ext=t,i},e=n.default,r.default=e},{"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.from":157,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.set":187,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.replace":194,"core-js/modules/es.string.split":196,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint32-array":231,"core-js/modules/es.typed-array.uint8-array":232,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.dom-collections.iterator":236,omggif:246}],296:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return(o="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.copy-within"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.uint8-clamped-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.copy-within"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.uint8-clamped-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,e("regenerator-runtime/runtime");var a=f(e("../core/main")),s=f(e("../core/helpers")),l=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var r,n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var a;Object.prototype.hasOwnProperty.call(e,r)&&((a=i?Object.getOwnPropertyDescriptor(e,r):null)&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=e[r])}return n.default=e,t&&t.set(e,n),n}(e("../core/constants")),u=f(e("omggif")),c=e("gifenc");function d(){var e;return"function"!=typeof WeakMap?null:(e=new WeakMap,d=function(){return e},e)}function f(e){return e&&e.__esModule?e:{default:e}}function h(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function p(e,t){return 0<e&&e<t?e:t}e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),a.default.prototype.loadImage=function(e,t,r){a.default._validateParameters("loadImage",arguments);var n=new a.default.Image(1,1,this),i=this,o=new Request(e,{method:"GET",mode:"cors"});return fetch(e,o).then((function(o){var s,l=o.headers.get("content-type");null===l&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),l&&l.includes("image/gif")?o.arrayBuffer().then((function(e){if(e){e=new Uint8Array(e);for(var o=n,s=t,l=r,c=function(e){i._decrementPreload()}.bind(i),d=new u.default.GifReader(e),f=(o.width=o.canvas.width=d.width,o.height=o.canvas.height=d.height,[]),h=d.numFrames(),p=new Uint8ClampedArray(o.width*o.height*4),m=0;m<h;m++){var g=d.frameInfo(m),y=o.drawingContext.getImageData(0,0,o.width,o.height),v=(p=y.data.slice(),function(e,t){try{t.decodeAndBlitFrameRGBA(e,p)}catch(e){a.default._friendlyFileLoadError(8,o.src),"function"==typeof l?l(e):console.error(e)}}(m,d),new ImageData(p,o.width,o.height));0===(v=(o.drawingContext.putImageData(v,0,0),g.delay))&&(v=10),f.push({image:o.drawingContext.getImageData(0,0,o.width,o.height),delay:10*v}),2===g.disposal?o.drawingContext.clearRect(g.x,g.y,g.width,g.height):3===g.disposal&&o.drawingContext.putImageData(y,0,0,g.x,g.y,g.width,g.height)}null===(e=d.loopCount())?e=1:0===e&&(e=null),o.drawingContext.putImageData(f[0].image,0,0),1<f.length&&(o.gifProperties={displayIndex:0,loopLimit:e,loopCount:0,frames:f,numFrames:h,playing:!0,timeDisplayed:0,lastChangeTime:0}),"function"==typeof s&&s(o),c()}}),(function(e){"function"==typeof r?(r(e),i._decrementPreload()):console.error(e)})):((s=new Image).onload=function(){n.width=n.canvas.width=s.width,n.height=n.canvas.height=s.height,n.drawingContext.drawImage(s,0,0),n.modified=!0,"function"==typeof t&&t(n),i._decrementPreload()},s.onerror=function(e){a.default._friendlyFileLoadError(0,s.src),"function"==typeof r?(r(e),i._decrementPreload()):console.error(e)},0!==e.indexOf("data:image/")&&(s.crossOrigin="Anonymous"),s.src=e),n.modified=!0})).catch((function(t){a.default._friendlyFileLoadError(0,e),"function"==typeof r?(r(t),i._decrementPreload()):console.error(t)})),n},a.default.prototype.saveGif=function(){e=i().mark((function e(t,r){var n,o,s,l,u,d,f,h,p,m,g,y,v,b,_,w,E,x,S,T,A,M,R,C,I,k,P=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=2<P.length&&void 0!==P[2]?P[2]:{delay:0,units:"seconds",silent:!1,notificationDuration:0,notificationID:"progressBar"},"string"!=typeof t)throw TypeError("fileName parameter must be a string");e.next=3;break;case 3:if("number"!=typeof r)throw TypeError("Duration parameter must be a number");e.next=5;break;case 5:if(o=n&&n.delay||0,s=n&&n.units||"seconds",l=n&&n.silent||!1,u=n&&n.notificationDuration||0,d=n&&n.notificationID||"progressBar","number"!=typeof o)throw TypeError("Delay parameter must be a number");e.next=12;break;case 12:if("seconds"!==s&&"frames"!==s)throw TypeError('Units parameter must be either "frames" or "seconds"');e.next=14;break;case 14:if("boolean"!=typeof l)throw TypeError("Silent parameter must be a boolean");e.next=16;break;case 16:if("number"!=typeof u)throw TypeError("Notification duration parameter must be a number");e.next=18;break;case 18:if("string"!=typeof d)throw TypeError("Notification ID parameter must be a string");e.next=20;break;case 20:return this._recording=!0,m=this._targetFrameRate,f=(f=1/(m=m!==1/0&&void 0!==m&&0!==m?m:60)*1e3)<20?20:f,p=(h="seconds"===s?r*m:r)+(m="seconds"===s?o*m:o),this.frameCount=m,g=this._pixelDensity,this.pixelDensity(1),y=[],null!==document.getElementById(d)&&document.getElementById(d).remove(),l||((v=this.createP("")).id(d),v.style("font-size","16px"),v.style("font-family","Montserrat"),v.style("background-color","#ffffffa0"),v.style("padding","8px"),v.style("border-radius","10px"),v.position(0,0)),this._renderer instanceof a.default.RendererGL&&(_=this.drawingContext,b=new Uint8Array(_.drawingBufferWidth*_.drawingBufferHeight*4)),this.noLoop(),e.next=39,Promise.resolve();case 39:if(m<p)return this.redraw(),C=void 0,C=this._renderer instanceof a.default.RendererGL?(b=new Uint8Array(_.drawingBufferWidth*_.drawingBufferHeight*4),_.readPixels(0,0,_.drawingBufferWidth,_.drawingBufferHeight,_.RGBA,_.UNSIGNED_BYTE,b),function(e){for(var t=parseInt(height/2),r=4*width,n=new Uint8Array(4*width),i=0;i<t;++i){var o=i*r,a=(height-i-1)*r;n.set(e.subarray(o,o+r)),e.copyWithin(o,a,a+r),e.set(n,a)}return e}(b)):this.drawingContext.getImageData(0,0,this.width,this.height).data,y.push(C),m++,l||v.html("Saved frame <b>"+y.length.toString()+"</b> out of "+h.toString()),e.next=48,new Promise((function(e){return setTimeout(e,0)}));e.next=50;break;case 48:e.next=39;break;case 50:l||v.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(g),w=(0,c.GIFEncoder)(),E=function(e){for(var t=new Uint8Array(e.length*e[0].length),r=0;r<e.length;r++)t.set(e[r],r*e[0].length);var n=(0,c.quantize)(t,256,{format:"rgba4444",oneBitAlpha:!0});return 256===n.length?n[n.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:n.push([255*Math.random(),255*Math.random(),255*Math.random(),0]),n}(y),x={},S=function(e){for(var t=e.length/4,r=new Uint8Array(t),n=0;n<t;n++){var i=e[4*n]<<24|e[4*n+1]<<16|e[4*n+2]<<8|e[4*n+3];void 0===x[i]&&(x[i]=(0,c.nearestColorIndex)(E,e.slice(4*n,4*(n+1)))),r[n]=x[i]}return r},T=E.length-1,A=[],M=0;case 60:if(!(M<y.length)){e.next=71;break}if(R=S(y[M]),C=R.slice(),0===M)w.writeFrame(R,this.width,this.height,{palette:E,delay:f,dispose:1});else{for(I=0;I<R.length;I++)R[I]===A[I]&&(R[I]=T);w.writeFrame(R,this.width,this.height,{delay:f,transparent:!0,transparentIndex:T,dispose:1})}return A=C,l||v.html("Rendered frame <b>"+M.toString()+"</b> out of "+h.toString()),e.next=68,new Promise((function(e){return setTimeout(e,0)}));case 68:M++,e.next=60;break;case 71:w.finish(),k=w.bytesView(),k=new Blob([k],{type:"image/gif"}),y=[],this._recording=!1,this.loop(),l||(v.html("Done. Downloading your gif!\ud83c\udf38"),0<u&&setTimeout((function(){return v.remove()}),1e3*u)),a.default.prototype.downloadFile(k,t,"gif");case 80:case"end":return e.stop()}}),e,this)}));var e,t=function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){h(o,n,i,a,s,"next",e)}function s(e){h(o,n,i,a,s,"throw",e)}a(void 0)}))};return function(e,r){return t.apply(this,arguments)}}(),a.default.prototype.image=function(e,t,r,n,i,o,u,c,d,f,h,m){a.default._validateParameters("image",arguments);var g=e.width,y=e.height,v=(m=m||l.CENTER,h=h||l.CENTER,e.elt&&e.elt.videoWidth&&!e.canvas&&(g=e.elt.videoWidth,y=e.elt.videoHeight),n||g);i=i||y,o=o||0,u=u||0,c=p(c||g,g),g=p(d||y,y),d=1;e.elt&&!e.canvas&&e.elt.style.width&&(d=e.elt.videoWidth&&!n?e.elt.videoWidth:e.elt.width,d/=parseInt(e.elt.style.width,10)),o*=d,u*=d,g*=d,c*=d,y=function(e,t,r,n,i,o,a,s,u,c,d){var f,h,p,m,g,y,v,b,_;return e===l.COVER&&(f=t,p=r,v=o,b=a,y=s,_=u,h=c,m=d,v/=g=Math.max(v/h,b/m),b/=g,g=y,y=_,f===l.CENTER?g+=(h-v)/2:f===l.RIGHT&&(g+=h-v),p===l.CENTER?y+=(m-b)/2:p===l.BOTTOM&&(y+=m-b),s=(_={x:g,y:y,w:v,h:b}).x,u=_.y,c=_.w,d=_.h),e===l.CONTAIN&&(f=t,h=r,p=n,m=i,g=o,y=a,v=c,b=d,v/=_=Math.max(v/g,b/y),b/=_,_=p,p=m,f===l.CENTER?_+=(g-v)/2:f===l.RIGHT&&(_+=g-v),h===l.CENTER?p+=(y-b)/2:h===l.BOTTOM&&(p+=y-b),n=(e={x:_,y:p,w:v,h:b}).x,i=e.y,o=e.w,a=e.h),{sx:s,sy:u,sw:c,sh:d,dx:n,dy:i,dw:o,dh:a}}(f,h,m,(y=s.default.modeAdjust(t,r,v,i,this._renderer._imageMode)).x,y.y,y.w,y.h,o,u,c,g),this._renderer.image(e,y.sx,y.sy,y.sw,y.sh,y.dx,y.dy,y.dw,y.dh)},a.default.prototype.tint=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];a.default._validateParameters("tint",t);var n=this.color.apply(this,t);this._renderer._tint=n.levels},a.default.prototype.noTint=function(){this._renderer._tint=null},a.default.prototype._getTintedImageCanvas=a.default.Renderer2D.prototype._getTintedImageCanvas,a.default.prototype.imageMode=function(e){a.default._validateParameters("imageMode",arguments),e!==l.CORNER&&e!==l.CORNERS&&e!==l.CENTER||(this._renderer._imageMode=e)},e=a.default,r.default=e},{"../core/constants":262,"../core/friendly_errors/fes_core":264,"../core/friendly_errors/file_errors":265,"../core/friendly_errors/validate_params":268,"../core/helpers":269,"../core/main":273,"core-js/modules/es.array.copy-within":152,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.promise":181,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint8-array":232,"core-js/modules/es.typed-array.uint8-clamped-array":233,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236,gifenc:243,omggif:246,"regenerator-runtime/runtime":250}],297:[function(e,t,r){"use strict";e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=o(e("../core/main")),i=o(e("./filters"));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}n.default.Image=function(){function e(t,r){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.width=t,this.height=r,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]}var t,r;return t=e,(r=[{key:"_animateGif",value:function(e){var t,r=this.gifProperties;e=e._lastRealFrameTime;0===r.lastChangeTime&&(r.lastChangeTime=e),r.playing&&(r.timeDisplayed=e-r.lastChangeTime,t=r.frames[r.displayIndex].delay,r.timeDisplayed>=t&&(t=Math.floor(r.timeDisplayed/t),r.timeDisplayed=0,r.lastChangeTime=e,r.displayIndex+=t,r.loopCount=Math.floor(r.displayIndex/r.numFrames),null!==r.loopLimit&&r.loopCount>=r.loopLimit?r.playing=!1:(e=r.displayIndex%r.numFrames,this.drawingContext.putImageData(r.frames[e].image,0,0),r.displayIndex=e,this.setModified(!0))))}},{key:"_setProperty",value:function(e,t){this[e]=t,this.setModified(!0)}},{key:"loadPixels",value:function(){n.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)}},{key:"updatePixels",value:function(e,t,r,i){n.default.Renderer2D.prototype.updatePixels.call(this,e,t,r,i),this.setModified(!0)}},{key:"get",value:function(e,t,r,i){return n.default._validateParameters("p5.Image.get",arguments),n.default.Renderer2D.prototype.get.apply(this,arguments)}},{key:"_getPixel",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.default.Renderer2D.prototype._getPixel.apply(this,t)}},{key:"set",value:function(e,t,r){n.default.Renderer2D.prototype.set.call(this,e,t,r),this.setModified(!0)}},{key:"resize",value:function(e,t){0===e&&0===t?(e=this.canvas.width,t=this.canvas.height):0===e?e=this.canvas.width*t/this.canvas.height:0===t&&(t=this.canvas.height*e/this.canvas.width),e=Math.floor(e),t=Math.floor(t);var r=document.createElement("canvas");if(r.width=e,r.height=t,this.gifProperties)for(var n=this.gifProperties,i=0;i<n.numFrames;i++){for(var o=this.drawingContext.createImageData(e,t),a=(d=d=c=u=l=void 0,n.frames[i].image),s=o,l=0,u=0;u<s.height;u++)for(var c=0;c<s.width;c++){var d=Math.floor(c*a.width/s.width);d=4*(Math.floor(u*a.height/s.height)*a.width+d);s.data[l++]=a.data[d++],s.data[l++]=a.data[d++],s.data[l++]=a.data[d++],s.data[l++]=a.data[+d]}n.frames[i].image=o}r.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,r.width,r.height),this.canvas.width=this.width=e,this.canvas.height=this.height=t,this.drawingContext.drawImage(r,0,0,e,t,0,0,e,t),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)}},{key:"copy",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n.default.prototype.copy.apply(this,t)}},{key:"mask",value:function(e){var t=this.drawingContext.globalCompositeOperation,r=1,i=[e=void 0===e?this:e,0,0,(r=e instanceof n.default.Renderer?e._pInst._pixelDensity:r)*e.width,r*e.height,0,0,this.width,this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(var o=0;o<this.gifProperties.frames.length;o++)this.drawingContext.putImageData(this.gifProperties.frames[o].image,0,0),this.copy.apply(this,i),this.gifProperties.frames[o].image=this.drawingContext.getImageData(0,0,this.width,this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else this.copy.apply(this,i);this.drawingContext.globalCompositeOperation=t,this.setModified(!0)}},{key:"filter",value:function(e,t){i.default.apply(this.canvas,i.default[e],t),this.setModified(!0)}},{key:"blend",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n.default._validateParameters("p5.Image.blend",arguments),n.default.prototype.blend.apply(this,t),this.setModified(!0)}},{key:"setModified",value:function(e){this._modified=e}},{key:"isModified",value:function(){return this._modified}},{key:"save",value:function(e,t){this.gifProperties?n.default.prototype.encodeAndDownloadGif(this,e):n.default.prototype.saveCanvas(this.canvas,e,t)}},{key:"reset",value:function(){var e;this.gifProperties&&((e=this.gifProperties).playing=!0,e.timeSinceStart=0,e.timeDisplayed=0,e.lastChangeTime=0,e.loopCount=0,e.displayIndex=0,this.drawingContext.putImageData(e.frames[0].image,0,0))}},{key:"getCurrentFrame",value:function(){var e;if(this.gifProperties)return(e=this.gifProperties).displayIndex%e.numFrames}},{key:"setFrame",value:function(e){var t;this.gifProperties&&(e<(t=this.gifProperties).numFrames&&0<=e?(t.timeDisplayed=0,t.lastChangeTime=0,t.displayIndex=e,this.drawingContext.putImageData(t.frames[e].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero."))}},{key:"numFrames",value:function(){if(this.gifProperties)return this.gifProperties.numFrames}},{key:"play",value:function(){this.gifProperties&&(this.gifProperties.playing=!0)}},{key:"pause",value:function(){this.gifProperties&&(this.gifProperties.playing=!1)}},{key:"delay",value:function(e,t){if(this.gifProperties){var r=this.gifProperties;if(t<r.numFrames&&0<=t)r.frames[t].delay=e;else{var n=!0,i=(t=!1,void 0);try{for(var o,a=r.frames[Symbol.iterator]();!(n=(o=a.next()).done);n=!0)o.value.delay=e}catch(e){t=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(t)throw i}}}}}}])&&a(t.prototype,r),e}(),e=n.default.Image,r.default=e},{"../core/main":273,"./filters":294,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],298:[function(e,t,r){"use strict";e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.filter"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=o(e("../core/main")),i=o(e("./filters"));function o(e){return e&&e.__esModule?e:{default:e}}e("../color/p5.Color"),n.default.prototype.pixels=[],n.default.prototype.blend=function(){for(var e,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];n.default._validateParameters("blend",r),this._renderer?(e=this._renderer).blend.apply(e,r):n.default.Renderer2D.prototype.blend.apply(this,r)},n.default.prototype.copy=function(){for(var e,t,r,i,o,a,s,l,u,c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];if(n.default._validateParameters("copy",d),9===d.length)e=d[0],t=d[1],r=d[2],i=d[3],o=d[4],a=d[5],s=d[6],l=d[7],u=d[8];else{if(8!==d.length)throw new Error("Signature not supported");e=this,t=d[0],r=d[1],i=d[2],o=d[3],a=d[4],s=d[5],l=d[6],u=d[7]}n.default.prototype._copyHelper(this,e,t,r,i,o,a,s,l,u)},n.default.prototype._copyHelper=function(e,t,r,i,o,a,s,l,u,c){t.loadPixels();var d=t.canvas.width/t.width,f=0,h=0;t._renderer&&t._renderer.isP3D&&(f=t.width/2,h=t.height/2),e._renderer&&e._renderer.isP3D?n.default.RendererGL.prototype.image.call(e._renderer,t,r+f,i+h,o,a,s,l,u,c):e.drawingContext.drawImage(t.canvas,d*(r+f),d*(i+h),d*o,d*a,s,l,u,c)},n.default.prototype.filter=function(e,t){n.default._validateParameters("filter",arguments),void 0!==this.canvas?i.default.apply(this.canvas,i.default[e],t):i.default.apply(this.elt,i.default[e],t)},n.default.prototype.get=function(e,t,r,i){var o;return n.default._validateParameters("get",arguments),(o=this._renderer).get.apply(o,arguments)},n.default.prototype.loadPixels=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n.default._validateParameters("loadPixels",t),this._renderer.loadPixels()},n.default.prototype.set=function(e,t,r){this._renderer.set(e,t,r)},n.default.prototype.updatePixels=function(e,t,r,i){n.default._validateParameters("updatePixels",arguments),0!==this.pixels.length&&this._renderer.updatePixels(e,t,r,i)},e=n.default,r.default=e},{"../color/p5.Color":260,"../core/main":273,"./filters":294,"core-js/modules/es.array.filter":155}],299:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.last-index-of"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.from-entries"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/web.url"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.last-index-of"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.from-entries"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/web.url"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=s(e("../core/main")),o=(e("whatwg-fetch"),e("es6-promise/auto"),s(e("fetch-jsonp"))),a=s(e("file-saver"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){return(l="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}function u(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function c(e,t){t&&!0!==t&&"true"!==t||(t="");var r="";return(e=e||"untitled")&&e.includes(".")&&(r=e.split(".").pop()),t&&r!==t&&(r=t,e="".concat(e,".").concat(r)),[e,r]}e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),i.default.prototype.loadJSON=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];i.default._validateParameters("loadJSON",t);for(var n,o,a,s=t[0],u={},c="json",d=1;d<t.length;d++){var f=t[d];"string"==typeof f?"jsonp"!==f&&"json"!==f||(c=f):"function"==typeof f?n?o=f:n=f:"object"===l(f)&&(f.hasOwnProperty("jsonpCallback")||f.hasOwnProperty("jsonpCallbackFunction"))&&(c="jsonp",a=f)}var h=this;return this.httpDo(s,"GET",a,c,(function(e){for(var t in e)u[t]=e[t];void 0!==n&&n(e),h._decrementPreload()}),(function(e){if(i.default._friendlyFileLoadError(5,s),!o)throw e;o(e)})),u},i.default.prototype.loadStrings=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];i.default._validateParameters("loadStrings",t);for(var n,o,a=[],s=1;s<t.length;s++){var l=t[s];"function"==typeof l&&(void 0===n?n=l:void 0===o&&(o=l))}var u=this;return i.default.prototype.httpDo.call(this,t[0],"GET","text",(function(e){for(var t=e.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),r=0,i=t.length;r<i;r+=32768)Array.prototype.push.apply(a,t.slice(r,Math.min(r+32768,i)));void 0!==n&&n(a),u._decrementPreload()}),(function(e){if(i.default._friendlyFileLoadError(3,e),!o)throw e;o(e)})),a},i.default.prototype.loadTable=function(e){var t,r,n,o=[],a=!1,s=e.substring(e.lastIndexOf(".")+1,e.length);"csv"===s?n=",":"ssv"===s?n=";":"tsv"===s&&(n="\t");for(var l=1;l<arguments.length;l++)"function"==typeof arguments[l]?void 0===t?t=arguments[l]:void 0===r&&(r=arguments[l]):"string"==typeof arguments[l]&&(o.push(arguments[l]),"header"===arguments[l]&&(a=!0),"csv"===arguments[l]?n=",":"ssv"===arguments[l]?n=";":"tsv"===arguments[l]&&(n="\t"));var u=new i.default.Table,c=this;return this.httpDo(e,"GET","table",(function(e){for(var r,o,s={},l=[],d=0,f=null,h=function(){s.currentState=0,s.token=""},p=function(){f.push(s.token),h()},m=function(){s.currentState=4,l.push(f),f=null};;){if(null==(r=e[d++])){if(s.escaped)throw new Error("Unclosed quote in file.");if(f){p(),m();break}}if(null===f&&(s.escaped=!1,f=[],h()),0===s.currentState){if('"'===r){s.escaped=!0,s.currentState=1;continue}s.currentState=1}if(1===s.currentState&&s.escaped)if('"'===r)'"'===e[d]?(s.token+='"',d++):(s.escaped=!1,s.currentState=2);else{if("\r"===r)continue;s.token+=r}else"\r"===r?("\n"===e[d]&&d++,p(),m()):"\n"===r?(p(),m()):r===n?p():1===s.currentState&&(s.token+=r)}if(a)u.columns=l.shift();else for(var g=0;g<l[0].length;g++)u.columns[g]="null";for(var y=0;y<l.length;y++)(1!==l[y].length||"undefined"!==l[y][0]&&""!==l[y][0])&&((o=new i.default.TableRow).arr=l[y],o.obj=function(e,t){if(void 0===(t=t||[]))for(var r=0;r<e.length;r++)t[r.toString()]=r;return Object.fromEntries(t.map((function(t,r){return[t,e[r]]})))}(l[y],u.columns),u.addRow(o));"function"==typeof t&&t(u),c._decrementPreload()}),(function(t){i.default._friendlyFileLoadError(2,e),r?r(t):console.error(t)})),u},i.default.prototype.loadXML=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n,o,a=new i.default.XML,s=1;s<t.length;s++){var l=t[s];"function"==typeof l&&(void 0===n?n=l:void 0===o&&(o=l))}var u=this;return this.httpDo(t[0],"GET","xml",(function(e){for(var t in e)a[t]=e[t];void 0!==n&&n(a),u._decrementPreload()}),(function(e){if(i.default._friendlyFileLoadError(1,e),!o)throw e;o(e)})),a},i.default.prototype.loadBytes=function(e,t,r){var n={},o=this;return this.httpDo(e,"GET","arrayBuffer",(function(e){n.bytes=new Uint8Array(e),"function"==typeof t&&t(n),o._decrementPreload()}),(function(t){if(i.default._friendlyFileLoadError(6,e),!r)throw t;r(t)})),n},i.default.prototype.httpGet=function(){i.default._validateParameters("httpGet",arguments);var e=Array.prototype.slice.call(arguments);return e.splice(1,0,"GET"),i.default.prototype.httpDo.apply(this,e)},i.default.prototype.httpPost=function(){i.default._validateParameters("httpPost",arguments);var e=Array.prototype.slice.call(arguments);return e.splice(1,0,"POST"),i.default.prototype.httpDo.apply(this,e)},i.default.prototype.httpDo=function(){for(var e,t,r,n={},a=0,s="text/plain",u=arguments.length-1;0<u&&"function"==typeof(u<0||arguments.length<=u?void 0:arguments[u]);u--)a++;var c=arguments.length<=0?void 0:arguments[0];if(2==(g=arguments.length-a)&&"string"==typeof c&&"object"===l(arguments.length<=1?void 0:arguments[1]))y=new Request(c,arguments.length<=1?void 0:arguments[1]),t=arguments.length<=2?void 0:arguments[2],r=arguments.length<=3?void 0:arguments[3];else{for(var d,f="GET",h=1;h<arguments.length;h++){var p=h<0||arguments.length<=h?void 0:arguments[h];if("string"==typeof p)"GET"===p||"POST"===p||"PUT"===p||"DELETE"===p?f=p:"json"===p||"jsonp"===p||"binary"===p||"arrayBuffer"===p||"xml"===p||"text"===p||"table"===p?e=p:d=p;else if("number"==typeof p)d=p.toString();else if("object"===l(p))if(p.hasOwnProperty("jsonpCallback")||p.hasOwnProperty("jsonpCallbackFunction"))for(var m in p)n[m]=p[m];else s=p instanceof i.default.XML?(d=p.serialize(),"application/xml"):(d=JSON.stringify(p),"application/json");else"function"==typeof p&&(t?r=p:t=p)}var g="GET"===f?new Headers:new Headers({"Content-Type":s}),y=new Request(c,{method:f,mode:"cors",body:d,headers:g})}return(g=(g="jsonp"===(e=e||(c.includes("json")?"json":c.includes("xml")?"xml":"text"))?(0,o.default)(c,n):fetch(y)).then((function(t){if(!t.ok)throw(r=new Error(t.body)).status=t.status,r.ok=!1,r;var r=0;switch((r="jsonp"!==e?t.headers.get("content-length"):r)&&64e6<r&&i.default._friendlyFileLoadError(7,c),e){case"json":case"jsonp":return t.json();case"binary":return t.blob();case"arrayBuffer":return t.arrayBuffer();case"xml":return t.text().then((function(e){return e=(new DOMParser).parseFromString(e,"text/xml"),new i.default.XML(e.documentElement)}));default:return t.text()}}))).then(t||function(){}),g.catch(r||console.error),g},window.URL=window.URL||window.webkitURL,i.default.prototype._pWriters=[],i.default.prototype.createWriter=function(e,t){var r,n;for(n in i.default.prototype._pWriters)if(i.default.prototype._pWriters[n].name===e)return r=new i.default.PrintWriter(e+this.millis(),t),i.default.prototype._pWriters.push(r),r;return r=new i.default.PrintWriter(e,t),i.default.prototype._pWriters.push(r),r},i.default.PrintWriter=function(e,t){var r=this;this.name=e,this.content="",this.write=function(e){this.content+=e},this.print=function(e){this.content+="".concat(e,"\n")},this.clear=function(){this.content=""},this.close=function(){var n,o=[];for(n in o.push(this.content),i.default.prototype.writeFile(o,e,t),i.default.prototype._pWriters)i.default.prototype._pWriters[n].name===this.name&&i.default.prototype._pWriters.splice(n,1);r.clear(),r={}}},i.default.prototype.save=function(e,t,r){var n=arguments,o=(this._curElement||this).elt;if(0===n.length)i.default.prototype.saveCanvas(o);else if(n[0]instanceof i.default.Renderer||n[0]instanceof i.default.Graphics)i.default.prototype.saveCanvas(n[0].elt,n[1],n[2]);else if(1===n.length&&"string"==typeof n[0])i.default.prototype.saveCanvas(o,n[0]);else switch(c(n[1],n[2])[1]){case"json":return void i.default.prototype.saveJSON(n[0],n[1],n[2]);case"txt":return void i.default.prototype.saveStrings(n[0],n[1],n[2]);default:n[0]instanceof Array?i.default.prototype.saveStrings(n[0],n[1],n[2]):n[0]instanceof i.default.Table?i.default.prototype.saveTable(n[0],n[1],n[2]):n[0]instanceof i.default.Image?i.default.prototype.saveCanvas(n[0].canvas,n[1]):n[0]instanceof i.default.SoundFile&&i.default.prototype.saveSound(n[0],n[1],n[2],n[3])}},i.default.prototype.saveJSON=function(e,t,r){i.default._validateParameters("saveJSON",arguments),r=r?JSON.stringify(e):JSON.stringify(e,void 0,2),this.saveStrings(r.split("\n"),t,"json")},i.default.prototype.saveJSONObject=i.default.prototype.saveJSON,i.default.prototype.saveJSONArray=i.default.prototype.saveJSON,i.default.prototype.saveStrings=function(e,t,r,n){i.default._validateParameters("saveStrings",arguments);for(var o=this.createWriter(t,r||"txt"),a=0;a<e.length;a++)n?o.write(e[a]+"\r\n"):o.write(e[a]+"\n");o.close(),o.clear()},i.default.prototype.saveTable=function(e,t,r){i.default._validateParameters("saveTable",arguments),n=void 0===r?t.substring(t.lastIndexOf(".")+1,t.length):r;var n,o=this.createWriter(t,n),a=e.columns,s="tsv"===n?"\t":",";if("html"!==n){if("0"!==a[0]){for(var l=0;l<a.length;l++)l<a.length-1?o.write(a[l]+s):o.write(a[l]);o.write("\n")}for(var c=0;c<e.rows.length;c++){var d=void 0;for(d=0;d<e.rows[c].arr.length;d++)d<e.rows[c].arr.length-1?"csv"===n&&String(e.rows[c].arr[d]).includes(",")?o.write('"'+e.rows[c].arr[d]+'"'+s):o.write(e.rows[c].arr[d]+s):"csv"===n&&String(e.rows[c].arr[d]).includes(",")?o.write('"'+e.rows[c].arr[d]+'"'):o.write(e.rows[c].arr[d]);o.write("\n")}}else{if(o.print("<html>"),o.print("<head>"),o.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),o.print("</head>"),o.print("<body>"),o.print("  <table>"),"0"!==a[0]){o.print("    <tr>");for(var f=0;f<a.length;f++){var h=u(a[f]);o.print("      <td>".concat(h)),o.print("      </td>")}o.print("    </tr>")}for(var p=0;p<e.rows.length;p++){o.print("    <tr>");for(var m=0;m<e.columns.length;m++){var g=u(e.rows[p].getString(m));o.print("      <td>".concat(g)),o.print("      </td>")}o.print("    </tr>")}o.print("  </table>"),o.print("</body>"),o.print("</html>")}o.close(),o.clear()},i.default.prototype.writeFile=function(e,t,r){var n="application/octet-stream";i.default.prototype._isSafari()&&(n="text/plain"),e=new Blob(e,{type:n});i.default.prototype.downloadFile(e,t,r)},i.default.prototype.downloadFile=function(e,t,r){var n;r=(t=c(t,r))[0];e instanceof Blob?a.default.saveAs(e,r):((n=document.createElement("a")).href=e,n.download=r,n.onclick=function(e){document.body.removeChild(e.target),e.stopPropagation()},n.style.display="none",document.body.appendChild(n),i.default.prototype._isSafari()&&(e=(e='Hello, Safari user! To download this file...\n1. Go to File --\x3e Save As.\n2. Choose "Page Source" as the Format.\n')+'3. Name it with this extension: ."'.concat(t[1],'"'),alert(e)),n.click())},i.default.prototype._checkFileExtension=c,i.default.prototype._isSafari=function(){return 0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")},e=i.default,r.default=e},{"../core/friendly_errors/fes_core":264,"../core/friendly_errors/file_errors":265,"../core/friendly_errors/validate_params":268,"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.last-index-of":162,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.splice":166,"core-js/modules/es.function.name":167,"core-js/modules/es.object.from-entries":175,"core-js/modules/es.object.to-string":180,"core-js/modules/es.promise":181,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.replace":194,"core-js/modules/es.string.split":196,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint8-array":232,"core-js/modules/web.dom-collections.iterator":236,"core-js/modules/web.url":238,"es6-promise/auto":239,"fetch-jsonp":241,"file-saver":242,"whatwg-fetch":251}],300:[function(e,t,r){"use strict";e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=(e=e("../core/main"))&&e.__esModule?e:{default:e};function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}n.default.Table=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.columns=[],this.rows=[]}var t,r;return t=e,(r=[{key:"addRow",value:function(e){if(void 0===(e=e||new n.default.TableRow).arr||void 0===e.obj)throw new Error("invalid TableRow: ".concat(e));return(e.table=this).rows.push(e),e}},{key:"removeRow",value:function(e){this.rows[e].table=null,e=this.rows.splice(e+1,this.rows.length),this.rows.pop(),this.rows=this.rows.concat(e)}},{key:"getRow",value:function(e){return this.rows[e]}},{key:"getRows",value:function(){return this.rows}},{key:"findRow",value:function(e,t){if("string"==typeof t){for(var r=0;r<this.rows.length;r++)if(this.rows[r].obj[t]===e)return this.rows[r]}else for(var n=0;n<this.rows.length;n++)if(this.rows[n].arr[t]===e)return this.rows[n];return null}},{key:"findRows",value:function(e,t){var r=[];if("string"==typeof t)for(var n=0;n<this.rows.length;n++)this.rows[n].obj[t]===e&&r.push(this.rows[n]);else for(var i=0;i<this.rows.length;i++)this.rows[i].arr[t]===e&&r.push(this.rows[i]);return r}},{key:"matchRow",value:function(e,t){if("number"==typeof t){for(var r=0;r<this.rows.length;r++)if(this.rows[r].arr[t].match(e))return this.rows[r]}else for(var n=0;n<this.rows.length;n++)if(this.rows[n].obj[t].match(e))return this.rows[n];return null}},{key:"matchRows",value:function(e,t){var r=[];if("number"==typeof t)for(var n=0;n<this.rows.length;n++)this.rows[n].arr[t].match(e)&&r.push(this.rows[n]);else for(var i=0;i<this.rows.length;i++)this.rows[i].obj[t].match(e)&&r.push(this.rows[i]);return r}},{key:"getColumn",value:function(e){var t=[];if("string"==typeof e)for(var r=0;r<this.rows.length;r++)t.push(this.rows[r].obj[e]);else for(var n=0;n<this.rows.length;n++)t.push(this.rows[n].arr[e]);return t}},{key:"clearRows",value:function(){delete this.rows,this.rows=[]}},{key:"addColumn",value:function(e){this.columns.push(e||null)}},{key:"getColumnCount",value:function(){return this.columns.length}},{key:"getRowCount",value:function(){return this.rows.length}},{key:"removeTokens",value:function(e,t){for(var r=[],n=0;n<e.length;n++)r.push(e.charAt(n).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var i=new RegExp(r.join("|"),"g");if(void 0===t)for(var o=0;o<this.columns.length;o++)for(var a=0;a<this.rows.length;a++){var s=(s=this.rows[a].arr[o]).replace(i,"");this.rows[a].arr[o]=s,this.rows[a].obj[this.columns[o]]=s}else if("string"==typeof t)for(var l=0;l<this.rows.length;l++){var u=(u=this.rows[l].obj[t]).replace(i,""),c=(this.rows[l].obj[t]=u,this.columns.indexOf(t));this.rows[l].arr[c]=u}else for(var d=0;d<this.rows.length;d++){var f=(f=this.rows[d].arr[t]).replace(i,"");this.rows[d].arr[t]=f,this.rows[d].obj[this.columns[t]]=f}}},{key:"trim",value:function(e){var t=new RegExp(" ","g");if(void 0===e)for(var r=0;r<this.columns.length;r++)for(var n=0;n<this.rows.length;n++){var i=(i=this.rows[n].arr[r]).replace(t,"");this.rows[n].arr[r]=i,this.rows[n].obj[this.columns[r]]=i}else if("string"==typeof e)for(var o=0;o<this.rows.length;o++){var a=(a=this.rows[o].obj[e]).replace(t,""),s=(this.rows[o].obj[e]=a,this.columns.indexOf(e));this.rows[o].arr[s]=a}else for(var l=0;l<this.rows.length;l++){var u=(u=this.rows[l].arr[e]).replace(t,"");this.rows[l].arr[e]=u,this.rows[l].obj[this.columns[e]]=u}}},{key:"removeColumn",value:function(e){"string"==typeof e?r=this.columns.indexOf(t=e):t=this.columns[r=e];var t,r;e=this.columns.splice(r+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(e);for(var n=0;n<this.rows.length;n++){var i=this.rows[n].arr,o=i.splice(r+1,i.length);i.pop(),this.rows[n].arr=i.concat(o),delete this.rows[n].obj[t]}}},{key:"set",value:function(e,t,r){this.rows[e].set(t,r)}},{key:"setNum",value:function(e,t,r){this.rows[e].setNum(t,r)}},{key:"setString",value:function(e,t,r){this.rows[e].setString(t,r)}},{key:"get",value:function(e,t){return this.rows[e].get(t)}},{key:"getNum",value:function(e,t){return this.rows[e].getNum(t)}},{key:"getString",value:function(e,t){return this.rows[e].getString(t)}},{key:"getObject",value:function(e){for(var t,r={},n=0;n<this.rows.length;n++)if(t=this.rows[n].obj,"string"==typeof e){if(!(0<=this.columns.indexOf(e)))throw new Error('This table has no column named "'.concat(e,'"'));r[t[e]]=t}else r[n]=this.rows[n].obj;return r}},{key:"getArray",value:function(){for(var e=[],t=0;t<this.rows.length;t++)e.push(this.rows[t].arr);return e}}])&&i(t.prototype,r),e}(),e=n.default,r.default=e},{"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.join":161,"core-js/modules/es.array.splice":166,"core-js/modules/es.regexp.constructor":184,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.match":191,"core-js/modules/es.string.replace":194}],301:[function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.from-entries"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.from-entries"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,(e=(e=e("../core/main"))&&e.__esModule?e:{default:e}).default.TableRow=function(){function e(t,r){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");var n=[];t&&(n=t.split(r=r||",")),this.arr=n,this.obj=Object.fromEntries(n.entries()),this.table=null}var t,r;return t=e,(r=[{key:"set",value:function(e,t){if("string"==typeof e){var r=this.table.columns.indexOf(e);if(!(0<=r))throw new Error('This table has no column named "'.concat(e,'"'));this.obj[e]=t,this.arr[r]=t}else{if(!(e<this.table.columns.length))throw new Error("Column #".concat(e," is out of the range of this table"));this.arr[e]=t,r=this.table.columns[e],this.obj[r]=t}}},{key:"setNum",value:function(e,t){t=parseFloat(t),this.set(e,t)}},{key:"setString",value:function(e,t){t=t.toString(),this.set(e,t)}},{key:"get",value:function(e){return("string"==typeof e?this.obj:this.arr)[e]}},{key:"getNum",value:function(e){var t="string"==typeof e?parseFloat(this.obj[e]):parseFloat(this.arr[e]);if("NaN"===t.toString())throw"Error: ".concat(this.obj[e]," is NaN (Not a Number)");return t}},{key:"getString",value:function(e){return("string"==typeof e?this.obj:this.arr)[e].toString()}}])&&n(t.prototype,r),e}(),e=e.default,r.default=e},{"../core/main":273,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.from-entries":175,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.split":196,"core-js/modules/web.dom-collections.iterator":236}],302:[function(e,t,r){"use strict";e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=(e=e("../core/main"))&&e.__esModule?e:{default:e};function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}n.default.XML=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");t?this.DOM=t:(t=document.implementation.createDocument(null,"doc"),this.DOM=t.createElement("root"))}var t,r;return t=e,(r=[{key:"getParent",value:function(){return new n.default.XML(this.DOM.parentElement)}},{key:"getName",value:function(){return this.DOM.tagName}},{key:"setName",value:function(e){var t=this.DOM.innerHTML,r=this.DOM.attributes,n=document.implementation.createDocument(null,"default").createElement(e);n.innerHTML=t;for(var i=0;i<r.length;i++)n.setAttribute(r[i].nodeName,r.nodeValue);this.DOM=n}},{key:"hasChildren",value:function(){return 0<this.DOM.children.length}},{key:"listChildren",value:function(){for(var e=[],t=0;t<this.DOM.childNodes.length;t++)e.push(this.DOM.childNodes[t].nodeName);return e}},{key:"getChildren",value:function(e){return function(e){for(var t=[],r=0;r<e.length;r++)t.push(new n.default.XML(e[r]));return t}(e?this.DOM.getElementsByTagName(e):this.DOM.children)}},{key:"getChild",value:function(e){if("string"!=typeof e)return new n.default.XML(this.DOM.children[e]);var t=!0,r=!1,i=void 0;try{for(var o,a=this.DOM.children[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var s=o.value;if(s.tagName===e)return new n.default.XML(s)}}catch(e){r=!0,i=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw i}}}},{key:"addChild",value:function(e){e instanceof n.default.XML&&this.DOM.appendChild(e.DOM)}},{key:"removeChild",value:function(e){var t=-1;if("string"==typeof e){for(var r=0;r<this.DOM.children.length;r++)if(this.DOM.children[r].tagName===e){t=r;break}}else t=e;-1!==t&&this.DOM.removeChild(this.DOM.children[t])}},{key:"getAttributeCount",value:function(){return this.DOM.attributes.length}},{key:"listAttributes",value:function(){var e=[],t=!0,r=!1,n=void 0;try{for(var i,o=this.DOM.attributes[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;e.push(a.nodeName)}}catch(e){r=!0,n=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw n}}return e}},{key:"hasAttribute",value:function(e){var t={},r=!0,n=!1,i=void 0;try{for(var o,a=this.DOM.attributes[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var s=o.value;t[s.nodeName]=s.nodeValue}}catch(e){n=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw i}}return!!t[e]}},{key:"getNum",value:function(e,t){var r={},n=!0,i=!1,o=void 0;try{for(var a,s=this.DOM.attributes[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value;r[l.nodeName]=l.nodeValue}}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return Number(r[e])||t||0}},{key:"getString",value:function(e,t){var r={},n=!0,i=!1,o=void 0;try{for(var a,s=this.DOM.attributes[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value;r[l.nodeName]=l.nodeValue}}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r[e]?String(r[e]):t||null}},{key:"setAttribute",value:function(e,t){this.DOM.setAttribute(e,t)}},{key:"getContent",value:function(e){var t=this.DOM.textContent;return(t=t.replace(/\s\s+/g,","))||e||null}},{key:"setContent",value:function(e){this.DOM.children.length||(this.DOM.textContent=e)}},{key:"serialize",value:function(){return(new XMLSerializer).serializeToString(this.DOM)}}])&&i(t.prototype,r),e}(),e=n.default,r.default=e},{"../core/main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.number.constructor":171,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.replace":194,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],303:[function(e,t,r){"use strict";e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.math.hypot"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.math.hypot"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=(e=e("../core/main"))&&e.__esModule?e:{default:e};function i(){if("function"==typeof Math.hypot)return Math.hypot.apply(null,arguments);for(var e=arguments.length,t=[],r=0,n=0;n<e;n++){var i=arguments[n];if((i=+i)===1/0||i===-1/0)return 1/0;r<(i=Math.abs(i))&&(r=i),t[n]=i}0===r&&(r=1);for(var o=0,a=0,s=0;s<e;s++){var l,u=o+(l=(l=t[s]/r)*l-a);a=u-o-l,o=u}return Math.sqrt(o)*r}n.default.prototype.abs=Math.abs,n.default.prototype.ceil=Math.ceil,n.default.prototype.constrain=function(e,t,r){return n.default._validateParameters("constrain",arguments),Math.max(Math.min(e,r),t)},n.default.prototype.dist=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.default._validateParameters("dist",t),4===t.length?i(t[2]-t[0],t[3]-t[1]):6===t.length?i(t[3]-t[0],t[4]-t[1],t[5]-t[2]):void 0},n.default.prototype.exp=Math.exp,n.default.prototype.floor=Math.floor,n.default.prototype.lerp=function(e,t,r){return n.default._validateParameters("lerp",arguments),r*(t-e)+e},n.default.prototype.log=Math.log,n.default.prototype.mag=function(e,t){return n.default._validateParameters("mag",arguments),i(e,t)},n.default.prototype.map=function(e,t,r,i,o,a){return n.default._validateParameters("map",arguments),e=(e-t)/(r-t)*(o-i)+i,a?i<o?this.constrain(e,i,o):this.constrain(e,o,i):e},n.default.prototype.max=function(){for(var e=function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t=-1/0,r=!0,n=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var s=o.value;t=t<s?s:t}}catch(e){n=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw i}}return t})),t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r[0]instanceof Array?e(r[0]):e(r)},n.default.prototype.min=function(){for(var e=function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t=1/0,r=!0,n=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var s=o.value;t=s<t?s:t}}catch(e){n=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw i}}return t})),t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r[0]instanceof Array?e(r[0]):e(r)},n.default.prototype.norm=function(e,t,r){return n.default._validateParameters("norm",arguments),this.map(e,t,r,0,1)},n.default.prototype.pow=Math.pow,n.default.prototype.round=function(e,t){return t?(t=Math.pow(10,t),Math.round(e*t)/t):Math.round(e)},n.default.prototype.sq=function(e){return e*e},n.default.prototype.sqrt=Math.sqrt,n.default.prototype.fract=function(e){n.default._validateParameters("fract",arguments);var t,r=0;e=Number(e);return isNaN(e)||Math.abs(e)===1/0?e:(e<0&&(e=-e,r=1),String(e).includes(".")&&!String(e).includes("e")?(t=String(e),t=Number("0"+t.slice(t.indexOf("."))),Math.abs(r-t)):e<1?Math.abs(r-e):0)},e=n.default,r.default=e},{"../core/main":273,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.math.hypot":169,"core-js/modules/es.number.constructor":171,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],304:[function(e,t,r){"use strict";e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.reflect.construct"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.reflect.construct"),e("core-js/modules/es.regexp.to-string"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=(e=e("../core/main"))&&e.__esModule?e:{default:e};function i(e,t,r){return(i=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),1}catch(e){}}}()?Reflect.construct:function(e,t,r){var n=[null];return n.push.apply(n,t),t=new(Function.bind.apply(e,n)),r&&o(t,r.prototype),t}).apply(null,arguments)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.default.prototype.createVector=function(e,t,r){return this instanceof n.default?i(n.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new n.default.Vector(e,t,r)},e=n.default,r.default=e},{"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.regexp.to-string":186}],305:[function(e,t,r){"use strict";function n(e){return.5*(1-Math.cos(e*Math.PI))}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,e=(e=e("../core/main"))&&e.__esModule?e:{default:e};var i,o=4095,a=4,s=.5;e.default.prototype.noise=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(null==i){i=new Array(4096);for(var l=0;l<4096;l++)i[l]=Math.random()}e<0&&(e=-e),t<0&&(t=-t),r<0&&(r=-r);for(var u,c,d=Math.floor(e),f=Math.floor(t),h=Math.floor(r),p=e-d,m=t-f,g=r-h,y=0,v=.5,b=0;b<a;b++){var _=d+(f<<4)+(h<<8),w=n(p),E=n(m),x=i[_&o];x+=w*(i[_+1&o]-x),u=i[_+16&o],x+=E*((u+=w*(i[_+16+1&o]-u))-x),u=i[(_+=256)&o],u+=w*(i[_+1&o]-u),c=i[_+16&o],u+=E*((c+=w*(i[_+16+1&o]-c))-u),y+=(x+=n(g)*(u-x))*v,v*=s,d<<=1,f<<=1,h<<=1,1<=(p*=2)&&(d++,p--),1<=(m*=2)&&(f++,m--),1<=(g*=2)&&(h++,g--)}return y},e.default.prototype.noiseDetail=function(e,t){0<e&&(a=e),0<t&&(s=t)},e.default.prototype.noiseSeed=function(e){r=4294967296;var t,r,n=function(e){t=(null==e?Math.random()*r:e)>>>0},o=function(){return(t=(1664525*t+1013904223)%r)/r};n(e),i=new Array(4096);for(var a=0;a<4096;a++)i[a]=o()},e=e.default;r.default=e},{"../core/main":273}],306:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.every"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.some"),e("core-js/modules/es.math.sign"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.number.is-finite"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.sub"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.every"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.some"),e("core-js/modules/es.math.sign"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.number.is-finite"),e("core-js/modules/es.string.sub"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=(d=e("../core/main"))&&d.__esModule?d:{default:d},a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var a;Object.prototype.hasOwnProperty.call(e,r)&&((a=o?Object.getOwnPropertyDescriptor(e,r):null)&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=e[r])}return n.default=e,t&&t.set(e,n),n}(e("../core/constants"));function s(){var e;return"function"!=typeof WeakMap?null:(e=new WeakMap,s=function(){return e},e)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t){return 0!==e&&(this.x=this.x%e),0!==t&&(this.y=this.y%t),this}function c(e,t,r){return 0!==e&&(this.x=this.x%e),0!==t&&(this.y=this.y%t),0!==r&&(this.z=this.z%r),this}o.default.Vector=function(){function e(){if(!((n=this)instanceof e))throw new TypeError("Cannot call a class as a function");var t,r,n="function"==typeof(arguments.length<=0?void 0:arguments[0])?(this.isPInst=!0,this._fromRadians=arguments.length<=0?void 0:arguments[0],this._toRadians=arguments.length<=1?void 0:arguments[1],t=(arguments.length<=2?void 0:arguments[2])||0,r=(arguments.length<=3?void 0:arguments[3])||0,(arguments.length<=4?void 0:arguments[4])||0):(t=(arguments.length<=0?void 0:arguments[0])||0,r=(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0);this.x=t,this.y=r,this.z=n}var t,r,n;return t=e,n=[{key:"fromAngle",value:function(e,t){return new o.default.Vector((t=void 0===t?1:t)*Math.cos(e),t*Math.sin(e),0)}},{key:"fromAngles",value:function(e,t,r){void 0===r&&(r=1);var n=Math.cos(t),i=(t=Math.sin(t),Math.cos(e));e=Math.sin(e);return new o.default.Vector(r*e*t,-r*i,r*e*n)}},{key:"random2D",value:function(){return this.fromAngle(Math.random()*a.TWO_PI)}},{key:"random3D",value:function(){var e=Math.random()*a.TWO_PI,t=2*Math.random()-1,r=(n=Math.sqrt(1-t*t))*Math.cos(e),n=n*Math.sin(e);return new o.default.Vector(r,n,t)}},{key:"copy",value:function(e){return e.copy(e)}},{key:"add",value:function(e,t,r){return r?r.set(e):(r=e.copy(),3===arguments.length&&o.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),r.add(t),r}},{key:"rem",value:function(e,t){if(e instanceof o.default.Vector&&t instanceof o.default.Vector)return(e=e.copy()).rem(t),e}},{key:"sub",value:function(e,t,r){return r?r.set(e):(r=e.copy(),3===arguments.length&&o.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),r.sub(t),r}},{key:"mult",value:function(e,t,r){return r?r.set(e):(r=e.copy(),3===arguments.length&&o.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),r.mult(t),r}},{key:"rotate",value:function(e,t,r){return 2===arguments.length?r=e.copy():(r instanceof o.default.Vector||o.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),r.set(e)),r.rotate(t),r}},{key:"div",value:function(e,t,r){return r?r.set(e):(r=e.copy(),3===arguments.length&&o.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),r.div(t),r}},{key:"dot",value:function(e,t){return e.dot(t)}},{key:"cross",value:function(e,t){return e.cross(t)}},{key:"dist",value:function(e,t){return e.dist(t)}},{key:"lerp",value:function(e,t,r,n){return n?n.set(e):(n=e.copy(),4===arguments.length&&o.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),n.lerp(t,r),n}},{key:"slerp",value:function(e,t,r,n){return n?n.set(e):(n=e.copy(),4===arguments.length&&o.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.slerp")),n.slerp(t,r),n}},{key:"mag",value:function(e){return e.mag()}},{key:"magSq",value:function(e){return e.magSq()}},{key:"normalize",value:function(e,t){return arguments.length<2?t=e.copy():(t instanceof o.default.Vector||o.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),t.set(e)),t.normalize()}},{key:"limit",value:function(e,t,r){return arguments.length<3?r=e.copy():(r instanceof o.default.Vector||o.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.limit"),r.set(e)),r.limit(t)}},{key:"setMag",value:function(e,t,r){return arguments.length<3?r=e.copy():(r instanceof o.default.Vector||o.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.setMag"),r.set(e)),r.setMag(t)}},{key:"heading",value:function(e){return e.heading()}},{key:"angleBetween",value:function(e,t){return e.angleBetween(t)}},{key:"reflect",value:function(e,t,r){return arguments.length<3?r=e.copy():(r instanceof o.default.Vector||o.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.reflect"),r.set(e)),r.reflect(t)}},{key:"array",value:function(e){return e.array()}},{key:"equals",value:function(e,t){var r;return e instanceof o.default.Vector?r=e:e instanceof Array?r=(new o.default.Vector).set(e):o.default._friendlyError("The v1 parameter should be of type Array or p5.Vector","p5.Vector.equals"),r.equals(t)}}],(r=[{key:"toString",value:function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")}},{key:"set",value:function(e,t,r){return e instanceof o.default.Vector?(this.x=e.x||0,this.y=e.y||0,this.z=e.z||0):Array.isArray(e)?(this.x=e[0]||0,this.y=e[1]||0,this.z=e[2]||0):(this.x=e||0,this.y=t||0,this.z=r||0),this}},{key:"copy",value:function(){return this.isPInst?new o.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new o.default.Vector(this.x,this.y,this.z)}},{key:"add",value:function(e,t,r){return e instanceof o.default.Vector?(this.x+=e.x||0,this.y+=e.y||0,this.z+=e.z||0):Array.isArray(e)?(this.x+=e[0]||0,this.y+=e[1]||0,this.z+=e[2]||0):(this.x+=e||0,this.y+=t||0,this.z+=r||0),this}},{key:"rem",value:function(e,t,r){var n;if(e instanceof o.default.Vector){if([e.x,e.y,e.z].every(Number.isFinite))return i=parseFloat(e.x),a=parseFloat(e.y),n=parseFloat(e.z),c.call(this,i,a,n)}else if(Array.isArray(e)){if(e.every((function(e){return Number.isFinite(e)})))return 2===e.length?u.call(this,e[0],e[1]):3===e.length?c.call(this,e[0],e[1],e[2]):void 0}else if(1===arguments.length){if(Number.isFinite(e)&&0!==e)return this.x=this.x%e,this.y=this.y%e,this.z=this.z%e,this}else if(2===arguments.length){var i=Array.prototype.slice.call(arguments);if(i.every((function(e){return Number.isFinite(e)}))&&2===i.length)return u.call(this,i[0],i[1])}else if(3===arguments.length){var a=Array.prototype.slice.call(arguments);if(a.every((function(e){return Number.isFinite(e)}))&&3===a.length)return c.call(this,a[0],a[1],a[2])}}},{key:"sub",value:function(e,t,r){return e instanceof o.default.Vector?(this.x-=e.x||0,this.y-=e.y||0,this.z-=e.z||0):Array.isArray(e)?(this.x-=e[0]||0,this.y-=e[1]||0,this.z-=e[2]||0):(this.x-=e||0,this.y-=t||0,this.z-=r||0),this}},{key:"mult",value:function(e,t,r){var n;return e instanceof o.default.Vector?Number.isFinite(e.x)&&Number.isFinite(e.y)&&Number.isFinite(e.z)&&"number"==typeof e.x&&"number"==typeof e.y&&"number"==typeof e.z?(this.x*=e.x,this.y*=e.y,this.z*=e.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"):Array.isArray(e)?e.every((function(e){return Number.isFinite(e)}))&&e.every((function(e){return"number"==typeof e}))?1===e.length?(this.x*=e[0],this.y*=e[0],this.z*=e[0]):2===e.length?(this.x*=e[0],this.y*=e[1]):3===e.length&&(this.x*=e[0],this.y*=e[1],this.z*=e[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"):(n=Array.prototype.slice.call(arguments)).every((function(e){return Number.isFinite(e)}))&&n.every((function(e){return"number"==typeof e}))?(1===arguments.length&&(this.x*=e,this.y*=e,this.z*=e),2===arguments.length&&(this.x*=e,this.y*=t),3===arguments.length&&(this.x*=e,this.y*=t,this.z*=r)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this}},{key:"div",value:function(e,t,r){if(e instanceof o.default.Vector)if(Number.isFinite(e.x)&&Number.isFinite(e.y)&&Number.isFinite(e.z)&&"number"==typeof e.x&&"number"==typeof e.y&&"number"==typeof e.z){var n=0===e.z&&0===this.z;if(0===e.x||0===e.y||!n&&0===e.z)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=e.x,this.y/=e.y,n||(this.z/=e.z)}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(Array.isArray(e))if(e.every((function(e){return Number.isFinite(e)}))&&e.every((function(e){return"number"==typeof e}))){if(e.some((function(e){return 0===e})))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;1===e.length?(this.x/=e[0],this.y/=e[0],this.z/=e[0]):2===e.length?(this.x/=e[0],this.y/=e[1]):3===e.length&&(this.x/=e[0],this.y/=e[1],this.z/=e[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if((n=Array.prototype.slice.call(arguments)).every((function(e){return Number.isFinite(e)}))&&n.every((function(e){return"number"==typeof e}))){if(n.some((function(e){return 0===e})))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;1===arguments.length&&(this.x/=e,this.y/=e,this.z/=e),2===arguments.length&&(this.x/=e,this.y/=t),3===arguments.length&&(this.x/=e,this.y/=t,this.z/=r)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this}},{key:"mag",value:function(){return Math.sqrt(this.magSq())}},{key:"magSq",value:function(){var e=this.x,t=this.y,r=this.z;return e*e+t*t+r*r}},{key:"dot",value:function(e,t,r){return e instanceof o.default.Vector?this.dot(e.x,e.y,e.z):this.x*(e||0)+this.y*(t||0)+this.z*(r||0)}},{key:"cross",value:function(e){var t=this.y*e.z-this.z*e.y,r=this.z*e.x-this.x*e.z;e=this.x*e.y-this.y*e.x;return this.isPInst?new o.default.Vector(this._fromRadians,this._toRadians,t,r,e):new o.default.Vector(t,r,e)}},{key:"dist",value:function(e){return e.copy().sub(this).mag()}},{key:"normalize",value:function(){var e=this.mag();return 0!==e&&this.mult(1/e),this}},{key:"limit",value:function(e){var t=this.magSq();return e*e<t&&this.div(Math.sqrt(t)).mult(e),this}},{key:"setMag",value:function(e){return this.normalize().mult(e)}},{key:"heading",value:function(){var e=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(e):e}},{key:"setHeading",value:function(e){this.isPInst&&(e=this._toRadians(e));var t=this.mag();return this.x=t*Math.cos(e),this.y=t*Math.sin(e),this}},{key:"rotate",value:function(e){e=this.heading()+e;var t=(this.isPInst&&(e=this._toRadians(e)),this.mag());return this.x=Math.cos(e)*t,this.y=Math.sin(e)*t,this}},{key:"angleBetween",value:function(e){var t;return 0==this.magSq()*e.magSq()?NaN:(t=this.cross(e),e=Math.atan2(t.mag(),this.dot(e))*Math.sign(t.z||1),this.isPInst?this._fromRadians(e):e)}},{key:"lerp",value:function(e,t,r,n){return e instanceof o.default.Vector?this.lerp(e.x,e.y,e.z,t):(this.x+=(e-this.x)*n||0,this.y+=(t-this.y)*n||0,this.z+=(r-this.z)*n||0,this)}},{key:"slerp",value:function(e,t){if(0!==t){if(1===t)return this.set(e);var r=this.mag(),n=e.mag();if(0==r*n)this.mult(1-t).add(e.x*t,e.y*t,e.z*t);else{var i=this.cross(e),o=i.mag(),a=Math.atan2(o,this.dot(e));if(0<o)i.x/=o,i.y/=o,i.z/=o;else{if(a<.5*Math.PI)return this.mult(1-t).add(e.x*t,e.y*t,e.z*t),this;0===this.z&&0===e.z?i.set(0,0,1):0!==this.x?i.set(this.y,-this.x,0).normalize():i.set(1,0,0)}o=i.cross(this),i=(e=1-t+t*n/r)*Math.cos(t*a),n=e*Math.sin(t*a),this.x=this.x*i+o.x*n,this.y=this.y*i+o.y*n,this.z=this.z*i+o.z*n}}return this}},{key:"reflect",value:function(e){return e.normalize(),this.sub(e.mult(2*this.dot(e)))}},{key:"array",value:function(){return[this.x||0,this.y||0,this.z||0]}},{key:"equals",value:function(e,t,r){var n,i;e=e instanceof o.default.Vector?(n=e.x||0,i=e.y||0,e.z||0):Array.isArray(e)?(n=e[0]||0,i=e[1]||0,e[2]||0):(n=e||0,i=t||0,r||0);return this.x===n&&this.y===i&&this.z===e}}])&&l(t.prototype,r),n&&l(t,n),e}();var d=o.default.Vector;r.default=d},{"../core/constants":262,"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.every":153,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.some":165,"core-js/modules/es.math.sign":170,"core-js/modules/es.number.constructor":171,"core-js/modules/es.number.is-finite":172,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.sub":198,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],307:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=(e=e("../core/main"))&&e.__esModule?e:{default:e},i="_lcg_random_state",o=4294967296,a=0;n.default.prototype._lcg=function(e){return this[e]=(1664525*this[e]+1013904223)%o,this[e]/o},n.default.prototype._lcgSetSeed=function(e,t){this[e]=(null==t?Math.random()*o:t)>>>0},n.default.prototype.randomSeed=function(e){this._lcgSetSeed(i,e),this._gaussian_previous=!1},n.default.prototype.random=function(e,t){var r,o;return n.default._validateParameters("random",arguments),r=null!=this[i]?this._lcg(i):Math.random(),void 0===e?r:void 0===t?e instanceof Array?e[Math.floor(r*e.length)]:r*e:(t<e&&(o=e,e=t,t=o),r*(t-e)+e)},n.default.prototype.randomGaussian=function(e){var t,r,n,i,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;if(this._gaussian_previous)t=a,this._gaussian_previous=!1;else{for(;1<=(i=(r=this.random(2)-1)*r+(n=this.random(2)-1)*n););t=r*(i=Math.sqrt(-2*Math.log(i)/i)),a=n*i,this._gaussian_previous=!0}return t*o+(e||0)},e=n.default;r.default=e},{"../core/main":273}],308:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=(l=e("../core/main"))&&l.__esModule?l:{default:l},a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var a;Object.prototype.hasOwnProperty.call(e,r)&&((a=o?Object.getOwnPropertyDescriptor(e,r):null)&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=e[r])}return n.default=e,t&&t.set(e,n),n}(e("../core/constants"));function s(){var e;return"function"!=typeof WeakMap?null:(e=new WeakMap,s=function(){return e},e)}o.default.prototype._angleMode=a.RADIANS,o.default.prototype.acos=function(e){return this._fromRadians(Math.acos(e))},o.default.prototype.asin=function(e){return this._fromRadians(Math.asin(e))},o.default.prototype.atan=function(e){return this._fromRadians(Math.atan(e))},o.default.prototype.atan2=function(e,t){return this._fromRadians(Math.atan2(e,t))},o.default.prototype.cos=function(e){return Math.cos(this._toRadians(e))},o.default.prototype.sin=function(e){return Math.sin(this._toRadians(e))},o.default.prototype.tan=function(e){return Math.tan(this._toRadians(e))},o.default.prototype.degrees=function(e){return e*a.RAD_TO_DEG},o.default.prototype.radians=function(e){return e*a.DEG_TO_RAD},o.default.prototype.angleMode=function(e){if(o.default._validateParameters("angleMode",arguments),void 0===e)return this._angleMode;e!==a.DEGREES&&e!==a.RADIANS||(this._angleMode=e)},o.default.prototype._toRadians=function(e){return this._angleMode===a.DEGREES?e*a.DEG_TO_RAD:e},o.default.prototype._toDegrees=function(e){return this._angleMode===a.RADIANS?e*a.RAD_TO_DEG:e},o.default.prototype._fromRadians=function(e){return this._angleMode===a.DEGREES?e*a.RAD_TO_DEG:e};var l=o.default;r.default=l},{"../core/constants":262,"../core/main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],309:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=(e=e("../core/main"))&&e.__esModule?e:{default:e};n.default.prototype.textAlign=function(e,t){var r;return n.default._validateParameters("textAlign",arguments),(r=this._renderer).textAlign.apply(r,arguments)},n.default.prototype.textLeading=function(e){var t;return n.default._validateParameters("textLeading",arguments),(t=this._renderer).textLeading.apply(t,arguments)},n.default.prototype.textSize=function(e){var t;return n.default._validateParameters("textSize",arguments),(t=this._renderer).textSize.apply(t,arguments)},n.default.prototype.textStyle=function(e){var t;return n.default._validateParameters("textStyle",arguments),(t=this._renderer).textStyle.apply(t,arguments)},n.default.prototype.textWidth=function(){for(var e,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return r[0]+="",n.default._validateParameters("textWidth",r),0===r[0].length?0:(e=this._renderer).textWidth.apply(e,r)},n.default.prototype.textAscent=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.default._validateParameters("textAscent",t),this._renderer.textAscent()},n.default.prototype.textDescent=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.default._validateParameters("textDescent",t),this._renderer.textDescent()},n.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},n.default.prototype.textWrap=function(e){if("WORD"!==e&&"CHAR"!==e)throw"Error: textWrap accepts only WORD or CHAR";return this._renderer.textWrap(e)},e=n.default,r.default=e},{"../core/main":273}],310:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.last-index-of"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.last-index-of"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.split"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=(c=e("../core/main"))&&c.__esModule?c:{default:c},a=u(e("../core/constants")),s=u(e("opentype.js"));function l(){var e;return"function"!=typeof WeakMap?null:(e=new WeakMap,l=function(){return e},e)}function u(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var r,n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&((n=a?Object.getOwnPropertyDescriptor(e,r):null)&&(n.get||n.set)?Object.defineProperty(o,r,n):o[r]=e[r]);return o.default=e,t&&t.set(e,o),o}e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),o.default.prototype.loadFont=function(e,t,r){o.default._validateParameters("loadFont",arguments);var n=new o.default.Font(this),i=this;return s.load(e,(function(a,s){if(a)return o.default._friendlyFileLoadError(4,e),void 0!==r?r(a):void console.error(a,e);n.font=s,void 0!==t&&t(n),i._decrementPreload();var l=(s=(a=e.split("\\").pop().split("/").pop()).lastIndexOf("."))<1?null:a.slice(s+1);["ttf","otf","woff","woff2"].includes(l)&&(l=a.slice(0,-1!==s?s:0),(a=document.createElement("style")).appendChild(document.createTextNode("\n@font-face {\nfont-family: ".concat(l,";\nsrc: url(").concat(e,");\n}\n"))),document.head.appendChild(a))})),n},o.default.prototype.text=function(e,t,r,n,i){var a;return o.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(a=this._renderer).text.apply(a,arguments):this},o.default.prototype.textFont=function(e,t){if(o.default._validateParameters("textFont",arguments),arguments.length){if(e)return this._renderer._setProperty("_textFont",e),t&&(this._renderer._setProperty("_textSize",t),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",t*a._DEFAULT_LEADMULT)),this._renderer._applyTextProperties();throw new Error("null font passed to textFont")}return this._renderer._textFont};var c=o.default;r.default=c},{"../core/constants":262,"../core/friendly_errors/fes_core":264,"../core/friendly_errors/file_errors":265,"../core/friendly_errors/validate_params":268,"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.last-index-of":162,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.split":196,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236,"opentype.js":247}],311:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.number.to-fixed"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.number.to-fixed"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=(i=e("../core/main"))&&i.__esModule?i:{default:i},o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r,n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var o;Object.prototype.hasOwnProperty.call(e,r)&&((o=i?Object.getOwnPropertyDescriptor(e,r):null)&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r])}return n.default=e,t&&t.set(e,n),n}(e("../core/constants"));function a(){var e;return"function"!=typeof WeakMap?null:(e=new WeakMap,a=function(){return e},e)}function s(e){return(s="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t){var r=e.length;return e[t<0?t%r+r:t%r]}function c(e,t,r,n){var i,o,a;return n?(void 0===c.tmpPoint1&&(c.tmpPoint1=[],c.tmpPoint2=[]),o=c.tmpPoint1,a=c.tmpPoint2,o.x=t.x-e.x,o.y=t.y-e.y,a.x=r.x-t.x,a.y=r.y-t.y,i=o.x*a.x+o.y*a.y,o=Math.sqrt(o.x*o.x+o.y*o.y),a=Math.sqrt(a.x*a.x+a.y*a.y),Math.acos(i/(o*a))<n):0==(t[0]-e[0])*(r[1]-e[1])-(r[0]-e[0])*(t[1]-e[1])}function d(e,t,r,n,i,o,a,s,l){var u=1-l,c=(d=Math.pow(u,3))*e+3*(f=Math.pow(u,2))*l*r+3*u*l*l*i+(h=(m=l*l)*l)*a,d=d*t+3*f*l*n+3*u*l*l*o+h*s,f=e+2*l*(r-e)+m*(i-2*r+e),h=t+2*l*(n-t)+m*(o-2*n+t),p=r+2*l*(i-r)+m*(a-2*i+r),m=n+2*l*(o-n)+m*(s-2*o+n);e=u*e+l*r,r=u*t+l*n,t=u*i+l*a,n=u*o+l*s,i=90-180*Math.atan2(f-p,h-m)/Math.PI;return(p<f||h<m)&&(i+=180),{x:c,y:d,m:{x:f,y:h},n:{x:p,y:m},start:{x:e,y:r},end:{x:t,y:n},alpha:i}}function f(e,t,r,n,i,o,a,s,l){return null==l?b(e,t,r,n,i,o,a,s):d(e,t,r,n,i,o,a,s,function(e,t,r,n,i,o,a,s,l){if(!(l<0||b(e,t,r,n,i,o,a,s)<l)){var u,c=.5,d=1-c;for(u=b(e,t,r,n,i,o,a,s,d);.01<Math.abs(u-l);)u=b(e,t,r,n,i,o,a,s,d+=(u<l?1:-1)*(c/=2));return d}}(e,t,r,n,i,o,a,s,l))}function h(e,t,r){for(var n,i,o,a,s,l=0,u=0,c=(e=function(e,t){function r(e,t,r){var n,i;if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch(e[0]in{T:1,Q:1}||(t.qx=t.qy=null),e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C"].concat(m.apply(0,[t.x,t.y].concat(e.slice(1))));break;case"S":i="C"===r||"S"===r?(n=2*t.x-t.bx,2*t.y-t.by):(n=t.x,t.y),e=["C",n,i].concat(e.slice(1));break;case"T":"Q"===r||"T"===r?(t.qx=2*t.x-t.qx,t.qy=2*t.y-t.qy):(t.qx=t.x,t.qy=t.y),e=["C"].concat(v(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"].concat(v(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"].concat(y(t.x,t.y,e[1],e[2]));break;case"H":e=["C"].concat(y(t.x,t.y,e[1],t.y));break;case"V":e=["C"].concat(y(t.x,t.y,t.x,e[1]));break;case"Z":e=["C"].concat(y(t.x,t.y,t.X,t.Y))}return e}function n(e,t){if(7<e[t].length){e[t].shift();for(var r=e[t];r.length;)c[t]="A",s&&(d[t]="A"),e.splice(t++,0,["C"].concat(r.splice(0,6)));e.splice(t,1),o=Math.max(a.length,s&&s.length||0)}}function i(e,t,r,n,i){e&&t&&"M"===e[i][0]&&"M"!==t[i][0]&&(t.splice(i,0,["M",n.x,n.y]),r.bx=0,r.by=0,r.x=e[i][1],r.y=e[i][2],o=Math.max(a.length,s&&s.length||0))}var o,a=p(e),s=t,l={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},u={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},c=[],d=[],f="",h="";o=Math.max(a.length,s&&s.length||0);for(var g=0;g<o;g++){"C"!==(f=a[g]?a[g][0]:f)&&(c[g]=f,g&&(h=c[g-1])),a[g]=r(a[g],l,h),"A"!==c[g]&&"C"===f&&(c[g]="C"),n(a,g),s&&("C"!==(f=s[g]?s[g][0]:f)&&(d[g]=f,g&&(h=d[g-1])),s[g]=r(s[g],u,h),"A"!==d[g]&&"C"===f&&(d[g]="C"),n(s,g)),i(a,s,l,u,g),i(s,a,u,l,g);var b=a[g],_=s&&s[g],w=b.length,E=s&&_.length;l.x=b[w-2],l.y=b[w-1],l.bx=parseFloat(b[w-4])||l.x,l.by=parseFloat(b[w-3])||l.y,u.bx=s&&(parseFloat(_[E-4])||u.x),u.by=s&&(parseFloat(_[E-3])||u.y),u.x=s&&_[E-2],u.y=s&&_[E-1]}return s?[a,s]:a}(e)).length;u<c;u++){if("M"===(o=e[u])[0])n=+o[1],i=+o[2];else{if(t<l+(a=f(n,i,o[1],o[2],o[3],o[4],o[5],o[6]))&&!r)return{x:(s=f(n,i,o[1],o[2],o[3],o[4],o[5],o[6],t-l)).x,y:s.y,alpha:s.alpha};l+=a,n=+o[5],i=+o[6]}o.shift()}return(s=r?l:d(n,i,o[0],o[1],o[2],o[3],o[4],o[5],1)).alpha?{x:s.x,y:s.y,alpha:s.alpha}:s}function p(e){var t=[],r=0,n=0,i=0,o=0,a=0;if(e){"M"===e[0][0]&&(i=r=+e[0][1],o=n=+e[0][2],a++,t[0]=["M",r,n]);for(var s,l,u=3===e.length&&"M"===e[0][0]&&"R"===e[1][0].toUpperCase()&&"Z"===e[2][0].toUpperCase(),c=a,d=e.length;c<d;c++){if(t.push(s=[]),(l=e[c])[0]!==String.prototype.toUpperCase.call(l[0]))switch(s[0]=String.prototype.toUpperCase.call(l[0]),s[0]){case"A":s[1]=l[1],s[2]=l[2],s[3]=l[3],s[4]=l[4],s[5]=l[5],s[6]=+(l[6]+r),s[7]=+(l[7]+n);break;case"V":s[1]=+l[1]+n;break;case"H":s[1]=+l[1]+r;break;case"R":for(var f,h=2,p=(f=[r,n].concat(l.slice(1))).length;h<p;h++)f[h]=+f[h]+r,f[++h]=+f[h]+n;t.pop(),t=t.concat(g(f,u));break;case"M":i=+l[1]+r,o=+l[2]+n;break;default:for(var m=1,y=l.length;m<y;m++)s[m]=+l[m]+(m%2?r:n)}else if("R"===l[0])f=[r,n].concat(l.slice(1)),t.pop(),t=t.concat(g(f,u)),s=["R"].concat(l.slice(-2));else for(var v=0,b=l.length;v<b;v++)s[v]=l[v];switch(s[0]){case"Z":r=i,n=o;break;case"H":r=s[1];break;case"V":n=s[1];break;case"M":i=s[s.length-2],o=s[s.length-1];break;default:r=s[s.length-2],n=s[s.length-1]}}}return t}function m(e,t,r,n,i,o,a,s,l,u){function c(e,t,r){return{x:e*Math.cos(r)-t*Math.sin(r),y:e*Math.sin(r)+t*Math.cos(r)}}var d,f=120*(v=Math.PI)/180,h=v/180*(+i||0),p=[],g=(u?(x=u[0],d=u[1],w=u[2],E=u[3]):(e=(b=c(e,t,-h)).x,t=b.y,1<(g=(y=(e-(s=(b=c(s,l,-h)).x))/2)*y/(r*r)+(b=(t-(l=b.y))/2)*b/(n*n))&&(r*=g=Math.sqrt(g),n*=g),g=r*r,_=n*n,w=(o=(o===a?-1:1)*Math.sqrt(Math.abs((g*_-g*b*b-_*y*y)/(g*b*b+_*y*y))))*r*b/n+(e+s)/2,E=o*-n*y/r+(t+l)/2,x=Math.asin(((t-E)/n).toFixed(9)),d=Math.asin(((l-E)/n).toFixed(9)),(x=e<w?v-x:x)<0&&(x=2*v+x),(d=s<w?v-d:d)<0&&(d=2*v+d),a&&d<x&&(x-=2*v),!a&&x<d&&(d-=2*v)),d-x),y=(Math.abs(g)>f&&(_=d,b=s,o=l,d=x+f*(a&&x<d?1:-1),p=m(s=w+r*Math.cos(d),l=E+n*Math.sin(d),r,n,i,0,a,b,o,[d,_,w,E])),g=d-x,Math.cos(x)),v=Math.sin(x),b=(f=Math.cos(d),i=Math.sin(d),4/3*r*(a=Math.tan(g/4))),_=[e,t],w=[e+b*v,t-(o=4/3*n*a)*y],E=[s+b*i,l-o*f],x=[s,l];if(w[0]=2*_[0]-w[0],w[1]=2*_[1]-w[1],u)return[w,E,x].concat(p);for(var S=[],T=0,A=(p=[w,E,x].concat(p).join().split(",")).length;T<A;T++)S[T]=T%2?c(p[T-1],p[T],h).y:c(p[T],p[T+1],h).x;return S}function g(e,t){for(var r=[],n=0,i=e.length;n<i-2*!t;n+=2){var o=[{x:+e[n-2],y:+e[n-1]},{x:+e[n],y:+e[n+1]},{x:+e[n+2],y:+e[n+3]},{x:+e[n+4],y:+e[n+5]}];t?n?i-4===n?o[3]={x:+e[0],y:+e[1]}:i-2===n&&(o[2]={x:+e[0],y:+e[1]},o[3]={x:+e[2],y:+e[3]}):o[0]={x:+e[i-2],y:+e[i-1]}:i-4===n?o[3]=o[2]:n||(o[0]={x:+e[n],y:+e[n+1]}),r.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return r}function y(e,t,r,n){return[e,t,r,n,r,n]}function v(e,t,r,n,i,o){return[1/3*e+2/3*r,1/3*t+2/3*n,1/3*i+2/3*r,1/3*o+2/3*n,i,o]}function b(e,t,r,n,i,o,a,s,l){for(var u=(l=1<(l=null==l?1:l)?1:l<0?0:l)/2,c=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],d=0,f=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],h=0;h<12;h++){var p=_(m=u*c[h]+u,e,r,i,a),m=_(m,t,n,o,s);d+=f[h]*Math.sqrt(p*p+m*m)}return u*d}function _(e,t,r,n,i){return e*(e*(-3*t+9*r-9*n+3*i)+6*t-12*r+6*n)-3*t+3*r}i.default.Font=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.parent=t,this.cache={},this.font=void 0}var t,r;return t=e,(r=[{key:"textBounds",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,n=3<arguments.length?arguments[3]:void 0,i=4<arguments.length?arguments[4]:void 0,a=i&&i.renderer&&i.renderer._pInst||this.parent;(y=a._renderer.drawingContext).textAlign||o.LEFT,y.textBaseline||o.BASELINE,n=n||a._renderer._textSize;if(!v){for(var s=[],l=[],u=[],c=(u[0]=[],[]),d=this._scale(n),f=a._renderer.textLeading(),h=0,p=(this.font.forEachGlyph(e,t,r,n,i,(function(e,t,r,n){var i=e.getMetrics();0===e.index||10===e.index?u[h+=1]=[]:(u[h].push(t+i.xMin*d),u[h].push(t+i.xMax*d),c.push(r+h*f+-i.yMin*d),c.push(r+h*f+-i.yMax*d))})),0<u[h].length&&(s[h]=Math.min.apply(null,u[h]),l[h]=Math.max.apply(null,u[h])),0),m=0;m<=h;m++){s[m]=Math.min.apply(null,u[m]),l[m]=Math.max.apply(null,u[m]);var g=l[m]-s[m];p<g&&(p=g)}var y,v={x:y=Math.min.apply(null,s),y:r=Math.min.apply(null,c),h:Math.max.apply(null,c)-r,w:p,advance:y-t};n=this._handleAlignment(a._renderer,e,v.x,v.y,v.w+v.advance);v.x=n.x,v.y=n.y}return v}},{key:"textToPoints",value:function(e,t,r,n,i){var o=0,a=[],l=this._getGlyphs(e);n=n||this.parent._renderer._textSize;for(var d,f=0;f<l.length;f++){if(!(l[d=f].name&&"space"===l[d].name||e.length===l.length&&" "===e[d]))for(var p=function(e){for(var t,r=[],n=0;n<e.length;n++)"M"===e[n].type&&(t&&r.push(t),t=[]),t.push(function(e){var t=[e.type];return"M"===e.type||"L"===e.type?t.push(e.x,e.y):"C"===e.type?t.push(e.x1,e.y1,e.x2,e.y2,e.x,e.y):"Q"===e.type&&t.push(e.x1,e.y1,e.x,e.y),t}(e[n]));return r.push(t),r}(l[f].getPath(t,r,n).commands),m=0;m<p.length;m++)for(var g=function(e,t){t=function(e,t){if("object"!==s(e))e=t;else for(var r in t)void 0===e[r]&&(e[r]=t[r]);return e}(t,{sampleFactor:.1,simplifyThreshold:0});for(var r=h(e,0,1),n=r/(r*t.sampleFactor),i=[],o=0;o<r;o+=n)i.push(h(e,o));return t.simplifyThreshold&&function(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=e.length-1;3<e.length&&0<=r;--r)c(u(e,r-1),u(e,r),u(e,r+1),t)&&(e.splice(r%e.length,1))}(i,t.simplifyThreshold),i}(p[m],i),y=0;y<g.length;y++)g[y].x+=o,a.push(g[y]);o+=l[f].advanceWidth*this._scale(n)}return a}},{key:"_getGlyphs",value:function(e){return this.font.stringToGlyphs(e)}},{key:"_getPath",value:function(e,t,r,n){var i=(n&&n.renderer&&n.renderer._pInst||this.parent)._renderer;t=this._handleAlignment(i,e,t,r);return this.font.getPath(e,t.x,t.y,i._textSize,n)}},{key:"_getPathData",value:function(e,t,r,n){var i=3;return"string"==typeof e&&2<arguments.length?e=this._getPath(e,t,r,n):"object"===s(t)&&(n=t),n&&"number"==typeof n.decimals&&(i=n.decimals),e.toPathData(i)}},{key:"_getSVG",value:function(e,t,r,n){var i=3;return"string"==typeof e&&2<arguments.length?e=this._getPath(e,t,r,n):"object"===s(t)&&(n=t),n&&("number"==typeof n.decimals&&(i=n.decimals),"number"==typeof n.strokeWidth&&(e.strokeWidth=n.strokeWidth),void 0!==n.fill&&(e.fill=n.fill),void 0!==n.stroke&&(e.stroke=n.stroke)),e.toSVG(i)}},{key:"_renderPath",value:function(e,t,r,n){var i=n&&n.renderer||this.parent._renderer,a=i.drawingContext,l=(e=("object"===s(e)&&e.commands?e:this._getPath(e,t,r,n)).commands,a.beginPath(),!0);t=!1,r=void 0;try{for(var u,c=e[Symbol.iterator]();!(l=(u=c.next()).done);l=!0){var d=u.value;"M"===d.type?a.moveTo(d.x,d.y):"L"===d.type?a.lineTo(d.x,d.y):"C"===d.type?a.bezierCurveTo(d.x1,d.y1,d.x2,d.y2,d.x,d.y):"Q"===d.type?a.quadraticCurveTo(d.x1,d.y1,d.x,d.y):"Z"===d.type&&a.closePath()}}catch(e){t=!0,r=e}finally{try{l||null==c.return||c.return()}finally{if(t)throw r}}return i._doStroke&&i._strokeSet&&a.stroke(),i._doFill&&(i._fillSet||i._setFill(o._DEFAULT_TEXT_FILL),a.fill()),this}},{key:"_textWidth",value:function(e,t){return this.font.getAdvanceWidth(e,t)}},{key:"_textAscent",value:function(e){return this.font.ascender*this._scale(e)}},{key:"_textDescent",value:function(e){return-this.font.descender*this._scale(e)}},{key:"_scale",value:function(e){return 1/this.font.unitsPerEm*(e||this.parent._renderer._textSize)}},{key:"_handleAlignment",value:function(e,t,r,n,i){var a=e._textSize;switch(void 0===i&&(i=this._textWidth(t,a)),e._textAlign){case o.CENTER:r-=i/2;break;case o.RIGHT:r-=i}switch(e._textBaseline){case o.TOP:n+=this._textAscent(a);break;case o.CENTER:n+=this._textAscent(a)/2;break;case o.BOTTOM:n-=this._textDescent(a)}return{x:r,y:n}}}])&&l(t.prototype,r),e}(),e=i.default,r.default=e},{"../core/constants":262,"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.splice":166,"core-js/modules/es.function.name":167,"core-js/modules/es.number.to-fixed":173,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.split":196,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],312:[function(e,t,r){"use strict";e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.array-buffer.constructor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.array-buffer.constructor"),e("core-js/modules/es.object.to-string"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,(e=(e=e("../core/main"))&&e.__esModule?e:{default:e}).default.prototype.append=function(e,t){return e.push(t),e},e.default.prototype.arrayCopy=function(e,t,r,n,i){var o,a;e=void 0!==i?(a=Math.min(i,e.length),o=n,e.slice(t,a+t)):(a=void 0!==r?(a=r,Math.min(a,e.length)):e.length,r=t,e.slice(o=0,a)),Array.prototype.splice.apply(r,[o,a].concat(e))},e.default.prototype.concat=function(e,t){return e.concat(t)},e.default.prototype.reverse=function(e){return e.reverse()},e.default.prototype.shorten=function(e){return e.pop(),e},e.default.prototype.shuffle=function(e,t){for(var r,n,i=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(e),o=(e=t||i?e:e.slice()).length;1<o;)r=this.random(0,1)*o|0,n=e[--o],e[o]=e[r],e[r]=n;return e},e.default.prototype.sort=function(e,t){var r=t?e.slice(0,Math.min(t,e.length)):e;t=t?e.slice(Math.min(t,e.length)):[];return(r="string"==typeof r[0]?r.sort():r.sort((function(e,t){return e-t}))).concat(t)},e.default.prototype.splice=function(e,t,r){return Array.prototype.splice.apply(e,[r,0].concat(t)),e},e.default.prototype.subset=function(e,t,r){return void 0!==r?e.slice(t,t+r):e.slice(t,e.length)},e=e.default,r.default=e},{"../core/main":273,"core-js/modules/es.array-buffer.constructor":150,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.splice":166,"core-js/modules/es.object.to-string":180}],313:[function(e,t,r){"use strict";e("core-js/modules/es.array.map"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.repeat"),e("core-js/modules/es.array.map"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.repeat"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=(e=e("../core/main"))&&e.__esModule?e:{default:e};n.default.prototype.float=function(e){return e instanceof Array?e.map(parseFloat):parseFloat(e)},n.default.prototype.int=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:10;return e===1/0||"Infinity"===e?1/0:e===-1/0||"-Infinity"===e?-1/0:"string"==typeof e?parseInt(e,t):"number"==typeof e?0|e:"boolean"==typeof e?e?1:0:e instanceof Array?e.map((function(e){return n.default.prototype.int(e,t)})):void 0},n.default.prototype.str=function(e){return e instanceof Array?e.map(n.default.prototype.str):String(e)},n.default.prototype.boolean=function(e){return"number"==typeof e?0!==e:"string"==typeof e?"true"===e.toLowerCase():"boolean"==typeof e?e:e instanceof Array?e.map(n.default.prototype.boolean):void 0},n.default.prototype.byte=function(e){return"number"==typeof(e=n.default.prototype.int(e,10))?(e+128)%256-128:e instanceof Array?e.map(n.default.prototype.byte):void 0},n.default.prototype.char=function(e){return"number"!=typeof e||isNaN(e)?e instanceof Array?e.map(n.default.prototype.char):"string"==typeof e?n.default.prototype.char(parseInt(e,10)):void 0:String.fromCharCode(e)},n.default.prototype.unchar=function(e){return"string"==typeof e&&1===e.length?e.charCodeAt(0):e instanceof Array?e.map(n.default.prototype.unchar):void 0},n.default.prototype.hex=function(e,t){if(t=null==t?8:t,e instanceof Array)return e.map((function(e){return n.default.prototype.hex(e,t)}));if(e===1/0||e===-1/0)return(e===1/0?"F":"0").repeat(t);if("number"==typeof e){e<0&&(e=4294967295+e+1);for(var r=Number(e).toString(16).toUpperCase();r.length<t;)r="0".concat(r);return r.length>=t?r.substring(r.length-t,r.length):r}},n.default.prototype.unhex=function(e){return e instanceof Array?e.map(n.default.prototype.unhex):parseInt("0x".concat(e),16)},e=n.default,r.default=e},{"../core/main":273,"core-js/modules/es.array.map":163,"core-js/modules/es.number.constructor":171,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.repeat":193}],314:[function(e,t,r){"use strict";e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.number.to-fixed"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.pad-start"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.number.to-fixed"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.pad-start"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=(u=e("../core/main"))&&u.__esModule?u:{default:u};function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e,t,r){var n=(o=i(e.toString().split("."),2))[0],o=o[1];return void 0===r?(n=n.padStart(t,"0"),o?n+"."+o:n):(n=(e=i(e.toFixed(r).toString().split("."),2))[0],o=e[1],(n=n.padStart(t,"0"))+"."+o)}function a(e,t){var r=(e=e.toString()).indexOf("."),n=-1!==r?e.substring(r):"";e=(e=-1!==r?e.substring(0,r):e).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");if(0===t)n="";else if(void 0!==t)if(t>n.length)for(var i=t-(n+=-1===r?".":"").length+1,o=0;o<i;o++)n+="0";else n=n.substring(0,t+1);return e+n}function s(e){return 0<parseFloat(e)?"+".concat(e.toString()):e.toString()}function l(e){return 0<=parseFloat(e)?" ".concat(e.toString()):e.toString()}e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),n.default.prototype.join=function(e,t){return n.default._validateParameters("join",arguments),e.join(t)},n.default.prototype.match=function(e,t){return n.default._validateParameters("match",arguments),e.match(t)},n.default.prototype.matchAll=function(e,t){n.default._validateParameters("matchAll",arguments);for(var r=new RegExp(t,"g"),i=r.exec(e),o=[];null!==i;)o.push(i),i=r.exec(e);return o},n.default.prototype.nf=function(e,t,r){return n.default._validateParameters("nf",arguments),e instanceof Array?e.map((function(e){return o(e,t,r)})):"[object Arguments]"===Object.prototype.toString.call(e)?3===e.length?this.nf(e[0],e[1],e[2]):2===e.length?this.nf(e[0],e[1]):this.nf(e[0]):o(e,t,r)},n.default.prototype.nfc=function(e,t){return n.default._validateParameters("nfc",arguments),e instanceof Array?e.map((function(e){return a(e,t)})):a(e,t)},n.default.prototype.nfp=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n.default._validateParameters("nfp",t);var i=n.default.prototype.nf.apply(this,t);return i instanceof Array?i.map(s):s(i)},n.default.prototype.nfs=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n.default._validateParameters("nfs",t);var i=n.default.prototype.nf.apply(this,t);return i instanceof Array?i.map(l):l(i)},n.default.prototype.split=function(e,t){return n.default._validateParameters("split",arguments),e.split(t)},n.default.prototype.splitTokens=function(e,t){var r,i;return n.default._validateParameters("splitTokens",arguments),i=void 0!==t?(i=/\]/g.exec(t),(r=/\[/g.exec(t))&&i?(t=t.slice(0,i.index)+t.slice(i.index+1),r=/\[/g.exec(t),t=t.slice(0,r.index)+t.slice(r.index+1),new RegExp("[\\[".concat(t,"\\]]"),"g")):i?(t=t.slice(0,i.index)+t.slice(i.index+1),new RegExp("[".concat(t,"\\]]"),"g")):r?(t=t.slice(0,r.index)+t.slice(r.index+1),new RegExp("[".concat(t,"\\[]"),"g")):new RegExp("[".concat(t,"]"),"g")):/\s/g,e.split(i).filter((function(e){return e}))},n.default.prototype.trim=function(e){return n.default._validateParameters("trim",arguments),e instanceof Array?e.map(this.trim):e.trim()};var u=n.default;r.default=u},{"../core/friendly_errors/fes_core":264,"../core/friendly_errors/file_errors":265,"../core/friendly_errors/validate_params":268,"../core/main":273,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.number.to-fixed":173,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.constructor":184,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.match":191,"core-js/modules/es.string.pad-start":192,"core-js/modules/es.string.replace":194,"core-js/modules/es.string.split":196,"core-js/modules/es.string.trim":199,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],315:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,(e=(e=e("../core/main"))&&e.__esModule?e:{default:e}).default.prototype.day=function(){return(new Date).getDate()},e.default.prototype.hour=function(){return(new Date).getHours()},e.default.prototype.minute=function(){return(new Date).getMinutes()},e.default.prototype.millis=function(){return-1===this._millisStart?0:window.performance.now()-this._millisStart},e.default.prototype.month=function(){return(new Date).getMonth()+1},e.default.prototype.second=function(){return(new Date).getSeconds()},e.default.prototype.year=function(){return(new Date).getFullYear()},e=e.default,r.default=e},{"../core/main":273}],316:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.math.hypot"),e("core-js/modules/es.math.sign"),e("core-js/modules/es.number.to-fixed"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.math.hypot"),e("core-js/modules/es.math.sign"),e("core-js/modules/es.number.to-fixed"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=(u=e("../core/main"))&&u.__esModule?u:{default:u},a=(e("./p5.Geometry"),function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var a;Object.prototype.hasOwnProperty.call(e,r)&&((a=o?Object.getOwnPropertyDescriptor(e,r):null)&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=e[r])}return n.default=e,t&&t.set(e,n),n}(e("../core/constants")));function s(){var e;return"function"!=typeof WeakMap?null:(e=new WeakMap,s=function(){return e},e)}function l(e,t,r,n,i,a,s){e=e<=0?1:e,t=t<0?0:t,r=r<=0?e:r,n=n<3?3:n;for(var l,u,c=(a=void 0===a||a)?-2:0,d=(i=i<1?1:i)+((s=void 0===s?0!==t:s)?2:0),f=Math.atan2(e-t,r),h=Math.sin(f),p=Math.cos(f),m=c;m<=d;++m){var g=m/i,y=r*g,v=void 0;v=m<0?(g=y=0,e):i<m?(y=r,g=1,t):e+(t-e)*g;for(-2!==m&&m!==i+2||(v=0),y-=r/2,l=0;l<n;++l){var b=l/(n-1),_=2*Math.PI*b,w=Math.sin(_),E=(_=Math.cos(_),this.vertices.push(new o.default.Vector(w*v,y,_*v)));E=m<0?new o.default.Vector(0,-1,0):i<m&&t?new o.default.Vector(0,1,0):new o.default.Vector(w*p,h,_*p);this.vertexNormals.push(E),this.uvs.push(b,g)}}var x=0;if(a){for(u=0;u<n;++u)this.faces.push([x+u,x+n+(u+1)%n,x+n+u]);x+=2*n}for(m=0;m<i;++m){for(l=0;l<n;++l){var S=(l+1)%n;this.faces.push([x+l,x+S,x+n+S]),this.faces.push([x+l,x+n+S,x+n+l])}x+=n}if(s)for(x+=n,l=0;l<n;++l)this.faces.push([x+l,x+(l+1)%n,x+n])}o.default.prototype.plane=function(e,t,r,n){this._assert3d("plane"),o.default._validateParameters("plane",arguments),void 0===e&&(e=50),void 0===t&&(t=e),void 0===n&&(n=1);var i,a="plane|".concat(r=void 0===r?1:r,"|").concat(n);return this._renderer.geometryInHash(a)||((i=new o.default.Geometry(r,n,(function(){for(var e,t,r=0;r<=this.detailY;r++)for(var n=r/this.detailY,i=0;i<=this.detailX;i++)e=i/this.detailX,t=new o.default.Vector(e-.5,n-.5,0),this.vertices.push(t),this.uvs.push(e,n)}))).computeFaces().computeNormals(),r<=1&&n<=1?i._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(a,i)),this._renderer.drawBuffersScaled(a,e,t,1),this},o.default.prototype.box=function(e,t,r,n,i){this._assert3d("box"),o.default._validateParameters("box",arguments),void 0===e&&(e=50),void 0===t&&(t=e),void 0===r&&(r=t);var a,s=this._renderer.attributes&&this._renderer.attributes.perPixelLighting;void 0===i&&(i=s?1:4),s="box|".concat(n=void 0===n?s?1:4:n,"|").concat(i);return this._renderer.geometryInHash(s)||((a=new o.default.Geometry(n,i,(function(){var e=this;this.edges=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]],[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]].forEach((function(t,r){r*=4;for(var n=0;n<4;n++){var i=t[n];i=new o.default.Vector((2*(1&i)-1)/2,((2&i)-1)/2,((4&i)/2-1)/2);e.vertices.push(i),e.uvs.push(1&n,(2&n)/2)}e.faces.push([r,1+r,2+r]),e.faces.push([2+r,1+r,3+r])}))}))).computeNormals(),n<=4&&i<=4?a._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(s,a)),this._renderer.drawBuffersScaled(s,e,t,r),this},o.default.prototype.sphere=function(e,t,r){return this._assert3d("sphere"),o.default._validateParameters("sphere",arguments),this.ellipsoid(e=void 0===e?50:e,e,e,t=void 0===t?24:t,r=void 0===r?16:r),this},o.default.prototype.cylinder=function(e,t,r,n,i,a){this._assert3d("cylinder"),o.default._validateParameters("cylinder",arguments),void 0===e&&(e=50),void 0===t&&(t=e),void 0===n&&(n=1),void 0===a&&(a=!0),void 0===i&&(i=!0);var s,u="cylinder|".concat(r=void 0===r?24:r,"|").concat(n,"|").concat(i,"|").concat(a);return this._renderer.geometryInHash(u)||(s=new o.default.Geometry(r,n),l.call(s,1,1,1,r,n,i,a),r<=24&&n<=16?s._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(u,s)),this._renderer.drawBuffersScaled(u,e,t,e),this},o.default.prototype.cone=function(e,t,r,n,i){this._assert3d("cone"),o.default._validateParameters("cone",arguments),void 0===e&&(e=50),void 0===t&&(t=e),void 0===n&&(n=1),void 0===i&&(i=!0);var a,s="cone|".concat(r=void 0===r?24:r,"|").concat(n,"|").concat(i);return this._renderer.geometryInHash(s)||(a=new o.default.Geometry(r,n),l.call(a,1,0,1,r,n,i,!1),r<=24&&n<=16?a._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(s,a)),this._renderer.drawBuffersScaled(s,e,t,e),this},o.default.prototype.ellipsoid=function(e,t,r,n,i){this._assert3d("ellipsoid"),o.default._validateParameters("ellipsoid",arguments),void 0===e&&(e=50),void 0===t&&(t=e),void 0===r&&(r=e),void 0===i&&(i=16);var a,s="ellipsoid|".concat(n=void 0===n?24:n,"|").concat(i);return this._renderer.geometryInHash(s)||((a=new o.default.Geometry(n,i,(function(){for(var e=0;e<=this.detailY;e++)for(var t=e/this.detailY,r=Math.PI*t-Math.PI/2,n=Math.cos(r),i=Math.sin(r),a=0;a<=this.detailX;a++){var s=a/this.detailX,l=2*Math.PI*s,u=Math.cos(l);l=Math.sin(l),l=new o.default.Vector(n*l,i,n*u);this.vertices.push(l),this.vertexNormals.push(l),this.uvs.push(s,t)}}))).computeFaces(),n<=24&&i<=24?a._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(s,a)),this._renderer.drawBuffersScaled(s,e,t,r),this},o.default.prototype.torus=function(e,t,r,n){if(this._assert3d("torus"),o.default._validateParameters("torus",arguments),void 0===e)e=50;else if(!e)return;if(void 0===t)t=10;else if(!t)return;void 0===r&&(r=24),void 0===n&&(n=16);var i,a=(t/e).toPrecision(4);t="torus|".concat(a,"|").concat(r,"|").concat(n);return this._renderer.geometryInHash(t)||((i=new o.default.Geometry(r,n,(function(){for(var e=0;e<=this.detailY;e++)for(var t=e/this.detailY,r=2*Math.PI*t,n=Math.cos(r),i=Math.sin(r),s=1+a*n,l=0;l<=this.detailX;l++){var u=l/this.detailX,c=2*Math.PI*u,d=Math.cos(c),f=(c=Math.sin(c),new o.default.Vector(s*d,s*c,a*i));d=new o.default.Vector(n*d,n*c,i);this.vertices.push(f),this.vertexNormals.push(d),this.uvs.push(u,t)}}))).computeFaces(),r<=24&&n<=16?i._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(t,i)),this._renderer.drawBuffersScaled(t,e,e,e),this},o.default.RendererGL.prototype.point=function(e,t,r){var n=[];return n.push(new o.default.Vector(e,t,r=void 0===r?0:r)),this._drawPoints(n,this.immediateMode.buffers.point),this},o.default.RendererGL.prototype.triangle=function(e){var t=e[0],r=e[1],n=e[2],i=e[3],a=e[4],s=(e=e[5],this.geometryInHash("tri")||((s=new o.default.Geometry(1,1,(function(){var e=[];e.push(new o.default.Vector(0,0,0)),e.push(new o.default.Vector(1,0,0)),e.push(new o.default.Vector(0,1,0)),this.edges=[[0,1],[1,2],[2,0]],this.vertices=e,this.faces=[[0,1,2]],this.uvs=[0,0,1,0,1,1]})))._edgesToVertices(),s.computeNormals(),this.createBuffers("tri",s)),this.uMVMatrix.copy());try{var l=Math.sign(t*i-n*r+n*e-a*i+a*r-t*e),u=new o.default.Matrix([n-t,i-r,0,0,a-t,e-r,0,0,0,0,l,0,t,r,0,1]).mult(this.uMVMatrix);this.uMVMatrix=u,this.drawBuffers("tri")}finally{this.uMVMatrix=s}return this},o.default.RendererGL.prototype.ellipse=function(e){this.arc(e[0],e[1],e[2],e[3],0,a.TWO_PI,a.OPEN,e[4])},o.default.RendererGL.prototype.arc=function(e){var t,r=arguments[1],n=arguments[2],i=arguments[3],s=arguments[4],l=arguments[5],u=arguments[6],c=arguments[7]||25,d=(Math.abs(l-s)>=a.TWO_PI?"".concat(f="ellipse","|"):"".concat(f="arc","|").concat(s,"|").concat(l,"|").concat(u,"|")).concat(c,"|"),f=(this.geometryInHash(d)||((t=new o.default.Geometry(c,1,(function(){if(s.toFixed(10)!==l.toFixed(10)){u!==a.PIE&&void 0!==u||(this.vertices.push(new o.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var e=0;e<=c;e++){var t=e/c*(l-s)+s,r=.5+Math.cos(t)/2;t=.5+Math.sin(t)/2;this.vertices.push(new o.default.Vector(r,t,0)),this.uvs.push([r,t]),e<c-1&&(this.faces.push([0,e+1,e+2]),this.edges.push([e+1,e+2]))}switch(u){case a.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,1]),this.edges.push([this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,this.vertices.length-1]);break;case a.CHORD:this.edges.push([0,1]),this.edges.push([0,this.vertices.length-1]);break;case a.OPEN:this.edges.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([this.vertices.length-2,this.vertices.length-1])}}}))).computeNormals(),c<=50?t._edgesToVertices(t):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(f," with more than 50 detail")),this.createBuffers(d,t)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([e,r,0]),this.uMVMatrix.scale(n,i,1),this.drawBuffers(d)}finally{this.uMVMatrix=f}return this},o.default.RendererGL.prototype.rect=function(e){var t=e[0],r=e[1],n=e[2],i=e[3];if(void 0===e[4]){var s=this._pInst._glAttributes.perPixelLighting,l=e[4]||(s?1:24),u=e[5]||(s?1:16),c=(s="rect|".concat(l,"|").concat(u),this.geometryInHash(s)||((c=new o.default.Geometry(l,u,(function(){for(var e=0;e<=this.detailY;e++)for(var t=e/this.detailY,r=0;r<=this.detailX;r++){var n=r/this.detailX,i=new o.default.Vector(n,t,0);this.vertices.push(i),this.uvs.push(n,t)}0<l&&0<u&&(this.edges=[[0,l],[l,(l+1)*(u+1)-1],[(l+1)*(u+1)-1,(l+1)*u],[(l+1)*u,0]])}))).computeFaces().computeNormals()._edgesToVertices(),this.createBuffers(s,c)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([t,r,0]),this.uMVMatrix.scale(n,i,1),this.drawBuffers(s)}finally{this.uMVMatrix=c}}else{s=e[4],c=void 0===e[5]?s:e[5];var d=void 0===e[6]?c:e[6],f=(e=void 0===e[7]?d:e[7],n),h=i,p=((g=((f+=t)<t&&(g=t,t=f,f=g),(h+=r)<r&&(g=r,r=h,h=g),Math.min((f-t)/2,(h-r)/2)))<s&&(s=g),g<c&&(c=g),g<d&&(d=g),g<e&&(e=g),t),m=r,g=f,y=(t=h,this.beginShape(),0!==c?(this.vertex(g-c,m),this.quadraticVertex(g,m,g,m+c)):this.vertex(g,m),0!==d?(this.vertex(g,t-d),this.quadraticVertex(g,t,g-d,t)):this.vertex(g,t),0!==e?(this.vertex(p+e,t),this.quadraticVertex(p,t,p,t-e)):this.vertex(p,t),0!==s?(this.vertex(p,m+s),this.quadraticVertex(p,m,p+s,m)):this.vertex(p,m),!(this.immediateMode.geometry.uvs.length=0));r=!1,f=void 0;try{for(var v,b=this.immediateMode.geometry.vertices[Symbol.iterator]();!(y=(v=b.next()).done);y=!0){var _=v.value,w=(_.x-p)/n,E=(_.y-m)/i;this.immediateMode.geometry.uvs.push(w,E)}}catch(e){r=!0,f=e}finally{try{y||null==b.return||b.return()}finally{if(r)throw f}}this.endShape(a.CLOSE)}return this},o.default.RendererGL.prototype.quad=function(e,t,r,n,i,a,s,l,u,c,d,f,h,p){void 0===h&&(h=2),void 0===p&&(p=2);var m="quad|".concat(e,"|").concat(t,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(l,"|").concat(u,"|").concat(c,"|").concat(d,"|").concat(f,"|").concat(h,"|").concat(p);if(!this.geometryInHash(m)){var g=new o.default.Geometry(h,p,(function(){for(var h=1/(this.detailX-1),p=1/(this.detailY-1),m=0;m<this.detailY;m++)for(var g=0;g<this.detailX;g++){var y=g*h,v=m*p;this.vertices.push(new o.default.Vector((1-y)*((1-v)*e+v*c)+y*((1-v)*n+v*s),(1-y)*((1-v)*t+v*d)+y*((1-v)*i+v*l),(1-y)*((1-v)*r+v*f)+y*((1-v)*a+v*u))),this.uvs.push([y,v])}}));g.faces=[];for(var y=0;y<p-1;y++)for(var v=0;v<h-1;v++){var b=v+y*h,_=v+1+(y+1)*h,w=v+(y+1)*h;g.faces.push([b,v+1+y*h,_]),g.faces.push([b,_,w])}g.computeNormals()._makeTriangleEdges()._edgesToVertices(),this.createBuffers(m,g)}return this.drawBuffers(m),this},o.default.RendererGL.prototype.bezier=function(e,t,r,n,i,o,a,s,l,u,c,d){8===arguments.length&&(c=s,u=a,s=o,a=i,i=n,n=r,r=o=l=d=0);var f=this._pInst._bezierDetail||20;this.beginShape();for(var h=0;h<=f;h++){var p=Math.pow(1-h/f,3),m=h/f*3*Math.pow(1-h/f,2),g=3*Math.pow(h/f,2)*(1-h/f),y=Math.pow(h/f,3);this.vertex(e*p+n*m+a*g+u*y,t*p+i*m+s*g+c*y,r*p+o*m+l*g+d*y)}return this.endShape(),this},o.default.RendererGL.prototype.curve=function(e,t,r,n,i,o,a,s,l,u,c,d){8===arguments.length&&(u=a,c=s,a=i,s=n,i=n=r,r=o=l=d=0);var f=this._pInst._curveDetail;this.beginShape();for(var h=0;h<=f;h++){var p=.5*Math.pow(h/f,3),m=.5*Math.pow(h/f,2),g=h/f*.5;this.vertex(p*(3*n-e-3*a+u)+m*(2*e-5*n+4*a-u)+g*(-e+a)+2*n*.5,p*(3*i-t-3*s+c)+m*(2*t-5*i+4*s-c)+g*(-t+s)+2*i*.5,p*(3*o-r-3*l+d)+m*(2*r-5*o+4*l-d)+g*(-r+l)+2*o*.5)}return this.endShape(),this},o.default.RendererGL.prototype.line=function(){return 6===arguments.length?(this.beginShape(a.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):4===arguments.length&&(this.beginShape(a.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},o.default.RendererGL.prototype.bezierVertex=function(){if(0===this.immediateMode._bezierVertex.length)throw Error("vertex() must be used once before calling bezierVertex()");var e,t,r,n,i,o,a=[],s=[],l=arguments.length;if(0===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var u=1/this._lutBezierDetail,c=0,d=1,f=0;c<1;){if(o=parseFloat(c.toFixed(6)),this._lookUpTableBezier[f]=this._bezierCoefficients(o),d.toFixed(6)===u.toFixed(6)){o=parseFloat(d.toFixed(6))+parseFloat(c.toFixed(6)),++f,this._lookUpTableBezier[f]=this._bezierCoefficients(o);break}c+=u,d-=u,++f}}for(var h=this._lookUpTableBezier.length,p=[],m=0;m<4;m++)p.push([]);p[0]=this.immediateMode.geometry.vertexColors.slice(-4),p[3]=this.curFillColor.slice();var g=[];for(m=0;m<4;m++)g.push([]);if(g[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),g[3]=this.curStrokeColor.slice(),6===l){this.isBezier=!0;a=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],s=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]];var y=Math.hypot(a[0]-a[1],s[0]-s[1]),v=Math.hypot(a[1]-a[2],s[1]-s[2]),b=Math.hypot(a[2]-a[3],s[2]-s[3]);for(y/=v=y+v+b,b/=v,i=0;i<4;i++)p[1].push(p[0][i]*(1-y)+p[3][i]*y),p[2].push(p[0][i]*b+p[3][i]*(1-b)),g[1].push(g[0][i]*(1-y)+g[3][i]*y),g[2].push(g[0][i]*b+g[3][i]*(1-b));for(n=0;n<h;n++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],m=e=t=0;m<4;m++){for(i=0;i<4;i++)this.curFillColor[i]+=this._lookUpTableBezier[n][m]*p[m][i],this.curStrokeColor[i]+=this._lookUpTableBezier[n][m]*g[m][i];e+=a[m]*this._lookUpTableBezier[n][m],t+=s[m]*this._lookUpTableBezier[n][m]}this.vertex(e,t)}this.curFillColor=p[3],this.curStrokeColor=g[3],this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(9===l){this.isBezier=!0,a=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],s=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]];var _=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],w=Math.hypot(a[0]-a[1],s[0]-s[1],_[0]-_[1]),E=(v=Math.hypot(a[1]-a[2],s[1]-s[2],_[1]-_[2]),Math.hypot(a[2]-a[3],s[2]-s[3],_[2]-_[3]));for(w/=l=w+v+E,E/=l,i=0;i<4;i++)p[1].push(p[0][i]*(1-w)+p[3][i]*w),p[2].push(p[0][i]*E+p[3][i]*(1-E)),g[1].push(g[0][i]*(1-w)+g[3][i]*w),g[2].push(g[0][i]*E+g[3][i]*(1-E));for(n=0;n<h;n++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],m=e=t=r=0;m<4;m++){for(i=0;i<4;i++)this.curFillColor[i]+=this._lookUpTableBezier[n][m]*p[m][i],this.curStrokeColor[i]+=this._lookUpTableBezier[n][m]*g[m][i];e+=a[m]*this._lookUpTableBezier[n][m],t+=s[m]*this._lookUpTableBezier[n][m],r+=_[m]*this._lookUpTableBezier[n][m]}this.vertex(e,t,r)}this.curFillColor=p[3],this.curStrokeColor=g[3],this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},o.default.RendererGL.prototype.quadraticVertex=function(){if(0===this.immediateMode._quadraticVertex.length)throw Error("vertex() must be used once before calling quadraticVertex()");var e,t,r,n,i,o,a=[],s=[],l=arguments.length;if(0===this._lookUpTableQuadratic.length||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var u=1/this._lutQuadraticDetail,c=0,d=1,f=0;c<1;){if(o=parseFloat(c.toFixed(6)),this._lookUpTableQuadratic[f]=this._quadraticCoefficients(o),d.toFixed(6)===u.toFixed(6)){o=parseFloat(d.toFixed(6))+parseFloat(c.toFixed(6)),++f,this._lookUpTableQuadratic[f]=this._quadraticCoefficients(o);break}c+=u,d-=u,++f}}for(var h=this._lookUpTableQuadratic.length,p=[],m=0;m<3;m++)p.push([]);p[0]=this.immediateMode.geometry.vertexColors.slice(-4),p[2]=this.curFillColor.slice();var g=[];for(m=0;m<3;m++)g.push([]);if(g[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),g[2]=this.curStrokeColor.slice(),4===l){this.isQuadratic=!0;a=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],s=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]];var y=Math.hypot(a[0]-a[1],s[0]-s[1]);for(y/=y+Math.hypot(a[1]-a[2],s[1]-s[2]),i=0;i<4;i++)p[1].push(p[0][i]*(1-y)+p[2][i]*y),g[1].push(g[0][i]*(1-y)+g[2][i]*y);for(n=0;n<h;n++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],m=e=t=0;m<3;m++){for(i=0;i<4;i++)this.curFillColor[i]+=this._lookUpTableQuadratic[n][m]*p[m][i],this.curStrokeColor[i]+=this._lookUpTableQuadratic[n][m]*g[m][i];e+=a[m]*this._lookUpTableQuadratic[n][m],t+=s[m]*this._lookUpTableQuadratic[n][m]}this.vertex(e,t)}this.curFillColor=p[2],this.curStrokeColor=g[2],this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(6===l){this.isQuadratic=!0,a=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],s=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]];var v=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],b=Math.hypot(a[0]-a[1],s[0]-s[1],v[0]-v[1]);for(b/=b+Math.hypot(a[1]-a[2],s[1]-s[2],v[1]-v[2]),i=0;i<4;i++)p[1].push(p[0][i]*(1-b)+p[2][i]*b),g[1].push(g[0][i]*(1-b)+g[2][i]*b);for(n=0;n<h;n++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],m=e=t=r=0;m<3;m++){for(i=0;i<4;i++)this.curFillColor[i]+=this._lookUpTableQuadratic[n][m]*p[m][i],this.curStrokeColor[i]+=this._lookUpTableQuadratic[n][m]*g[m][i];e+=a[m]*this._lookUpTableQuadratic[n][m],t+=s[m]*this._lookUpTableQuadratic[n][m],r+=v[m]*this._lookUpTableQuadratic[n][m]}this.vertex(e,t,r)}this.curFillColor=p[2],this.curStrokeColor=g[2],this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},o.default.RendererGL.prototype.curveVertex=function(){var e,t,r,n,i,o,a=[],s=[],l=arguments.length;if(0===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var u=1/this._lutBezierDetail,c=0,d=1,f=0;c<1;){if(o=parseFloat(c.toFixed(6)),this._lookUpTableBezier[f]=this._bezierCoefficients(o),d.toFixed(6)===u.toFixed(6)){o=parseFloat(d.toFixed(6))+parseFloat(c.toFixed(6)),++f,this._lookUpTableBezier[f]=this._bezierCoefficients(o);break}c+=u,d-=u,++f}}var h=this._lookUpTableBezier.length;if(2===l){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),8===this.immediateMode._curveVertex.length){for(this.isCurve=!0,a=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),s=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),i=0;i<h;i++)t=a[0]*this._lookUpTableBezier[i][0]+a[1]*this._lookUpTableBezier[i][1]+a[2]*this._lookUpTableBezier[i][2]+a[3]*this._lookUpTableBezier[i][3],r=s[0]*this._lookUpTableBezier[i][0]+s[1]*this._lookUpTableBezier[i][1]+s[2]*this._lookUpTableBezier[i][2]+s[3]*this._lookUpTableBezier[i][3],this.vertex(t,r);for(i=0;i<l;i++)this.immediateMode._curveVertex.shift()}}else if(3===l&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),12===this.immediateMode._curveVertex.length)){for(this.isCurve=!0,a=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),s=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),e=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),i=0;i<h;i++)t=a[0]*this._lookUpTableBezier[i][0]+a[1]*this._lookUpTableBezier[i][1]+a[2]*this._lookUpTableBezier[i][2]+a[3]*this._lookUpTableBezier[i][3],r=s[0]*this._lookUpTableBezier[i][0]+s[1]*this._lookUpTableBezier[i][1]+s[2]*this._lookUpTableBezier[i][2]+s[3]*this._lookUpTableBezier[i][3],n=e[0]*this._lookUpTableBezier[i][0]+e[1]*this._lookUpTableBezier[i][1]+e[2]*this._lookUpTableBezier[i][2]+e[3]*this._lookUpTableBezier[i][3],this.vertex(t,r,n);for(i=0;i<l;i++)this.immediateMode._curveVertex.shift()}},o.default.RendererGL.prototype.image=function(e,t,r,n,i,o,s,l,u){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.noStroke(),this._pInst.texture(e),this._pInst.textureMode(a.NORMAL);var c=0,d=(t<=e.width&&(c=t/e.width),1);t+n<=e.width&&(d=(t+n)/e.width),t=0,r<=e.height&&(t=r/e.height),n=1;r+i<=e.height&&(n=(r+i)/e.height),this.beginShape(),this.vertex(o,s,0,c,t),this.vertex(o+l,s,0,d,t),this.vertex(o+l,s+u,0,d,n),this.vertex(o,s+u,0,c,n),this.endShape(a.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(a.REMOVE)};var u=o.default;r.default=u},{"../core/constants":262,"../core/main":273,"./p5.Geometry":323,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.math.hypot":169,"core-js/modules/es.math.sign":170,"core-js/modules/es.number.to-fixed":173,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],317:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.math.hypot"),e("core-js/modules/es.math.sign"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.math.hypot"),e("core-js/modules/es.math.sign"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=(l=e("../core/main"))&&l.__esModule?l:{default:l},o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r,n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var o;Object.prototype.hasOwnProperty.call(e,r)&&((o=i?Object.getOwnPropertyDescriptor(e,r):null)&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r])}return n.default=e,t&&t.set(e,n),n}(e("../core/constants"));function a(){var e;return"function"!=typeof WeakMap?null:(e=new WeakMap,a=function(){return e},e)}function s(e){return(s="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}i.default.prototype.orbitControl=function(e,t,r,n){var o=this,a=(this._assert3d("orbitControl"),i.default._validateParameters("orbitControl",arguments),this._renderer._curCamera);void 0===e&&(e=1),void 0===t&&(t=e),void 0===r&&(r=1),"object"!==s(n)&&(n={}),!0!==this.contextMenuDisabled&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),!0!==this.wheelDefaultDisabled&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var l=n.disableTouchActions;!0===this.touchActionsDisabled||void 0!==l&&!l||(this.canvas.style["touch-action"]="none",this._setProperty("touchActionsDisabled",!0));n=void 0!==(l=n.freeRotation)&&l;var u,c,d,f=[],h=(l=(this.touches.forEach((function(e){o._renderer.prevTouches.forEach((function(t){e.id===t.id&&(t={x:e.x,y:e.y,px:t.x,py:t.y},f.push(t))}))})),this._renderer.prevTouches=this.touches,0),0),p=0,m=0,g=0,y=this.height<this.width?this.height:this.width,v=!1;return 0<f.length?(v=0<f[0].x&&f[0].x<this.width&&0<f[0].y&&f[0].y<this.height,1===f.length?(h=-e*((u=f[0]).x-u.px)/y,p=t*(u.y-u.py)/y):(u=f[0],c=f[1],l=-(Math.hypot(u.x-c.x,u.y-c.y)-Math.hypot(u.px-c.px,u.py-c.py))*r*4e-4,m=.5*(u.x+c.x)-.5*(u.px+c.px),g=.5*(u.y+c.y)-.5*(u.py+c.py)),0<this.touches.length?v&&(this._renderer.executeRotateAndMove=!0,this._renderer.executeZoom=!0):(this._renderer.executeRotateAndMove=!1,this._renderer.executeZoom=!1)):(v=0<this.mouseX&&this.mouseX<this.width&&0<this.mouseY&&this.mouseY<this.height,0!==this._mouseWheelDeltaY?(l=Math.sign(this._mouseWheelDeltaY)*r,l*=.01,this._mouseWheelDeltaY=0,v&&(this._renderer.executeZoom=!0)):this._renderer.zoomFlag=!1,this.mouseIsPressed?(this.mouseButton===this.LEFT?(h=-e*this.movedX/y,p=t*this.movedY/y):this.mouseButton===this.RIGHT&&(m=this.movedX,g=this.movedY),v&&(this._renderer.executeRotateAndMove=!0)):this._renderer.executeRotateAndMove=!1),0!==l&&this._renderer.executeZoom&&(this._renderer.zoomVelocity+=l),.001<Math.abs(this._renderer.zoomVelocity)?(n?a._orbitFree(0,0,this._renderer.zoomVelocity):a._orbit(0,0,this._renderer.zoomVelocity),0!==a.projMatrix.mat4[15]&&(a.projMatrix.mat4[0]*=Math.pow(10,-this._renderer.zoomVelocity),a.projMatrix.mat4[5]*=Math.pow(10,-this._renderer.zoomVelocity),this._renderer.uPMatrix.mat4[0]=a.projMatrix.mat4[0],this._renderer.uPMatrix.mat4[5]=a.projMatrix.mat4[5]),this._renderer.zoomVelocity*=.85):this._renderer.zoomVelocity=0,0===h&&0===p||!this._renderer.executeRotateAndMove||this._renderer.rotateVelocity.add(.6*h,.6*p),1e-6<this._renderer.rotateVelocity.magSq()?(n?a._orbitFree(-this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0):a._orbit(this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0),this._renderer.rotateVelocity.mult(.85)):this._renderer.rotateVelocity.set(0,0),0===m&&0===g||!this._renderer.executeRotateAndMove||(u=2*m/this.width,c=2*-g/this.height,this._renderer.moveVelocity.add(.15*u,.15*c)),1e-6<this._renderer.moveVelocity.magSq()?(r=a._getLocalAxes(),e=a.eyeX-a.centerX,t=a.eyeY-a.centerY,y=a.eyeZ-a.centerZ,v=Math.sqrt(e*e+t*t+y*y),l=new i.default.Vector(a.centerX,a.centerY,a.centerZ),l=a.cameraMatrix.multiplyPoint(l),(l=this._renderer.uPMatrix.multiplyAndNormalizePoint(l)).x-=this._renderer.moveVelocity.x,l.y-=this._renderer.moveVelocity.y,p=0===(h=this._renderer.uPMatrix.mat4)[15]?(d=(h[8]+l.x)/h[0]*v,(h[9]+l.y)/h[5]*v):(d=(l.x-h[12])/h[0],(l.y-h[13])/h[5]),a.setPosition(a.eyeX+d*r.x[0]+p*r.y[0],a.eyeY+d*r.x[1]+p*r.y[1],a.eyeZ+d*r.x[2]+p*r.y[2]),this._renderer.moveVelocity.mult(.85)):this._renderer.moveVelocity.set(0,0),this},i.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];i.default._validateParameters("debugMode",t);for(var n=this._registeredMethods.post.length-1;0<=n;n--)this._registeredMethods.post[n].toString()!==this._grid().toString()&&this._registeredMethods.post[n].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(n,1);t[0]===o.GRID?this.registerMethod("post",this._grid.call(this,t[1],t[2],t[3],t[4],t[5])):t[0]===o.AXES?this.registerMethod("post",this._axesIcon.call(this,t[1],t[2],t[3],t[4])):(this.registerMethod("post",this._grid.call(this,t[0],t[1],t[2],t[3],t[4])),this.registerMethod("post",this._axesIcon.call(this,t[5],t[6],t[7],t[8])))},i.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var e=this._registeredMethods.post.length-1;0<=e;e--)this._registeredMethods.post[e].toString()!==this._grid().toString()&&this._registeredMethods.post[e].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(e,1)},i.default.prototype._grid=function(e,t,r,n,i){void 0===e&&(e=this.width/2),void 0===t&&(t=Math.round(e/30)<4?4:Math.round(e/30)),void 0===r&&(r=0),void 0===n&&(n=0),void 0===i&&(i=0);var o=e/t,a=e/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]);for(var e=0;e<=t;e++)this.beginShape(this.LINES),this.vertex(-a+r,n,e*o-a+i),this.vertex(a+r,n,e*o-a+i),this.endShape();for(var s=0;s<=t;s++)this.beginShape(this.LINES),this.vertex(s*o-a+r,n,-a+i),this.vertex(s*o-a+r,n,a+i),this.endShape();this.pop()}},i.default.prototype._axesIcon=function(e,t,r,n){return void 0===e&&(e=40<this.width/20?this.width/20:40),void 0===t&&(t=-this.width/4),void 0===r&&(r=t),void 0===n&&(n=t),function(){this.push(),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(t,r,n),this.vertex(t+e,r,n),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(t,r,n),this.vertex(t,r+e,n),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(t,r,n),this.vertex(t,r,n+e),this.endShape(),this.pop()}};var l=i.default;r.default=l},{"../core/constants":262,"../core/main":273,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.splice":166,"core-js/modules/es.math.hypot":169,"core-js/modules/es.math.sign":170,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.dom-collections.iterator":236}],318:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=(e=e("../core/main"))&&e.__esModule?e:{default:e};n.default.prototype.ambientLight=function(e,t,r,i){this._assert3d("ambientLight"),n.default._validateParameters("ambientLight",arguments);var o=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(o._array[0],o._array[1],o._array[2]),this._renderer._enableLighting=!0,this},n.default.prototype.specularColor=function(e,t,r){this._assert3d("specularColor"),n.default._validateParameters("specularColor",arguments);var i=this.color.apply(this,arguments);return this._renderer.specularColors=[i._array[0],i._array[1],i._array[2]],this},n.default.prototype.directionalLight=function(e,t,r,i,o,a){this._assert3d("directionalLight"),n.default._validateParameters("directionalLight",arguments),e=e instanceof n.default.Color?e:this.color(e,t,r);var s,l;r="number"==typeof(t=arguments[arguments.length-1])?(s=arguments[arguments.length-3],l=arguments[arguments.length-2],arguments[arguments.length-1]):(s=t.x,l=t.y,t.z),t=Math.sqrt(s*s+l*l+r*r);return this._renderer.directionalLightDirections.push(s/t,l/t,r/t),this._renderer.directionalLightDiffuseColors.push(e._array[0],e._array[1],e._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},n.default.prototype.pointLight=function(e,t,r,i,o,a){this._assert3d("pointLight"),n.default._validateParameters("pointLight",arguments),e=e instanceof n.default.Color?e:this.color(e,t,r);var s,l;r="number"==typeof(t=arguments[arguments.length-1])?(s=arguments[arguments.length-3],l=arguments[arguments.length-2],arguments[arguments.length-1]):(s=t.x,l=t.y,t.z);return this._renderer.pointLightPositions.push(s,l,r),this._renderer.pointLightDiffuseColors.push(e._array[0],e._array[1],e._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},n.default.prototype.lights=function(){this._assert3d("lights");var e=this.color("rgb(128,128,128)");return this.ambientLight(e),this.directionalLight(e,0,0,-1),this},n.default.prototype.lightFalloff=function(e,t,r){return this._assert3d("lightFalloff"),n.default._validateParameters("lightFalloff",arguments),e<0&&(e=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),t<0&&(t=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),r<0&&(r=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),0===e&&0===t&&0===r&&(e=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=e,this._renderer.linearAttenuation=t,this._renderer.quadraticAttenuation=r,this},n.default.prototype.spotLight=function(e,t,r,i,o,a,s,l,u,c,d){this._assert3d("spotLight"),n.default._validateParameters("spotLight",arguments);var f,h,p,m=arguments.length;switch(m){case 11:case 10:f=this.color(e,t,r),h=new n.default.Vector(i,o,a),p=new n.default.Vector(s,l,u);break;case 9:e instanceof n.default.Color?(f=e,h=new n.default.Vector(t,r,i),p=new n.default.Vector(o,a,s),c=l,d=u):i instanceof n.default.Vector?(f=this.color(e,t,r),h=i,p=new n.default.Vector(o,a,s),c=l,d=u):s instanceof n.default.Vector?(f=this.color(e,t,r),h=new n.default.Vector(i,o,a),p=s,c=l,d=u):(f=this.color(e,t,r),h=new n.default.Vector(i,o,a),p=new n.default.Vector(s,l,u));break;case 8:p=e instanceof n.default.Color?(f=e,h=new n.default.Vector(t,r,i),new n.default.Vector(o,a,s)):i instanceof n.default.Vector?(f=this.color(e,t,r),h=i,new n.default.Vector(o,a,s)):(f=this.color(e,t,r),h=new n.default.Vector(i,o,a),s),c=l;break;case 7:e instanceof n.default.Color&&t instanceof n.default.Vector?(f=e,h=t,p=new n.default.Vector(r,i,o),c=a,d=s):e instanceof n.default.Color&&o instanceof n.default.Vector?(f=e,h=new n.default.Vector(t,r,i),p=o,c=a,d=s):i instanceof n.default.Vector&&o instanceof n.default.Vector?(f=this.color(e,t,r),h=i,p=o,c=a,d=s):p=e instanceof n.default.Color?(f=e,h=new n.default.Vector(t,r,i),new n.default.Vector(o,a,s)):i instanceof n.default.Vector?(f=this.color(e,t,r),h=i,new n.default.Vector(o,a,s)):(f=this.color(e,t,r),h=new n.default.Vector(i,o,a),s);break;case 6:i instanceof n.default.Vector&&o instanceof n.default.Vector?(f=this.color(e,t,r),h=i,p=o,c=a):e instanceof n.default.Color&&o instanceof n.default.Vector?(f=e,h=new n.default.Vector(t,r,i),p=o,c=a):e instanceof n.default.Color&&t instanceof n.default.Vector&&(f=e,h=t,p=new n.default.Vector(r,i,o),c=a);break;case 5:e instanceof n.default.Color&&t instanceof n.default.Vector&&r instanceof n.default.Vector?(f=e,h=t,p=r,c=i,d=o):i instanceof n.default.Vector&&o instanceof n.default.Vector?(f=this.color(e,t,r),h=i,p=o):e instanceof n.default.Color&&o instanceof n.default.Vector?(f=e,h=new n.default.Vector(t,r,i),p=o):e instanceof n.default.Color&&t instanceof n.default.Vector&&(f=e,h=t,p=new n.default.Vector(r,i,o));break;case 4:f=e,h=t,p=r,c=i;break;case 3:f=e,h=t,p=r;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(m<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(f._array[0],f._array[1],f._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(h.x,h.y,h.z),p.normalize(),this._renderer.spotLightDirections.push(p.x,p.y,p.z),void 0===c&&(c=Math.PI/3),void 0!==d&&d<1?(d=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):void 0===d&&(d=100),c=this._renderer._pInst._toRadians(c),this._renderer.spotLightAngle.push(Math.cos(c)),this._renderer.spotLightConc.push(d),this._renderer._enableLighting=!0,this},n.default.prototype.noLights=function(){this._assert3d("noLights");for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.default._validateParameters("noLights",t),this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this},e=n.default,r.default=e},{"../core/main":273}],319:[function(e,t,r){"use strict";e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=(i=e("../core/main"))&&i.__esModule?i:{default:i};e("./p5.Geometry"),n.default.prototype.loadModel=function(e){n.default._validateParameters("loadModel",arguments);var t,r,i,o=e.slice(-4),a=("boolean"==typeof arguments[1]?(t=arguments[1],r=arguments[2],i=arguments[3],void 0!==arguments[4]&&(o=arguments[4])):(t=!1,r=arguments[1],i=arguments[2],void 0!==arguments[3]&&(o=arguments[3])),new n.default.Geometry),s=(a.gid="".concat(e,"|").concat(t),this);return o.match(/\.stl$/i)?this.httpDo(e,"GET","arrayBuffer",(function(e){!function(e,t){if(function(e){for(var t=new DataView(e),r=[115,111,108,105,100],n=0;n<5;n++)if(function(e,t,r){for(var n=0,i=e.length;n<i;n++)if(e[n]!==t.getUint8(r+n,!1))return;return 1}(r,t,n))return;return 1}(t))!function(e,t){for(var r,i,o,a,s,l,u,c=new DataView(t),d=c.getUint32(80,!0),f=!1,h=0;h<70;h++)1129270351===c.getUint32(h,!1)&&82===c.getUint8(h+4)&&61===c.getUint8(h+5)&&(f=!0,a=[],s=c.getUint8(h+6)/255,l=c.getUint8(h+7)/255,u=c.getUint8(h+8)/255);for(var p=0;p<d;p++){for(var m,g=84+50*p,y=c.getFloat32(g,!0),v=c.getFloat32(4+g,!0),b=c.getFloat32(8+g,!0),_=(f&&(o=0==(32768&(m=c.getUint16(48+g,!0)))?(r=(31&m)/31,i=(m>>5&31)/31,(m>>10&31)/31):(r=s,i=l,u)),new n.default.Vector(y,v,b)),w=1;w<=3;w++){var E=g+12*w;E=new n.default.Vector(c.getFloat32(E,!0),c.getFloat32(4+E,!0),c.getFloat32(8+E,!0));e.vertices.push(E),e.vertexNormals.push(_),f&&a.push(r,i,o)}e.faces.push([3*p,3*p+1,3*p+2]),e.uvs.push([0,0],[0,0],[0,0])}}(e,t);else{if(t=new DataView(t),!("TextDecoder"in window))return console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)");(function(e,t){for(var r,i,o="",a=[],s=0;s<t.length;++s){for(var l=t[s].trim(),u=l.split(" "),c=0;c<u.length;++c)""===u[c]&&u.splice(c,1);if(0!==u.length)switch(o){case"":if("solid"!==u[0])return console.error(l),console.error('Invalid state "'.concat(u[0],'", should be "solid"'));o="solid";break;case"solid":if("facet"!==u[0]||"normal"!==u[1])return console.error(l),console.error('Invalid state "'.concat(u[0],'", should be "facet normal"'));r=new n.default.Vector(parseFloat(u[2]),parseFloat(u[3]),parseFloat(u[4])),e.vertexNormals.push(r,r,r),o="facet normal";break;case"facet normal":if("outer"!==u[0]||"loop"!==u[1])return console.error(l),console.error('Invalid state "'.concat(u[0],'", should be "outer loop"'));o="vertex";break;case"vertex":if("vertex"===u[0])i=new n.default.Vector(parseFloat(u[1]),parseFloat(u[2]),parseFloat(u[3])),e.vertices.push(i),e.uvs.push([0,0]),a.push(e.vertices.indexOf(i));else{if("endloop"!==u[0])return console.error(l),console.error('Invalid state "'.concat(u[0],'", should be "vertex" or "endloop"'));e.faces.push(a),a=[],o="endloop"}break;case"endloop":if("endfacet"!==u[0])return console.error(l),console.error('Invalid state "'.concat(u[0],'", should be "endfacet"'));o="endfacet";break;case"endfacet":if("endsolid"!==u[0]){if("facet"!==u[0]||"normal"!==u[1])return console.error(l),console.error('Invalid state "'.concat(u[0],'", should be "endsolid" or "facet normal"'));r=new n.default.Vector(parseFloat(u[2]),parseFloat(u[3]),parseFloat(u[4])),e.vertexNormals.push(r,r,r),o="facet normal"}break;default:console.error('Invalid state "'.concat(o,'"'))}}})(e,t=new TextDecoder("utf-8").decode(t).split("\n"))}}(a,e),t&&a.normalize(),s._decrementPreload(),"function"==typeof r&&r(a)}),i):o.match(/\.obj$/i)?this.loadStrings(e,(function(e){for(var i=a,o=e,l={v:[],vt:[],vn:[]},u={},c=0;c<o.length;++c){var d=o[c].trim().split(/\b\s+/);if(0<d.length)if("v"===d[0]||"vn"===d[0]){var f=new n.default.Vector(parseFloat(d[1]),parseFloat(d[2]),parseFloat(d[3]));l[d[0]].push(f)}else if("vt"===d[0])f=[parseFloat(d[1]),1-parseFloat(d[2])],l[d[0]].push(f);else if("f"===d[0])for(var h=3;h<d.length;++h){for(var p=[],m=[1,h-1,h],g=0;g<m.length;++g){var y=d[m[g]],v=0;if(void 0!==u[y])v=u[y];else{for(var b=y.split("/"),_=0;_<b.length;_++)b[_]=parseInt(b[_])-1;v=u[y]=i.vertices.length,i.vertices.push(l.v[b[0]].copy()),l.vt[b[1]]?i.uvs.push(l.vt[b[1]].slice()):i.uvs.push([0,0]),l.vn[b[2]]&&i.vertexNormals.push(l.vn[b[2]].copy())}p.push(v)}p[0]!==p[1]&&p[0]!==p[2]&&p[1]!==p[2]&&i.faces.push(p)}}0===i.vertexNormals.length&&i.computeNormals(),t&&a.normalize(),s._decrementPreload(),"function"==typeof r&&r(a)}),i):(n.default._friendlyFileLoadError(3,e),i?i():n.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),a},n.default.prototype.model=function(e){this._assert3d("model"),n.default._validateParameters("model",arguments),0<e.vertices.length&&(this._renderer.geometryInHash(e.gid)||(0===e.edges.length&&e._makeTriangleEdges(),e._edgesToVertices(),this._renderer.createBuffers(e.gid,e)),this._renderer.drawBuffers(e.gid))};var i=n.default;r.default=i},{"../core/main":273,"./p5.Geometry":323,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.splice":166,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.match":191,"core-js/modules/es.string.split":196,"core-js/modules/es.string.trim":199}],320:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=(l=e("../core/main"))&&l.__esModule?l:{default:l},a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var a;Object.prototype.hasOwnProperty.call(e,r)&&((a=o?Object.getOwnPropertyDescriptor(e,r):null)&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=e[r])}return n.default=e,t&&t.set(e,n),n}(e("../core/constants"));function s(){var e;return"function"!=typeof WeakMap?null:(e=new WeakMap,s=function(){return e},e)}e("./p5.Texture"),o.default.prototype.loadShader=function(e,t,r,n){function i(){s._decrementPreload(),r&&r(a)}o.default._validateParameters("loadShader",arguments),n=n||console.error;var a=new o.default.Shader,s=this,l=!1,u=!1;return this.loadStrings(e,(function(e){a._vertSrc=e.join("\n"),u=!0,l&&i()}),n),this.loadStrings(t,(function(e){a._fragSrc=e.join("\n"),l=!0,u&&i()}),n),a},o.default.prototype.createShader=function(e,t){return this._assert3d("createShader"),o.default._validateParameters("createShader",arguments),new o.default.Shader(this._renderer,e,t)},o.default.prototype.shader=function(e){return this._assert3d("shader"),o.default._validateParameters("shader",arguments),void 0===e._renderer&&(e._renderer=this._renderer),e.init(),e.isStrokeShader()?this._renderer.userStrokeShader=e:(this._renderer.userFillShader=e,this._renderer._useNormalMaterial=!1),this},o.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},o.default.prototype.texture=function(e){return this._assert3d("texture"),o.default._validateParameters("texture",arguments),e.gifProperties&&e._animateGif(this),this._renderer.drawMode=a.TEXTURE,this._renderer._useNormalMaterial=!1,this._renderer._tex=e,this._renderer._setProperty("_doFill",!0),this},o.default.prototype.textureMode=function(e){e!==a.IMAGE&&e!==a.NORMAL?console.warn("You tried to set ".concat(e," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=e},o.default.prototype.textureWrap=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:e,r=(this._renderer.textureWrapX=e,this._renderer.textureWrapY=t,!0),n=!1,i=void 0;try{for(var o,a=this._renderer.textures.values()[Symbol.iterator]();!(r=(o=a.next()).done);r=!0)o.value.setWrapMode(e,t)}catch(e){n=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw i}}},o.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return o.default._validateParameters("normalMaterial",t),this._renderer.drawMode=a.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},o.default.prototype.ambientMaterial=function(e,t,r){this._assert3d("ambientMaterial"),o.default._validateParameters("ambientMaterial",arguments);var n=o.default.prototype.color.apply(this,arguments);return this._renderer._hasSetAmbient=!0,this._renderer.curAmbientColor=n._array,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._setProperty("_doFill",!0),this},o.default.prototype.emissiveMaterial=function(e,t,r,n){this._assert3d("emissiveMaterial"),o.default._validateParameters("emissiveMaterial",arguments);var i=o.default.prototype.color.apply(this,arguments);return this._renderer.curEmissiveColor=i._array,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},o.default.prototype.specularMaterial=function(e,t,r,n){this._assert3d("specularMaterial"),o.default._validateParameters("specularMaterial",arguments);var i=o.default.prototype.color.apply(this,arguments);return this._renderer.curSpecularColor=i._array,this._renderer._useSpecularMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},o.default.prototype.shininess=function(e){return this._assert3d("shininess"),o.default._validateParameters("shininess",arguments),this._renderer._useShininess=e=e<1?1:e,this},o.default.RendererGL.prototype._applyColorBlend=function(e){var t=this.GL,r=this.drawMode===a.TEXTURE;return(r=this.userFillShader||this.userStrokeShader||this.userPointShader||r||this.curBlendMode!==a.BLEND||e[e.length-1]<1||this._isErasing)!==this._isBlending&&(r||this.curBlendMode!==a.BLEND&&this.curBlendMode!==a.ADD?t.enable(t.BLEND):t.disable(t.BLEND),t.depthMask(!0),this._isBlending=r),this._applyBlendMode(),e},o.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var e=this.GL;switch(this.curBlendMode){case a.BLEND:e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case a.ADD:e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ONE);break;case a.REMOVE:e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ZERO,e.ONE_MINUS_SRC_ALPHA);break;case a.MULTIPLY:e.blendEquation(e.FUNC_ADD),e.blendFunc(e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA);break;case a.SCREEN:e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ONE_MINUS_SRC_COLOR);break;case a.EXCLUSION:e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ONE_MINUS_DST_COLOR,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE);break;case a.REPLACE:e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ZERO);break;case a.SUBTRACT:e.blendEquationSeparate(e.FUNC_REVERSE_SUBTRACT,e.FUNC_ADD),e.blendFuncSeparate(e.ONE,e.ONE,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case a.DARKEST:this.blendExt?(e.blendEquationSeparate(this.blendExt.MIN||this.blendExt.MIN_EXT,e.FUNC_ADD),e.blendFuncSeparate(e.ONE,e.ONE,e.ONE,e.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case a.LIGHTEST:this.blendExt?(e.blendEquationSeparate(this.blendExt.MAX||this.blendExt.MAX_EXT,e.FUNC_ADD),e.blendFuncSeparate(e.ONE,e.ONE,e.ONE,e.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var l=o.default;r.default=l},{"../core/constants":262,"../core/main":273,"./p5.Texture":330,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],321:[function(e,t,r){"use strict";e("core-js/modules/es.array.slice"),e("core-js/modules/es.math.hypot"),e("core-js/modules/es.string.sub"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.math.hypot"),e("core-js/modules/es.string.sub"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=(e=e("../core/main"))&&e.__esModule?e:{default:e};function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}n.default.prototype.camera=function(){var e;this._assert3d("camera");for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return n.default._validateParameters("camera",r),(e=this._renderer._curCamera).camera.apply(e,r),this},n.default.prototype.perspective=function(){var e;this._assert3d("perspective");for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return n.default._validateParameters("perspective",r),(e=this._renderer._curCamera).perspective.apply(e,r),this},n.default.prototype.ortho=function(){var e;this._assert3d("ortho");for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return n.default._validateParameters("ortho",r),(e=this._renderer._curCamera).ortho.apply(e,r),this},n.default.prototype.frustum=function(){var e;this._assert3d("frustum");for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return n.default._validateParameters("frustum",r),(e=this._renderer._curCamera).frustum.apply(e,r),this},n.default.prototype.createCamera=function(){this._assert3d("createCamera");var e=new n.default.Camera(this._renderer);return e._computeCameraDefaultSettings(),e._setDefaultCamera(),this._renderer._curCamera=e},n.default.Camera=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this._renderer=t,this.cameraType="default",this.cameraMatrix=new n.default.Matrix,this.projMatrix=new n.default.Matrix,this.yScale=1}var t,r;return t=e,(r=[{key:"perspective",value:function(e,t,r,i){this.cameraType=0<arguments.length?"custom":"default",void 0===e?(e=this.defaultCameraFOV,this.cameraFOV=e):this.cameraFOV=this._renderer._pInst._toRadians(e),void 0===t&&(t=this.defaultAspectRatio),void 0===r&&(r=this.defaultCameraNear),void 0===i&&(i=this.defaultCameraFar),r<=1e-4&&(r=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),i<r&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=t,this.cameraNear=r,this.cameraFar=i,this.projMatrix=n.default.Matrix.identity();e=1/Math.tan(this.cameraFOV/2);var o=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(e/t,0,0,0,0,-e*this.yScale,0,0,0,0,(i+r)*o,-1,0,0,2*i*r*o,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15])}},{key:"ortho",value:function(e,t,r,i,o,a){void 0===e&&(e=-this._renderer.width/2),void 0===t&&(t=+this._renderer.width/2),void 0===r&&(r=-this._renderer.height/2),void 0===i&&(i=+this._renderer.height/2),void 0===o&&(o=0),void 0===a&&(a=Math.max(this._renderer.width,this._renderer.height)),this.cameraNear=o;var s=t-e,l=i-r,u=(this.cameraFar=a)-o,c=2/s,d=2/l*this.yScale,f=-2/u;t=-(t+e)/s,e=-(i+r)/l,s=-(a+o)/u;this.projMatrix=n.default.Matrix.identity(),this.projMatrix.set(c,0,0,0,0,-d,0,0,0,0,f,0,t,e,s,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"}},{key:"frustum",value:function(e,t,r,i,o,a){void 0===e&&(e=.05*-this._renderer.width),void 0===t&&(t=.05*+this._renderer.width),void 0===r&&(r=.05*+this._renderer.height),void 0===i&&(i=.05*-this._renderer.height),void 0===o&&(o=this.defaultCameraNear),void 0===a&&(a=this.defaultCameraFar),this.cameraNear=o;var s=t-e,l=i-r,u=(this.cameraFar=a)-o,c=2*o/s,d=2*o/l*this.yScale,f=-2*a*o/u;t=(t+e)/s,e=(i+r)/l,s=-(a+o)/u;this.projMatrix=n.default.Matrix.identity(),this.projMatrix.set(c,0,0,0,0,-d,0,0,t,e,s,-1,0,0,f,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"}},{key:"_rotateView",value:function(e,t,r,i){var o=this.centerX,a=this.centerY,s=this.centerZ,l=(o-=this.eyeX,a-=this.eyeY,s-=this.eyeZ,n.default.Matrix.identity(this._renderer._pInst));(e=(l.rotate(this._renderer._pInst._toRadians(e),t,r,i),[o*l.mat4[0]+a*l.mat4[4]+s*l.mat4[8],o*l.mat4[1]+a*l.mat4[5]+s*l.mat4[9],o*l.mat4[2]+a*l.mat4[6]+s*l.mat4[10]]))[0]+=this.eyeX,e[1]+=this.eyeY,e[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,e[0],e[1],e[2],this.upX,this.upY,this.upZ)}},{key:"pan",value:function(e){var t=this._getLocalAxes();this._rotateView(e,t.y[0],t.y[1],t.y[2])}},{key:"tilt",value:function(e){var t=this._getLocalAxes();this._rotateView(e,t.x[0],t.x[1],t.x[2])}},{key:"lookAt",value:function(e,t,r){this.camera(this.eyeX,this.eyeY,this.eyeZ,e,t,r,this.upX,this.upY,this.upZ)}},{key:"camera",value:function(e,t,r,n,i,o,a,s,l){return void 0===e&&(e=this.defaultEyeX,t=this.defaultEyeY,r=this.defaultEyeZ,n=e,i=t,s=1,l=a=o=0),this.eyeX=e,this.eyeY=t,this.eyeZ=r,void 0!==n&&(this.centerX=n,this.centerY=i,this.centerZ=o),void 0!==a&&(this.upX=a,this.upY=s,this.upZ=l),n=this._getLocalAxes(),this.cameraMatrix.set(n.x[0],n.y[0],n.z[0],0,n.x[1],n.y[1],n.z[1],0,n.x[2],n.y[2],n.z[2],0,0,0,0,1),i=-e,this.cameraMatrix.translate([i,-t,-r]),this._isActive()&&this._renderer.uMVMatrix.set(this.cameraMatrix.mat4[0],this.cameraMatrix.mat4[1],this.cameraMatrix.mat4[2],this.cameraMatrix.mat4[3],this.cameraMatrix.mat4[4],this.cameraMatrix.mat4[5],this.cameraMatrix.mat4[6],this.cameraMatrix.mat4[7],this.cameraMatrix.mat4[8],this.cameraMatrix.mat4[9],this.cameraMatrix.mat4[10],this.cameraMatrix.mat4[11],this.cameraMatrix.mat4[12],this.cameraMatrix.mat4[13],this.cameraMatrix.mat4[14],this.cameraMatrix.mat4[15]),this}},{key:"move",value:function(e,t,r){e=[(n=this._getLocalAxes()).x[0]*e,n.x[1]*e,n.x[2]*e],t=[n.y[0]*t,n.y[1]*t,n.y[2]*t];var n=[n.z[0]*r,n.z[1]*r,n.z[2]*r];this.camera(this.eyeX+e[0]+t[0]+n[0],this.eyeY+e[1]+t[1]+n[1],this.eyeZ+e[2]+t[2]+n[2],this.centerX+e[0]+t[0]+n[0],this.centerY+e[1]+t[1]+n[1],this.centerZ+e[2]+t[2]+n[2],this.upX,this.upY,this.upZ)}},{key:"setPosition",value:function(e,t,r){var n=e-this.eyeX,i=t-this.eyeY,o=r-this.eyeZ;this.camera(e,t,r,this.centerX+n,this.centerY+i,this.centerZ+o,this.upX,this.upY,this.upZ)}},{key:"set",value:function(e){for(var t=0,r=["eyeX","eyeY","eyeZ","centerX","centerY","centerZ","upX","upY","upZ","cameraFOV","aspectRatio","cameraNear","cameraFar","cameraType"];t<r.length;t++){var n=r[t];this[n]=e[n]}this.cameraMatrix=e.cameraMatrix.copy(),this.projMatrix=e.projMatrix.copy(),this._isActive()&&(this._renderer.uMVMatrix.mat4=this.cameraMatrix.mat4.slice(),this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())}},{key:"slerp",value:function(e,t,r){var i,o,a,s,l,u,c,d,f,h,p,m,g,y,v,b,_,w;0===r?this.set(e):1===r?this.set(t):(0!==this.projMatrix.mat4[15]&&(this.projMatrix.mat4[0]=e.projMatrix.mat4[0]*Math.pow(t.projMatrix.mat4[0]/e.projMatrix.mat4[0],r),this.projMatrix.mat4[5]=e.projMatrix.mat4[5]*Math.pow(t.projMatrix.mat4[5]/e.projMatrix.mat4[5],r),this._isActive()&&(this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())),s=new n.default.Vector(e.eyeX,e.eyeY,e.eyeZ),l=new n.default.Vector(t.eyeX,t.eyeY,t.eyeZ),b=new n.default.Vector(e.centerX,e.centerY,e.centerZ),w=new n.default.Vector(t.centerX,t.centerY,t.centerZ),a=n.default.Vector.dist(s,b),i=n.default.Vector.dist(l,w),i=a*Math.pow(i/a,r),a=n.default.Vector.sub(s,l),o=1,1e-6<(_=(y=s.copy().sub(l).sub(b).add(w)).magSq())&&(o=n.default.Vector.dot(a,y)/_,o=Math.max(0,Math.min(o,1))),a=n.default.Vector.lerp(n.default.Vector.lerp(s,b,o),n.default.Vector.lerp(l,w,o),r),y=e.cameraMatrix.createSubMatrix3x3(),_=t.cameraMatrix.createSubMatrix3x3(),s=y.column(2),b=_.column(2),l=y.column(1),w=_.column(1),e=new n.default.Vector,t=new n.default.Vector,u=new n.default.Vector,c=new n.default.Vector,1-(d=.5*((y=(_=_.mult3x3(y.copy().transpose3x3())).diagonal())[0]+y[1]+y[2]-1))<1e-7?(e.set(n.default.Vector.lerp(s,b,r)).normalize(),u.set(e).mult(o*i).add(a),c.set(e).mult((o-1)*i).add(a),t.set(n.default.Vector.lerp(l,w,r)).normalize()):(b=1/(1-d),w=Math.max(y[0],y[1],y[2]),m=_.mat3[1]+_.mat3[3],g=_.mat3[2]+_.mat3[6],v=_.mat3[5]+_.mat3[7],w=w===y[0]?(h=.5*m*(b/=f=Math.sqrt((y[0]-d)*b)),p=.5*g*b,.5*(_.mat3[7]-_.mat3[5])/f):w===y[1]?(p=.5*v*(b/=h=Math.sqrt((y[1]-d)*b)),f=.5*m*b,.5*(_.mat3[2]-_.mat3[6])/h):(f=.5*g*(b/=p=Math.sqrt((y[2]-d)*b)),h=.5*v*b,.5*(_.mat3[3]-_.mat3[1])/p),m=r*Math.atan2(w,d),g=Math.cos(m),y=Math.sin(m),(w=new n.default.Matrix("mat3",[g+(v=1-g)*f*f,v*(b=f*h)-y*p,v*(_=p*f)+y*h,v*b+y*p,g+v*h*h,v*(r=h*p)-y*f,v*_-y*h,v*r+y*f,g+v*p*p])).multiplyVec3(s,e),u.set(e).mult(o*i).add(a),c.set(e).mult((o-1)*i).add(a),w.multiplyVec3(l,t)),this.camera(u.x,u.y,u.z,c.x,c.y,c.z,t.x,t.y,t.z))}},{key:"_computeCameraDefaultSettings",value:function(){this.defaultCameraFOV=60/180*Math.PI,this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=this._renderer.height/2/Math.tan(this.defaultCameraFOV/2),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ}},{key:"_setDefaultCamera",value:function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"}},{key:"_resize",value:function(){"default"===this.cameraType?(this._computeCameraDefaultSettings(),this._setDefaultCamera()):this.perspective(this.cameraFOV,this._renderer.width/this._renderer.height)}},{key:"copy",value:function(){var e=new n.default.Camera(this._renderer);return e.cameraFOV=this.cameraFOV,e.aspectRatio=this.aspectRatio,e.eyeX=this.eyeX,e.eyeY=this.eyeY,e.eyeZ=this.eyeZ,e.centerX=this.centerX,e.centerY=this.centerY,e.centerZ=this.centerZ,e.upX=this.upX,e.upY=this.upY,e.upZ=this.upZ,e.cameraNear=this.cameraNear,e.cameraFar=this.cameraFar,e.cameraType=this.cameraType,e.cameraMatrix=this.cameraMatrix.copy(),e.projMatrix=this.projMatrix.copy(),e}},{key:"_getLocalAxes",value:function(){var e,t=this.eyeX-this.centerX,r=this.eyeY-this.centerY,n=this.eyeZ-this.centerZ,i=(0!==(i=Math.sqrt(t*t+r*r+n*n))&&(t/=i,r/=i,n/=i),this.upX),o=(l=this.upY)*n-(u=this.upZ)*r,a=-i*n+u*t,s=i*r-l*t,l=(i=r*s-n*a,-t*s+n*o),u=t*a-r*o;return 0!==(e=(0!==(e=Math.sqrt(o*o+a*a+s*s))&&(o/=e,a/=e,s/=e),Math.sqrt(i*i+l*l+u*u)))&&(i/=e,l/=e,u/=e),{x:[o,a,s],y:[i,l,u],z:[t,r,n]}}},{key:"_orbit",value:function(e,t,r){var i=this.eyeX-this.centerX,o=this.eyeY-this.centerY,a=this.eyeZ-this.centerZ,s=Math.hypot(i,o,a),l=(i=new n.default.Vector(i,o,a).normalize(),o=new n.default.Vector(this.upX,this.upY,this.upZ).normalize(),a=new n.default.Vector.cross(o,i).normalize(),new n.default.Vector.cross(a,o));(s=(s*=Math.pow(10,r))<this.cameraNear?this.cameraNear:s)>this.cameraFar&&(s=this.cameraFar),r=Math.acos(Math.max(-1,Math.min(1,n.default.Vector.dot(i,o))))+t,t=e;(r<=0||r>=Math.PI)&&(this.upX*=-1,this.upY*=-1,this.upZ*=-1),o.mult(Math.cos(r)),l.mult(Math.cos(t)*Math.sin(r)),a.mult(Math.sin(t)*Math.sin(r)),i.set(o).add(l).add(a),this.eyeX=s*i.x+this.centerX,this.eyeY=s*i.y+this.centerY,this.eyeZ=s*i.z+this.centerZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,this.upX,this.upY,this.upZ)}},{key:"_orbitFree",value:function(e,t,r){var i=this.eyeX-this.centerX,o=this.eyeY-this.centerY,a=this.eyeZ-this.centerZ,s=Math.hypot(i,o,a),l=(i=new n.default.Vector(i,o,a).normalize(),o=new n.default.Vector(this.upX,this.upY,this.upZ),a=new n.default.Vector.cross(o,i).normalize(),new n.default.Vector.cross(i,a)),u=Math.atan2(t,e),c=(u=(l.mult(Math.sin(u)),a.mult(Math.cos(u)).add(l),Math.sqrt(e*e+t*t)),l=new n.default.Vector.cross(i,a),e=((s=(s*=Math.pow(10,r))<this.cameraNear?this.cameraNear:s)>this.cameraFar&&(s=this.cameraFar),Math.cos(u)),t=Math.sin(u),(r=o.dot(i))*e+(u=o.dot(a))*t);r=-r*t+u*e,u=o.dot(l);o.x=c*i.x+r*a.x+u*l.x,o.y=c*i.y+r*a.y+u*l.y,o.z=c*i.z+r*a.z+u*l.z,a.mult(-t),i.mult(e).add(a).mult(s),this.camera(i.x+this.centerX,i.y+this.centerY,i.z+this.centerZ,this.centerX,this.centerY,this.centerZ,o.x,o.y,o.z)}},{key:"_isActive",value:function(){return this===this._renderer._curCamera}}])&&i(t.prototype,r),e}(),n.default.prototype.setCamera=function(e){this._renderer._curCamera=e,this._renderer.uPMatrix.set(e.projMatrix.mat4[0],e.projMatrix.mat4[1],e.projMatrix.mat4[2],e.projMatrix.mat4[3],e.projMatrix.mat4[4],e.projMatrix.mat4[5],e.projMatrix.mat4[6],e.projMatrix.mat4[7],e.projMatrix.mat4[8],e.projMatrix.mat4[9],e.projMatrix.mat4[10],e.projMatrix.mat4[11],e.projMatrix.mat4[12],e.projMatrix.mat4[13],e.projMatrix.mat4[14],e.projMatrix.mat4[15])},e=n.default.Camera,r.default=e},{"../core/main":273,"core-js/modules/es.array.slice":164,"core-js/modules/es.math.hypot":169,"core-js/modules/es.string.sub":198}],322:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.get-prototype-of"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.reflect.construct"),e("core-js/modules/es.reflect.get"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.float32-array"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.uint8-clamped-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.get-prototype-of"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.reflect.construct"),e("core-js/modules/es.reflect.get"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.float32-array"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.uint8-clamped-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=(_=e("../core/main"))&&_.__esModule?_:{default:_},o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==d(e)&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var r,n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var o;Object.prototype.hasOwnProperty.call(e,r)&&((o=i?Object.getOwnPropertyDescriptor(e,r):null)&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r])}return n.default=e,t&&t.set(e,n),n}(e("../core/constants")),a=e("./p5.Texture"),s=e("./p5.RendererGL");function l(){var e;return"function"!=typeof WeakMap?null:(e=new WeakMap,l=function(){return e},e)}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e){return(d="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t,r){t&&h(e.prototype,t),r&&h(e,r)}function m(e,t,r){return(m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){e=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=y(e)););return e}(e,t);if(e)return(e=Object.getOwnPropertyDescriptor(e,t)).get?e.get.call(r):e.value})(e,t,r||e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=function(e){var t=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e);var r=function(e){return function(){var t,r=y(e);if(t=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),1}catch(t){}}}()?(t=y(this).constructor,Reflect.construct(r,arguments,t)):r.apply(this,arguments),r=this,!t||"object"!==d(t)&&"function"!=typeof t){if(void 0!==r)return r;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}}(n);function n(e){var t;return f(this,n),(t=r.call(this,e.target._renderer)).fbo=e,t.yScale=-1,t}return p(n,[{key:"_computeCameraDefaultSettings",value:function(){m(y(n.prototype),"_computeCameraDefaultSettings",this).call(this),this.defaultAspectRatio=this.fbo.width/this.fbo.height,this.defaultEyeZ=this.fbo.height/2/Math.tan(this.defaultCameraFOV/2),this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ}},{key:"_resize",value:function(){"default"===this.cameraType?(this._computeCameraDefaultSettings(),this._setDefaultCamera()):this.perspective(this.cameraFOV,this.fbo.width/this.fbo.height)}}]),n}(i.default.Camera),b=(i.default.FramebufferCamera=v,function(){function e(t,r){f(this,e),this.framebuffer=t,this.property=r}return p(e,[{key:"rawTexture",value:function(){return this.framebuffer[this.property]}},{key:"width",get:function(){return this.framebuffer.width*this.framebuffer.density}},{key:"height",get:function(){return this.framebuffer.height*this.framebuffer.density}}]),e}()),_=(i.default.FramebufferTexture=b,function(){function e(t){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};f(this,e),this.target=t,this.target._renderer.framebuffers.add(this),this.pixels=[],this.format=r.format||o.UNSIGNED_BYTE,this.channels=r.channels||(t._renderer._pInst._glAttributes.alpha?o.RGBA:o.RGB),this.useDepth=void 0===r.depth||r.depth,this.depthFormat=r.depthFormat||o.FLOAT,this.textureFiltering=r.textureFiltering||o.LINEAR,void 0===r.antialias?this.antialiasSamples=t._renderer._pInst._glAttributes.antialias?2:0:"number"==typeof r.antialias?this.antialiasSamples=r.antialias:this.antialiasSamples=r.antialias?2:0,this.antialias=0<this.antialiasSamples,this.antialias&&t.webglVersion!==o.WEBGL2&&(console.warn("Antialiasing is unsupported in a WebGL 1 context"),this.antialias=!1),r.width&&r.height?(this.width=r.width,this.height=r.height,this.autoSized=!1):(void 0===r.width!=(void 0===r.height)&&console.warn("Please supply both width and height for a framebuffer to give it a size. Only one was given, so the framebuffer will match the size of its canvas."),this.width=t.width,this.height=t.height,this.autoSized=!0),this.density=r.density||t.pixelDensity(),r=t._renderer.GL;if(this.gl=r,this._checkIfFormatsAvailable(),this.framebuffer=r.createFramebuffer(),!this.framebuffer)throw new Error("Unable to create a framebuffer");if(this.antialias&&(this.aaFramebuffer=r.createFramebuffer(),!this.aaFramebuffer))throw new Error("Unable to create a framebuffer for antialiasing");this._recreateTextures(),t=this.target._renderer._curCamera,this.defaultCamera=this.createCamera(),this.target._renderer._curCamera=t}return p(e,[{key:"resize",value:function(e,t){this.autoSized=!1,this.width=e,this.height=t,this._handleResize()}},{key:"pixelDensity",value:function(e){if(!e)return this.density;this.autoSized=!1,this.density=e,this._handleResize()}},{key:"autoSized",value:function(e){if(void 0===e)return this.autoSized;this.autoSized=e,this._handleResize()}},{key:"_checkIfFormatsAvailable",value:function(){var e=this.gl;(e=(this.useDepth&&this.target.webglVersion===o.WEBGL&&!e.getExtension("WEBGL_depth_texture")&&(console.warn("Unable to create depth textures in this environment. Falling back to a framebuffer without depth."),this.useDepth=!1),this.useDepth&&this.target.webglVersion===o.WEBGL&&this.depthFormat===o.FLOAT&&(console.warn("FLOAT depth format is unavailable in WebGL 1. Defaulting to UNSIGNED_INT."),this.depthFormat=o.UNSIGNED_INT),[o.UNSIGNED_BYTE,o.FLOAT,o.HALF_FLOAT].includes(this.format)||(console.warn("Unknown Framebuffer format. Please use UNSIGNED_BYTE, FLOAT, or HALF_FLOAT. Defaulting to UNSIGNED_BYTE."),this.format=o.UNSIGNED_BYTE),this.useDepth&&![o.UNSIGNED_INT,o.FLOAT].includes(this.depthFormat)&&(console.warn("Unknown Framebuffer depth format. Please use UNSIGNED_INT or FLOAT. Defaulting to FLOAT."),this.depthFormat=o.FLOAT),(0,a.checkWebGLCapabilities)(this.target._renderer))).float||this.format!==o.FLOAT||(console.warn("This environment does not support FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=o.UNSIGNED_BYTE),this.useDepth&&!e.float&&this.depthFormat===o.FLOAT&&(console.warn("This environment does not support FLOAT depth textures. Falling back to UNSIGNED_INT."),this.depthFormat=o.UNSIGNED_INT),e.halfFloat||this.format!==o.HALF_FLOAT||(console.warn("This environment does not support HALF_FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=o.UNSIGNED_BYTE),this.channels===o.RGB&&[o.FLOAT,o.HALF_FLOAT].includes(this.format)&&(console.warn("FLOAT and HALF_FLOAT formats do not work cross-platform with only RGB channels. Falling back to RGBA."),this.channels=o.RGBA)}},{key:"_recreateTextures",value:function(){var e=this.gl,t=(this._updateSize(),e.getParameter(e.TEXTURE_BINDING_2D)),r=e.getParameter(e.FRAMEBUFFER_BINDING);if(!(a=e.createTexture()))throw new Error("Unable to create color texture");e.bindTexture(e.TEXTURE_2D,a);var n=this._glColorFormat();if(e.texImage2D(e.TEXTURE_2D,0,n.internalFormat,this.width*this.density,this.height*this.density,0,n.format,n.type,null),this.colorTexture=a,e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,a,0),this.useDepth){var a;if(!(a=e.createTexture()))throw new Error("Unable to create depth texture");var s=this._glDepthFormat();e.bindTexture(e.TEXTURE_2D,a),e.texImage2D(e.TEXTURE_2D,0,s.internalFormat,this.width*this.density,this.height*this.density,0,s.format,s.type,null),e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,a,0),this.depthTexture=a}this.antialias&&(this.colorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,this.colorRenderbuffer),e.renderbufferStorageMultisample(e.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,e.getParameter(e.MAX_SAMPLES))),n.internalFormat,this.width*this.density,this.height*this.density),this.useDepth&&(s=this._glDepthFormat(),this.depthRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,this.depthRenderbuffer),e.renderbufferStorageMultisample(e.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,e.getParameter(e.MAX_SAMPLES))),s.internalFormat,this.width*this.density,this.height*this.density)),e.bindFramebuffer(e.FRAMEBUFFER,this.aaFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,this.colorRenderbuffer),this.useDepth&&e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,this.depthRenderbuffer)),this.useDepth&&(this.depth=new b(this,"depthTexture"),a=e.NEAREST,this.depthP5Texture=new i.default.Texture(this.target._renderer,this.depth,{minFilter:a,magFilter:a}),this.target._renderer.textures.set(this.depth,this.depthP5Texture)),this.color=new b(this,"colorTexture"),n=this.textureFiltering===o.LINEAR?e.LINEAR:e.NEAREST,this.colorP5Texture=new i.default.Texture(this.target._renderer,this.color,{glMinFilter:n,glMagFilter:n}),this.target._renderer.textures.set(this.color,this.colorP5Texture),e.bindTexture(e.TEXTURE_2D,t),e.bindFramebuffer(e.FRAMEBUFFER,r)}},{key:"_glColorFormat",value:function(){var e,t,r=this.gl,n=this.format===o.FLOAT?r.FLOAT:this.format===o.HALF_FLOAT?this.target.webglVersion===o.WEBGL2?r.HALF_FLOAT:r.getExtension("OES_texture_half_float").HALF_FLOAT_OES:r.UNSIGNED_BYTE,i=this.channels===o.RGBA?r.RGBA:r.RGB;return{internalFormat:this.target.webglVersion===o.WEBGL2?(c(t={},r.FLOAT,c({},r.RGBA,r.RGBA32F)),c(t,r.HALF_FLOAT,c({},r.RGBA,r.RGBA16F)),c(t,r.UNSIGNED_BYTE,(c(e={},r.RGBA,r.RGBA8),c(e,r.RGB,r.RGB8),e)),t[n][i]):this.format===o.HALF_FLOAT?r.RGBA:i,format:i,type:n}}},{key:"_glDepthFormat",value:function(){var e=this.gl,t=this.depthFormat===o.FLOAT?e.FLOAT:e.UNSIGNED_INT,r=e.DEPTH_COMPONENT;return{internalFormat:e=this.target.webglVersion===o.WEBGL2?this.depthFormat===o.FLOAT?e.DEPTH_COMPONENT32F:e.DEPTH_COMPONENT24:e.DEPTH_COMPONENT,format:r,type:t}}},{key:"_updateSize",value:function(){this.autoSized&&(this.width=this.target.width,this.height=this.target.height,this.density=this.target.pixelDensity())}},{key:"_canvasSizeChanged",value:function(){this.autoSized&&this._handleResize()}},{key:"_handleResize",value:function(){var e=this.color,t=this.depth,r=this.colorRenderbuffer,n=this.depthRenderbuffer;this._deleteTexture(e),t&&this._deleteTexture(t),e=this.gl;r&&e.deleteRenderbuffer(r),n&&e.deleteRenderbuffer(n),this._recreateTextures(),this.defaultCamera._resize()}},{key:"createCamera",value:function(){var e=new v(this);return e._computeCameraDefaultSettings(),e._setDefaultCamera(),this.target._renderer._curCamera=e}},{key:"_deleteTexture",value:function(e){this.gl.deleteTexture(e.rawTexture()),this.target._renderer.textures.delete(e)}},{key:"remove",value:function(){var e=this.gl;this._deleteTexture(this.color),this.depth&&this._deleteTexture(this.depth),e.deleteFramebuffer(this.framebuffer),this.aaFramebuffer&&e.deleteFramebuffer(this.aaFramebuffer),this.depthRenderbuffer&&e.deleteRenderbuffer(this.depthRenderbuffer),this.colorRenderbuffer&&e.deleteRenderbuffer(this.colorRenderbuffer),this.target._renderer.framebuffers.delete(this)}},{key:"begin",value:function(){var e=this.gl;this.prevFramebuffer=e.getParameter(e.FRAMEBUFFER_BINDING),this.antialias?e.bindFramebuffer(e.FRAMEBUFFER,this.aaFramebuffer):e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer),this.prevViewport=e.getParameter(e.VIEWPORT),e.viewport(0,0,this.width*this.density,this.height*this.density),this.target.push(),this.target.setCamera(this.defaultCamera),this.target._renderer.uMVMatrix.set(this.target._renderer._curCamera.cameraMatrix.mat4[0],this.target._renderer._curCamera.cameraMatrix.mat4[1],this.target._renderer._curCamera.cameraMatrix.mat4[2],this.target._renderer._curCamera.cameraMatrix.mat4[3],this.target._renderer._curCamera.cameraMatrix.mat4[4],this.target._renderer._curCamera.cameraMatrix.mat4[5],this.target._renderer._curCamera.cameraMatrix.mat4[6],this.target._renderer._curCamera.cameraMatrix.mat4[7],this.target._renderer._curCamera.cameraMatrix.mat4[8],this.target._renderer._curCamera.cameraMatrix.mat4[9],this.target._renderer._curCamera.cameraMatrix.mat4[10],this.target._renderer._curCamera.cameraMatrix.mat4[11],this.target._renderer._curCamera.cameraMatrix.mat4[12],this.target._renderer._curCamera.cameraMatrix.mat4[13],this.target._renderer._curCamera.cameraMatrix.mat4[14],this.target._renderer._curCamera.cameraMatrix.mat4[15])}},{key:"end",value:function(){var e=this.gl;if(this.antialias){e.bindFramebuffer(e.READ_FRAMEBUFFER,this.aaFramebuffer),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,this.framebuffer);var t=[[e.COLOR_BUFFER_BIT,this.colorP5Texture.glMagFilter]];this.useDepth&&t.push([e.DEPTH_BUFFER_BIT,this.depthP5Texture.glMagFilter]);for(var r=0,n=t;r<n.length;r++){var i=(o=u(n[r],2))[0],o=o[1];e.blitFramebuffer(0,0,this.width*this.density,this.height*this.density,0,0,this.width*this.density,this.height*this.density,i,o)}}e.bindFramebuffer(e.FRAMEBUFFER,this.prevFramebuffer),e.viewport.apply(e,function(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(this.prevViewport)),this.target.pop()}},{key:"draw",value:function(e){this.begin(),e(),this.end()}},{key:"loadPixels",value:function(){var e=this.gl,t=e.getParameter(e.FRAMEBUFFER_BINDING),r=(e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer),this._glColorFormat());this.pixels=(0,s.readPixelsWebGL)(this.pixels,e,this.framebuffer,0,0,this.width*this.density,this.height*this.density,r.format,r.type),e.bindFramebuffer(e.FRAMEBUFFER,t)}},{key:"get",value:function(e,t,r,n){i.default._validateParameters("p5.Framebuffer.get",arguments);var o=this._glColorFormat();if(void 0===e&&void 0===t)t=e=0,r=this.width,n=this.height;else if(void 0===r&&void 0===n)return(e<0||t<0||e>=this.width||t>=this.height)&&(console.warn("The x and y values passed to p5.Framebuffer.get are outside of its range and will be clamped."),e=this.target.constrain(e,0,this.width-1),t=this.target.constrain(t,0,this.height-1)),(0,s.readPixelWebGL)(this.gl,this.framebuffer,e*this.density,t*this.density,o.format,o.type);e=this.target.constrain(e,0,this.width-1),t=this.target.constrain(t,0,this.height-1),r=this.target.constrain(r,1,this.width-e),n=this.target.constrain(n,1,this.height-t);for(var a=(0,s.readPixelsWebGL)(void 0,this.gl,this.framebuffer,e*this.density,t*this.density,r*this.density,n*this.density,o.format,o.type),l=new Uint8ClampedArray(r*n*this.density*this.density*4),u=(l.fill(255),o.type===this.gl.RGB?3:4),c=0;c<n*this.density;c++)for(var d=0;d<r*this.density;d++)for(var f=0;f<4;f++){var h,p=4*(c*r*this.density+d)+f;f<u&&(h=4==u?p:(c*r*this.density+d)*u+f,l[p]=a[h])}return(e=new i.default.Image(r*this.density,n*this.density)).imageData=e.canvas.getContext("2d").createImageData(e.width,e.height),e.imageData.data.set(l),e.pixels=e.imageData.data,e.updatePixels(),1!==this.density&&e.resize(r,n),e}},{key:"updatePixels",value:function(){var e=this.gl,t=(this.colorP5Texture.bindTexture(),this._glColorFormat()),r=t.format===e.RGBA?4:3,n=(r=this.width*this.height*this.density*this.density*r,t.type===e.UNSIGNED_BYTE?Uint8Array:Float32Array);if(!(this.pixels instanceof n)||this.pixels.length!==r)throw new Error("The pixels array has not been set correctly. Please call loadPixels() before updatePixels().");e.texImage2D(e.TEXTURE_2D,0,t.internalFormat,this.width*this.density,this.height*this.density,0,t.format,t.type,this.pixels),this.colorP5Texture.unbindTexture(),this.prevFramebuffer=e.getParameter(e.FRAMEBUFFER_BINDING),this.antialias?(this.begin(),this.target.push(),this.target.imageMode(this.target.CENTER),this.target.resetMatrix(),this.target.noStroke(),this.target.clear(),this.target.image(this,0,0),this.target.pop(),this.useDepth&&(e.clearDepth(1),e.clear(e.DEPTH_BUFFER_BIT)),this.end()):(e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer),this.useDepth&&(e.clearDepth(1),e.clear(e.DEPTH_BUFFER_BIT)),e.bindFramebuffer(e.FRAMEBUFFER,this.prevFramebuffer))}}]),e}());e=i.default.Framebuffer=_;r.default=e},{"../core/constants":262,"../core/main":273,"./p5.RendererGL":328,"./p5.Texture":330,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.from":157,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.reflect.get":183,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.float32-array":209,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint8-array":232,"core-js/modules/es.typed-array.uint8-clamped-array":233,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],323:[function(e,t,r){"use strict";e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.string.sub"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.string.sub"),e("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=(e=e("../core/main"))&&e.__esModule?e:{default:e};function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}n.default.Geometry=function(){function e(t,r,n){if(this instanceof e)return this.vertices=[],this.lineVertices=[],this.lineTangentsIn=[],this.lineTangentsOut=[],this.lineSides=[],this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.vertexStrokeColors=[],this.lineVertexColors=[],this.detailX=void 0!==t?t:1,this.detailY=void 0!==r?r:1,this.dirtyFlags={},n instanceof Function&&n.call(this),this;throw new TypeError("Cannot call a class as a function")}var t,r;return t=e,(r=[{key:"reset",value:function(){this.lineVertices.length=0,this.lineTangentsIn.length=0,this.lineTangentsOut.length=0,this.lineSides.length=0,this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexStrokeColors.length=0,this.lineVertexColors.length=0,this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}}},{key:"computeFaces",value:function(){this.faces.length=0;for(var e,t,r,n=this.detailX+1,i=0;i<this.detailY;i++)for(var o=0;o<this.detailX;o++)t=(i+1)*n+o+1,this.faces.push([i*n+o,e=i*n+o+1,r=(i+1)*n+o]),this.faces.push([r,e,t]);return this}},{key:"_getFaceNormal",value:function(e){e=this.faces[e];var t=this.vertices[e[0]],r=this.vertices[e[1]],i=(e=this.vertices[e[2]],r=n.default.Vector.sub(r,t),e=n.default.Vector.sub(e,t),t=n.default.Vector.cross(r,e),n.default.Vector.mag(t));return 0===(r=i/(n.default.Vector.mag(r)*n.default.Vector.mag(e)))||isNaN(r)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),t):(1<r&&(r=1),t.mult(Math.asin(r)/i))}},{key:"computeNormals",value:function(){for(var e=this,t=this.vertexNormals,r=this.vertices,i=this.faces,o=t.length=0;o<r.length;++o)t.push(new n.default.Vector);for(i.forEach((function(r,n){for(var i=e._getFaceNormal(n),o=0;o<3;++o){var a=r[o];t[a].add(i)}})),o=0;o<r.length;++o)t[o].normalize();return this}},{key:"averageNormals",value:function(){for(var e=0;e<=this.detailY;e++){var t=this.detailX+1,r=n.default.Vector.add(this.vertexNormals[e*t],this.vertexNormals[e*t+this.detailX]);r=n.default.Vector.div(r,2);this.vertexNormals[e*t]=r,this.vertexNormals[e*t+this.detailX]=r}return this}},{key:"averagePoleNormals",value:function(){for(var e=new n.default.Vector(0,0,0),t=0;t<this.detailX;t++)e.add(this.vertexNormals[t]);e=n.default.Vector.div(e,this.detailX);for(var r=0;r<this.detailX;r++)this.vertexNormals[r]=e;e=new n.default.Vector(0,0,0);for(var i=this.vertices.length-1;i>this.vertices.length-1-this.detailX;i--)e.add(this.vertexNormals[i]);e=n.default.Vector.div(e,this.detailX);for(var o=this.vertices.length-1;o>this.vertices.length-1-this.detailX;o--)this.vertexNormals[o]=e;return this}},{key:"_makeTriangleEdges",value:function(){for(var e=this.edges.length=0;e<this.faces.length;e++)this.edges.push([this.faces[e][0],this.faces[e][1]]),this.edges.push([this.faces[e][1],this.faces[e][2]]),this.edges.push([this.faces[e][2],this.faces[e][0]]);return this}},{key:"_edgesToVertices",value:function(){this.lineVertices.length=0,this.lineTangentsIn.length=0,this.lineTangentsOut.length=0,this.lineSides.length=0;for(var e,t=1<this.edges.length&&this.edges[0][0]===this.edges[this.edges.length-1][1],r=!1,n=0;n<this.edges.length;n++){var i=this.edges[n-1],o=this.edges[n],a=this.vertices[o[0]],s=this.vertices[o[1]],l=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*o[0],4*(o[0]+1)):[0,0,0,0],u=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*o[1],4*(o[1]+1)):[0,0,0,0],c=s.copy().sub(a).normalize(),d=0<c.magSq();d&&this._addSegment(a,s,l,u,c),0<n&&i[1]===o[0]?(e&&d&&c.dot(e)<1-1e-8&&this._addJoin(a,e,c,l),!d||r||t||(this._addCap(a,c.copy().mult(-1),l),r=!0)):(r=!1,d&&(!t||0<n)&&(this._addCap(a,c.copy().mult(-1),l),r=!0),e&&(!t||n<this.edges.length-1)&&(this._addCap(this.vertices[i[1]],e,l),e=void 0)),n===this.edges.length-1&&(t?this._addJoin(s,c,this.vertices[this.edges[0][1]].copy().sub(s).normalize(),u):this._addCap(s,c,u)),d&&(e=c)}return this}},{key:"_addSegment",value:function(e,t,r,n,i){e=e.array(),t=t.array();var o=i.array();this.lineSides.push(1,-1,1,1,-1,-1);for(var a=0,s=[this.lineTangentsIn,this.lineTangentsOut];a<s.length;a++)s[a].push(o,o,o,o,o,o);return this.lineVertices.push(e,e,t,t,e,t),this.lineVertexColors.push(r,r,n,n,r,n),this}},{key:"_addCap",value:function(e,t,r){for(var n=e.array(),i=t.array(),o=[0,0,0],a=0;a<6;a++)this.lineVertices.push(n),this.lineTangentsIn.push(i),this.lineTangentsOut.push(o),this.lineVertexColors.push(r);return this.lineSides.push(-1,-2,2,2,1,-1),this}},{key:"_addJoin",value:function(e,t,r,n){for(var i=e.array(),o=t.array(),a=r.array(),s=0;s<12;s++)this.lineVertices.push(i),this.lineTangentsIn.push(o),this.lineTangentsOut.push(a),this.lineVertexColors.push(n);for(var l=0,u=[-1,1];l<u.length;l++){var c=u[l];this.lineSides.push(c,2*c,3*c,c,3*c,0)}return this}},{key:"normalize",value:function(){if(0<this.vertices.length){for(var e=this.vertices[0].copy(),t=this.vertices[0].copy(),r=0;r<this.vertices.length;r++)e.x=Math.max(e.x,this.vertices[r].x),t.x=Math.min(t.x,this.vertices[r].x),e.y=Math.max(e.y,this.vertices[r].y),t.y=Math.min(t.y,this.vertices[r].y),e.z=Math.max(e.z,this.vertices[r].z),t.z=Math.min(t.z,this.vertices[r].z);for(var i=n.default.Vector.lerp(e,t,.5),o=n.default.Vector.sub(e,t),a=200/Math.max(Math.max(o.x,o.y),o.z),s=0;s<this.vertices.length;s++)this.vertices[s].sub(i),this.vertices[s].mult(a)}return this}}])&&i(t.prototype,r),e}(),e=n.default.Geometry,r.default=e},{"../core/main":273,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.slice":164,"core-js/modules/es.string.sub":198,"core-js/modules/web.dom-collections.for-each":235}],324:[function(e,t,r){"use strict";e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.typed-array.float32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.typed-array.float32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=(e=e("../core/main"))&&e.__esModule?e:{default:e};function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=Array,a=function(e){return Array.isArray(e)};"undefined"!=typeof Float32Array&&(o=Float32Array,a=function(e){return Array.isArray(e)||e instanceof Float32Array}),n.default.Matrix=function(){function e(){var t=this,r=e;if(t instanceof r)return arguments.length&&((t=arguments.length-1)<0||arguments.length<=t?void 0:arguments[t])instanceof n.default&&(this.p5=(r=arguments.length-1)<0||arguments.length<=r?void 0:arguments[r]),"mat3"===(arguments.length<=0?void 0:arguments[0])?this.mat3=Array.isArray(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:new o([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:new o([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this;throw new TypeError("Cannot call a class as a function")}var t,r,s;return t=e,s=[{key:"identity",value:function(e){return new n.default.Matrix(e)}}],(r=[{key:"set",value:function(e){return e instanceof n.default.Matrix?this.mat4=e.mat4:a(e)?this.mat4=e:16===arguments.length&&(this.mat4[0]=e,this.mat4[1]=arguments[1],this.mat4[2]=arguments[2],this.mat4[3]=arguments[3],this.mat4[4]=arguments[4],this.mat4[5]=arguments[5],this.mat4[6]=arguments[6],this.mat4[7]=arguments[7],this.mat4[8]=arguments[8],this.mat4[9]=arguments[9],this.mat4[10]=arguments[10],this.mat4[11]=arguments[11],this.mat4[12]=arguments[12],this.mat4[13]=arguments[13],this.mat4[14]=arguments[14],this.mat4[15]=arguments[15]),this}},{key:"get",value:function(){return new n.default.Matrix(this.mat4,this.p5)}},{key:"copy",value:function(){var e;return void 0!==this.mat3?((e=new n.default.Matrix("mat3",this.p5)).mat3[0]=this.mat3[0],e.mat3[1]=this.mat3[1],e.mat3[2]=this.mat3[2],e.mat3[3]=this.mat3[3],e.mat3[4]=this.mat3[4],e.mat3[5]=this.mat3[5],e.mat3[6]=this.mat3[6],e.mat3[7]=this.mat3[7],e.mat3[8]=this.mat3[8]):((e=new n.default.Matrix(this.p5)).mat4[0]=this.mat4[0],e.mat4[1]=this.mat4[1],e.mat4[2]=this.mat4[2],e.mat4[3]=this.mat4[3],e.mat4[4]=this.mat4[4],e.mat4[5]=this.mat4[5],e.mat4[6]=this.mat4[6],e.mat4[7]=this.mat4[7],e.mat4[8]=this.mat4[8],e.mat4[9]=this.mat4[9],e.mat4[10]=this.mat4[10],e.mat4[11]=this.mat4[11],e.mat4[12]=this.mat4[12],e.mat4[13]=this.mat4[13],e.mat4[14]=this.mat4[14],e.mat4[15]=this.mat4[15]),e}},{key:"transpose",value:function(e){var t,r,i,o,s,l;return e instanceof n.default.Matrix?(t=e.mat4[1],r=e.mat4[2],i=e.mat4[3],o=e.mat4[6],s=e.mat4[7],l=e.mat4[11],this.mat4[0]=e.mat4[0],this.mat4[1]=e.mat4[4],this.mat4[2]=e.mat4[8],this.mat4[3]=e.mat4[12],this.mat4[4]=t,this.mat4[5]=e.mat4[5],this.mat4[6]=e.mat4[9],this.mat4[7]=e.mat4[13],this.mat4[8]=r,this.mat4[9]=o,this.mat4[10]=e.mat4[10],this.mat4[11]=e.mat4[14],this.mat4[12]=i,this.mat4[13]=s,this.mat4[14]=l,this.mat4[15]=e.mat4[15]):a(e)&&(t=e[1],r=e[2],i=e[3],o=e[6],s=e[7],l=e[11],this.mat4[0]=e[0],this.mat4[1]=e[4],this.mat4[2]=e[8],this.mat4[3]=e[12],this.mat4[4]=t,this.mat4[5]=e[5],this.mat4[6]=e[9],this.mat4[7]=e[13],this.mat4[8]=r,this.mat4[9]=o,this.mat4[10]=e[10],this.mat4[11]=e[14],this.mat4[12]=i,this.mat4[13]=s,this.mat4[14]=l,this.mat4[15]=e[15]),this}},{key:"invert",value:function(e){e instanceof n.default.Matrix?(t=e.mat4[0],r=e.mat4[1],i=e.mat4[2],o=e.mat4[3],s=e.mat4[4],l=e.mat4[5],u=e.mat4[6],c=e.mat4[7],d=e.mat4[8],f=e.mat4[9],h=e.mat4[10],p=e.mat4[11],m=e.mat4[12],g=e.mat4[13],y=e.mat4[14],v=e.mat4[15]):a(e)&&(t=e[0],r=e[1],i=e[2],o=e[3],s=e[4],l=e[5],u=e[6],c=e[7],d=e[8],f=e[9],h=e[10],p=e[11],m=e[12],g=e[13],y=e[14],v=e[15]);var t,r,i,o,s,l,u,c,d,f,h,p,m,g,y,v,b=t*u-i*s,_=t*c-o*s,w=r*u-i*l,E=r*c-o*l,x=i*c-o*u,S=d*g-f*m,T=d*y-h*m,A=d*v-p*m,M=f*y-h*g,R=f*v-p*g,C=h*v-p*y,I=(e=t*l-r*s)*C-b*R+_*M+w*A-E*T+x*S;return I?(this.mat4[0]=(l*C-u*R+c*M)*(I=1/I),this.mat4[1]=(i*R-r*C-o*M)*I,this.mat4[2]=(g*x-y*E+v*w)*I,this.mat4[3]=(h*E-f*x-p*w)*I,this.mat4[4]=(u*A-s*C-c*T)*I,this.mat4[5]=(t*C-i*A+o*T)*I,this.mat4[6]=(y*_-m*x-v*b)*I,this.mat4[7]=(d*x-h*_+p*b)*I,this.mat4[8]=(s*R-l*A+c*S)*I,this.mat4[9]=(r*A-t*R-o*S)*I,this.mat4[10]=(m*E-g*_+v*e)*I,this.mat4[11]=(f*_-d*E-p*e)*I,this.mat4[12]=(l*T-s*M-u*S)*I,this.mat4[13]=(t*M-r*T+i*S)*I,this.mat4[14]=(g*b-m*w-y*e)*I,this.mat4[15]=(d*w-f*b+h*e)*I,this):null}},{key:"invert3x3",value:function(){var e=this.mat3[0],t=this.mat3[1],r=this.mat3[2],n=this.mat3[3],i=this.mat3[4],o=this.mat3[5],a=this.mat3[6],s=this.mat3[7],l=this.mat3[8],u=l*i-o*s,c=-l*n+o*a,d=s*n-i*a,f=e*u+t*c+r*d;return f?(this.mat3[0]=u*(f=1/f),this.mat3[1]=(-l*t+r*s)*f,this.mat3[2]=(o*t-r*i)*f,this.mat3[3]=c*f,this.mat3[4]=(l*e-r*a)*f,this.mat3[5]=(-o*e+r*n)*f,this.mat3[6]=d*f,this.mat3[7]=(-s*e+t*a)*f,this.mat3[8]=(i*e-t*n)*f,this):null}},{key:"transpose3x3",value:function(e){var t=(e=void 0===e?this.mat3:e)[1],r=e[2],n=e[5];return this.mat3[0]=e[0],this.mat3[1]=e[3],this.mat3[2]=e[6],this.mat3[3]=t,this.mat3[4]=e[4],this.mat3[5]=e[7],this.mat3[6]=r,this.mat3[7]=n,this.mat3[8]=e[8],this}},{key:"inverseTranspose",value:function(e){if(e=e.mat4,void 0===this.mat3?n.default._friendlyError("sorry, this function only works with mat3"):(this.mat3[0]=e[0],this.mat3[1]=e[1],this.mat3[2]=e[2],this.mat3[3]=e[4],this.mat3[4]=e[5],this.mat3[5]=e[6],this.mat3[6]=e[8],this.mat3[7]=e[9],this.mat3[8]=e[10]),e=this.invert3x3())e.transpose3x3(this.mat3);else for(var t=0;t<9;t++)this.mat3[t]=0;return this}},{key:"determinant",value:function(){var e=this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4],t=this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4],r=this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4],n=this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5],i=this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5],o=this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6],a=this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12],s=this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12],l=this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12],u=this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13],c=this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13];return e*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-t*c+r*u+n*l-i*s+o*a}},{key:"mult",value:function(e){var t;if(e===this||e===this.mat4)t=this.copy().mat4;else if(e instanceof n.default.Matrix)t=e.mat4;else if(a(e))t=e;else{if(16!==arguments.length)return;t=arguments}e=this.mat4[0];var r=this.mat4[1],i=this.mat4[2],o=this.mat4[3];return this.mat4[0]=e*t[0]+r*t[4]+i*t[8]+o*t[12],this.mat4[1]=e*t[1]+r*t[5]+i*t[9]+o*t[13],this.mat4[2]=e*t[2]+r*t[6]+i*t[10]+o*t[14],this.mat4[3]=e*t[3]+r*t[7]+i*t[11]+o*t[15],e=this.mat4[4],r=this.mat4[5],i=this.mat4[6],o=this.mat4[7],this.mat4[4]=e*t[0]+r*t[4]+i*t[8]+o*t[12],this.mat4[5]=e*t[1]+r*t[5]+i*t[9]+o*t[13],this.mat4[6]=e*t[2]+r*t[6]+i*t[10]+o*t[14],this.mat4[7]=e*t[3]+r*t[7]+i*t[11]+o*t[15],e=this.mat4[8],r=this.mat4[9],i=this.mat4[10],o=this.mat4[11],this.mat4[8]=e*t[0]+r*t[4]+i*t[8]+o*t[12],this.mat4[9]=e*t[1]+r*t[5]+i*t[9]+o*t[13],this.mat4[10]=e*t[2]+r*t[6]+i*t[10]+o*t[14],this.mat4[11]=e*t[3]+r*t[7]+i*t[11]+o*t[15],e=this.mat4[12],r=this.mat4[13],i=this.mat4[14],o=this.mat4[15],this.mat4[12]=e*t[0]+r*t[4]+i*t[8]+o*t[12],this.mat4[13]=e*t[1]+r*t[5]+i*t[9]+o*t[13],this.mat4[14]=e*t[2]+r*t[6]+i*t[10]+o*t[14],this.mat4[15]=e*t[3]+r*t[7]+i*t[11]+o*t[15],this}},{key:"apply",value:function(e){var t;if(e===this||e===this.mat4)t=this.copy().mat4;else if(e instanceof n.default.Matrix)t=e.mat4;else if(a(e))t=e;else{if(16!==arguments.length)return;t=arguments}var r=(e=this.mat4)[0],i=e[4],o=e[8],s=e[12];e[0]=t[0]*r+t[1]*i+t[2]*o+t[3]*s,e[4]=t[4]*r+t[5]*i+t[6]*o+t[7]*s,e[8]=t[8]*r+t[9]*i+t[10]*o+t[11]*s,e[12]=t[12]*r+t[13]*i+t[14]*o+t[15]*s,r=e[1],i=e[5],o=e[9],s=e[13],e[1]=t[0]*r+t[1]*i+t[2]*o+t[3]*s,e[5]=t[4]*r+t[5]*i+t[6]*o+t[7]*s,e[9]=t[8]*r+t[9]*i+t[10]*o+t[11]*s,e[13]=t[12]*r+t[13]*i+t[14]*o+t[15]*s,r=e[2],i=e[6],o=e[10],s=e[14],e[2]=t[0]*r+t[1]*i+t[2]*o+t[3]*s,e[6]=t[4]*r+t[5]*i+t[6]*o+t[7]*s,e[10]=t[8]*r+t[9]*i+t[10]*o+t[11]*s,e[14]=t[12]*r+t[13]*i+t[14]*o+t[15]*s,r=e[3],i=e[7],o=e[11],s=e[15];return e[3]=t[0]*r+t[1]*i+t[2]*o+t[3]*s,e[7]=t[4]*r+t[5]*i+t[6]*o+t[7]*s,e[11]=t[8]*r+t[9]*i+t[10]*o+t[11]*s,e[15]=t[12]*r+t[13]*i+t[14]*o+t[15]*s,this}},{key:"scale",value:function(e,t,r){return e instanceof n.default.Vector?(t=e.y,r=e.z,e=e.x):e instanceof Array&&(t=e[1],r=e[2],e=e[0]),this.mat4[0]*=e,this.mat4[1]*=e,this.mat4[2]*=e,this.mat4[3]*=e,this.mat4[4]*=t,this.mat4[5]*=t,this.mat4[6]*=t,this.mat4[7]*=t,this.mat4[8]*=r,this.mat4[9]*=r,this.mat4[10]*=r,this.mat4[11]*=r,this}},{key:"rotate",value:function(e,t,r,i){t instanceof n.default.Vector?(r=t.y,i=t.z,t=t.x):t instanceof Array&&(r=t[1],i=t[2],t=t[0]);var o=(t*=1/(o=Math.sqrt(t*t+r*r+i*i)),r*=1/o,i*=1/o,this.mat4[0]),a=this.mat4[1],s=this.mat4[2],l=this.mat4[3],u=this.mat4[4],c=this.mat4[5],d=this.mat4[6],f=this.mat4[7],h=this.mat4[8],p=this.mat4[9],m=this.mat4[10],g=this.mat4[11],y=Math.sin(e),v=1-(e=Math.cos(e)),b=t*t*v+e,_=r*t*v+i*y,w=i*t*v-r*y,E=t*r*v-i*y,x=r*r*v+e,S=i*r*v+t*y,T=t*i*v+r*y;r=r*i*v-t*y,t=i*i*v+e;return this.mat4[0]=o*b+u*_+h*w,this.mat4[1]=a*b+c*_+p*w,this.mat4[2]=s*b+d*_+m*w,this.mat4[3]=l*b+f*_+g*w,this.mat4[4]=o*E+u*x+h*S,this.mat4[5]=a*E+c*x+p*S,this.mat4[6]=s*E+d*x+m*S,this.mat4[7]=l*E+f*x+g*S,this.mat4[8]=o*T+u*r+h*t,this.mat4[9]=a*T+c*r+p*t,this.mat4[10]=s*T+d*r+m*t,this.mat4[11]=l*T+f*r+g*t,this}},{key:"translate",value:function(e){var t=e[0],r=e[1];e=e[2]||0;this.mat4[12]+=this.mat4[0]*t+this.mat4[4]*r+this.mat4[8]*e,this.mat4[13]+=this.mat4[1]*t+this.mat4[5]*r+this.mat4[9]*e,this.mat4[14]+=this.mat4[2]*t+this.mat4[6]*r+this.mat4[10]*e,this.mat4[15]+=this.mat4[3]*t+this.mat4[7]*r+this.mat4[11]*e}},{key:"rotateX",value:function(e){this.rotate(e,1,0,0)}},{key:"rotateY",value:function(e){this.rotate(e,0,1,0)}},{key:"rotateZ",value:function(e){this.rotate(e,0,0,1)}},{key:"perspective",value:function(e,t,r,n){e=1/Math.tan(e/2);var i=1/(r-n);return this.mat4[0]=e/t,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=e,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(n+r)*i,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*n*r*i,this.mat4[15]=0,this}},{key:"ortho",value:function(e,t,r,n,i,o){var a=1/(e-t),s=1/(r-n),l=1/(i-o);return this.mat4[0]=-2*a,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*s,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*l,this.mat4[11]=0,this.mat4[12]=(e+t)*a,this.mat4[13]=(n+r)*s,this.mat4[14]=(o+i)*l,this.mat4[15]=1,this}},{key:"multiplyVec4",value:function(e,t,r,n){var i=new Array(4),o=this.mat4;return i[0]=o[0]*e+o[4]*t+o[8]*r+o[12]*n,i[1]=o[1]*e+o[5]*t+o[9]*r+o[13]*n,i[2]=o[2]*e+o[6]*t+o[10]*r+o[14]*n,i[3]=o[3]*e+o[7]*t+o[11]*r+o[15]*n,i}},{key:"multiplyPoint",value:function(e){var t=e.x,r=e.y;e=e.z,t=this.multiplyVec4(t,r,e,1);return new n.default.Vector(t[0],t[1],t[2])}},{key:"multiplyAndNormalizePoint",value:function(e){var t=e.x,r=e.y;e=e.z;return(t=this.multiplyVec4(t,r,e,1))[0]/=t[3],t[1]/=t[3],t[2]/=t[3],new n.default.Vector(t[0],t[1],t[2])}},{key:"multiplyDirection",value:function(e){var t=e.x,r=e.y;e=e.z,t=this.multiplyVec4(t,r,e,0);return new n.default.Vector(t[0],t[1],t[2])}},{key:"mult3x3",value:function(e){var t;if(e===this||e===this.mat3)t=this.copy().mat3;else if(e instanceof n.default.Matrix)t=e.mat3;else if(a(e))t=e;else{if(9!==arguments.length)return;t=arguments}e=this.mat3[0];var r=this.mat3[1],i=this.mat3[2];return this.mat3[0]=e*t[0]+r*t[3]+i*t[6],this.mat3[1]=e*t[1]+r*t[4]+i*t[7],this.mat3[2]=e*t[2]+r*t[5]+i*t[8],e=this.mat3[3],r=this.mat3[4],i=this.mat3[5],this.mat3[3]=e*t[0]+r*t[3]+i*t[6],this.mat3[4]=e*t[1]+r*t[4]+i*t[7],this.mat3[5]=e*t[2]+r*t[5]+i*t[8],e=this.mat3[6],r=this.mat3[7],i=this.mat3[8],this.mat3[6]=e*t[0]+r*t[3]+i*t[6],this.mat3[7]=e*t[1]+r*t[4]+i*t[7],this.mat3[8]=e*t[2]+r*t[5]+i*t[8],this}},{key:"column",value:function(e){return new n.default.Vector(this.mat3[e],this.mat3[e+3],this.mat3[e+6])}},{key:"row",value:function(e){return new n.default.Vector(this.mat3[3*e],this.mat3[3*e+1],this.mat3[3*e+2])}},{key:"diagonal",value:function(){return void 0!==this.mat3?[this.mat3[0],this.mat3[4],this.mat3[8]]:[this.mat4[0],this.mat4[5],this.mat4[10],this.mat4[15]]}},{key:"multiplyVec3",value:function(e,t){return(t=void 0===t?e.copy():t).x=this.row(0).dot(e),t.y=this.row(1).dot(e),t.z=this.row(2).dot(e),t}},{key:"createSubMatrix3x3",value:function(){var e=new n.default.Matrix("mat3");return e.mat3[0]=this.mat4[0],e.mat3[1]=this.mat4[1],e.mat3[2]=this.mat4[2],e.mat3[3]=this.mat4[4],e.mat3[4]=this.mat4[5],e.mat3[5]=this.mat4[6],e.mat3[6]=this.mat4[8],e.mat3[7]=this.mat4[9],e.mat3[8]=this.mat4[10],e}}])&&i(t.prototype,r),s&&i(t,s),e}(),e=n.default.Matrix;r.default=e},{"../core/main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.to-string":180,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.float32-array":209,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229}],325:[function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e("core-js/modules/es.array.map"),e("core-js/modules/es.array.map"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,(e=(e=e("../core/main"))&&e.__esModule?e:{default:e}).default.RenderBuffer=function(){function e(t,r,n,i,o,a){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.size=t,this.src=r,this.dst=n,this.attr=i,this._renderer=o,this.map=a}var t,r;return t=e,(r=[{key:"_prepareBuffer",value:function(e,t){var r,n,i,o=t.attributes,a=this._renderer.GL,s=e.model||e;(o=o[this.attr])&&(r=e[this.dst],0<(n=s[this.src]).length?((i=!r)&&(e[this.dst]=r=a.createBuffer()),a.bindBuffer(a.ARRAY_BUFFER,r),!i&&!1===s.dirtyFlags[this.src]||(i=(e=this.map)?e(n):n,this._renderer._bindBuffer(r,a.ARRAY_BUFFER,i),s.dirtyFlags[this.src]=!1),t.enableAttrib(o,this.size)):-1!==(e=o.location)&&this._renderer.registerEnabled[e]&&(a.disableVertexAttribArray(e),this._renderer.registerEnabled[e]=!1))}}])&&n(t.prototype,r),e}(),e=e.default.RenderBuffer,r.default=e},{"../core/main":273,"core-js/modules/es.array.map":163}],326:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=(c=e("../core/main"))&&c.__esModule?c:{default:c},a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var a;Object.prototype.hasOwnProperty.call(e,r)&&((a=o?Object.getOwnPropertyDescriptor(e,r):null)&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=e[r])}return n.default=e,t&&t.set(e,n),n}(e("../core/constants"));function s(){var e;return"function"!=typeof WeakMap?null:(e=new WeakMap,s=function(){return e},e)}function l(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}e("./p5.RenderBuffer"),o.default.RendererGL.prototype.beginShape=function(e){return this.immediateMode.shapeMode=void 0!==e?e:a.TESS,this.immediateMode.geometry.reset(),this};var u={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},c=(o.default.RendererGL.prototype.vertex=function(e,t){if(this.immediateMode.shapeMode===a.QUADS&&this.immediateMode.geometry.vertices.length%6==3)for(var r in u){var n=u[r];(r=this.immediateMode.geometry[r]).push.apply(r,l(r.slice(r.length-3*n,r.length-2*n)).concat(l(r.slice(r.length-n,r.length))))}var i,s,c=i=s=0,d=(3===arguments.length?c=arguments[2]:4===arguments.length?(i=arguments[2],s=arguments[3]):5===arguments.length&&(c=arguments[2],i=arguments[3],s=arguments[4]),new o.default.Vector(e,t,c));this.immediateMode.geometry.vertices.push(d),this.immediateMode.geometry.vertexNormals.push(this._currentNormal),d=this.curFillColor||[.5,.5,.5,1],this.immediateMode.geometry.vertexColors.push(d[0],d[1],d[2],d[3]),d=this.curStrokeColor||[.5,.5,.5,1];return this.immediateMode.geometry.vertexStrokeColors.push(d[0],d[1],d[2],d[3]),this.textureMode===a.IMAGE&&(null!==this._tex?0<this._tex.width&&0<this._tex.height&&(i/=this._tex.width,s/=this._tex.height):!this.isProcessingVertices&&null===this._tex&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(i,s),this.immediateMode._bezierVertex[0]=e,this.immediateMode._bezierVertex[1]=t,this.immediateMode._bezierVertex[2]=c,this.immediateMode._quadraticVertex[0]=e,this.immediateMode._quadraticVertex[1]=t,this.immediateMode._quadraticVertex[2]=c,this},o.default.RendererGL.prototype.normal=function(e,t,r){return e instanceof o.default.Vector?this._currentNormal=e:this._currentNormal=new o.default.Vector(e,t,r),this},o.default.RendererGL.prototype.endShape=function(e,t,r,n,i,o){return this.immediateMode.shapeMode===a.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this.isProcessingVertices=!0,this._processVertices.apply(this,arguments),this.isProcessingVertices=!1,this._doFill&&1<this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(),this._doStroke&&1<this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},o.default.RendererGL.prototype._processVertices=function(e){var t;0!==this.immediateMode.geometry.vertices.length&&(t=this._doStroke,e=e===a.CLOSE,t&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,e),this.immediateMode.geometry._edgesToVertices()),t=this.immediateMode.shapeMode===a.TESS,this._doFill&&(this.isBezier||this.isQuadratic||this.isCurve||t)&&this.immediateMode.shapeMode!==a.LINES&&this._tesselateShape())},o.default.RendererGL.prototype._calculateEdges=function(e,t,r){var n=[],i=0;switch(e){case a.TRIANGLE_STRIP:for(i=0;i<t.length-2;i++)n.push([i,i+1]),n.push([i,i+2]);n.push([i,i+1]);break;case a.TRIANGLE_FAN:for(i=1;i<t.length-1;i++)n.push([0,i]),n.push([i,i+1]);n.push([0,t.length-1]);break;case a.TRIANGLES:for(i=0;i<t.length-2;i+=3)n.push([i,i+1]),n.push([i+1,i+2]),n.push([i+2,i]);break;case a.LINES:for(i=0;i<t.length-1;i+=2)n.push([i,i+1]);break;case a.QUADS:for(i=0;i<t.length-5;i+=6)n.push([i,i+1]),n.push([i+1,i+2]),n.push([i+3,i+5]),n.push([i+4,i+5]);break;case a.QUAD_STRIP:for(i=0;i<t.length-2;i+=2)n.push([i,i+1]),n.push([i,i+2]),n.push([i+1,i+3]);n.push([i,i+1]);break;default:for(i=0;i<t.length-1;i++)n.push([i,i+1])}return r&&n.push([t.length-1,0]),n},o.default.RendererGL.prototype._tesselateShape=function(){for(var e=this,t=(this.immediateMode.shapeMode=a.TRIANGLES,[this._flatten(this.immediateMode.geometry.vertices.map((function(t,r){return[t.x,t.y,t.z,e.immediateMode.geometry.uvs[2*r],e.immediateMode.geometry.uvs[2*r+1],e.immediateMode.geometry.vertexColors[4*r],e.immediateMode.geometry.vertexColors[4*r+1],e.immediateMode.geometry.vertexColors[4*r+2],e.immediateMode.geometry.vertexColors[4*r+3],e.immediateMode.geometry.vertexNormals[r].x,e.immediateMode.geometry.vertexNormals[r].y,e.immediateMode.geometry.vertexNormals[r].z]})))]),r=this._triangulate(t),n=(this.immediateMode.geometry.vertices=[],this.immediateMode.geometry.vertexNormals=[],this.immediateMode.geometry.uvs=[],[]),i=0,s=r.length;i<s;i+=o.default.RendererGL.prototype.tessyVertexSize)n.push.apply(n,l(r.slice(i+5,i+9))),this.normal.apply(this,l(r.slice(i+9,i+12))),this.vertex.apply(this,l(r.slice(i,i+5)));this.immediateMode.geometry.vertexColors=n},o.default.RendererGL.prototype._drawImmediateFill=function(){var e=this.GL,t=(this._useVertexColor=0<this.immediateMode.geometry.vertexColors.length,this._getImmediateFillShader()),r=(this._setFillUniforms(t),!0),n=!1,i=void 0;try{for(var o,s=this.immediateMode.buffers.fill[Symbol.iterator]();!(r=(o=s.next()).done);r=!0)o.value._prepareBuffer(this.immediateMode.geometry,t)}catch(e){n=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(n)throw i}}this.immediateMode.shapeMode!==a.LINE_STRIP&&this.immediateMode.shapeMode!==a.LINES||(this.immediateMode.shapeMode=a.TRIANGLE_FAN),this.immediateMode.shapeMode===a.QUADS?this.immediateMode.shapeMode=a.TRIANGLES:this.immediateMode.shapeMode===a.QUAD_STRIP&&(this.immediateMode.shapeMode=a.TRIANGLE_STRIP),this._applyColorBlend(this.curFillColor),e.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length),t.unbindShader()},o.default.RendererGL.prototype._drawImmediateStroke=function(){var e=this.GL,t=e.isEnabled(e.CULL_FACE),r=(e.disable(e.CULL_FACE),this._getImmediateStrokeShader()),n=(this._useLineColor=0<this.immediateMode.geometry.vertexStrokeColors.length,this._setStrokeUniforms(r),!0),i=!1,o=void 0;try{for(var a,s=this.immediateMode.buffers.stroke[Symbol.iterator]();!(n=(a=s.next()).done);n=!0)a.value._prepareBuffer(this.immediateMode.geometry,r)}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}this._applyColorBlend(this.curStrokeColor),e.drawArrays(e.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length),t&&e.enable(e.CULL_FACE),r.unbindShader()},o.default.RendererGL);r.default=c},{"../core/constants":262,"../core/main":273,"./p5.RenderBuffer":325,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.from":157,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],327:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.some"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.float32-array"),e("core-js/modules/es.typed-array.uint16-array"),e("core-js/modules/es.typed-array.uint32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.some"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.float32-array"),e("core-js/modules/es.typed-array.uint16-array"),e("core-js/modules/es.typed-array.uint32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=(u=e("../core/main"))&&u.__esModule?u:{default:u},a=(e("./p5.RendererGL"),e("./p5.RenderBuffer"),function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var a;Object.prototype.hasOwnProperty.call(e,r)&&((a=o?Object.getOwnPropertyDescriptor(e,r):null)&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=e[r])}return n.default=e,t&&t.set(e,n),n}(e("../core/constants")));function s(){var e;return"function"!=typeof WeakMap?null:(e=new WeakMap,s=function(){return e},e)}var l=0,u=(o.default.RendererGL.prototype._initBufferDefaults=function(e){var t;return this._freeBuffers(e),1e3<++l&&(t=Object.keys(this.retainedMode.geometry)[0],delete this.retainedMode.geometry[t],l--),this.retainedMode.geometry[e]={}},o.default.RendererGL.prototype._freeBuffers=function(e){var t,r=this.retainedMode.geometry[e];function n(e){var n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value;r[l.dst]&&(t.deleteBuffer(r[l.dst]),r[l.dst]=null)}}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}}r&&(delete this.retainedMode.geometry[e],l--,t=this.GL,r.indexBuffer&&t.deleteBuffer(r.indexBuffer),n(this.retainedMode.buffers.stroke),n(this.retainedMode.buffers.fill))},o.default.RendererGL.prototype.createBuffers=function(e,t){var r,n,i,a=this.GL,s=((e=this._initBufferDefaults(e)).model=t,e.indexBuffer);return t.faces.length?(s=s||(e.indexBuffer=a.createBuffer()),i=(n=(r=o.default.RendererGL.prototype._flatten(t.faces)).some((function(e){return 65535<e})))?Uint32Array:Uint16Array,this._bindBuffer(s,a.ELEMENT_ARRAY_BUFFER,r,i),e.indexBufferType=n?a.UNSIGNED_INT:a.UNSIGNED_SHORT,e.vertexCount=3*t.faces.length):(s&&(a.deleteBuffer(s),e.indexBuffer=null),e.vertexCount=t.vertices?t.vertices.length:0),e.lineVertexCount=t.lineVertices?t.lineVertices.length:0,e},o.default.RendererGL.prototype.drawBuffers=function(e){var t=this.GL,r=this.retainedMode.geometry[e];if(this._doFill){this._useVertexColor=0<r.model.vertexColors.length;var n=this._getRetainedFillShader(),i=(this._setFillUniforms(n),!0),o=!1,a=void 0;try{for(var s,l=this.retainedMode.buffers.fill[Symbol.iterator]();!(i=(s=l.next()).done);i=!0)s.value._prepareBuffer(r,n)}catch(e){o=!0,a=e}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}r.indexBuffer&&this._bindBuffer(r.indexBuffer,t.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor),this._drawElements(t.TRIANGLES,e),n.unbindShader()}if(this._doStroke&&0<r.lineVertexCount){o=t.isEnabled(t.CULL_FACE);var u=(t.disable(t.CULL_FACE),this._getRetainedStrokeShader()),c=(this._useLineColor=0<r.model.vertexStrokeColors.length,this._setStrokeUniforms(u),!0),d=(a=!1,void 0);try{for(var f,h=this.retainedMode.buffers.stroke[Symbol.iterator]();!(c=(f=h.next()).done);c=!0)f.value._prepareBuffer(r,u)}catch(e){a=!0,d=e}finally{try{c||null==h.return||h.return()}finally{if(a)throw d}}this._applyColorBlend(this.curStrokeColor),this._drawArrays(t.TRIANGLES,e),o&&t.enable(t.CULL_FACE),u.unbindShader()}return this},o.default.RendererGL.prototype.drawBuffersScaled=function(e,t,r,n){var i=this.uMVMatrix.copy();try{this.uMVMatrix.scale(t,r,n),this.drawBuffers(e)}finally{this.uMVMatrix=i}},o.default.RendererGL.prototype._drawArrays=function(e,t){return this.GL.drawArrays(e,0,this.retainedMode.geometry[t].lineVertexCount),this},o.default.RendererGL.prototype._drawElements=function(e,t){t=this.retainedMode.geometry[t];var r=this.GL;if(t.indexBuffer){if(this._pInst.webglVersion!==a.WEBGL2&&t.indexBufferType===r.UNSIGNED_INT&&!r.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");r.drawElements(r.TRIANGLES,t.vertexCount,t.indexBufferType,0)}else r.drawArrays(e||r.TRIANGLES,0,t.vertexCount)},o.default.RendererGL.prototype._drawPoints=function(e,t){var r=this.GL,n=this._getImmediatePointShader();this._setPointUniforms(n),this._bindBuffer(t,r.ARRAY_BUFFER,this._vToNArray(e),Float32Array,r.STATIC_DRAW),n.enableAttrib(n.attributes.aPosition,3),this._applyColorBlend(this.curStrokeColor),r.drawArrays(r.Points,0,e.length),n.unbindShader()},o.default.RendererGL);r.default=u},{"../core/constants":262,"../core/main":273,"./p5.RenderBuffer":325,"./p5.RendererGL":328,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.some":165,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.float32-array":209,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint16-array":230,"core-js/modules/es.typed-array.uint32-array":231,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],328:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.copy-within"),e("core-js/modules/es.array.every"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.some"),e("core-js/modules/es.map"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.get-prototype-of"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.reflect.construct"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.set"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.float32-array"),e("core-js/modules/es.typed-array.float64-array"),e("core-js/modules/es.typed-array.int16-array"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.uint16-array"),e("core-js/modules/es.typed-array.uint32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.copy-within"),e("core-js/modules/es.array.every"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.some"),e("core-js/modules/es.map"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.get-prototype-of"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.reflect.construct"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.set"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.float32-array"),e("core-js/modules/es.typed-array.float64-array"),e("core-js/modules/es.typed-array.int16-array"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.uint16-array"),e("core-js/modules/es.typed-array.uint32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.readPixelsWebGL=x,r.readPixelWebGL=S,r.default=void 0;var i=l(e("../core/main")),o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==u(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r,n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var o;Object.prototype.hasOwnProperty.call(e,r)&&((o=i?Object.getOwnPropertyDescriptor(e,r):null)&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r])}return n.default=e,t&&t.set(e,n),n}(e("../core/constants")),a=l(e("libtess"));function s(){var e;return"function"!=typeof WeakMap?null:(e=new WeakMap,s=function(){return e},e)}function l(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}function c(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){return function(){var t,r,n=m(e);return t=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),1}catch(t){}}}()?(t=m(this).constructor,Reflect.construct(n,arguments,t)):n.apply(this,arguments),n=this,!(r=t)||"object"!==u(r)&&"function"!=typeof r?p(n):r}}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){_+="#define STROKE_CAP_".concat(e," ").concat(t,"\n"),v[o[e]]=t}function y(e,t){_+="#define STROKE_JOIN_".concat(e," ").concat(t,"\n"),b[o[e]]=t}e("./p5.Shader"),e("./p5.Camera"),e("../core/p5.Renderer"),e("./p5.Matrix"),e("path");var v={},b={},_="",w="#ifdef WEBGL2\n\n#define IN in\n#define OUT out\n\n#ifdef FRAGMENT_SHADER\nout vec4 outColor;\n#define OUT_COLOR outColor\n#endif\n#define TEXTURE texture\n\n#else\n\n#ifdef FRAGMENT_SHADER\n#define IN varying\n#else\n#define IN attribute\n#endif\n#define OUT varying\n#define TEXTURE texture2D\n\n#ifdef FRAGMENT_SHADER\n#define OUT_COLOR gl_FragColor\n#endif\n\n#endif\n",E={immediateVert:"attribute vec3 aPosition;\nattribute vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uResolution;\nuniform float uPointSize;\n\nvarying vec4 vColor;\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor = aVertexColor;\n  gl_PointSize = uPointSize;\n}\n",vertexColorVert:"attribute vec3 aPosition;\nattribute vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nvarying vec4 vColor;\n\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor = aVertexColor;\n}\n",vertexColorFrag:"precision mediump float;\nvarying vec4 vColor;\nvoid main(void) {\n  gl_FragColor = vec4(vColor.rgb, 1.) * vColor.a;\n}\n",normalVert:"attribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\nattribute vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nuniform vec4 uMaterialColor;\nuniform bool uUseVertexColor;\n\nvarying vec3 vVertexNormal;\nvarying highp vec2 vVertTexCoord;\nvarying vec4 vColor;\n\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));\n  vVertTexCoord = aTexCoord;\n  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);\n}\n",normalFrag:"precision mediump float;\nvarying vec3 vVertexNormal;\nvoid main(void) {\n  gl_FragColor = vec4(vVertexNormal, 1.0);\n}",basicFrag:"precision mediump float;\nvarying vec4 vColor;\nvoid main(void) {\n  gl_FragColor = vec4(vColor.rgb, 1.) * vColor.a;\n}\n",lightVert:(e=(g("ROUND",0),g("PROJECT",1),g("SQUARE",2),y("ROUND",0),y("MITER",1),y("BEVEL",2),"precision highp float;\nprecision highp int;\n\nuniform mat4 uViewMatrix;\n\nuniform bool uUseLighting;\n\nuniform int uAmbientLightCount;\nuniform vec3 uAmbientColor[5];\n\nuniform int uDirectionalLightCount;\nuniform vec3 uLightingDirection[5];\nuniform vec3 uDirectionalDiffuseColors[5];\nuniform vec3 uDirectionalSpecularColors[5];\n\nuniform int uPointLightCount;\nuniform vec3 uPointLightLocation[5];\nuniform vec3 uPointLightDiffuseColors[5];\t\nuniform vec3 uPointLightSpecularColors[5];\n\nuniform int uSpotLightCount;\nuniform float uSpotLightAngle[5];\nuniform float uSpotLightConc[5];\nuniform vec3 uSpotLightDiffuseColors[5];\nuniform vec3 uSpotLightSpecularColors[5];\nuniform vec3 uSpotLightLocation[5];\nuniform vec3 uSpotLightDirection[5];\n\nuniform bool uSpecular;\nuniform float uShininess;\n\nuniform float uConstantAttenuation;\nuniform float uLinearAttenuation;\nuniform float uQuadraticAttenuation;\n\nconst float specularFactor = 2.0;\nconst float diffuseFactor = 0.73;\n\nstruct LightResult {\n  float specular;\n  float diffuse;\n};\n\nfloat _phongSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float shininess) {\n\n  vec3 R = reflect(lightDirection, surfaceNormal);\n  return pow(max(0.0, dot(R, viewDirection)), shininess);\n}\n\nfloat _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {\n  return max(0.0, dot(-lightDirection, surfaceNormal));\n}\n\nLightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector) {\n\n  vec3 lightDir = normalize(lightVector);\n\n  //compute our diffuse & specular terms\n  LightResult lr;\n  if (uSpecular)\n    lr.specular = _phongSpecular(lightDir, viewDirection, normal, uShininess);\n  lr.diffuse = _lambertDiffuse(lightDir, normal);\n  return lr;\n}\n\nvoid totalLight(\n  vec3 modelPosition,\n  vec3 normal,\n  out vec3 totalDiffuse,\n  out vec3 totalSpecular\n) {\n\n  totalSpecular = vec3(0.0);\n\n  if (!uUseLighting) {\n    totalDiffuse = vec3(1.0);\n    return;\n  }\n\n  totalDiffuse = vec3(0.0);\n\n  vec3 viewDirection = normalize(-modelPosition);\n\n  for (int j = 0; j < 5; j++) {\n    if (j < uDirectionalLightCount) {\n      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;\n      vec3 lightColor = uDirectionalDiffuseColors[j];\n      vec3 specularColor = uDirectionalSpecularColors[j];\n      LightResult result = _light(viewDirection, normal, lightVector);\n      totalDiffuse += result.diffuse * lightColor;\n      totalSpecular += result.specular * lightColor * specularColor;\n    }\n\n    if (j < uPointLightCount) {\n      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;\n      vec3 lightVector = modelPosition - lightPosition;\n    \n      //calculate attenuation\n      float lightDistance = length(lightVector);\n      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);\n      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];\n      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];\n\n      LightResult result = _light(viewDirection, normal, lightVector);\n      totalDiffuse += result.diffuse * lightColor;\n      totalSpecular += result.specular * lightColor * specularColor;\n    }\n\n    if(j < uSpotLightCount) {\n      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;\n      vec3 lightVector = modelPosition - lightPosition;\n    \n      float lightDistance = length(lightVector);\n      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);\n\n      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;\n      float spotDot = dot(normalize(lightVector), normalize(lightDirection));\n      float spotFalloff;\n      if(spotDot < uSpotLightAngle[j]) {\n        spotFalloff = 0.0;\n      }\n      else {\n        spotFalloff = pow(spotDot, uSpotLightConc[j]);\n      }\n      lightFalloff *= spotFalloff;\n\n      vec3 lightColor = uSpotLightDiffuseColors[j];\n      vec3 specularColor = uSpotLightSpecularColors[j];\n     \n      LightResult result = _light(viewDirection, normal, lightVector);\n      \n      totalDiffuse += result.diffuse * lightColor * lightFalloff;\n      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;\n    }\n  }\n\n  totalDiffuse *= diffuseFactor;\n  totalSpecular *= specularFactor;\n}\n"))+"// include lighting.glgl\n\nattribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\nattribute vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nuniform bool uUseVertexColor;\nuniform vec4 uMaterialColor;\n\nvarying highp vec2 vVertTexCoord;\nvarying vec3 vDiffuseColor;\nvarying vec3 vSpecularColor;\nvarying vec4 vColor;\n\nvoid main(void) {\n\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * viewModelPosition;\n\n  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);\n  vVertTexCoord = aTexCoord;\n\n  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);\n\n  for (int i = 0; i < 8; i++) {\n    if (i < uAmbientLightCount) {\n      vDiffuseColor += uAmbientColor[i];\n    }\n  }\n  \n  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);\n}\n",lightTextureFrag:"precision highp float;\n\nuniform vec4 uTint;\nuniform sampler2D uSampler;\nuniform bool isTexture;\nuniform bool uEmissive;\n\nvarying highp vec2 vVertTexCoord;\nvarying vec3 vDiffuseColor;\nvarying vec3 vSpecularColor;\nvarying vec4 vColor;\n\nvoid main(void) {\n  if(uEmissive && !isTexture) {\n    gl_FragColor = vColor;\n  }\n  else {\n    vec4 baseColor = isTexture\n      // Textures come in with premultiplied alpha. To apply tint and still have\n      // premultiplied alpha output, we need to multiply the RGB channels by the\n      // tint RGB, and all channels by the tint alpha.\n      ? texture2D(uSampler, vVertTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)\n      // Colors come in with unmultiplied alpha, so we need to multiply the RGB\n      // channels by alpha to convert it to premultiplied alpha.\n      : vec4(vColor.rgb * vColor.a, vColor.a);\n    gl_FragColor = vec4(baseColor.rgb * vDiffuseColor + vSpecularColor, baseColor.a);\n  }\n}\n",phongVert:"precision highp float;\nprecision highp int;\n\nattribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\nattribute vec4 aVertexColor;\n\nuniform vec3 uAmbientColor[5];\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\nuniform int uAmbientLightCount;\n\nuniform bool uUseVertexColor;\nuniform vec4 uMaterialColor;\n\nvarying vec3 vNormal;\nvarying vec2 vTexCoord;\nvarying vec3 vViewPosition;\nvarying vec3 vAmbientColor;\nvarying vec4 vColor;\n\nvoid main(void) {\n\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n\n  // Pass varyings to fragment shader\n  vViewPosition = viewModelPosition.xyz;\n  gl_Position = uProjectionMatrix * viewModelPosition;  \n\n  vNormal = uNormalMatrix * aNormal;\n  vTexCoord = aTexCoord;\n\n  // TODO: this should be a uniform\n  vAmbientColor = vec3(0.0);\n  for (int i = 0; i < 5; i++) {\n    if (i < uAmbientLightCount) {\n      vAmbientColor += uAmbientColor[i];\n    }\n  }\n  \n  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);\n}\n",phongFrag:e+"// include lighting.glsl\nprecision highp float;\nprecision highp int;\n\nuniform bool uHasSetAmbient;\nuniform vec4 uSpecularMatColor;\nuniform vec4 uAmbientMatColor;\nuniform vec4 uEmissiveMatColor;\n\nuniform vec4 uTint;\nuniform sampler2D uSampler;\nuniform bool isTexture;\n\nvarying vec3 vNormal;\nvarying vec2 vTexCoord;\nvarying vec3 vViewPosition;\nvarying vec3 vAmbientColor;\nvarying vec4 vColor;\n\nvoid main(void) {\n\n  vec3 diffuse;\n  vec3 specular;\n  totalLight(vViewPosition, normalize(vNormal), diffuse, specular);\n\n  // Calculating final color as result of all lights (plus emissive term).\n\n  vec4 baseColor = isTexture\n    // Textures come in with premultiplied alpha. To apply tint and still have\n    // premultiplied alpha output, we need to multiply the RGB channels by the\n    // tint RGB, and all channels by the tint alpha.\n    ? texture2D(uSampler, vTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)\n    // Colors come in with unmultiplied alpha, so we need to multiply the RGB\n    // channels by alpha to convert it to premultiplied alpha.\n    : vec4(vColor.rgb * vColor.a, vColor.a);\n  gl_FragColor = vec4(diffuse * baseColor.rgb + \n                    vAmbientColor * (\n                      uHasSetAmbient ? uAmbientMatColor.rgb : baseColor.rgb\n                    ) + \n                    specular * uSpecularMatColor.rgb + \n                    uEmissiveMatColor.rgb, baseColor.a);\n}\n",fontVert:w+"IN vec3 aPosition;\nIN vec2 aTexCoord;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nuniform vec4 uGlyphRect;\nuniform float uGlyphOffset;\n\nOUT vec2 vTexCoord;\nOUT float w;\n\nvoid main() {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n\n  // scale by the size of the glyph's rectangle\n  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;\n\n  // Expand glyph bounding boxes by 1px on each side to give a bit of room\n  // for antialiasing\n  vec2 pixelScale = vec2(\n    1. / uModelViewMatrix[0][0],\n    1. / uModelViewMatrix[1][1]\n  );\n  vec2 offset = pixelScale * normalize(aTexCoord - vec2(0.5, 0.5)) * vec2(1., -1.);\n  vec2 textureOffset = offset * (1. / vec2(\n    uGlyphRect.z - uGlyphRect.x,\n    uGlyphRect.w - uGlyphRect.y\n  ));\n\n  // move to the corner of the glyph\n  positionVec4.xy += uGlyphRect.xy;\n\n  // move to the letter's line offset\n  positionVec4.x += uGlyphOffset;\n\n  positionVec4.xy += offset;\n  \n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vTexCoord = aTexCoord + textureOffset;\n  w = gl_Position.w;\n}\n",fontFrag:w+"#ifndef WEBGL2\n#extension GL_OES_standard_derivatives : enable\n#endif\n\n#if 0\n  // simulate integer math using floats\n\t#define int float\n\t#define ivec2 vec2\n\t#define INT(x) float(x)\n\n\tint ifloor(float v) { return floor(v); }\n\tivec2 ifloor(vec2 v) { return floor(v); }\n\n#else\n  // use native integer math\n\tprecision highp int;\n\t#define INT(x) x\n\n\tint ifloor(float v) { return int(v); }\n\tint ifloor(int v) { return v; }\n\tivec2 ifloor(vec2 v) { return ivec2(v); }\n\n#endif\n\nuniform sampler2D uSamplerStrokes;\nuniform sampler2D uSamplerRowStrokes;\nuniform sampler2D uSamplerRows;\nuniform sampler2D uSamplerColStrokes;\nuniform sampler2D uSamplerCols;\n\nuniform ivec2 uStrokeImageSize;\nuniform ivec2 uCellsImageSize;\nuniform ivec2 uGridImageSize;\n\nuniform ivec2 uGridOffset;\nuniform ivec2 uGridSize;\nuniform vec4 uMaterialColor;\n\nIN vec2 vTexCoord;\n\n// some helper functions\nint ROUND(float v) { return ifloor(v + 0.5); }\nivec2 ROUND(vec2 v) { return ifloor(v + 0.5); }\nfloat saturate(float v) { return clamp(v, 0.0, 1.0); }\nvec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }\n\nint mul(float v1, int v2) {\n  return ifloor(v1 * float(v2));\n}\n\nivec2 mul(vec2 v1, ivec2 v2) {\n  return ifloor(v1 * vec2(v2) + 0.5);\n}\n\n// unpack a 16-bit integer from a float vec2\nint getInt16(vec2 v) {\n  ivec2 iv = ROUND(v * 255.0);\n  return iv.x * INT(128) + iv.y;\n}\n\nvec2 pixelScale;\nvec2 coverage = vec2(0.0);\nvec2 weight = vec2(0.5);\nconst float minDistance = 1.0/8192.0;\nconst float hardness = 1.05; // amount of antialias\n\n// the maximum number of curves in a glyph\nconst int N = INT(250);\n\n// retrieves an indexed pixel from a sampler\nvec4 getTexel(sampler2D sampler, int pos, ivec2 size) {\n  int width = size.x;\n  int y = ifloor(pos / width);\n  int x = pos - y * width;  // pos % width\n\n  return TEXTURE(sampler, (vec2(x, y) + 0.5) / vec2(size));\n}\n\nvoid calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {\n\n  // get the coefficients of the quadratic in t\n  vec2 a = p0 - p1 * 2.0 + p2;\n  vec2 b = p0 - p1;\n  vec2 c = p0 - vTexCoord;\n\n  // found out which values of 't' it crosses the axes\n  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));\n  vec2 t1 = ((b - surd) / a).yx;\n  vec2 t2 = ((b + surd) / a).yx;\n\n  // approximate straight lines to avoid rounding errors\n  if (abs(a.y) < 0.001)\n    t1.x = t2.x = c.y / (2.0 * b.y);\n\n  if (abs(a.x) < 0.001)\n    t1.y = t2.y = c.x / (2.0 * b.x);\n\n  // plug into quadratic formula to find the corrdinates of the crossings\n  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;\n  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;\n}\n\nvoid coverageX(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  // determine on which side of the x-axis the points lie\n  bool y0 = p0.y > vTexCoord.y;\n  bool y1 = p1.y > vTexCoord.y;\n  bool y2 = p2.y > vTexCoord.y;\n\n  // could web be under the curve (after t1)?\n  if (y1 ? !y2 : y0) {\n    // add the coverage for t1\n    coverage.x += saturate(C1.x + 0.5);\n    // calculate the anti-aliasing for t1\n    weight.x = min(weight.x, abs(C1.x));\n  }\n\n  // are we outside the curve (after t2)?\n  if (y1 ? !y0 : y2) {\n    // subtract the coverage for t2\n    coverage.x -= saturate(C2.x + 0.5);\n    // calculate the anti-aliasing for t2\n    weight.x = min(weight.x, abs(C2.x));\n  }\n}\n\n// this is essentially the same as coverageX, but with the axes swapped\nvoid coverageY(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  bool x0 = p0.x > vTexCoord.x;\n  bool x1 = p1.x > vTexCoord.x;\n  bool x2 = p2.x > vTexCoord.x;\n\n  if (x1 ? !x2 : x0) {\n    coverage.y -= saturate(C1.y + 0.5);\n    weight.y = min(weight.y, abs(C1.y));\n  }\n\n  if (x1 ? !x0 : x2) {\n    coverage.y += saturate(C2.y + 0.5);\n    weight.y = min(weight.y, abs(C2.y));\n  }\n}\n\nvoid main() {\n\n  // calculate the pixel scale based on screen-coordinates\n  pixelScale = hardness / fwidth(vTexCoord);\n\n  // which grid cell is this pixel in?\n  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));\n\n  // intersect curves in this row\n  {\n    // the index into the row info bitmap\n    int rowIndex = gridCoord.y + uGridOffset.y;\n    // fetch the info texel\n    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);\n    // unpack the rowInfo\n    int rowStrokeIndex = getInt16(rowInfo.xy);\n    int rowStrokeCount = getInt16(rowInfo.zw);\n\n    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {\n      if (iRowStroke >= rowStrokeCount)\n        break;\n\n      // each stroke is made up of 3 points: the start and control point\n      // and the start of the next curve.\n      // fetch the indices of this pair of strokes:\n      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);\n\n      // unpack the stroke index\n      int strokePos = getInt16(strokeIndices.xy);\n\n      // fetch the two strokes\n      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n\n      // calculate the coverage\n      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  // intersect curves in this column\n  {\n    int colIndex = gridCoord.x + uGridOffset.x;\n    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);\n    int colStrokeIndex = getInt16(colInfo.xy);\n    int colStrokeCount = getInt16(colInfo.zw);\n    \n    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {\n      if (iColStroke >= colStrokeCount)\n        break;\n\n      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);\n\n      int strokePos = getInt16(strokeIndices.xy);\n      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  weight = saturate(1.0 - weight * 2.0);\n  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.\n  float antialias = abs(dot(coverage, weight) / distance);\n  float cover = min(abs(coverage.x), abs(coverage.y));\n  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;\n  OUT_COLOR *= saturate(max(antialias, cover));\n}\n",lineVert:_+"/*\n  Part of the Processing project - http://processing.org\n  Copyright (c) 2012-15 The Processing Foundation\n  Copyright (c) 2004-12 Ben Fry and Casey Reas\n  Copyright (c) 2001-04 Massachusetts Institute of Technology\n  This library is free software; you can redistribute it and/or\n  modify it under the terms of the GNU Lesser General Public\n  License as published by the Free Software Foundation, version 2.1.\n  This library is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n  Lesser General Public License for more details.\n  You should have received a copy of the GNU Lesser General\n  Public License along with this library; if not, write to the\n  Free Software Foundation, Inc., 59 Temple Place, Suite 330,\n  Boston, MA  02111-1307  USA\n*/\n\n#define PROCESSING_LINE_SHADER\n\nprecision mediump float;\nprecision mediump int;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uStrokeWeight;\n\nuniform bool uUseLineColor;\nuniform vec4 uMaterialColor;\n\nuniform vec4 uViewport;\nuniform int uPerspective;\nuniform int uStrokeJoin;\n\nattribute vec4 aPosition;\nattribute vec3 aTangentIn;\nattribute vec3 aTangentOut;\nattribute float aSide;\nattribute vec4 aVertexColor;\n\nvarying vec4 vColor;\nvarying vec2 vTangent;\nvarying vec2 vCenter;\nvarying vec2 vPosition;\nvarying float vMaxDist;\nvarying float vCap;\nvarying float vJoin;\n\nvec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {\n  // Rotate and translate so a starts at the origin and goes out to the right\n  bPoint -= aPoint;\n  vec2 rotatedBFrom = vec2(\n    bPoint.x*aDir.x + bPoint.y*aDir.y,\n    bPoint.y*aDir.x - bPoint.x*aDir.y\n  );\n  vec2 bTo = bPoint + bDir;\n  vec2 rotatedBTo = vec2(\n    bTo.x*aDir.x + bTo.y*aDir.y,\n    bTo.y*aDir.x - bTo.x*aDir.y\n  );\n  float intersectionDistance =\n    rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /\n    (rotatedBTo.y - rotatedBFrom.y);\n  return aPoint + aDir * intersectionDistance;\n}\n\nvoid main() {\n  // Caps have one of either the in or out tangent set to 0\n  vCap = (aTangentIn == vec3(0.)) != (aTangentOut == (vec3(0.)))\n    ? 1. : 0.;\n\n  // Joins have two unique, defined tangents\n  vJoin = (\n    aTangentIn != vec3(0.) &&\n    aTangentOut != vec3(0.) &&\n    aTangentIn != aTangentOut\n  ) ? 1. : 0.;\n\n  vec4 posp = uModelViewMatrix * aPosition;\n  vec4 posqIn = uModelViewMatrix * (aPosition + vec4(aTangentIn, 0));\n  vec4 posqOut = uModelViewMatrix * (aPosition + vec4(aTangentOut, 0));\n\n  float facingCamera = pow(\n    // The word space tangent's z value is 0 if it's facing the camera\n    abs(normalize(posqIn-posp).z),\n\n    // Using pow() here to ramp `facingCamera` up from 0 to 1 really quickly\n    // so most lines get scaled and don't get clipped\n    0.25\n  );\n\n  // using a scale <1 moves the lines towards the camera\n  // in order to prevent popping effects due to half of\n  // the line disappearing behind the geometry faces.\n  float scale = mix(1., 0.995, facingCamera);\n\n  // Moving vertices slightly toward the camera\n  // to avoid depth-fighting with the fill triangles.\n  // Discussed here:\n  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  \n  posp.xyz = posp.xyz * scale;\n  posqIn.xyz = posqIn.xyz * scale;\n  posqOut.xyz = posqOut.xyz * scale;\n\n  vec4 p = uProjectionMatrix * posp;\n  vec4 qIn = uProjectionMatrix * posqIn;\n  vec4 qOut = uProjectionMatrix * posqOut;\n  vCenter = p.xy;\n\n  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])\n  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw\n\n  // prevent division by W by transforming the tangent formula (div by 0 causes\n  // the line to disappear, see https://github.com/processing/processing/issues/5183)\n  // t = screen_q - screen_p\n  //\n  // tangent is normalized and we don't care which aDirection it points to (+-)\n  // t = +- normalize( screen_q - screen_p )\n  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )\n  //\n  // extract common factor, <1,1> - <1,1> cancels out\n  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )\n  //\n  // convert to common divisor\n  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )\n  //\n  // remove the common scalar divisor/factor, not needed due to normalize and +-\n  // (keep uViewport - can't remove because it has different components for x and y\n  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)\n  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )\n\n  vec2 tangentIn = normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);\n  vec2 tangentOut = normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);\n\n  vec2 curPerspScale;\n  if(uPerspective == 1) {\n    // Perspective ---\n    // convert from world to clip by multiplying with projection scaling factor\n    // to get the right thickness (see https://github.com/processing/processing/issues/5182)\n    // invert Y, projections in Processing invert Y\n    curPerspScale = (uProjectionMatrix * vec4(1, -1, 0, 0)).xy;\n  } else {\n    // No Perspective ---\n    // multiply by W (to cancel out division by W later in the pipeline) and\n    // convert from screen to clip (derived from clip to screen above)\n    curPerspScale = p.w / (0.5 * uViewport.zw);\n  }\n\n  vec2 offset;\n  if (vJoin == 1.) {\n    vTangent = normalize(tangentIn + tangentOut);\n    vec2 normalIn = vec2(-tangentIn.y, tangentIn.x);\n    vec2 normalOut = vec2(-tangentOut.y, tangentOut.x);\n    float side = sign(aSide);\n    float sideEnum = abs(aSide);\n\n    // We generate vertices for joins on either side of the centerline, but\n    // the \"elbow\" side is the only one needing a join. By not setting the\n    // offset for the other side, all its vertices will end up in the same\n    // spot and not render, effectively discarding it.\n    if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) != side) {\n      // Side enums:\n      //   1: the side going into the join\n      //   2: the middle of the join\n      //   3: the side going out of the join\n      if (sideEnum == 2.) {\n        // Calculate the position + tangent on either side of the join, and\n        // find where the lines intersect to find the elbow of the join\n        vec2 c = (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;\n        vec2 intersection = lineIntersection(\n          c + (side * normalIn * uStrokeWeight / 2.) * curPerspScale,\n          tangentIn,\n          c + (side * normalOut * uStrokeWeight / 2.) * curPerspScale,\n          tangentOut\n        );\n        offset = (intersection - c);\n\n        // When lines are thick and the angle of the join approaches 180, the\n        // elbow might be really far from the center. We'll apply a limit to\n        // the magnitude to avoid lines going across the whole screen when this\n        // happens.\n        float mag = length(offset);\n        float maxMag = 3. * uStrokeWeight;\n        if (mag > maxMag) {\n          offset *= maxMag / mag;\n        }\n      } else if (sideEnum == 1.) {\n        offset = side * normalIn * curPerspScale * uStrokeWeight / 2.;\n      } else if (sideEnum == 3.) {\n        offset = side * normalOut * curPerspScale * uStrokeWeight / 2.;\n      }\n    }\n    if (uStrokeJoin == STROKE_JOIN_BEVEL) {\n      vec2 avgNormal = vec2(-vTangent.y, vTangent.x);\n      vMaxDist = abs(dot(avgNormal, normalIn * uStrokeWeight / 2.));\n    } else {\n      vMaxDist = uStrokeWeight / 2.;\n    }\n  } else {\n    vec2 tangent = aTangentIn == vec3(0.) ? tangentOut : tangentIn;\n    vTangent = tangent;\n    vec2 normal = vec2(-tangent.y, tangent.x);\n\n    float normalOffset = sign(aSide);\n    // Caps will have side values of -2 or 2 on the edge of the cap that\n    // extends out from the line\n    float tangentOffset = abs(aSide) - 1.;\n    offset = (normal * normalOffset + tangent * tangentOffset) *\n      uStrokeWeight * 0.5 * curPerspScale;\n    vMaxDist = uStrokeWeight / 2.;\n  }\n  vPosition = vCenter + offset / curPerspScale;\n\n  gl_Position.xy = p.xy + offset.xy;\n  gl_Position.zw = p.zw;\n  \n  vColor = (uUseLineColor ? aVertexColor : uMaterialColor);\n}\n",lineFrag:_+"precision mediump float;\nprecision mediump int;\n\nuniform vec4 uMaterialColor;\nuniform int uStrokeCap;\nuniform int uStrokeJoin;\nuniform float uStrokeWeight;\n\nvarying vec4 vColor;\nvarying vec2 vTangent;\nvarying vec2 vCenter;\nvarying vec2 vPosition;\nvarying float vMaxDist;\nvarying float vCap;\nvarying float vJoin;\n\nfloat distSquared(vec2 a, vec2 b) {\n  vec2 aToB = b - a;\n  return dot(aToB, aToB);\n}\n\nvoid main() {\n  if (vCap > 0.) {\n    if (\n      uStrokeCap == STROKE_CAP_ROUND &&\n      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25\n    ) {\n      discard;\n    } else if (\n      uStrokeCap == STROKE_CAP_SQUARE &&\n      dot(vPosition - vCenter, vTangent) > 0.\n    ) {\n      discard;\n    }\n    // Use full area for PROJECT\n  } else if (vJoin > 0.) {\n    if (\n      uStrokeJoin == STROKE_JOIN_ROUND &&\n      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25\n    ) {\n      discard;\n    } else if (uStrokeJoin == STROKE_JOIN_BEVEL) {\n      vec2 normal = vec2(-vTangent.y, vTangent.x);\n      if (abs(dot(vPosition - vCenter, normal)) > vMaxDist) {\n        discard;\n      }\n    }\n    // Use full area for MITER\n  }\n  gl_FragColor = vec4(vColor.rgb, 1.) * vColor.a;\n}\n",pointVert:"attribute vec3 aPosition;\nuniform float uPointSize;\nvarying float vStrokeWeight;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nvoid main() {\n\tvec4 positionVec4 =  vec4(aPosition, 1.0);\n\tgl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n\tgl_PointSize = uPointSize;\n\tvStrokeWeight = uPointSize;\n}",pointFrag:"precision mediump float;\nprecision mediump int;\nuniform vec4 uMaterialColor;\nvarying float vStrokeWeight;\n\nvoid main(){\n  float mask = 0.0;\n\n  // make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)\n  // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant\n\n  mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));\n\n  // if strokeWeight is 1 or less lets just draw a square\n  // this prevents weird artifacting from carving circles when our points are really small\n  // if strokeWeight is larger than 1, we just use it as is\n\n  mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));\n\n  // throw away the borders of the mask\n  // otherwise we get weird alpha blending issues\n\n  if(mask > 0.98){\n    discard;\n  }\n\n  gl_FragColor = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;\n}\n"};function x(e,t,r,n,i,o,a,s,l,u){var c=t.getParameter(t.FRAMEBUFFER_BINDING),d=o*a*(r=(t.bindFramebuffer(t.FRAMEBUFFER,r),s===t.RGBA?4:3)),f=l===t.UNSIGNED_BYTE?Uint8Array:Float32Array;if(e instanceof f&&e.length===d||(e=new f(d)),t.readPixels(n,u?u-i-a:i,o,a,s,l,e),t.bindFramebuffer(t.FRAMEBUFFER,c),u)for(var h=Math.floor(a/2),p=new f(o*r),m=0;m<h;m++){var g=m*o*4,y=(a-m-1)*o*4;p.set(e.subarray(g,g+4*o)),e.copyWithin(g,y,y+4*o),e.set(p,y)}return e}function S(e,t,r,n,i,o,a){var s=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,t),t=i===e.RGBA?4:3,t=new(o===e.UNSIGNED_BYTE?Uint8Array:Float32Array)(t);return e.readPixels(r,a?a-n-1:n,1,1,i,o,t),e.bindFramebuffer(e.FRAMEBUFFER,s),Array.from(t)}i.default.prototype.setAttributes=function(e,t){if(void 0===this._glAttributes)console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");else{var r=!0;if(void 0!==t?(null===this._glAttributes&&(this._glAttributes={}),this._glAttributes[e]!==t&&(this._glAttributes[e]=t,r=!1)):e instanceof Object&&this._glAttributes!==e&&(this._glAttributes=e,r=!1),this._renderer.isP3D&&!r){if(!this._setupDone)for(var n in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(n))return void i.default._friendlyError("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()");this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}},i.default.RendererGL=function(e){var t=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e);var r=h(n);function n(e,t,a,s){if(this instanceof n)return(e=r.call(this,e,t,a))._setAttributeDefaults(t),e._initContext(),e.isP3D=!0,e.GL=e.drawingContext,e._pInst._setProperty("drawingContext",e.drawingContext),e._isErasing=!1,e._enableLighting=!1,e.ambientLightColors=[],e.specularColors=[1,1,1],e.directionalLightDirections=[],e.directionalLightDiffuseColors=[],e.directionalLightSpecularColors=[],e.pointLightPositions=[],e.pointLightDiffuseColors=[],e.pointLightSpecularColors=[],e.spotLightPositions=[],e.spotLightDirections=[],e.spotLightDiffuseColors=[],e.spotLightSpecularColors=[],e.spotLightAngle=[],e.spotLightConc=[],e.drawMode=o.FILL,e.curFillColor=e._cachedFillStyle=[1,1,1,1],e.curAmbientColor=e._cachedFillStyle=[1,1,1,1],e.curSpecularColor=e._cachedFillStyle=[0,0,0,0],e.curEmissiveColor=e._cachedFillStyle=[0,0,0,0],e.curStrokeColor=e._cachedStrokeStyle=[0,0,0,1],e.curBlendMode=o.BLEND,e._cachedBlendMode=void 0,e.webglVersion===o.WEBGL2?e.blendExt=e.GL:e.blendExt=e.GL.getExtension("EXT_blend_minmax"),e._isBlending=!1,e._hasSetAmbient=!1,e._useSpecularMaterial=!1,e._useEmissiveMaterial=!1,e._useNormalMaterial=!1,e._useShininess=1,e._useLineColor=!1,e._useVertexColor=!1,e.registerEnabled=[],e._tint=[255,255,255,255],e.constantAttenuation=1,e.linearAttenuation=0,e.quadraticAttenuation=0,e.uMVMatrix=new i.default.Matrix,e.uPMatrix=new i.default.Matrix,e.uNMatrix=new i.default.Matrix("mat3"),e._currentNormal=new i.default.Vector(0,0,1),e._curCamera=new i.default.Camera(p(e)),e._curCamera._computeCameraDefaultSettings(),e._curCamera._setDefaultCamera(),e.prevTouches=[],e.zoomVelocity=0,e.rotateVelocity=new i.default.Vector(0,0),e.moveVelocity=new i.default.Vector(0,0),e.executeZoom=!1,e.executeRotateAndMove=!1,e._defaultLightShader=void 0,e._defaultImmediateModeShader=void 0,e._defaultNormalShader=void 0,e._defaultColorShader=void 0,e._defaultPointShader=void 0,e.userFillShader=void 0,e.userStrokeShader=void 0,e.userPointShader=void 0,e.retainedMode={geometry:{},buffers:{stroke:[new i.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",p(e),e._flatten),new i.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",p(e),e._flatten),new i.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",p(e),e._flatten),new i.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",p(e),e._flatten),new i.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",p(e))],fill:[new i.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",p(e),e._vToNArray),new i.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",p(e),e._vToNArray),new i.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",p(e)),new i.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",p(e)),new i.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",p(e),e._flatten)],text:[new i.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",p(e),e._vToNArray),new i.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",p(e),e._flatten)]}},e.immediateMode={geometry:new i.default.Geometry,shapeMode:o.TRIANGLE_FAN,_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new i.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",p(e),e._vToNArray),new i.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",p(e),e._vToNArray),new i.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",p(e)),new i.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",p(e)),new i.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",p(e),e._flatten)],stroke:[new i.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",p(e),e._flatten),new i.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",p(e),e._flatten),new i.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",p(e),e._flatten),new i.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",p(e),e._flatten),new i.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",p(e))],point:e.GL.createBuffer()}},e.pointSize=5,e.curStrokeWeight=1,e.curStrokeCap=o.ROUND,e.curStrokeJoin=o.ROUND,e.textures=new Map,e.framebuffers=new Set,e.textureMode=o.IMAGE,e.textureWrapX=o.CLAMP,e.textureWrapY=o.CLAMP,e._tex=null,e._curveTightness=6,e._lookUpTableBezier=[],e._lookUpTableQuadratic=[],e._lutBezierDetail=0,e._lutQuadraticDetail=0,e.isProcessingVertices=!1,e._tessy=e._initTessy(),e.fontInfos={},e._curShader=void 0,e;throw new TypeError("Cannot call a class as a function")}return t=n,(e=[{key:"_setAttributeDefaults",value:function(e){var t={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!0,preserveDrawingBuffer:!0,perPixelLighting:!0,version:2};null===e._glAttributes?e._glAttributes=t:e._glAttributes=Object.assign(t,e._glAttributes)}},{key:"_initContext",value:function(){if(1!==this._pInst._glAttributes.version&&(this.drawingContext=this.canvas.getContext("webgl2",this._pInst._glAttributes)),this.webglVersion=this.drawingContext?o.WEBGL2:o.WEBGL,this._pInst._setProperty("webglVersion",this.webglVersion),this.drawingContext||(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes)),null===this.drawingContext)throw new Error("Error creating webgl context");var e=this.drawingContext;e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}},{key:"_resetContext",value:function(e,t){var r,n=this.width,o=this.height,a=this.canvas.id,s=this._pInst instanceof i.default.Graphics;s?((r=this._pInst).canvas.parentNode.removeChild(r.canvas),r.canvas=document.createElement("canvas"),(r._pInst._userNode||document.body).appendChild(r.canvas),i.default.Element.call(r,r.canvas,r._pInst),r.width=n,r.height=o):((r=this.canvas)&&r.parentNode.removeChild(r),(r=document.createElement("canvas")).id=a,(this._pInst._userNode||document.body).appendChild(r),this._pInst.canvas=r,this.canvas=r),a=new i.default.RendererGL(this._pInst.canvas,this._pInst,!s);this._pInst._setProperty("_renderer",a),a.resize(n,o),a._applyDefaults(),s||this._pInst._elements.push(a),"function"==typeof t&&setTimeout((function(){t.apply(window._renderer,e)}),0)}},{key:"_update",value:function(){this.uMVMatrix.set(this._curCamera.cameraMatrix.mat4[0],this._curCamera.cameraMatrix.mat4[1],this._curCamera.cameraMatrix.mat4[2],this._curCamera.cameraMatrix.mat4[3],this._curCamera.cameraMatrix.mat4[4],this._curCamera.cameraMatrix.mat4[5],this._curCamera.cameraMatrix.mat4[6],this._curCamera.cameraMatrix.mat4[7],this._curCamera.cameraMatrix.mat4[8],this._curCamera.cameraMatrix.mat4[9],this._curCamera.cameraMatrix.mat4[10],this._curCamera.cameraMatrix.mat4[11],this._curCamera.cameraMatrix.mat4[12],this._curCamera.cameraMatrix.mat4[13],this._curCamera.cameraMatrix.mat4[14],this._curCamera.cameraMatrix.mat4[15]),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"background",value:function(){var e=(n=(n=this._pInst).color.apply(n,arguments)).levels[0]/255,t=n.levels[1]/255,r=n.levels[2]/255,n=n.levels[3]/255;this.clear(e,t,r,n)}},{key:"fill",value:function(e,t,r,n){var a=i.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=a._array,this.drawMode=o.FILL,this._useNormalMaterial=!1,this._tex=null}},{key:"stroke",value:function(e,t,r,n){var o=i.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=o._array}},{key:"strokeCap",value:function(e){this.curStrokeCap=e}},{key:"strokeJoin",value:function(e){this.curStrokeJoin=e}},{key:"filter",value:function(e){i.default._friendlyError("filter() does not work in WEBGL mode")}},{key:"blendMode",value:function(e){e===o.DARKEST||e===o.LIGHTEST||e===o.ADD||e===o.BLEND||e===o.SUBTRACT||e===o.SCREEN||e===o.EXCLUSION||e===o.REPLACE||e===o.MULTIPLY||e===o.REMOVE?this.curBlendMode=e:e!==o.BURN&&e!==o.OVERLAY&&e!==o.HARD_LIGHT&&e!==o.SOFT_LIGHT&&e!==o.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")}},{key:"erase",value:function(e,t){this._isErasing||(this._applyBlendMode(o.REMOVE),this._isErasing=!0,this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,e/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,t/255])}},{key:"noErase",value:function(){this._isErasing&&(this._isErasing=!1,this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.blendMode(this._cachedBlendMode))}},{key:"strokeWeight",value:function(e){this.curStrokeWeight!==e&&(this.pointSize=e,this.curStrokeWeight=e)}},{key:"_getPixel",value:function(e,t){var r=this.GL;return S(r,null,e,t,r.RGBA,r.UNSIGNED_BYTE,this._pInst.height*this._pInst.pixelDensity())}},{key:"loadPixels",value:function(){var e,t,r=this._pixelsState;!0!==this._pInst._glAttributes.preserveDrawingBuffer?console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true."):(e=this._pInst._pixelDensity,t=this.GL,r._setProperty("pixels",x(r.pixels,t,null,0,0,this.width*e,this.height*e,t.RGBA,t.UNSIGNED_BYTE,this.height*e)))}},{key:"updatePixels",value:function(){var e=this._getTempFramebuffer();e.pixels=this._pixelsState.pixels,e.updatePixels(),this._pInst.push(),this._pInst.resetMatrix(),this._pInst.clear(),this._pInst.imageMode(o.CENTER),this._pInst.image(e,0,0),this._pInst.pop(),this.GL.clearDepth(1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"_getTempFramebuffer",value:function(){return this._tempFramebuffer||(this._tempFramebuffer=this._pInst.createFramebuffer({format:o.UNSIGNED_BYTE,useDepth:this._pInst._glAttributes.depth,depthFormat:o.UNSIGNED_INT,antialias:this._pInst._glAttributes.antialias})),this._tempFramebuffer}},{key:"geometryInHash",value:function(e){return void 0!==this.retainedMode.geometry[e]}},{key:"resize",value:function(e,t){i.default.Renderer.prototype.resize.call(this,e,t),this.GL.viewport(0,0,this.GL.drawingBufferWidth,this.GL.drawingBufferHeight),this._viewport=this.GL.getParameter(this.GL.VIEWPORT),this._curCamera._resize();var r=(void 0!==(e=this._pixelsState).pixels&&e._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4)),!0);t=!1,e=void 0;try{for(var n,o=this.framebuffers[Symbol.iterator]();!(r=(n=o.next()).done);r=!0)n.value._canvasSizeChanged()}catch(r){t=!0,e=r}finally{try{r||null==o.return||o.return()}finally{if(t)throw e}}}},{key:"clear",value:function(){var e=(arguments.length<=0?void 0:arguments[0])||0,t=(arguments.length<=1?void 0:arguments[1])||0,r=(arguments.length<=2?void 0:arguments[2])||0,n=(arguments.length<=3?void 0:arguments[3])||0;this.GL.clearColor(e*n,t*n,r*n,n),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)}},{key:"applyMatrix",value:function(e,t,r,n,o,a){16===arguments.length?i.default.Matrix.prototype.apply.apply(this.uMVMatrix,arguments):this.uMVMatrix.apply([e,t,0,0,r,n,0,0,0,0,1,0,o,a,0,1])}},{key:"translate",value:function(e,t,r){return e instanceof i.default.Vector&&(r=e.z,t=e.y,e=e.x),this.uMVMatrix.translate([e,t,r]),this}},{key:"scale",value:function(e,t,r){return this.uMVMatrix.scale(e,t,r),this}},{key:"rotate",value:function(e,t){return void 0===t?this.rotateZ(e):(i.default.Matrix.prototype.rotate.apply(this.uMVMatrix,arguments),this)}},{key:"rotateX",value:function(e){return this.rotate(e,1,0,0),this}},{key:"rotateY",value:function(e){return this.rotate(e,0,1,0),this}},{key:"rotateZ",value:function(e){return this.rotate(e,0,0,1),this}},{key:"push",value:function(){var e=i.default.Renderer.prototype.push.apply(this),t=e.properties;return t.uMVMatrix=this.uMVMatrix.copy(),t.uPMatrix=this.uPMatrix.copy(),t._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),t.ambientLightColors=this.ambientLightColors.slice(),t.specularColors=this.specularColors.slice(),t.directionalLightDirections=this.directionalLightDirections.slice(),t.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),t.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),t.pointLightPositions=this.pointLightPositions.slice(),t.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),t.pointLightSpecularColors=this.pointLightSpecularColors.slice(),t.spotLightPositions=this.spotLightPositions.slice(),t.spotLightDirections=this.spotLightDirections.slice(),t.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),t.spotLightSpecularColors=this.spotLightSpecularColors.slice(),t.spotLightAngle=this.spotLightAngle.slice(),t.spotLightConc=this.spotLightConc.slice(),t.userFillShader=this.userFillShader,t.userStrokeShader=this.userStrokeShader,t.userPointShader=this.userPointShader,t.pointSize=this.pointSize,t.curStrokeWeight=this.curStrokeWeight,t.curStrokeColor=this.curStrokeColor,t.curFillColor=this.curFillColor,t.curAmbientColor=this.curAmbientColor,t.curSpecularColor=this.curSpecularColor,t.curEmissiveColor=this.curEmissiveColor,t._hasSetAmbient=this._hasSetAmbient,t._useSpecularMaterial=this._useSpecularMaterial,t._useEmissiveMaterial=this._useEmissiveMaterial,t._useShininess=this._useShininess,t.constantAttenuation=this.constantAttenuation,t.linearAttenuation=this.linearAttenuation,t.quadraticAttenuation=this.quadraticAttenuation,t._enableLighting=this._enableLighting,t._useNormalMaterial=this._useNormalMaterial,t._tex=this._tex,t.drawMode=this.drawMode,t._currentNormal=this._currentNormal,t.curBlendMode=this.curBlendMode,e}},{key:"resetMatrix",value:function(){return this.uMVMatrix.set(this._curCamera.cameraMatrix.mat4[0],this._curCamera.cameraMatrix.mat4[1],this._curCamera.cameraMatrix.mat4[2],this._curCamera.cameraMatrix.mat4[3],this._curCamera.cameraMatrix.mat4[4],this._curCamera.cameraMatrix.mat4[5],this._curCamera.cameraMatrix.mat4[6],this._curCamera.cameraMatrix.mat4[7],this._curCamera.cameraMatrix.mat4[8],this._curCamera.cameraMatrix.mat4[9],this._curCamera.cameraMatrix.mat4[10],this._curCamera.cameraMatrix.mat4[11],this._curCamera.cameraMatrix.mat4[12],this._curCamera.cameraMatrix.mat4[13],this._curCamera.cameraMatrix.mat4[14],this._curCamera.cameraMatrix.mat4[15]),this}},{key:"_getImmediateStrokeShader",value:function(){var e=this.userStrokeShader;return e&&e.isStrokeShader()?e:this._getLineShader()}},{key:"_getRetainedStrokeShader",value:function(){return this._getImmediateStrokeShader()}},{key:"_getImmediateFillShader",value:function(){var e=this.userFillShader;if(this._useNormalMaterial&&(!e||!e.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!e||!e.isLightShader())return this._getLightShader()}else if(this._tex){if(!e||!e.isTextureShader())return this._getLightShader()}else if(!e)return this._getImmediateModeShader();return e}},{key:"_getRetainedFillShader",value:function(){if(this._useNormalMaterial)return this._getNormalShader();var e=this.userFillShader;if(this._enableLighting){if(!e||!e.isLightShader())return this._getLightShader()}else if(this._tex){if(!e||!e.isTextureShader())return this._getLightShader()}else if(!e)return this._getColorShader();return e}},{key:"_getImmediatePointShader",value:function(){var e=this.userPointShader;return e&&e.isPointShader()?e:this._getPointShader()}},{key:"_getRetainedLineShader",value:function(){return this._getImmediateLineShader()}},{key:"_getLightShader",value:function(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new i.default.Shader(this,E.phongVert,E.phongFrag):this._defaultLightShader=new i.default.Shader(this,E.lightVert,E.lightTextureFrag)),this._defaultLightShader}},{key:"_getImmediateModeShader",value:function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new i.default.Shader(this,E.immediateVert,E.vertexColorFrag)),this._defaultImmediateModeShader}},{key:"_getNormalShader",value:function(){return this._defaultNormalShader||(this._defaultNormalShader=new i.default.Shader(this,E.normalVert,E.normalFrag)),this._defaultNormalShader}},{key:"_getColorShader",value:function(){return this._defaultColorShader||(this._defaultColorShader=new i.default.Shader(this,E.normalVert,E.basicFrag)),this._defaultColorShader}},{key:"_getPointShader",value:function(){return this._defaultPointShader||(this._defaultPointShader=new i.default.Shader(this,E.pointVert,E.pointFrag)),this._defaultPointShader}},{key:"_getLineShader",value:function(){return this._defaultLineShader||(this._defaultLineShader=new i.default.Shader(this,E.lineVert,E.lineFrag)),this._defaultLineShader}},{key:"_getFontShader",value:function(){return this._defaultFontShader||(this.webglVersion===o.WEBGL&&this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new i.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+E.fontVert,this._webGL2CompatibilityPrefix("frag","mediump")+E.fontFrag)),this._defaultFontShader}},{key:"_webGL2CompatibilityPrefix",value:function(e,t){var r="";return this.webglVersion===o.WEBGL2&&(r+="#version 300 es\n#define WEBGL2\n"),"vert"===e?r+="#define VERTEX_SHADER\n":"frag"===e&&(r+="#define FRAGMENT_SHADER\n"),t&&(r+="precision ".concat(t," float;\n")),r}},{key:"_getEmptyTexture",value:function(){var e;return this._emptyTexture||((e=new i.default.Image(1,1)).set(0,0,255),this._emptyTexture=new i.default.Texture(this,e)),this._emptyTexture}},{key:"getTexture",value:function(e){e instanceof i.default.Framebuffer&&(e=e.color);var t=this.textures.get(e);return t||(t=new i.default.Texture(this,e),this.textures.set(e,t),t)}},{key:"createFramebuffer",value:function(e){return new i.default.Framebuffer(this,e)}},{key:"_setStrokeUniforms",value:function(e){e.bindShader(),e.setUniform("uUseLineColor",this._useLineColor),e.setUniform("uMaterialColor",this.curStrokeColor),e.setUniform("uStrokeWeight",this.curStrokeWeight),e.setUniform("uStrokeCap",v[this.curStrokeCap]),e.setUniform("uStrokeJoin",b[this.curStrokeJoin])}},{key:"_setFillUniforms",value:function(e){e.bindShader(),e.setUniform("uUseVertexColor",this._useVertexColor),e.setUniform("uMaterialColor",this.curFillColor),e.setUniform("isTexture",!!this._tex),this._tex&&e.setUniform("uSampler",this._tex),e.setUniform("uTint",this._tint),e.setUniform("uHasSetAmbient",this._hasSetAmbient),e.setUniform("uAmbientMatColor",this.curAmbientColor),e.setUniform("uSpecularMatColor",this.curSpecularColor),e.setUniform("uEmissiveMatColor",this.curEmissiveColor),e.setUniform("uSpecular",this._useSpecularMaterial),e.setUniform("uEmissive",this._useEmissiveMaterial),e.setUniform("uShininess",this._useShininess),e.setUniform("uUseLighting",this._enableLighting);var t=this.pointLightDiffuseColors.length/3;e.setUniform("uPointLightCount",t),e.setUniform("uPointLightLocation",this.pointLightPositions),e.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),e.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors),t=this.directionalLightDiffuseColors.length/3,e.setUniform("uDirectionalLightCount",t),e.setUniform("uLightingDirection",this.directionalLightDirections),e.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),e.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors),t=this.ambientLightColors.length/3,e.setUniform("uAmbientLightCount",t),e.setUniform("uAmbientColor",this.ambientLightColors),t=this.spotLightDiffuseColors.length/3;e.setUniform("uSpotLightCount",t),e.setUniform("uSpotLightAngle",this.spotLightAngle),e.setUniform("uSpotLightConc",this.spotLightConc),e.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),e.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),e.setUniform("uSpotLightLocation",this.spotLightPositions),e.setUniform("uSpotLightDirection",this.spotLightDirections),e.setUniform("uConstantAttenuation",this.constantAttenuation),e.setUniform("uLinearAttenuation",this.linearAttenuation),e.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),e.bindTextures()}},{key:"_setPointUniforms",value:function(e){e.bindShader(),e.setUniform("uMaterialColor",this.curStrokeColor),e.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)}},{key:"_bindBuffer",value:function(e,t,r,n,i){t=t||this.GL.ARRAY_BUFFER,this.GL.bindBuffer(t,e),void 0!==r&&(e=new(n||Float32Array)(r),this.GL.bufferData(t,e,i||this.GL.STATIC_DRAW))}},{key:"_arraysEqual",value:function(e,t){return e.length===t.length&&e.every((function(e,r){return e===t[r]}))}},{key:"_isTypedArray",value:function(e){return[Float32Array,Float64Array,Int16Array,Uint16Array,Uint32Array].some((function(t){return e instanceof t}))}},{key:"_flatten",value:function(e){if(0===e.length)return[];var t;if(2e4<e.length){for(var r=[],n=e.slice(),i=n.pop();Array.isArray(i)?n.push.apply(n,c(i)):r.push(i),n.length&&void 0!==(i=n.pop()););return r.reverse(),r}return(t=[]).concat.apply(t,c(e))}},{key:"_vToNArray",value:function(e){var t=[],r=!0,n=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var s=o.value;t.push(s.x,s.y,s.z)}}catch(e){n=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw i}}return t}},{key:"_bezierCoefficients",value:function(e){var t=e*e,r=1-e,n=r*r;return[n*r,3*n*e,3*r*t,t*e]}},{key:"_quadraticCoefficients",value:function(e){var t=1-e;return[t*t,2*t*e,e*e]}},{key:"_bezierToCatmull",value:function(e){return[e[1],e[1]+(e[2]-e[0])/this._curveTightness,e[2]-(e[3]-e[1])/this._curveTightness,e[2]]}},{key:"_initTessy",value:function(){var e=new a.default.GluTesselator;return e.gluTessCallback(a.default.gluEnum.GLU_TESS_VERTEX_DATA,(function(e,t){for(var r=0;r<e.length;r++)t.push(e[r])})),e.gluTessCallback(a.default.gluEnum.GLU_TESS_BEGIN,(function(e){e!==a.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(e))})),e.gluTessCallback(a.default.gluEnum.GLU_TESS_ERROR,(function(e){console.log("error callback"),console.log("error number: ".concat(e))})),e.gluTessCallback(a.default.gluEnum.GLU_TESS_COMBINE,(function(e,t,r){for(var n=new Array(i.default.RendererGL.prototype.tessyVertexSize).fill(0),o=0;o<r.length;o++)for(var a=0;a<n.length;a++)0!==r[o]&&t[o]&&(n[a]+=t[o][a]*r[o]);return n})),e.gluTessCallback(a.default.gluEnum.GLU_TESS_EDGE_FLAG,(function(e){})),e}},{key:"_triangulate",value:function(e){var t=e[0]?e[0][2]:void 0,r=!0,n=!0,o=!1,a=void 0;try{for(var s,l=e[Symbol.iterator]();!(n=(s=l.next()).done);n=!0)for(var u=s.value,c=0;c<u.length;c+=i.default.RendererGL.prototype.tessyVertexSize)if(u[c+2]!==t){r=!1;break}}catch(e){o=!0,a=e}finally{try{n||null==l.return||l.return()}finally{if(o)throw a}}r?this._tessy.gluTessNormal(0,0,1):this._tessy.gluTessNormal(0,0,0);o=[];var d=(this._tessy.gluTessBeginPolygon(o),!0),f=(a=!1,void 0);try{for(var h,p=e[Symbol.iterator]();!(d=(h=p.next()).done);d=!0){var m=h.value;this._tessy.gluTessBeginContour();for(var g=0;g<m.length;g+=i.default.RendererGL.prototype.tessyVertexSize){var y=m.slice(g,g+i.default.RendererGL.prototype.tessyVertexSize);this._tessy.gluTessVertex(y,y)}this._tessy.gluTessEndContour()}}catch(e){a=!0,f=e}finally{try{d||null==p.return||p.return()}finally{if(a)throw f}}return this._tessy.gluTessEndPolygon(),o}}])&&d(t.prototype,e),n}(i.default.Renderer),i.default.prototype._assert3d=function(e){if(!this._renderer.isP3D)throw new Error("".concat(e,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},i.default.RendererGL.prototype.tessyVertexSize=12,e=i.default.RendererGL,r.default=e},{"../core/constants":262,"../core/main":273,"../core/p5.Renderer":276,"./p5.Camera":321,"./p5.Matrix":324,"./p5.Shader":329,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.copy-within":152,"core-js/modules/es.array.every":153,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.from":157,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.some":165,"core-js/modules/es.map":168,"core-js/modules/es.object.assign":174,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.set":187,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.float32-array":209,"core-js/modules/es.typed-array.float64-array":210,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.int16-array":214,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint16-array":230,"core-js/modules/es.typed-array.uint32-array":231,"core-js/modules/es.typed-array.uint8-array":232,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236,libtess:245,path:248}],329:[function(e,t,r){"use strict";e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=(e=e("../core/main"))&&e.__esModule?e:{default:e};function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}n.default.Shader=function(){function e(t,r,n){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this._renderer=t,this._vertSrc=r,this._fragSrc=n,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[]}var t,r;return t=e,(r=[{key:"init",value:function(){if(0===this._glProgram){var e=this._renderer.GL;if(this._vertShader=e.createShader(e.VERTEX_SHADER),e.shaderSource(this._vertShader,this._vertSrc),e.compileShader(this._vertShader),!e.getShaderParameter(this._vertShader,e.COMPILE_STATUS))return n.default._friendlyError("Yikes! An error occurred compiling the vertex shader:".concat(e.getShaderInfoLog(this._vertShader))),null;if(this._fragShader=e.createShader(e.FRAGMENT_SHADER),e.shaderSource(this._fragShader,this._fragSrc),e.compileShader(this._fragShader),!e.getShaderParameter(this._fragShader,e.COMPILE_STATUS))return n.default._friendlyError("Darn! An error occurred compiling the fragment shader:".concat(e.getShaderInfoLog(this._fragShader))),null;this._glProgram=e.createProgram(),e.attachShader(this._glProgram,this._vertShader),e.attachShader(this._glProgram,this._fragShader),e.linkProgram(this._glProgram),e.getProgramParameter(this._glProgram,e.LINK_STATUS)||n.default._friendlyError("Snap! Error linking shader program: ".concat(e.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this}},{key:"_loadAttributes",value:function(){if(!this._loadedAttributes){this.attributes={};for(var e=this._renderer.GL,t=e.getProgramParameter(this._glProgram,e.ACTIVE_ATTRIBUTES),r=0;r<t;++r){var n=e.getActiveAttrib(this._glProgram,r),i=n.name,o=e.getAttribLocation(this._glProgram,i),a={};a.name=i,a.location=o,a.index=r,a.type=n.type,a.size=n.size,this.attributes[i]=a}this._loadedAttributes=!0}}},{key:"_loadUniforms",value:function(){if(!this._loadedUniforms){for(var e=this._renderer.GL,t=e.getProgramParameter(this._glProgram,e.ACTIVE_UNIFORMS),r=0,n=0;n<t;++n){var i=e.getActiveUniform(this._glProgram,n),o={},a=(o.location=e.getUniformLocation(this._glProgram,i.name),o.size=i.size,i.name);1<i.size&&(a=a.substring(0,a.indexOf("[0]"))),o.name=a,o.type=i.type,o._cachedData=void 0,o.type===e.SAMPLER_2D&&(o.samplerIndex=r,r++,this.samplers.push(o)),o.isArray=1<i.size||o.type===e.FLOAT_MAT3||o.type===e.FLOAT_MAT4||o.type===e.FLOAT_VEC2||o.type===e.FLOAT_VEC3||o.type===e.FLOAT_VEC4||o.type===e.INT_VEC2||o.type===e.INT_VEC4||o.type===e.INT_VEC3,this.uniforms[a]=o}this._loadedUniforms=!0}}},{key:"compile",value:function(){}},{key:"bindShader",value:function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))}},{key:"unbindShader",value:function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this}},{key:"bindTextures",value:function(){var e=this._renderer.GL,t=!0,r=!1,n=void 0;try{for(var i,o=this.samplers[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value,s=a.texture;void 0===s&&(s=this._renderer._getEmptyTexture()),e.activeTexture(e.TEXTURE0+a.samplerIndex),s.bindTexture(),s.update(),e.uniform1i(a.location,a.samplerIndex)}}catch(e){r=!0,n=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw n}}}},{key:"updateTextures",value:function(){var e=!0,t=!1,r=void 0;try{for(var n,i=this.samplers[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){var o=n.value.texture;o&&o.update()}}catch(e){t=!0,r=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw r}}}},{key:"unbindTextures",value:function(){var e=!0,t=!1,r=void 0;try{for(var n,i=this.samplers[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){var o=n.value;this.setUniform(o.name,this._renderer._getEmptyTexture())}}catch(e){t=!0,r=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw r}}}},{key:"_setMatrixUniforms",value:function(){var e=this._renderer._curCamera.cameraMatrix,t=this._renderer.uPMatrix,r=this._renderer.uMVMatrix,n=r.copy();n.mult(t),this.isStrokeShader()&&("default"===this._renderer._curCamera.cameraType?this.setUniform("uPerspective",1):this.setUniform("uPerspective",0)),this.setUniform("uViewMatrix",e.mat4),this.setUniform("uProjectionMatrix",t.mat4),this.setUniform("uModelViewMatrix",r.mat4),this.setUniform("uModelViewProjectionMatrix",n.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3))}},{key:"useProgram",value:function(){var e=this._renderer.GL;return this._renderer._curShader!==this&&(e.useProgram(this._glProgram),this._renderer._curShader=this),this}},{key:"setUniform",value:function(e,t){var r=this.uniforms[e];if(r){var i=this._renderer.GL;if(r.isArray){if(r._cachedData&&this._renderer._arraysEqual(r._cachedData,t))return;r._cachedData=t.slice(0)}else{if(r._cachedData&&r._cachedData===t)return;Array.isArray(t)?r._cachedData=t.slice(0):r._cachedData=t}var o=r.location;switch(this.useProgram(),r.type){case i.BOOL:!0===t?i.uniform1i(o,1):i.uniform1i(o,0);break;case i.INT:1<r.size?t.length&&i.uniform1iv(o,t):i.uniform1i(o,t);break;case i.FLOAT:1<r.size?t.length&&i.uniform1fv(o,t):i.uniform1f(o,t);break;case i.FLOAT_MAT3:i.uniformMatrix3fv(o,!1,t);break;case i.FLOAT_MAT4:i.uniformMatrix4fv(o,!1,t);break;case i.FLOAT_VEC2:1<r.size?t.length&&i.uniform2fv(o,t):i.uniform2f(o,t[0],t[1]);break;case i.FLOAT_VEC3:1<r.size?t.length&&i.uniform3fv(o,t):i.uniform3f(o,t[0],t[1],t[2]);break;case i.FLOAT_VEC4:1<r.size?t.length&&i.uniform4fv(o,t):i.uniform4f(o,t[0],t[1],t[2],t[3]);break;case i.INT_VEC2:1<r.size?t.length&&i.uniform2iv(o,t):i.uniform2i(o,t[0],t[1]);break;case i.INT_VEC3:1<r.size?t.length&&i.uniform3iv(o,t):i.uniform3i(o,t[0],t[1],t[2]);break;case i.INT_VEC4:1<r.size?t.length&&i.uniform4iv(o,t):i.uniform4i(o,t[0],t[1],t[2],t[3]);break;case i.SAMPLER_2D:i.activeTexture(i.TEXTURE0+r.samplerIndex),r.texture=t instanceof n.default.Texture?t:this._renderer.getTexture(t),i.uniform1i(o,r.samplerIndex),r.texture.src.gifProperties&&r.texture.src._animateGif(this._renderer._pInst)}return this}}},{key:"isLightShader",value:function(){return void 0!==this.attributes.aNormal||void 0!==this.uniforms.uUseLighting||void 0!==this.uniforms.uAmbientLightCount||void 0!==this.uniforms.uDirectionalLightCount||void 0!==this.uniforms.uPointLightCount||void 0!==this.uniforms.uAmbientColor||void 0!==this.uniforms.uDirectionalDiffuseColors||void 0!==this.uniforms.uDirectionalSpecularColors||void 0!==this.uniforms.uPointLightLocation||void 0!==this.uniforms.uPointLightDiffuseColors||void 0!==this.uniforms.uPointLightSpecularColors||void 0!==this.uniforms.uLightingDirection||void 0!==this.uniforms.uSpecular}},{key:"isNormalShader",value:function(){return void 0!==this.attributes.aNormal}},{key:"isTextureShader",value:function(){return 0<this.samplers.length}},{key:"isColorShader",value:function(){return void 0!==this.attributes.aVertexColor||void 0!==this.uniforms.uMaterialColor}},{key:"isTexLightShader",value:function(){return this.isLightShader()&&this.isTextureShader()}},{key:"isStrokeShader",value:function(){return void 0!==this.uniforms.uStrokeWeight}},{key:"enableAttrib",value:function(e,t,r,n,i,o){var a;return e&&-1!==(e=e.location)&&(a=this._renderer.GL,this._renderer.registerEnabled[e]||(a.enableVertexAttribArray(e),this._renderer.registerEnabled[e]=!0),this._renderer.GL.vertexAttribPointer(e,t,r||a.FLOAT,n||!1,i||0,o||0)),this}}])&&i(t.prototype,r),e}(),e=n.default.Shader,r.default=e},{"../core/main":273,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.function.name":167,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],330:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),Object.defineProperty(r,"__esModule",{value:!0}),r.checkWebGLCapabilities=u,r.default=void 0;var o=(c=e("../core/main"))&&c.__esModule?c:{default:c},a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var a;Object.prototype.hasOwnProperty.call(e,r)&&((a=o?Object.getOwnPropertyDescriptor(e,r):null)&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=e[r])}return n.default=e,t&&t.set(e,n),n}(e("../core/constants"));function s(){var e;return"function"!=typeof WeakMap?null:(e=new WeakMap,s=function(){return e},e)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e){var t=e.GL,r=(e=e.webglVersion)===a.WEBGL2?t.getExtension("EXT_color_buffer_float")&&t.getExtension("EXT_float_blend"):t.getExtension("OES_texture_float");return{float:r,floatLinear:r&&t.getExtension("OES_texture_float_linear"),halfFloat:e=e===a.WEBGL2?t.getExtension("EXT_color_buffer_float"):t.getExtension("OES_texture_half_float"),halfFloatLinear:e&&t.getExtension("OES_texture_half_float_linear")}}o.default.Texture=function(){function e(t,r,n){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this._renderer=t;var i=this._renderer.GL;n=n||{},this.src=r,this.glTex=void 0,this.glTarget=i.TEXTURE_2D,this.glFormat=n.format||i.RGBA,this.mipmaps=!1,this.glMinFilter=n.minFilter||i.LINEAR,this.glMagFilter=n.magFilter||i.LINEAR,this.glWrapS=n.wrapS||i.CLAMP_TO_EDGE,this.glWrapT=n.wrapT||i.CLAMP_TO_EDGE,this.glDataType=n.dataType||i.UNSIGNED_BYTE,n=u(t),this.glFormat!==i.HALF_FLOAT||n.halfFloat||(console.log("This device does not support dataType HALF_FLOAT. Falling back to FLOAT."),this.glDataType=i.FLOAT),this.glFormat!==i.HALF_FLOAT||this.glMinFilter!==i.LINEAR&&this.glMagFilter!==i.LINEAR||n.halfFloatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===i.LINEAR&&(this.glMinFilter=i.NEAREST),this.glMagFilter===i.LINEAR&&(this.glMagFilter=i.NEAREST)),this.glFormat!==i.FLOAT||n.float||(console.log("This device does not support dataType FLOAT. Falling back to UNSIGNED_BYTE."),this.glDataType=i.UNSIGNED_BYTE),this.glFormat!==i.FLOAT||this.glMinFilter!==i.LINEAR&&this.glMagFilter!==i.LINEAR||n.floatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===i.LINEAR&&(this.glMinFilter=i.NEAREST),this.glMagFilter===i.LINEAR&&(this.glMagFilter=i.NEAREST)),this.isSrcMediaElement=void 0!==o.default.MediaElement&&r instanceof o.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=void 0!==o.default.Element&&r instanceof o.default.Element&&!(r instanceof o.default.Graphics)&&!(r instanceof o.default.Renderer),this.isSrcP5Image=r instanceof o.default.Image,this.isSrcP5Graphics=r instanceof o.default.Graphics,this.isSrcP5Renderer=r instanceof o.default.Renderer,this.isImageData="undefined"!=typeof ImageData&&r instanceof ImageData,this.isFramebufferTexture=r instanceof o.default.FramebufferTexture,t=this._getTextureDataFromSource();return this.width=t.width,this.height=t.height,this.init(t),this}var t,r;return t=e,(r=[{key:"_getTextureDataFromSource",value:function(){var e;return this.isFramebufferTexture?e=this.src.rawTexture():this.isSrcP5Image?e=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcP5Renderer||this.isSrcHTMLElement?e=this.src.elt:this.isImageData&&(e=this.src),e}},{key:"init",value:function(e){var t,r=this._renderer.GL;this.isFramebufferTexture||(this.glTex=r.createTexture()),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,this.glMagFilter),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,this.glMinFilter),this.isFramebufferTexture||(0===this.width||0===this.height||this.isSrcMediaElement&&!this.src.loadedmetadata?(t=new Uint8Array([1,1,1,1]),r.texImage2D(this.glTarget,0,r.RGBA,1,1,0,this.glFormat,this.glDataType,t)):r.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,e))}},{key:"update",value:function(){var e,t,r,n=this.src;return 0!==n.width&&0!==n.height&&!this.isFramebufferTexture&&(e=this._getTextureDataFromSource(),t=!1,r=this._renderer.GL,e.width!==this.width||e.height!==this.height?(t=!0,this.width=e.width||n.width,this.height=e.height||n.height,this.isSrcP5Image?n.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&n.setModified(!0)):this.isSrcP5Image?n.isModified()&&n.setModified(!(t=!0)):this.isSrcMediaElement?n.isModified()?n.setModified(!(t=!0)):n.loadedmetadata&&this._videoPrevUpdateTime!==n.time()&&(this._videoPrevUpdateTime=n.time(),t=!0):this.isImageData?n._dirty&&(t=!(n._dirty=!1)):t=!0,t&&(this.bindTexture(),r.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,e)),t)}},{key:"bindTexture",value:function(){return this._renderer.GL.bindTexture(this.glTarget,this.getTexture()),this}},{key:"unbindTexture",value:function(){this._renderer.GL.bindTexture(this.glTarget,null)}},{key:"getTexture",value:function(){return this.isFramebufferTexture?this.src.rawTexture():this.glTex}},{key:"setInterpolation",value:function(e,t){var r=this._renderer.GL;e===a.NEAREST?this.glMinFilter=r.NEAREST:this.glMinFilter=r.LINEAR,t===a.NEAREST?this.glMagFilter=r.NEAREST:this.glMagFilter=r.LINEAR,this.bindTexture(),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,this.glMinFilter),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()}},{key:"setWrapMode",value:function(e,t){function r(e){return 0==(e&e-1)}var n=this._renderer.GL,i=(i=this._getTextureDataFromSource()).naturalWidth&&i.naturalHeight?(o=i.naturalWidth,i.naturalHeight):(o=this.width,this.height),o=r(o);i=r(i);e===a.REPEAT?this._renderer.webglVersion===a.WEBGL2||o&&i?this.glWrapS=n.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=n.CLAMP_TO_EDGE):e===a.MIRROR?this._renderer.webglVersion===a.WEBGL2||o&&i?this.glWrapS=n.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=n.CLAMP_TO_EDGE):this.glWrapS=n.CLAMP_TO_EDGE,t===a.REPEAT?this._renderer.webglVersion===a.WEBGL2||o&&i?this.glWrapT=n.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=n.CLAMP_TO_EDGE):t===a.MIRROR?this._renderer.webglVersion===a.WEBGL2||o&&i?this.glWrapT=n.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=n.CLAMP_TO_EDGE):this.glWrapT=n.CLAMP_TO_EDGE,this.bindTexture(),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,this.glWrapS),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()}}])&&l(t.prototype,r),e}();var c=o.default.Texture;r.default=c},{"../core/constants":262,"../core/main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint8-array":232,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],331:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.sub"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.sub"),e("core-js/modules/web.dom-collections.iterator");var o,a=(o=e("../core/main"))&&o.__esModule?o:{default:o},s=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var r,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var a;Object.prototype.hasOwnProperty.call(e,r)&&((a=o?Object.getOwnPropertyDescriptor(e,r):null)&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=e[r])}return n.default=e,t&&t.set(e,n),n}(e("../core/constants"));function l(){var e;return"function"!=typeof WeakMap?null:(e=new WeakMap,l=function(){return e},e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t,r){t&&c(e.prototype,t),r&&c(e,r)}e("./p5.Shader"),e("./p5.RendererGL.Retained"),a.default.RendererGL.prototype._applyTextProperties=function(){},a.default.RendererGL.prototype.textWidth=function(e){return this._isOpenType()?this._textFont._textWidth(e,this._textSize):0};var f=function(){function e(t,r){u(this,e),this.width=t,this.height=r,this.infos=[]}return d(e,[{key:"findImage",value:function(e){var t,r,n=this.width*this.height;if(n<e)throw new Error("font is too complex to render in 3D");for(var i=this.infos.length-1;0<=i;--i){var o=this.infos[i];if(o.index+e<n){r=(t=o).imageData;break}}if(!t){try{r=new ImageData(this.width,this.height)}catch(e){var a=document.getElementsByTagName("canvas")[0],s=!a,l=(a||((a=document.createElement("canvas")).style.display="none",document.body.appendChild(a)),a.getContext("2d"));l&&(r=l.createImageData(this.width,this.height)),s&&document.body.removeChild(a)}this.infos.push(t={index:0,imageData:r})}return l=t.index,t.index+=e,r._dirty=!0,{imageData:r,index:l}}}]),e}();function h(e,t,r,n,i){var o=e.imageData.data;e=4*e.index++;o[e++]=t,o[e++]=r,o[e++]=n,o[+e]=i}var p=Math.sqrt(3),m=function(){function e(t){u(this,e),this.font=t,this.strokeImageInfos=new f(64,64),this.colDimImageInfos=new f(64,64),this.rowDimImageInfos=new f(64,64),this.colCellImageInfos=new f(64,64),this.rowCellImageInfos=new f(64,64),this.glyphInfos={}}return d(e,[{key:"getGlyphInfo",value:function(e){var t=this.glyphInfos[e.index];if(!t){var r=e.getBoundingBox(),n=r.x1,i=r.y1,o=r.x2-n,s=r.y2-i,l=e.path.commands;if(0==o||0==s||!l.length)return this.glyphInfos[e.index]={};for(var c=[],f=[],m=[],g=8;0<=g;--g)m.push([]);for(g=8;0<=g;--g)f.push([]);var y,v,b,_,w=function(){function e(t,r,n,i){u(this,e),this.p0=t,this.c0=r,this.c1=n,this.p1=i}return d(e,[{key:"toQuadratic",value:function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}}},{key:"quadError",value:function(){return a.default.Vector.sub(a.default.Vector.sub(this.p1,this.p0),a.default.Vector.mult(a.default.Vector.sub(this.c1,this.c0),3)).mag()/2}},{key:"split",value:function(t){var r=a.default.Vector.lerp(this.p0,this.c0,t),n=a.default.Vector.lerp(this.c0,this.c1,t),i=a.default.Vector.lerp(r,n,t);this.c1=a.default.Vector.lerp(this.c1,this.p1,t),this.c0=a.default.Vector.lerp(n,this.c1,t),n=a.default.Vector.lerp(i,this.c0,t),t=new e(this.p0,r,i,n);return this.p0=n,t}},{key:"splitInflections",value:function(){var e=a.default.Vector.sub(this.c0,this.p0),t=a.default.Vector.sub(a.default.Vector.sub(this.c1,this.c0),e),r=a.default.Vector.sub(a.default.Vector.sub(a.default.Vector.sub(this.p1,this.c1),e),a.default.Vector.mult(t,2)),n=[],i=t.x*r.y-t.y*r.x;return 0!==i&&0<=(e=(r=e.x*r.y-e.y*r.x)*r-4*i*(e.x*t.y-e.y*t.x))&&(i<0&&(i=-i,r=-r),e=(-r+(t=Math.sqrt(e)))/(2*i),0<(r=(-r-t)/(2*i))&&r<1&&(n.push(this.split(r)),e=1-(1-e)/(1-r)),0<e&&e<1&&n.push(this.split(e))),n.push(this),n}}]),e}(),E=!0,x=!1,S=void 0;try{for(var T,A=l[Symbol.iterator]();!(E=(T=A.next()).done);E=!0){var M=T.value,R=(M.x-n)/o,C=(M.y-i)/s;if(!V(y,v,R,C)){switch(M.type){case"M":b=R,_=C;break;case"L":z(y,v,R,C);break;case"Q":var I=(M.x1-n)/o,k=(M.y1-i)/s;B([y,R,I],[v,C,k],{x:y,y:v,cx:I,cy:k});break;case"Z":V(y,v,b,_)?c.push({x:y,y:v}):(z(y,v,b,_),c.push({x:b,y:_}));break;case"C":for(var P=function(e,t,r,n,i,o,s,l){e=new w(new a.default.Vector(e,t),new a.default.Vector(r,n),new a.default.Vector(i,o),new a.default.Vector(s,l)).splitInflections();var u=[],c=30/p,d=!0;t=!1,r=void 0;try{for(var f,h=e[Symbol.iterator]();!(d=(f=h.next()).done);d=!0){for(var m=f.value,g=[],y=void 0;!(.125<=(y=c/m.quadError()));){var v=Math.pow(y,1/3),b=m.split(v),_=m.split(1-v/(1-v));u.push(b),g.push(m),m=_}y<1&&u.push(m.split(.5)),u.push(m),Array.prototype.push.apply(u,g.reverse())}}catch(e){t=!0,r=e}finally{try{d||null==h.return||h.return()}finally{if(t)throw r}}return u}(y,v,(M.x1-n)/o,(M.y1-i)/s,(M.x2-n)/o,(M.y2-i)/s,R,C),O=0;O<P.length;O++){var j=P[O].toQuadratic();B([j.x,j.x1,j.cx],[j.y,j.y1,j.cy],j)}break;default:throw new Error("unknown command type: ".concat(M.type))}y=R,v=C}}}catch(e){x=!0,S=e}finally{try{E||null==A.return||A.return()}finally{if(x)throw S}}for(var N=c.length,L=this.strokeImageInfos.findImage(N),D=L.index,F=0;F<N;++F){var U=c[F];h(L,G(U.x),G(U.y),G(U.cx),G(U.cy))}(t=this.glyphInfos[e.index]={glyph:e,uGlyphRect:[r.x1,-r.y1,r.x2,-r.y2],strokeImageInfo:L,strokes:c,colInfo:H(m,this.colDimImageInfos,this.colCellImageInfos),rowInfo:H(f,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[t.colInfo.dimOffset,t.rowInfo.dimOffset]}return t;function B(e,t,r){var n=c.length;function i(e,t,r){for(var n=e.length;0<n--;){var i=e[n];i<t&&(t=i),r<i&&(r=i)}return{min:t,max:r}}c.push(r);r=i(e,1,0),e=Math.max(Math.floor(9*r.min-.5),0);for(var o=Math.min(Math.ceil(9*r.max+.5),9),a=e;a<o;++a)m[a].push(n);r=i(t,1,0),e=Math.max(Math.floor(9*r.min-.5),0);for(var s=Math.min(Math.ceil(9*r.max+.5),9),l=e;l<s;++l)f[l].push(n)}function G(e){return(e=255*e)<0?0:255<e?255:e}function z(e,t,r,n){B([e,r],[t,n],{x:e,y:t,cx:(e+r)/2,cy:(t+n)/2})}function V(e,t,r,n){return Math.abs(r-e)<1e-5&&Math.abs(n-t)<1e-5}function H(e,t,r){for(var n=e.length,i=t.findImage(n),o=(t=i.index,0),a=0;a<n;++a)o+=e[a].length;for(var s=r.findImage(o),l=0;l<n;++l){var u=e[l],c=u.length,d=s.index;h(i,d>>7,127&d,c>>7,127&c);for(var f=0;f<c;++f){var p=u[f]+D;h(s,p>>7,127&p,0,0)}}return{cellImageInfo:s,dimOffset:t,dimImageInfo:i}}}}]),e}();a.default.RendererGL.prototype._renderText=function(e,t,r,n,i){if(this._textFont&&"string"!=typeof this._textFont){if(!(i<=n)&&this._doFill){if(this._isOpenType()){e.push();i=this._doStroke;var o=this.drawMode,l=(this._doStroke=!1,this.drawMode=s.TEXTURE,this._textFont.font),u=(u=this._textFont._fontInfo)||(this._textFont._fontInfo=new m(l)),c=(r=this._textFont._handleAlignment(this,t,r,n),n=this._textSize/l.unitsPerEm,this.translate(r.x,r.y,0),this.scale(n,n,1),this.GL),d=(r=!this._defaultFontShader,this._getFontShader()),f=(d.init(),d.bindShader(),r&&(d.setUniform("uGridImageSize",[64,64]),d.setUniform("uCellsImageSize",[64,64]),d.setUniform("uStrokeImageSize",[64,64]),d.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor),this.retainedMode.geometry.glyph),h=(f||((n=this._textGeom=new a.default.Geometry(1,1,(function(){for(var e=0;e<=1;e++)for(var t=0;t<=1;t++)this.vertices.push(new a.default.Vector(t,e,0)),this.uvs.push(t,e)}))).computeFaces().computeNormals(),f=this.createBuffers("glyph",n)),!0);r=!1,n=void 0;try{for(var p,g=this.retainedMode.buffers.text[Symbol.iterator]();!(h=(p=g.next()).done);h=!0)p.value._prepareBuffer(f,d)}catch(e){r=!0,n=e}finally{try{h||null==g.return||g.return()}finally{if(r)throw n}}this._bindBuffer(f.indexBuffer,c.ELEMENT_ARRAY_BUFFER),d.setUniform("uMaterialColor",this.curFillColor),c.pixelStorei(c.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);try{var y=0,v=null,b=l.stringToGlyphs(t),_=!0,w=!1,E=void 0;try{for(var x,S=b[Symbol.iterator]();!(_=(x=S.next()).done);_=!0){var T,A,M=x.value,R=(v&&(y+=l.getKerningValue(v,M)),u.getGlyphInfo(M));R.uGlyphRect&&(T=R.rowInfo,A=R.colInfo,d.setUniform("uSamplerStrokes",R.strokeImageInfo.imageData),d.setUniform("uSamplerRowStrokes",T.cellImageInfo.imageData),d.setUniform("uSamplerRows",T.dimImageInfo.imageData),d.setUniform("uSamplerColStrokes",A.cellImageInfo.imageData),d.setUniform("uSamplerCols",A.dimImageInfo.imageData),d.setUniform("uGridOffset",R.uGridOffset),d.setUniform("uGlyphRect",R.uGlyphRect),d.setUniform("uGlyphOffset",y),d.bindTextures(),c.drawElements(c.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)),y+=M.advanceWidth,v=M}}catch(e){w=!0,E=e}finally{try{_||null==S.return||S.return()}finally{if(w)throw E}}}finally{d.unbindShader(),this._doStroke=i,this.drawMode=o,c.pixelStorei(c.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),e.pop()}}else console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported");return e}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":262,"../core/main":273,"./p5.RendererGL.Retained":327,"./p5.Shader":329,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.split":196,"core-js/modules/es.string.sub":198,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}]},{},[257])(257)}))},493:function(e){e.exports=function(e,t,r,n){var i=e[0],o=e[1],a=!1;void 0===r&&(r=0),void 0===n&&(n=t.length);for(var s=(n-r)/2,l=0,u=s-1;l<s;u=l++){var c=t[r+2*l+0],d=t[r+2*l+1],f=t[r+2*u+0],h=t[r+2*u+1];d>o!==h>o&&i<(f-c)*(o-d)/(h-d)+c&&(a=!a)}return a}},21:function(e,t,r){var n=r(493),i=r(850);e.exports=function(e,t,r,o){return t.length>0&&Array.isArray(t[0])?i(e,t,r,o):n(e,t,r,o)},e.exports.nested=i,e.exports.flat=n},850:function(e){e.exports=function(e,t,r,n){var i=e[0],o=e[1],a=!1;void 0===r&&(r=0),void 0===n&&(n=t.length);for(var s=n-r,l=0,u=s-1;l<s;u=l++){var c=t[l+r][0],d=t[l+r][1],f=t[u+r][0],h=t[u+r][1];d>o!==h>o&&i<(f-c)*(o-d)/(h-d)+c&&(a=!a)}return a}},463:function(t,r,n){"use strict";var i=n(791),o=n(296);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,u={};function c(e,t){d(e,t),d(e+"Capture",t)}function d(e,t){for(u[e]=t,e=0;e<t.length;e++)l.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},g={};function y(e,t,r,n,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new y(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new y(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new y(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new y(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new y(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new y(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new y(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new y(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new y(e,5,!1,e.toLowerCase(),null,!1,!1)}));var b=/[\-:]([a-z])/g;function _(e){return e[1].toUpperCase()}function w(e,t,r,n){var i=v.hasOwnProperty(t)?v[t]:null;(null!==i?0!==i.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,r,n){if(null===t||"undefined"===typeof t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,i,n)&&(r=null),n||null===i?function(e){return!!h.call(g,e)||!h.call(m,e)&&(p.test(e)?g[e]=!0:(m[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=null===r?3!==i.type&&"":r:(t=i.attributeName,n=i.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(i=i.type)||4===i&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(b,_);v[t]=new y(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(b,_);v[t]=new y(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(b,_);v[t]=new y(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new y(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new y(e,1,!1,e.toLowerCase(),null,!0,!0)}));var E=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),S=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),C=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),j=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var N=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var F,U=Object.assign;function B(e){if(void 0===F)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return"\n"+F+e}var G=!1;function z(e,t){if(!e||G)return"";G=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),o=n.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{G=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?B(e):""}function V(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case T:return"Fragment";case S:return"Portal";case M:return"Profiler";case A:return"StrictMode";case k:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case R:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:H(e.type)||"Memo";case j:t=e._payload,e=e._init;try{return H(e(t))}catch(r){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(t);case 8:return t===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function Z(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=q(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var r=t.checked;return U({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function $(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=Z(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ee(e,t){J(e,t);var r=Z(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?re(e,t.type,r):t.hasOwnProperty("defaultValue")&&re(e,t.type,Z(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function te(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function re(e,t,r){"number"===t&&K(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ne=Array.isArray;function ie(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Z(r),t=null,i=0;i<e.length;i++){if(e[i].value===r)return e[i].selected=!0,void(n&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function oe(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return U({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(s(92));if(ne(r)){if(1<r.length)throw Error(s(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:Z(r)}}function se(e,t){var r=Z(t.value),n=Z(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var de,fe=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction((function(){return e(t,r)}))}:e}((function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((de=de||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=de.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function he(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function ge(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ye(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),i=ge(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}Object.keys(pe).forEach((function(e){me.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ve=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Se=null,Te=null;function Ae(e){if(e=yi(e)){if("function"!==typeof xe)throw Error(s(280));var t=e.stateNode;t&&(t=bi(t),xe(e.stateNode,e.type,t))}}function Me(e){Se?Te?Te.push(e):Te=[e]:Se=e}function Re(){if(Se){var e=Se,t=Te;if(Te=Se=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Ce(e,t){return e(t)}function Ie(){}var ke=!1;function Pe(e,t,r){if(ke)return e(t,r);ke=!0;try{return Ce(e,t,r)}finally{ke=!1,(null!==Se||null!==Te)&&(Ie(),Re())}}function Oe(e,t){var r=e.stateNode;if(null===r)return null;var n=bi(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(s(231,t,typeof r));return r}var je=!1;if(f)try{var Ne={};Object.defineProperty(Ne,"passive",{get:function(){je=!0}}),window.addEventListener("test",Ne,Ne),window.removeEventListener("test",Ne,Ne)}catch(a){je=!1}function Le(e,t,r,n,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(c){this.onError(c)}}var De=!1,Fe=null,Ue=!1,Be=null,Ge={onError:function(e){De=!0,Fe=e}};function ze(e,t,r,n,i,o,a,s,l){De=!1,Fe=null,Le.apply(Ge,arguments)}function Ve(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Ve(e)!==e)throw Error(s(188))}function Ze(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(s(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(n=i.return)){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return We(i),e;if(o===n)return We(i),t;o=o.sibling}throw Error(s(188))}if(r.return!==n.return)r=i,n=o;else{for(var a=!1,l=i.child;l;){if(l===r){a=!0,r=i,n=o;break}if(l===n){a=!0,n=i,r=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===r){a=!0,r=o,n=i;break}if(l===n){a=!0,n=o,r=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(r.alternate!==n)throw Error(s(190))}if(3!==r.tag)throw Error(s(188));return r.stateNode.current===r?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ye=o.unstable_scheduleCallback,Xe=o.unstable_cancelCallback,Ke=o.unstable_shouldYield,Qe=o.unstable_requestPaint,$e=o.unstable_now,Je=o.unstable_getCurrentPriorityLevel,et=o.unstable_ImmediatePriority,tt=o.unstable_UserBlockingPriority,rt=o.unstable_NormalPriority,nt=o.unstable_LowPriority,it=o.unstable_IdlePriority,ot=null,at=null;var st=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(lt(e)/ut|0)|0},lt=Math.log,ut=Math.LN2;var ct=64,dt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var r=e.pendingLanes;if(0===r)return 0;var n=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&r;if(0!==a){var s=a&~i;0!==s?n=ft(s):0!==(o&=a)&&(n=ft(o))}else 0!==(a=r&~i)?n=ft(a):0!==o&&(n=ft(o));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&i)&&((i=n&-n)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&n)&&(n|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)i=1<<(r=31-st(t)),n|=e[r],t&=~i;return n}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function yt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function vt(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=r}function bt(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-st(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var _t=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Et,xt,St,Tt,At,Mt=!1,Rt=[],Ct=null,It=null,kt=null,Pt=new Map,Ot=new Map,jt=[],Nt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":kt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Dt(e,t,r,n,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=yi(t))&&xt(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var r=Ve(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=He(r)))return e.blockedOn=t,void At(e.priority,(function(){St(r)}))}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=yi(r))&&xt(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);we=n,r.target.dispatchEvent(n),we=null,t.shift()}return!0}function Bt(e,t,r){Ut(e)&&r.delete(t)}function Gt(){Mt=!1,null!==Ct&&Ut(Ct)&&(Ct=null),null!==It&&Ut(It)&&(It=null),null!==kt&&Ut(kt)&&(kt=null),Pt.forEach(Bt),Ot.forEach(Bt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Mt||(Mt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Gt)))}function Vt(e){function t(t){return zt(t,e)}if(0<Rt.length){zt(Rt[0],e);for(var r=1;r<Rt.length;r++){var n=Rt[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==It&&zt(It,e),null!==kt&&zt(kt,e),Pt.forEach(t),Ot.forEach(t),r=0;r<jt.length;r++)(n=jt[r]).blockedOn===e&&(n.blockedOn=null);for(;0<jt.length&&null===(r=jt[0]).blockedOn;)Ft(r),null===r.blockedOn&&jt.shift()}var Ht=E.ReactCurrentBatchConfig,Wt=!0;function Zt(e,t,r,n){var i=_t,o=Ht.transition;Ht.transition=null;try{_t=1,Yt(e,t,r,n)}finally{_t=i,Ht.transition=o}}function qt(e,t,r,n){var i=_t,o=Ht.transition;Ht.transition=null;try{_t=4,Yt(e,t,r,n)}finally{_t=i,Ht.transition=o}}function Yt(e,t,r,n){if(Wt){var i=Kt(e,t,r,n);if(null===i)zn(e,t,n,Xt,r),Lt(e,n);else if(function(e,t,r,n,i){switch(t){case"focusin":return Ct=Dt(Ct,e,t,r,n,i),!0;case"dragenter":return It=Dt(It,e,t,r,n,i),!0;case"mouseover":return kt=Dt(kt,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return Pt.set(o,Dt(Pt.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,Ot.set(o,Dt(Ot.get(o)||null,e,t,r,n,i)),!0}return!1}(i,e,t,r,n))n.stopPropagation();else if(Lt(e,n),4&t&&-1<Nt.indexOf(e)){for(;null!==i;){var o=yi(i);if(null!==o&&Et(o),null===(o=Kt(e,t,r,n))&&zn(e,t,n,Xt,r),o===i)break;i=o}null!==i&&n.stopPropagation()}else zn(e,t,n,null,r)}}var Xt=null;function Kt(e,t,r,n){if(Xt=null,null!==(e=gi(e=Ee(n))))if(null===(t=Ve(e)))e=null;else if(13===(r=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case et:return 1;case tt:return 4;case rt:case nt:return 16;case it:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,er=null;function tr(){if(er)return er;var e,t,r=Jt,n=r.length,i="value"in $t?$t.value:$t.textContent,o=i.length;for(e=0;e<n&&r[e]===i[e];e++);var a=n-e;for(t=1;t<=a&&r[n-t]===i[o-t];t++);return er=i.slice(e,1<t?1-t:void 0)}function rr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nr(){return!0}function ir(){return!1}function or(e){function t(t,r,n,i,o){for(var a in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nr:ir,this.isPropagationStopped=ir,this}return U(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nr)},persist:function(){},isPersistent:nr}),t}var ar,sr,lr,ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cr=or(ur),dr=U({},ur,{view:0,detail:0}),fr=or(dr),hr=U({},dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==lr&&(lr&&"mousemove"===e.type?(ar=e.screenX-lr.screenX,sr=e.screenY-lr.screenY):sr=ar=0,lr=e),ar)},movementY:function(e){return"movementY"in e?e.movementY:sr}}),pr=or(hr),mr=or(U({},hr,{dataTransfer:0})),gr=or(U({},dr,{relatedTarget:0})),yr=or(U({},ur,{animationName:0,elapsedTime:0,pseudoElement:0})),vr=or(U({},ur,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),br=or(U({},ur,{data:0})),_r={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Er={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Er[e])&&!!t[e]}function Sr(){return xr}var Tr=or(U({},dr,{key:function(e){if(e.key){var t=_r[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sr,charCode:function(e){return"keypress"===e.type?rr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),Ar=or(U({},hr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Mr=or(U({},dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sr})),Rr=or(U({},ur,{propertyName:0,elapsedTime:0,pseudoElement:0})),Cr=or(U({},hr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Ir=[9,13,27,32],kr=f&&"CompositionEvent"in window,Pr=null;f&&"documentMode"in document&&(Pr=document.documentMode);var Or=f&&"TextEvent"in window&&!Pr,jr=f&&(!kr||Pr&&8<Pr&&11>=Pr),Nr=String.fromCharCode(32),Lr=!1;function Dr(e,t){switch(e){case"keyup":return-1!==Ir.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Ur=!1;var Br={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Br[e.type]:"textarea"===t}function zr(e,t,r,n){Me(n),0<(t=Hn(t,"onChange")).length&&(r=new cr("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Vr=null,Hr=null;function Wr(e){Ln(e,0)}function Zr(e){if(X(vi(e)))return e}function qr(e,t){if("change"===e)return t}var Yr=!1;if(f){var Xr;if(f){var Kr="oninput"in document;if(!Kr){var Qr=document.createElement("div");Qr.setAttribute("oninput","return;"),Kr="function"===typeof Qr.oninput}Xr=Kr}else Xr=!1;Yr=Xr&&(!document.documentMode||9<document.documentMode)}function $r(){Vr&&(Vr.detachEvent("onpropertychange",Jr),Hr=Vr=null)}function Jr(e){if("value"===e.propertyName&&Zr(Hr)){var t=[];zr(t,Hr,e,Ee(e)),Pe(Wr,t)}}function en(e,t,r){"focusin"===e?($r(),Hr=r,(Vr=t).attachEvent("onpropertychange",Jr)):"focusout"===e&&$r()}function tn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Zr(Hr)}function rn(e,t){if("click"===e)return Zr(t)}function nn(e,t){if("input"===e||"change"===e)return Zr(t)}var on="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function an(e,t){if(on(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!h.call(t,i)||!on(e[i],t[i]))return!1}return!0}function sn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ln(e,t){var r,n=sn(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=sn(n)}}function un(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?un(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function cn(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=K((e=t.contentWindow).document)}return t}function dn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fn(e){var t=cn(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&un(r.ownerDocument.documentElement,r)){if(null!==n&&dn(r))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=void 0===n.end?o:Math.min(n.end,i),!e.extend&&o>n&&(i=n,n=o,o=i),i=ln(r,o);var a=ln(r,n);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hn=f&&"documentMode"in document&&11>=document.documentMode,pn=null,mn=null,gn=null,yn=!1;function vn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;yn||null==pn||pn!==K(n)||("selectionStart"in(n=pn)&&dn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},gn&&an(gn,n)||(gn=n,0<(n=Hn(mn,"onSelect")).length&&(t=new cr("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=pn)))}function bn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var _n={animationend:bn("Animation","AnimationEnd"),animationiteration:bn("Animation","AnimationIteration"),animationstart:bn("Animation","AnimationStart"),transitionend:bn("Transition","TransitionEnd")},wn={},En={};function xn(e){if(wn[e])return wn[e];if(!_n[e])return e;var t,r=_n[e];for(t in r)if(r.hasOwnProperty(t)&&t in En)return wn[e]=r[t];return e}f&&(En=document.createElement("div").style,"AnimationEvent"in window||(delete _n.animationend.animation,delete _n.animationiteration.animation,delete _n.animationstart.animation),"TransitionEvent"in window||delete _n.transitionend.transition);var Sn=xn("animationend"),Tn=xn("animationiteration"),An=xn("animationstart"),Mn=xn("transitionend"),Rn=new Map,Cn="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function In(e,t){Rn.set(e,t),c(t,[e])}for(var kn=0;kn<Cn.length;kn++){var Pn=Cn[kn];In(Pn.toLowerCase(),"on"+(Pn[0].toUpperCase()+Pn.slice(1)))}In(Sn,"onAnimationEnd"),In(Tn,"onAnimationIteration"),In(An,"onAnimationStart"),In("dblclick","onDoubleClick"),In("focusin","onFocus"),In("focusout","onBlur"),In(Mn,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var On="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jn=new Set("cancel close invalid load scroll toggle".split(" ").concat(On));function Nn(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,n,i,o,a,l,u){if(ze.apply(this,arguments),De){if(!De)throw Error(s(198));var c=Fe;De=!1,Fe=null,Ue||(Ue=!0,Be=c)}}(n,t,void 0,e),e.currentTarget=null}function Ln(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var a=n.length-1;0<=a;a--){var s=n[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Nn(i,s,u),o=l}else for(a=0;a<n.length;a++){if(l=(s=n[a]).instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Nn(i,s,u),o=l}}}if(Ue)throw e=Be,Ue=!1,Be=null,e}function Dn(e,t){var r=t[hi];void 0===r&&(r=t[hi]=new Set);var n=e+"__bubble";r.has(n)||(Gn(t,e,2,!1),r.add(n))}function Fn(e,t,r){var n=0;t&&(n|=4),Gn(r,e,n,t)}var Un="_reactListening"+Math.random().toString(36).slice(2);function Bn(e){if(!e[Un]){e[Un]=!0,l.forEach((function(t){"selectionchange"!==t&&(jn.has(t)||Fn(t,!1,e),Fn(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Un]||(t[Un]=!0,Fn("selectionchange",!1,t))}}function Gn(e,t,r,n){switch(Qt(t)){case 1:var i=Zt;break;case 4:i=qt;break;default:i=Yt}r=i.bind(null,t,r,e),i=void 0,!je||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),n?void 0!==i?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):void 0!==i?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function zn(e,t,r,n,i){var o=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var a=n.tag;if(3===a||4===a){var s=n.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=n.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=gi(s)))return;if(5===(l=a.tag)||6===l){n=o=a;continue e}s=s.parentNode}}n=n.return}Pe((function(){var n=o,i=Ee(r),a=[];e:{var s=Rn.get(e);if(void 0!==s){var l=cr,u=e;switch(e){case"keypress":if(0===rr(r))break e;case"keydown":case"keyup":l=Tr;break;case"focusin":u="focus",l=gr;break;case"focusout":u="blur",l=gr;break;case"beforeblur":case"afterblur":l=gr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Mr;break;case Sn:case Tn:case An:l=yr;break;case Mn:l=Rr;break;case"scroll":l=fr;break;case"wheel":l=Cr;break;case"copy":case"cut":case"paste":l=vr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Ar}var c=0!==(4&t),d=!c&&"scroll"===e,f=c?null!==s?s+"Capture":null:s;c=[];for(var h,p=n;null!==p;){var m=(h=p).stateNode;if(5===h.tag&&null!==m&&(h=m,null!==f&&(null!=(m=Oe(p,f))&&c.push(Vn(p,m,h)))),d)break;p=p.return}0<c.length&&(s=new l(s,u,null,r,i),a.push({event:s,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||r===we||!(u=r.relatedTarget||r.fromElement)||!gi(u)&&!u[fi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=n,null!==(u=(u=r.relatedTarget||r.toElement)?gi(u):null)&&(u!==(d=Ve(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=n),l!==u)){if(c=pr,m="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Ar,m="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==l?s:vi(l),h=null==u?s:vi(u),(s=new c(m,p+"leave",l,r,i)).target=d,s.relatedTarget=h,m=null,gi(i)===n&&((c=new c(f,p+"enter",u,r,i)).target=h,c.relatedTarget=d,m=c),d=m,l&&u)e:{for(f=u,p=0,h=c=l;h;h=Wn(h))p++;for(h=0,m=f;m;m=Wn(m))h++;for(;0<p-h;)c=Wn(c),p--;for(;0<h-p;)f=Wn(f),h--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=Wn(c),f=Wn(f)}c=null}else c=null;null!==l&&Zn(a,s,l,c,!1),null!==u&&null!==d&&Zn(a,d,u,c,!0)}if("select"===(l=(s=n?vi(n):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=qr;else if(Gr(s))if(Yr)g=nn;else{g=tn;var y=en}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=rn);switch(g&&(g=g(e,n))?zr(a,g,r,i):(y&&y(e,s,n),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&re(s,"number",s.value)),y=n?vi(n):window,e){case"focusin":(Gr(y)||"true"===y.contentEditable)&&(pn=y,mn=n,gn=null);break;case"focusout":gn=mn=pn=null;break;case"mousedown":yn=!0;break;case"contextmenu":case"mouseup":case"dragend":yn=!1,vn(a,r,i);break;case"selectionchange":if(hn)break;case"keydown":case"keyup":vn(a,r,i)}var v;if(kr)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Ur?Dr(e,r)&&(b="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(b="onCompositionStart");b&&(jr&&"ko"!==r.locale&&(Ur||"onCompositionStart"!==b?"onCompositionEnd"===b&&Ur&&(v=tr()):(Jt="value"in($t=i)?$t.value:$t.textContent,Ur=!0)),0<(y=Hn(n,b)).length&&(b=new br(b,e,null,r,i),a.push({event:b,listeners:y}),v?b.data=v:null!==(v=Fr(r))&&(b.data=v))),(v=Or?function(e,t){switch(e){case"compositionend":return Fr(t);case"keypress":return 32!==t.which?null:(Lr=!0,Nr);case"textInput":return(e=t.data)===Nr&&Lr?null:e;default:return null}}(e,r):function(e,t){if(Ur)return"compositionend"===e||!kr&&Dr(e,t)?(e=tr(),er=Jt=$t=null,Ur=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(n=Hn(n,"onBeforeInput")).length&&(i=new br("onBeforeInput","beforeinput",null,r,i),a.push({event:i,listeners:n}),i.data=v))}Ln(a,t)}))}function Vn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Hn(e,t){for(var r=t+"Capture",n=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Oe(e,r))&&n.unshift(Vn(e,o,i)),null!=(o=Oe(e,t))&&n.push(Vn(e,o,i))),e=e.return}return n}function Wn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Zn(e,t,r,n,i){for(var o=t._reactName,a=[];null!==r&&r!==n;){var s=r,l=s.alternate,u=s.stateNode;if(null!==l&&l===n)break;5===s.tag&&null!==u&&(s=u,i?null!=(l=Oe(r,o))&&a.unshift(Vn(r,l,s)):i||null!=(l=Oe(r,o))&&a.push(Vn(r,l,s))),r=r.return}0!==a.length&&e.push({event:t,listeners:a})}var qn=/\r\n?/g,Yn=/\u0000|\uFFFD/g;function Xn(e){return("string"===typeof e?e:""+e).replace(qn,"\n").replace(Yn,"")}function Kn(e,t,r){if(t=Xn(t),Xn(e)!==t&&r)throw Error(s(425))}function Qn(){}var $n=null,Jn=null;function ei(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ti="function"===typeof setTimeout?setTimeout:void 0,ri="function"===typeof clearTimeout?clearTimeout:void 0,ni="function"===typeof Promise?Promise:void 0,ii="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ni?function(e){return ni.resolve(null).then(e).catch(oi)}:ti;function oi(e){setTimeout((function(){throw e}))}function ai(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&8===i.nodeType)if("/$"===(r=i.data)){if(0===n)return e.removeChild(i),void Vt(t);n--}else"$"!==r&&"$?"!==r&&"$!"!==r||n++;r=i}while(r);Vt(t)}function si(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var ui=Math.random().toString(36).slice(2),ci="__reactFiber$"+ui,di="__reactProps$"+ui,fi="__reactContainer$"+ui,hi="__reactEvents$"+ui,pi="__reactListeners$"+ui,mi="__reactHandles$"+ui;function gi(e){var t=e[ci];if(t)return t;for(var r=e.parentNode;r;){if(t=r[fi]||r[ci]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=li(e);null!==e;){if(r=e[ci])return r;e=li(e)}return t}r=(e=r).parentNode}return null}function yi(e){return!(e=e[ci]||e[fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function vi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function bi(e){return e[di]||null}var _i=[],wi=-1;function Ei(e){return{current:e}}function xi(e){0>wi||(e.current=_i[wi],_i[wi]=null,wi--)}function Si(e,t){wi++,_i[wi]=e.current,e.current=t}var Ti={},Ai=Ei(Ti),Mi=Ei(!1),Ri=Ti;function Ci(e,t){var r=e.type.contextTypes;if(!r)return Ti;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in r)o[i]=t[i];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ii(e){return null!==(e=e.childContextTypes)&&void 0!==e}function ki(){xi(Mi),xi(Ai)}function Pi(e,t,r){if(Ai.current!==Ti)throw Error(s(168));Si(Ai,t),Si(Mi,r)}function Oi(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var i in n=n.getChildContext())if(!(i in t))throw Error(s(108,W(e)||"Unknown",i));return U({},r,n)}function ji(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ri=Ai.current,Si(Ai,e),Si(Mi,Mi.current),!0}function Ni(e,t,r){var n=e.stateNode;if(!n)throw Error(s(169));r?(e=Oi(e,t,Ri),n.__reactInternalMemoizedMergedChildContext=e,xi(Mi),xi(Ai),Si(Ai,e)):xi(Mi),Si(Mi,r)}var Li=null,Di=!1,Fi=!1;function Ui(e){null===Li?Li=[e]:Li.push(e)}function Bi(){if(!Fi&&null!==Li){Fi=!0;var t=0,r=_t;try{var n=Li;for(_t=1;t<n.length;t++){var i=n[t];do{i=i(!0)}while(null!==i)}Li=null,Di=!1}catch(e){throw null!==Li&&(Li=Li.slice(t+1)),Ye(et,Bi),e}finally{_t=r,Fi=!1}}return null}var Gi=[],zi=0,Vi=null,Hi=0,Wi=[],Zi=0,qi=null,Yi=1,Xi="";function Ki(e,t){Gi[zi++]=Hi,Gi[zi++]=Vi,Vi=e,Hi=t}function Qi(e,t,r){Wi[Zi++]=Yi,Wi[Zi++]=Xi,Wi[Zi++]=qi,qi=e;var n=Yi;e=Xi;var i=32-st(n)-1;n&=~(1<<i),r+=1;var o=32-st(t)+i;if(30<o){var a=i-i%5;o=(n&(1<<a)-1).toString(32),n>>=a,i-=a,Yi=1<<32-st(t)+i|r<<i|n,Xi=o+e}else Yi=1<<o|r<<i|n,Xi=e}function $i(e){null!==e.return&&(Ki(e,1),Qi(e,1,0))}function Ji(e){for(;e===Vi;)Vi=Gi[--zi],Gi[zi]=null,Hi=Gi[--zi],Gi[zi]=null;for(;e===qi;)qi=Wi[--Zi],Wi[Zi]=null,Xi=Wi[--Zi],Wi[Zi]=null,Yi=Wi[--Zi],Wi[Zi]=null}var eo=null,to=null,ro=!1,no=null;function io(e,t){var r=Iu(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function oo(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,eo=e,to=si(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,eo=e,to=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(r=null!==qi?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=Iu(18,null,null,0)).stateNode=t,r.return=e,e.child=r,eo=e,to=null,!0);default:return!1}}function ao(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function so(e){if(ro){var t=to;if(t){var r=t;if(!oo(e,t)){if(ao(e))throw Error(s(418));t=si(r.nextSibling);var n=eo;t&&oo(e,t)?io(n,r):(e.flags=-4097&e.flags|2,ro=!1,eo=e)}}else{if(ao(e))throw Error(s(418));e.flags=-4097&e.flags|2,ro=!1,eo=e}}}function lo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;eo=e}function uo(e){if(e!==eo)return!1;if(!ro)return lo(e),ro=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ei(e.type,e.memoizedProps)),t&&(t=to)){if(ao(e))throw co(),Error(s(418));for(;t;)io(e,t),t=si(t.nextSibling)}if(lo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){to=si(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}to=null}}else to=eo?si(e.stateNode.nextSibling):null;return!0}function co(){for(var e=to;e;)e=si(e.nextSibling)}function fo(){to=eo=null,ro=!1}function ho(e){null===no?no=[e]:no.push(e)}var po=E.ReactCurrentBatchConfig;function mo(e,t){if(e&&e.defaultProps){for(var r in t=U({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}var go=Ei(null),yo=null,vo=null,bo=null;function _o(){bo=vo=yo=null}function wo(e){var t=go.current;xi(go),e._currentValue=t}function Eo(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function xo(e,t){yo=e,bo=vo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(vs=!0),e.firstContext=null)}function So(e){var t=e._currentValue;if(bo!==e)if(e={context:e,memoizedValue:t,next:null},null===vo){if(null===yo)throw Error(s(308));vo=e,yo.dependencies={lanes:0,firstContext:e}}else vo=vo.next=e;return t}var To=null;function Ao(e){null===To?To=[e]:To.push(e)}function Mo(e,t,r,n){var i=t.interleaved;return null===i?(r.next=r,Ao(t)):(r.next=i.next,i.next=r),t.interleaved=r,Ro(e,n)}function Ro(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var Co=!1;function Io(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ko(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Po(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oo(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&Ml)){var i=n.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Ro(e,r)}return null===(i=n.interleaved)?(t.next=t,Ao(n)):(t.next=i.next,i.next=t),n.interleaved=t,Ro(e,r)}function jo(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&r))){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,bt(e,r)}}function No(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var i=null,o=null;if(null!==(r=r.firstBaseUpdate)){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===o?i=o=a:o=o.next=a,r=r.next}while(null!==r);null===o?i=o=t:o=o.next=t}else i=o=t;return r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Lo(e,t,r,n){var i=e.updateQueue;Co=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,u=l.next;l.next=null,null===a?o=u:a.next=u,a=l;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(a=0,c=u=l=null,s=o;;){var f=s.lane,h=s.eventTime;if((n&f)===f){null!==c&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(f=t,h=r,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=m.payload)?p.call(h,d,f):p)||void 0===f)break e;d=U({},d,f);break e;case 2:Co=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else h={eventTime:h,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=h,l=d):c=c.next=h,a|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===c&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Nl|=a,e.lanes=a,e.memoizedState=d}}function Do(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(null!==i){if(n.callback=null,n=r,"function"!==typeof i)throw Error(s(191,i));i.call(n)}}}var Fo=(new i.Component).refs;function Uo(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:U({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var Bo={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Jl(),i=eu(e),o=Po(n,i);o.payload=t,void 0!==r&&null!==r&&(o.callback=r),null!==(t=Oo(e,o,i))&&(tu(t,e,i,n),jo(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Jl(),i=eu(e),o=Po(n,i);o.tag=1,o.payload=t,void 0!==r&&null!==r&&(o.callback=r),null!==(t=Oo(e,o,i))&&(tu(t,e,i,n),jo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Jl(),n=eu(e),i=Po(r,n);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Oo(e,i,n))&&(tu(t,e,n,r),jo(t,e,n))}};function Go(e,t,r,n,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!an(r,n)||!an(i,o))}function zo(e,t,r){var n=!1,i=Ti,o=t.contextType;return"object"===typeof o&&null!==o?o=So(o):(i=Ii(t)?Ri:Ai.current,o=(n=null!==(n=t.contextTypes)&&void 0!==n)?Ci(e,i):Ti),t=new t(r,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Bo,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Vo(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Bo.enqueueReplaceState(t,t.state,null)}function Ho(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=Fo,Io(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=So(o):(o=Ii(t)?Ri:Ai.current,i.context=Ci(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Uo(e,t,o,r),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Bo.enqueueReplaceState(i,i.state,null),Lo(e,r,i,n),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Wo(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(s(309));var n=r.stateNode}if(!n)throw Error(s(147,e));var i=n,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Fo&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!r._owner)throw Error(s(290,e))}return e}function Zo(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function qo(e){return(0,e._init)(e._payload)}function Yo(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pu(e,t)).index=0,e.sibling=null,e}function o(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=2,r):n:(t.flags|=2,r):(t.flags|=1048576,r)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,r,n){return null===t||6!==t.tag?((t=Lu(r,e.mode,n)).return=e,t):((t=i(t,r)).return=e,t)}function u(e,t,r,n){var o=r.type;return o===T?d(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===j&&qo(o)===t.type)?((n=i(t,r.props)).ref=Wo(e,t,r),n.return=e,n):((n=Ou(r.type,r.key,r.props,null,e.mode,n)).ref=Wo(e,t,r),n.return=e,n)}function c(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Du(r,e.mode,n)).return=e,t):((t=i(t,r.children||[])).return=e,t)}function d(e,t,r,n,o){return null===t||7!==t.tag?((t=ju(r,e.mode,n,o)).return=e,t):((t=i(t,r)).return=e,t)}function f(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lu(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(r=Ou(t.type,t.key,t.props,null,e.mode,r)).ref=Wo(e,null,t),r.return=e,r;case S:return(t=Du(t,e.mode,r)).return=e,t;case j:return f(e,(0,t._init)(t._payload),r)}if(ne(t)||D(t))return(t=ju(t,e.mode,r,null)).return=e,t;Zo(e,t)}return null}function h(e,t,r,n){var i=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r)return null!==i?null:l(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return r.key===i?u(e,t,r,n):null;case S:return r.key===i?c(e,t,r,n):null;case j:return h(e,t,(i=r._init)(r._payload),n)}if(ne(r)||D(r))return null!==i?null:d(e,t,r,n,null);Zo(e,r)}return null}function p(e,t,r,n,i){if("string"===typeof n&&""!==n||"number"===typeof n)return l(t,e=e.get(r)||null,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return u(t,e=e.get(null===n.key?r:n.key)||null,n,i);case S:return c(t,e=e.get(null===n.key?r:n.key)||null,n,i);case j:return p(e,t,r,(0,n._init)(n._payload),i)}if(ne(n)||D(n))return d(t,e=e.get(r)||null,n,i,null);Zo(t,n)}return null}function m(i,a,s,l){for(var u=null,c=null,d=a,m=a=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=h(i,d,s[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(i,d),a=o(y,a,m),null===c?u=y:c.sibling=y,c=y,d=g}if(m===s.length)return r(i,d),ro&&Ki(i,m),u;if(null===d){for(;m<s.length;m++)null!==(d=f(i,s[m],l))&&(a=o(d,a,m),null===c?u=d:c.sibling=d,c=d);return ro&&Ki(i,m),u}for(d=n(i,d);m<s.length;m++)null!==(g=p(d,i,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),a=o(g,a,m),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach((function(e){return t(i,e)})),ro&&Ki(i,m),u}function g(i,a,l,u){var c=D(l);if("function"!==typeof c)throw Error(s(150));if(null==(l=c.call(l)))throw Error(s(151));for(var d=c=null,m=a,g=a=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=h(i,m,v.value,u);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),a=o(b,a,g),null===d?c=b:d.sibling=b,d=b,m=y}if(v.done)return r(i,m),ro&&Ki(i,g),c;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=f(i,v.value,u))&&(a=o(v,a,g),null===d?c=v:d.sibling=v,d=v);return ro&&Ki(i,g),c}for(m=n(i,m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,u))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=o(v,a,g),null===d?c=v:d.sibling=v,d=v);return e&&m.forEach((function(e){return t(i,e)})),ro&&Ki(i,g),c}return function e(n,o,s,l){if("object"===typeof s&&null!==s&&s.type===T&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case x:e:{for(var u=s.key,c=o;null!==c;){if(c.key===u){if((u=s.type)===T){if(7===c.tag){r(n,c.sibling),(o=i(c,s.props.children)).return=n,n=o;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===j&&qo(u)===c.type){r(n,c.sibling),(o=i(c,s.props)).ref=Wo(n,c,s),o.return=n,n=o;break e}r(n,c);break}t(n,c),c=c.sibling}s.type===T?((o=ju(s.props.children,n.mode,l,s.key)).return=n,n=o):((l=Ou(s.type,s.key,s.props,null,n.mode,l)).ref=Wo(n,o,s),l.return=n,n=l)}return a(n);case S:e:{for(c=s.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){r(n,o.sibling),(o=i(o,s.children||[])).return=n,n=o;break e}r(n,o);break}t(n,o),o=o.sibling}(o=Du(s,n.mode,l)).return=n,n=o}return a(n);case j:return e(n,o,(c=s._init)(s._payload),l)}if(ne(s))return m(n,o,s,l);if(D(s))return g(n,o,s,l);Zo(n,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(r(n,o.sibling),(o=i(o,s)).return=n,n=o):(r(n,o),(o=Lu(s,n.mode,l)).return=n,n=o),a(n)):r(n,o)}}var Xo=Yo(!0),Ko=Yo(!1),Qo={},$o=Ei(Qo),Jo=Ei(Qo),ea=Ei(Qo);function ta(e){if(e===Qo)throw Error(s(174));return e}function ra(e,t){switch(Si(ea,t),Si(Jo,e),Si($o,Qo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ce(null,"");break;default:t=ce(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}xi($o),Si($o,t)}function na(){xi($o),xi(Jo),xi(ea)}function ia(e){ta(ea.current);var t=ta($o.current),r=ce(t,e.type);t!==r&&(Si(Jo,e),Si($o,r))}function oa(e){Jo.current===e&&(xi($o),xi(Jo))}var aa=Ei(0);function sa(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var la=[];function ua(){for(var e=0;e<la.length;e++)la[e]._workInProgressVersionPrimary=null;la.length=0}var ca=E.ReactCurrentDispatcher,da=E.ReactCurrentBatchConfig,fa=0,ha=null,pa=null,ma=null,ga=!1,ya=!1,va=0,ba=0;function _a(){throw Error(s(321))}function wa(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!on(e[r],t[r]))return!1;return!0}function Ea(e,t,r,n,i,o){if(fa=o,ha=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ca.current=null===e||null===e.memoizedState?os:as,e=r(n,i),ya){o=0;do{if(ya=!1,va=0,25<=o)throw Error(s(301));o+=1,ma=pa=null,t.updateQueue=null,ca.current=ss,e=r(n,i)}while(ya)}if(ca.current=is,t=null!==pa&&null!==pa.next,fa=0,ma=pa=ha=null,ga=!1,t)throw Error(s(300));return e}function xa(){var e=0!==va;return va=0,e}function Sa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ma?ha.memoizedState=ma=e:ma=ma.next=e,ma}function Ta(){if(null===pa){var e=ha.alternate;e=null!==e?e.memoizedState:null}else e=pa.next;var t=null===ma?ha.memoizedState:ma.next;if(null!==t)ma=t,pa=e;else{if(null===e)throw Error(s(310));e={memoizedState:(pa=e).memoizedState,baseState:pa.baseState,baseQueue:pa.baseQueue,queue:pa.queue,next:null},null===ma?ha.memoizedState=ma=e:ma=ma.next=e}return ma}function Aa(e,t){return"function"===typeof t?t(e):t}function Ma(e){var t=Ta(),r=t.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=e;var n=pa,i=n.baseQueue,o=r.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}n.baseQueue=i=o,r.pending=null}if(null!==i){o=i.next,n=n.baseState;var l=a=null,u=null,c=o;do{var d=c.lane;if((fa&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=f,a=n):u=u.next=f,ha.lanes|=d,Nl|=d}c=c.next}while(null!==c&&c!==o);null===u?a=n:u.next=l,on(n,t.memoizedState)||(vs=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=u,r.lastRenderedState=n}if(null!==(e=r.interleaved)){i=e;do{o=i.lane,ha.lanes|=o,Nl|=o,i=i.next}while(i!==e)}else null===i&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ra(e){var t=Ta(),r=t.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(null!==i){r.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);on(o,t.memoizedState)||(vs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function Ca(){}function Ia(e,t){var r=ha,n=Ta(),i=t(),o=!on(n.memoizedState,i);if(o&&(n.memoizedState=i,vs=!0),n=n.queue,za(Oa.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||null!==ma&&1&ma.memoizedState.tag){if(r.flags|=2048,Da(9,Pa.bind(null,r,n,i,t),void 0,null),null===Rl)throw Error(s(349));0!==(30&fa)||ka(r,t,i)}return i}function ka(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=ha.updateQueue)?(t={lastEffect:null,stores:null},ha.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function Pa(e,t,r,n){t.value=r,t.getSnapshot=n,ja(t)&&Na(e)}function Oa(e,t,r){return r((function(){ja(t)&&Na(e)}))}function ja(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!on(e,r)}catch(n){return!0}}function Na(e){var t=Ro(e,1);null!==t&&tu(t,e,1,-1)}function La(e){var t=Sa();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:e},t.queue=e,e=e.dispatch=es.bind(null,ha,e),[t.memoizedState,e]}function Da(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=ha.updateQueue)?(t={lastEffect:null,stores:null},ha.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function Fa(){return Ta().memoizedState}function Ua(e,t,r,n){var i=Sa();ha.flags|=e,i.memoizedState=Da(1|t,r,void 0,void 0===n?null:n)}function Ba(e,t,r,n){var i=Ta();n=void 0===n?null:n;var o=void 0;if(null!==pa){var a=pa.memoizedState;if(o=a.destroy,null!==n&&wa(n,a.deps))return void(i.memoizedState=Da(t,r,o,n))}ha.flags|=e,i.memoizedState=Da(1|t,r,o,n)}function Ga(e,t){return Ua(8390656,8,e,t)}function za(e,t){return Ba(2048,8,e,t)}function Va(e,t){return Ba(4,2,e,t)}function Ha(e,t){return Ba(4,4,e,t)}function Wa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Za(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Ba(4,4,Wa.bind(null,t,e),r)}function qa(){}function Ya(e,t){var r=Ta();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&wa(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Xa(e,t){var r=Ta();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&wa(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Ka(e,t,r){return 0===(21&fa)?(e.baseState&&(e.baseState=!1,vs=!0),e.memoizedState=r):(on(r,t)||(r=gt(),ha.lanes|=r,Nl|=r,e.baseState=!0),t)}function Qa(e,t){var r=_t;_t=0!==r&&4>r?r:4,e(!0);var n=da.transition;da.transition={};try{e(!1),t()}finally{_t=r,da.transition=n}}function $a(){return Ta().memoizedState}function Ja(e,t,r){var n=eu(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},ts(e))rs(t,r);else if(null!==(r=Mo(e,t,r,n))){tu(r,e,n,Jl()),ns(r,t,n)}}function es(e,t,r){var n=eu(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(ts(e))rs(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,r);if(i.hasEagerState=!0,i.eagerState=s,on(s,a)){var l=t.interleaved;return null===l?(i.next=i,Ao(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(u){}null!==(r=Mo(e,t,i,n))&&(tu(r,e,n,i=Jl()),ns(r,t,n))}}function ts(e){var t=e.alternate;return e===ha||null!==t&&t===ha}function rs(e,t){ya=ga=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function ns(e,t,r){if(0!==(4194240&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,bt(e,r)}}var is={readContext:So,useCallback:_a,useContext:_a,useEffect:_a,useImperativeHandle:_a,useInsertionEffect:_a,useLayoutEffect:_a,useMemo:_a,useReducer:_a,useRef:_a,useState:_a,useDebugValue:_a,useDeferredValue:_a,useTransition:_a,useMutableSource:_a,useSyncExternalStore:_a,useId:_a,unstable_isNewReconciler:!1},os={readContext:So,useCallback:function(e,t){return Sa().memoizedState=[e,void 0===t?null:t],e},useContext:So,useEffect:Ga,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Ua(4194308,4,Wa.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ua(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ua(4,2,e,t)},useMemo:function(e,t){var r=Sa();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Sa();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Ja.bind(null,ha,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},Sa().memoizedState=e},useState:La,useDebugValue:qa,useDeferredValue:function(e){return Sa().memoizedState=e},useTransition:function(){var e=La(!1),t=e[0];return e=Qa.bind(null,e[1]),Sa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ha,i=Sa();if(ro){if(void 0===r)throw Error(s(407));r=r()}else{if(r=t(),null===Rl)throw Error(s(349));0!==(30&fa)||ka(n,t,r)}i.memoizedState=r;var o={value:r,getSnapshot:t};return i.queue=o,Ga(Oa.bind(null,n,o,e),[e]),n.flags|=2048,Da(9,Pa.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=Sa(),t=Rl.identifierPrefix;if(ro){var r=Xi;t=":"+t+"R"+(r=(Yi&~(1<<32-st(Yi)-1)).toString(32)+r),0<(r=va++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=ba++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},as={readContext:So,useCallback:Ya,useContext:So,useEffect:za,useImperativeHandle:Za,useInsertionEffect:Va,useLayoutEffect:Ha,useMemo:Xa,useReducer:Ma,useRef:Fa,useState:function(){return Ma(Aa)},useDebugValue:qa,useDeferredValue:function(e){return Ka(Ta(),pa.memoizedState,e)},useTransition:function(){return[Ma(Aa)[0],Ta().memoizedState]},useMutableSource:Ca,useSyncExternalStore:Ia,useId:$a,unstable_isNewReconciler:!1},ss={readContext:So,useCallback:Ya,useContext:So,useEffect:za,useImperativeHandle:Za,useInsertionEffect:Va,useLayoutEffect:Ha,useMemo:Xa,useReducer:Ra,useRef:Fa,useState:function(){return Ra(Aa)},useDebugValue:qa,useDeferredValue:function(e){var t=Ta();return null===pa?t.memoizedState=e:Ka(t,pa.memoizedState,e)},useTransition:function(){return[Ra(Aa)[0],Ta().memoizedState]},useMutableSource:Ca,useSyncExternalStore:Ia,useId:$a,unstable_isNewReconciler:!1};function ls(e,t){try{var r="",n=t;do{r+=V(n),n=n.return}while(n);var i=r}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function us(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function cs(e,t){try{console.error(t.value)}catch(r){setTimeout((function(){throw r}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,r){(r=Po(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Vl||(Vl=!0,Hl=n),cs(0,t)},r}function hs(e,t,r){(r=Po(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){cs(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(r.callback=function(){cs(0,t),"function"!==typeof n&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}function ps(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new ds;var i=new Set;n.set(t,i)}else void 0===(i=n.get(t))&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=Su.bind(null,e,t,r),t.then(e,e))}function ms(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,r,n,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=Po(-1,1)).tag=2,Oo(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ys=E.ReactCurrentOwner,vs=!1;function bs(e,t,r,n){t.child=null===e?Ko(t,null,r,n):Xo(t,e.child,r,n)}function _s(e,t,r,n,i){r=r.render;var o=t.ref;return xo(t,i),n=Ea(e,t,r,n,o,i),r=xa(),null===e||vs?(ro&&r&&$i(t),t.flags|=1,bs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vs(e,t,i))}function ws(e,t,r,n,i){if(null===e){var o=r.type;return"function"!==typeof o||ku(o)||void 0!==o.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Ou(r.type,null,n,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Es(e,t,o,n,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((r=null!==(r=r.compare)?r:an)(a,n)&&e.ref===t.ref)return Vs(e,t,i)}return t.flags|=1,(e=Pu(o,n)).ref=t.ref,e.return=t,t.child=e}function Es(e,t,r,n,i){if(null!==e){var o=e.memoizedProps;if(an(o,n)&&e.ref===t.ref){if(vs=!1,t.pendingProps=n=o,0===(e.lanes&i))return t.lanes=e.lanes,Vs(e,t,i);0!==(131072&e.flags)&&(vs=!0)}}return Ts(e,t,r,n,i)}function xs(e,t,r){var n=t.pendingProps,i=n.children,o=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Pl,kl),kl|=r;else{if(0===(1073741824&r))return e=null!==o?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Pl,kl),kl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==o?o.baseLanes:r,Si(Pl,kl),kl|=n}else null!==o?(n=o.baseLanes|r,t.memoizedState=null):n=r,Si(Pl,kl),kl|=n;return bs(e,t,i,r),t.child}function Ss(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ts(e,t,r,n,i){var o=Ii(r)?Ri:Ai.current;return o=Ci(t,o),xo(t,i),r=Ea(e,t,r,n,o,i),n=xa(),null===e||vs?(ro&&n&&$i(t),t.flags|=1,bs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vs(e,t,i))}function As(e,t,r,n,i){if(Ii(r)){var o=!0;ji(t)}else o=!1;if(xo(t,i),null===t.stateNode)zs(e,t),zo(t,r,n),Ho(t,r,n,i),n=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=r.contextType;"object"===typeof u&&null!==u?u=So(u):u=Ci(t,u=Ii(r)?Ri:Ai.current);var c=r.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==n||l!==u)&&Vo(t,a,n,u),Co=!1;var f=t.memoizedState;a.state=f,Lo(t,n,a,i),l=t.memoizedState,s!==n||f!==l||Mi.current||Co?("function"===typeof c&&(Uo(t,r,c,n),l=t.memoizedState),(s=Co||Go(t,r,s,n,f,l,u))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),a.props=n,a.state=l,a.context=u,n=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,ko(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:mo(t.type,s),a.props=u,d=t.pendingProps,f=a.context,"object"===typeof(l=r.contextType)&&null!==l?l=So(l):l=Ci(t,l=Ii(r)?Ri:Ai.current);var h=r.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||f!==l)&&Vo(t,a,n,l),Co=!1,f=t.memoizedState,a.state=f,Lo(t,n,a,i);var p=t.memoizedState;s!==d||f!==p||Mi.current||Co?("function"===typeof h&&(Uo(t,r,h,n),p=t.memoizedState),(u=Co||Go(t,r,u,n,f,p,l)||!1)?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(n,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(n,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),a.props=n,a.state=p,a.context=l,n=u):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return Ms(e,t,r,n,o,i)}function Ms(e,t,r,n,i,o){Ss(e,t);var a=0!==(128&t.flags);if(!n&&!a)return i&&Ni(t,r,!1),Vs(e,t,o);n=t.stateNode,ys.current=t;var s=a&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&a?(t.child=Xo(t,e.child,null,o),t.child=Xo(t,null,s,o)):bs(e,t,s,o),t.memoizedState=n.state,i&&Ni(t,r,!0),t.child}function Rs(e){var t=e.stateNode;t.pendingContext?Pi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pi(0,t.context,!1),ra(e,t.containerInfo)}function Cs(e,t,r,n,i){return fo(),ho(i),t.flags|=256,bs(e,t,r,n),t.child}var Is,ks,Ps,Os,js={dehydrated:null,treeContext:null,retryLane:0};function Ns(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ls(e,t,r){var n,i=t.pendingProps,o=aa.current,a=!1,l=0!==(128&t.flags);if((n=l)||(n=(null===e||null!==e.memoizedState)&&0!==(2&o)),n?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Si(aa,1&o),null===e)return so(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Nu(l,i,0,null),e=ju(e,i,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ns(r),t.memoizedState=js,e):Ds(t,l));if(null!==(o=e.memoizedState)&&null!==(n=o.dehydrated))return function(e,t,r,n,i,o,a){if(r)return 256&t.flags?(t.flags&=-257,Fs(e,t,a,n=us(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=n.fallback,i=t.mode,n=Nu({mode:"visible",children:n.children},i,0,null),(o=ju(o,i,a,null)).flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,0!==(1&t.mode)&&Xo(t,e.child,null,a),t.child.memoizedState=Ns(a),t.memoizedState=js,o);if(0===(1&t.mode))return Fs(e,t,a,null);if("$!"===i.data){if(n=i.nextSibling&&i.nextSibling.dataset)var l=n.dgst;return n=l,Fs(e,t,a,n=us(o=Error(s(419)),n,void 0))}if(l=0!==(a&e.childLanes),vs||l){if(null!==(n=Rl)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(n.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ro(e,i),tu(n,e,i,-1))}return pu(),Fs(e,t,a,n=us(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Au.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,to=si(i.nextSibling),eo=t,ro=!0,no=null,null!==e&&(Wi[Zi++]=Yi,Wi[Zi++]=Xi,Wi[Zi++]=qi,Yi=e.id,Xi=e.overflow,qi=t),t=Ds(t,n.children),t.flags|=4096,t)}(e,t,l,i,n,o,r);if(a){a=i.fallback,l=t.mode,n=(o=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Pu(o,u)).subtreeFlags=14680064&o.subtreeFlags,null!==n?a=Pu(n,a):(a=ju(a,l,r,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Ns(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~r,t.memoizedState=js,i}return e=(a=e.child).sibling,i=Pu(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=r),i.return=t,i.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=i,t.memoizedState=null,i}function Ds(e,t){return(t=Nu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fs(e,t,r,n){return null!==n&&ho(n),Xo(t,e.child,null,r),(e=Ds(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Us(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Eo(e.return,t,r)}function Bs(e,t,r,n,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function Gs(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(bs(e,t,n.children,r),0!==(2&(n=aa.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Us(e,r,t);else if(19===e.tag)Us(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Si(aa,n),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;null!==r;)null!==(e=r.alternate)&&null===sa(e)&&(i=r),r=r.sibling;null===(r=i)?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Bs(t,!1,i,r,o);break;case"backwards":for(r=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===sa(e)){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Bs(t,!0,r,null,o);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vs(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Nl|=t.lanes,0===(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(r=Pu(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Pu(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Hs(e,t){if(!ro)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ws(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;null!==i;)r|=i.lanes|i.childLanes,n|=14680064&i.subtreeFlags,n|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Zs(e,t,r){var n=t.pendingProps;switch(Ji(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ws(t),null;case 1:case 17:return Ii(t.type)&&ki(),Ws(t),null;case 3:return n=t.stateNode,na(),xi(Mi),xi(Ai),ua(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(uo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==no&&(ou(no),no=null))),ks(e,t),Ws(t),null;case 5:oa(t);var i=ta(ea.current);if(r=t.type,null!==e&&null!=t.stateNode)Ps(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(s(166));return Ws(t),null}if(e=ta($o.current),uo(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[ci]=t,n[di]=o,e=0!==(1&t.mode),r){case"dialog":Dn("cancel",n),Dn("close",n);break;case"iframe":case"object":case"embed":Dn("load",n);break;case"video":case"audio":for(i=0;i<On.length;i++)Dn(On[i],n);break;case"source":Dn("error",n);break;case"img":case"image":case"link":Dn("error",n),Dn("load",n);break;case"details":Dn("toggle",n);break;case"input":$(n,o),Dn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Dn("invalid",n);break;case"textarea":ae(n,o),Dn("invalid",n)}for(var a in be(r,o),i=null,o)if(o.hasOwnProperty(a)){var l=o[a];"children"===a?"string"===typeof l?n.textContent!==l&&(!0!==o.suppressHydrationWarning&&Kn(n.textContent,l,e),i=["children",l]):"number"===typeof l&&n.textContent!==""+l&&(!0!==o.suppressHydrationWarning&&Kn(n.textContent,l,e),i=["children",""+l]):u.hasOwnProperty(a)&&null!=l&&"onScroll"===a&&Dn("scroll",n)}switch(r){case"input":Y(n),te(n,o,!0);break;case"textarea":Y(n),le(n);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(n.onclick=Qn)}n=i,t.updateQueue=n,null!==n&&(t.flags|=4)}else{a=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),"select"===r&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[ci]=t,e[di]=n,Is(e,t,!1,!1),t.stateNode=e;e:{switch(a=_e(r,n),r){case"dialog":Dn("cancel",e),Dn("close",e),i=n;break;case"iframe":case"object":case"embed":Dn("load",e),i=n;break;case"video":case"audio":for(i=0;i<On.length;i++)Dn(On[i],e);i=n;break;case"source":Dn("error",e),i=n;break;case"img":case"image":case"link":Dn("error",e),Dn("load",e),i=n;break;case"details":Dn("toggle",e),i=n;break;case"input":$(e,n),i=Q(e,n),Dn("invalid",e);break;case"option":default:i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=U({},n,{value:void 0}),Dn("invalid",e);break;case"textarea":ae(e,n),i=oe(e,n),Dn("invalid",e)}for(o in be(r,i),l=i)if(l.hasOwnProperty(o)){var c=l[o];"style"===o?ye(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&fe(e,c):"children"===o?"string"===typeof c?("textarea"!==r||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Dn("scroll",e):null!=c&&w(e,o,c,a))}switch(r){case"input":Y(e),te(e,n,!1);break;case"textarea":Y(e),le(e);break;case"option":null!=n.value&&e.setAttribute("value",""+Z(n.value));break;case"select":e.multiple=!!n.multiple,null!=(o=n.value)?ie(e,!!n.multiple,o,!1):null!=n.defaultValue&&ie(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Qn)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ws(t),null;case 6:if(e&&null!=t.stateNode)Os(e,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(s(166));if(r=ta(ea.current),ta($o.current),uo(t)){if(n=t.stateNode,r=t.memoizedProps,n[ci]=t,(o=n.nodeValue!==r)&&null!==(e=eo))switch(e.tag){case 3:Kn(n.nodeValue,r,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Kn(n.nodeValue,r,0!==(1&e.mode))}o&&(t.flags|=4)}else(n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[ci]=t,t.stateNode=n}return Ws(t),null;case 13:if(xi(aa),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ro&&null!==to&&0!==(1&t.mode)&&0===(128&t.flags))co(),fo(),t.flags|=98560,o=!1;else if(o=uo(t),null!==n&&null!==n.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[ci]=t}else fo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ws(t),o=!1}else null!==no&&(ou(no),no=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=r,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&aa.current)?0===Ol&&(Ol=3):pu())),null!==t.updateQueue&&(t.flags|=4),Ws(t),null);case 4:return na(),ks(e,t),null===e&&Bn(t.stateNode.containerInfo),Ws(t),null;case 10:return wo(t.type._context),Ws(t),null;case 19:if(xi(aa),null===(o=t.memoizedState))return Ws(t),null;if(n=0!==(128&t.flags),null===(a=o.rendering))if(n)Hs(o,!1);else{if(0!==Ol||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=sa(e))){for(t.flags|=128,Hs(o,!1),null!==(n=a.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;null!==r;)e=n,(o=r).flags&=14680066,null===(a=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Si(aa,1&aa.current|2),t.child}e=e.sibling}null!==o.tail&&$e()>Gl&&(t.flags|=128,n=!0,Hs(o,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=sa(a))){if(t.flags|=128,n=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),Hs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!a.alternate&&!ro)return Ws(t),null}else 2*$e()-o.renderingStartTime>Gl&&1073741824!==r&&(t.flags|=128,n=!0,Hs(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(null!==(r=o.last)?r.sibling=a:t.child=a,o.last=a)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=$e(),t.sibling=null,r=aa.current,Si(aa,n?1&r|2:1&r),t):(Ws(t),null);case 22:case 23:return cu(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&kl)&&(Ws(t),6&t.subtreeFlags&&(t.flags|=8192)):Ws(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function qs(e,t){switch(Ji(t),t.tag){case 1:return Ii(t.type)&&ki(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return na(),xi(Mi),xi(Ai),ua(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oa(t),null;case 13:if(xi(aa),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return xi(aa),null;case 4:return na(),null;case 10:return wo(t.type._context),null;case 22:case 23:return cu(),null;default:return null}}Is=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},ks=function(){},Ps=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,ta($o.current);var o,a=null;switch(r){case"input":i=Q(e,i),n=Q(e,n),a=[];break;case"select":i=U({},i,{value:void 0}),n=U({},n,{value:void 0}),a=[];break;case"textarea":i=oe(e,i),n=oe(e,n),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof n.onClick&&(e.onclick=Qn)}for(c in be(r,n),r=null,i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var s=i[c];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(u.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in n){var l=n[c];if(s=null!=i?i[c]:void 0,n.hasOwnProperty(c)&&l!==s&&(null!=l||null!=s))if("style"===c)if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(a||(a=[]),a.push(c,r)),r=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,s=s?s.__html:void 0,null!=l&&s!==l&&(a=a||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(a=a||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(u.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Dn("scroll",e),a||s===l||(a=[])):(a=a||[]).push(c,l))}r&&(a=a||[]).push("style",r);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},Os=function(e,t,r,n){r!==n&&(t.flags|=4)};var Ys=!1,Xs=!1,Ks="function"===typeof WeakSet?WeakSet:Set,Qs=null;function $s(e,t){var r=e.ref;if(null!==r)if("function"===typeof r)try{r(null)}catch(n){xu(e,t,n)}else r.current=null}function Js(e,t,r){try{r()}catch(n){xu(e,t,n)}}var el=!1;function tl(e,t,r){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var i=n=n.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&Js(t,r,o)}i=i.next}while(i!==n)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function nl(e){var t=e.ref;if(null!==t){var r=e.stateNode;e.tag,e=r,"function"===typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ci],delete t[di],delete t[hi],delete t[pi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function sl(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Qn));else if(4!==n&&null!==(e=e.child))for(sl(e,t,r),e=e.sibling;null!==e;)sl(e,t,r),e=e.sibling}function ll(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(ll(e,t,r),e=e.sibling;null!==e;)ll(e,t,r),e=e.sibling}var ul=null,cl=!1;function dl(e,t,r){for(r=r.child;null!==r;)fl(e,t,r),r=r.sibling}function fl(e,t,r){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(ot,r)}catch(s){}switch(r.tag){case 5:Xs||$s(r,t);case 6:var n=ul,i=cl;ul=null,dl(e,t,r),cl=i,null!==(ul=n)&&(cl?(e=ul,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):ul.removeChild(r.stateNode));break;case 18:null!==ul&&(cl?(e=ul,r=r.stateNode,8===e.nodeType?ai(e.parentNode,r):1===e.nodeType&&ai(e,r),Vt(e)):ai(ul,r.stateNode));break;case 4:n=ul,i=cl,ul=r.stateNode.containerInfo,cl=!0,dl(e,t,r),ul=n,cl=i;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(n=r.updateQueue)&&null!==(n=n.lastEffect))){i=n=n.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&Js(r,t,a),i=i.next}while(i!==n)}dl(e,t,r);break;case 1:if(!Xs&&($s(r,t),"function"===typeof(n=r.stateNode).componentWillUnmount))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){xu(r,t,s)}dl(e,t,r);break;case 21:dl(e,t,r);break;case 22:1&r.mode?(Xs=(n=Xs)||null!==r.memoizedState,dl(e,t,r),Xs=n):dl(e,t,r);break;default:dl(e,t,r)}}function hl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new Ks),t.forEach((function(t){var n=Mu.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}}function pl(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var i=r[n];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,cl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,cl=!0;break e}l=l.return}if(null===ul)throw Error(s(160));fl(o,a,i),ul=null,cl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(c){xu(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}function ml(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pl(t,e),gl(e),4&n){try{tl(3,e,e.return),rl(3,e)}catch(g){xu(e,e.return,g)}try{tl(5,e,e.return)}catch(g){xu(e,e.return,g)}}break;case 1:pl(t,e),gl(e),512&n&&null!==r&&$s(r,r.return);break;case 5:if(pl(t,e),gl(e),512&n&&null!==r&&$s(r,r.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){xu(e,e.return,g)}}if(4&n&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==r?r.memoizedProps:o,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===o.type&&null!=o.name&&J(i,o),_e(l,a);var c=_e(l,o);for(a=0;a<u.length;a+=2){var d=u[a],f=u[a+1];"style"===d?ye(i,f):"dangerouslySetInnerHTML"===d?fe(i,f):"children"===d?he(i,f):w(i,d,f,c)}switch(l){case"input":ee(i,o);break;case"textarea":se(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ie(i,!!o.multiple,p,!1):h!==!!o.multiple&&(null!=o.defaultValue?ie(i,!!o.multiple,o.defaultValue,!0):ie(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(g){xu(e,e.return,g)}}break;case 6:if(pl(t,e),gl(e),4&n){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){xu(e,e.return,g)}}break;case 3:if(pl(t,e),gl(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(g){xu(e,e.return,g)}break;case 4:default:pl(t,e),gl(e);break;case 13:pl(t,e),gl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bl=$e())),4&n&&hl(e);break;case 22:if(d=null!==r&&null!==r.memoizedState,1&e.mode?(Xs=(c=Xs)||d,pl(t,e),Xs=c):pl(t,e),gl(e),8192&n){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for(Qs=e,d=e.child;null!==d;){for(f=Qs=d;null!==Qs;){switch(p=(h=Qs).child,h.tag){case 0:case 11:case 14:case 15:tl(4,h,h.return);break;case 1:$s(h,h.return);var m=h.stateNode;if("function"===typeof m.componentWillUnmount){n=h,r=h.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){xu(n,r,g)}}break;case 5:$s(h,h.return);break;case 22:if(null!==h.memoizedState){_l(f);continue}}null!==p?(p.return=h,Qs=p):_l(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{i=f.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=f.stateNode,a=void 0!==(u=f.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=ge("display",a))}catch(g){xu(e,e.return,g)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){xu(e,e.return,g)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:pl(t,e),gl(e),4&n&&hl(e);case 21:}}function gl(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(ol(r)){var n=r;break e}r=r.return}throw Error(s(160))}switch(n.tag){case 5:var i=n.stateNode;32&n.flags&&(he(i,""),n.flags&=-33),ll(e,al(e),i);break;case 3:case 4:var o=n.stateNode.containerInfo;sl(e,al(e),o);break;default:throw Error(s(161))}}catch(a){xu(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,r){Qs=e,vl(e,t,r)}function vl(e,t,r){for(var n=0!==(1&e.mode);null!==Qs;){var i=Qs,o=i.child;if(22===i.tag&&n){var a=null!==i.memoizedState||Ys;if(!a){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Xs;s=Ys;var u=Xs;if(Ys=a,(Xs=l)&&!u)for(Qs=i;null!==Qs;)l=(a=Qs).child,22===a.tag&&null!==a.memoizedState?wl(i):null!==l?(l.return=a,Qs=l):wl(i);for(;null!==o;)Qs=o,vl(o,t,r),o=o.sibling;Qs=i,Ys=s,Xs=u}bl(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Qs=o):bl(e)}}function bl(e){for(;null!==Qs;){var t=Qs;if(0!==(8772&t.flags)){var r=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||rl(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!Xs)if(null===r)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:mo(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Do(t,o,n);break;case 3:var a=t.updateQueue;if(null!==a){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}Do(t,a,r)}break;case 5:var l=t.stateNode;if(null===r&&4&t.flags){r=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Vt(f)}}}break;default:throw Error(s(163))}Xs||512&t.flags&&nl(t)}catch(h){xu(t,t.return,h)}}if(t===e){Qs=null;break}if(null!==(r=t.sibling)){r.return=t.return,Qs=r;break}Qs=t.return}}function _l(e){for(;null!==Qs;){var t=Qs;if(t===e){Qs=null;break}var r=t.sibling;if(null!==r){r.return=t.return,Qs=r;break}Qs=t.return}}function wl(e){for(;null!==Qs;){var t=Qs;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{rl(4,t)}catch(l){xu(t,r,l)}break;case 1:var n=t.stateNode;if("function"===typeof n.componentDidMount){var i=t.return;try{n.componentDidMount()}catch(l){xu(t,i,l)}}var o=t.return;try{nl(t)}catch(l){xu(t,o,l)}break;case 5:var a=t.return;try{nl(t)}catch(l){xu(t,a,l)}}}catch(l){xu(t,t.return,l)}if(t===e){Qs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Qs=s;break}Qs=t.return}}var El,xl=Math.ceil,Sl=E.ReactCurrentDispatcher,Tl=E.ReactCurrentOwner,Al=E.ReactCurrentBatchConfig,Ml=0,Rl=null,Cl=null,Il=0,kl=0,Pl=Ei(0),Ol=0,jl=null,Nl=0,Ll=0,Dl=0,Fl=null,Ul=null,Bl=0,Gl=1/0,zl=null,Vl=!1,Hl=null,Wl=null,Zl=!1,ql=null,Yl=0,Xl=0,Kl=null,Ql=-1,$l=0;function Jl(){return 0!==(6&Ml)?$e():-1!==Ql?Ql:Ql=$e()}function eu(e){return 0===(1&e.mode)?1:0!==(2&Ml)&&0!==Il?Il&-Il:null!==po.transition?(0===$l&&($l=gt()),$l):0!==(e=_t)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function tu(e,t,r,n){if(50<Xl)throw Xl=0,Kl=null,Error(s(185));vt(e,r,n),0!==(2&Ml)&&e===Rl||(e===Rl&&(0===(2&Ml)&&(Ll|=r),4===Ol&&au(e,Il)),ru(e,n),1===r&&0===Ml&&0===(1&t.mode)&&(Gl=$e()+500,Di&&Bi()))}function ru(e,t){var r=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-st(o),s=1<<a,l=i[a];-1===l?0!==(s&r)&&0===(s&n)||(i[a]=pt(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var n=ht(e,e===Rl?Il:0);if(0===n)null!==r&&Xe(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=r&&Xe(r),1===t)0===e.tag?function(e){Di=!0,Ui(e)}(su.bind(null,e)):Ui(su.bind(null,e)),ii((function(){0===(6&Ml)&&Bi()})),r=null;else{switch(wt(n)){case 1:r=et;break;case 4:r=tt;break;case 16:default:r=rt;break;case 536870912:r=it}r=Ru(r,nu.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function nu(e,t){if(Ql=-1,$l=0,0!==(6&Ml))throw Error(s(327));var r=e.callbackNode;if(wu()&&e.callbackNode!==r)return null;var n=ht(e,e===Rl?Il:0);if(0===n)return null;if(0!==(30&n)||0!==(n&e.expiredLanes)||t)t=mu(e,n);else{t=n;var i=Ml;Ml|=2;var o=hu();for(Rl===e&&Il===t||(zl=null,Gl=$e()+500,du(e,t));;)try{yu();break}catch(l){fu(e,l)}_o(),Sl.current=o,Ml=i,null!==Cl?t=0:(Rl=null,Il=0,t=Ol)}if(0!==t){if(2===t&&(0!==(i=mt(e))&&(n=i,t=iu(e,i))),1===t)throw r=jl,du(e,0),au(e,n),ru(e,$e()),r;if(6===t)au(e,n);else{if(i=e.current.alternate,0===(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!on(o(),i))return!1}catch(a){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mu(e,n))&&(0!==(o=mt(e))&&(n=o,t=iu(e,o))),1===t))throw r=jl,du(e,0),au(e,n),ru(e,$e()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(s(345));case 2:case 5:_u(e,Ul,zl);break;case 3:if(au(e,n),(130023424&n)===n&&10<(t=Bl+500-$e())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&n)!==n){Jl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ti(_u.bind(null,e,Ul,zl),t);break}_u(e,Ul,zl);break;case 4:if(au(e,n),(4194240&n)===n)break;for(t=e.eventTimes,i=-1;0<n;){var a=31-st(n);o=1<<a,(a=t[a])>i&&(i=a),n&=~o}if(n=i,10<(n=(120>(n=$e()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*xl(n/1960))-n)){e.timeoutHandle=ti(_u.bind(null,e,Ul,zl),n);break}_u(e,Ul,zl);break;default:throw Error(s(329))}}}return ru(e,$e()),e.callbackNode===r?nu.bind(null,e):null}function iu(e,t){var r=Fl;return e.current.memoizedState.isDehydrated&&(du(e,t).flags|=256),2!==(e=mu(e,t))&&(t=Ul,Ul=r,null!==t&&ou(t)),e}function ou(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function au(e,t){for(t&=~Dl,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-st(t),n=1<<r;e[r]=-1,t&=~n}}function su(e){if(0!==(6&Ml))throw Error(s(327));wu();var t=ht(e,0);if(0===(1&t))return ru(e,$e()),null;var r=mu(e,t);if(0!==e.tag&&2===r){var n=mt(e);0!==n&&(t=n,r=iu(e,n))}if(1===r)throw r=jl,du(e,0),au(e,t),ru(e,$e()),r;if(6===r)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_u(e,Ul,zl),ru(e,$e()),null}function lu(e,t){var r=Ml;Ml|=1;try{return e(t)}finally{0===(Ml=r)&&(Gl=$e()+500,Di&&Bi())}}function uu(e){null!==ql&&0===ql.tag&&0===(6&Ml)&&wu();var t=Ml;Ml|=1;var r=Al.transition,n=_t;try{if(Al.transition=null,_t=1,e)return e()}finally{_t=n,Al.transition=r,0===(6&(Ml=t))&&Bi()}}function cu(){kl=Pl.current,xi(Pl)}function du(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,ri(r)),null!==Cl)for(r=Cl.return;null!==r;){var n=r;switch(Ji(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&ki();break;case 3:na(),xi(Mi),xi(Ai),ua();break;case 5:oa(n);break;case 4:na();break;case 13:case 19:xi(aa);break;case 10:wo(n.type._context);break;case 22:case 23:cu()}r=r.return}if(Rl=e,Cl=e=Pu(e.current,null),Il=kl=t,Ol=0,jl=null,Dl=Ll=Nl=0,Ul=Fl=null,null!==To){for(t=0;t<To.length;t++)if(null!==(n=(r=To[t]).interleaved)){r.interleaved=null;var i=n.next,o=r.pending;if(null!==o){var a=o.next;o.next=i,n.next=a}r.pending=n}To=null}return e}function fu(e,t){for(;;){var r=Cl;try{if(_o(),ca.current=is,ga){for(var n=ha.memoizedState;null!==n;){var i=n.queue;null!==i&&(i.pending=null),n=n.next}ga=!1}if(fa=0,ma=pa=ha=null,ya=!1,va=0,Tl.current=null,null===r||null===r.return){Ol=1,jl=t,Cl=null;break}e:{var o=e,a=r.return,l=r,u=t;if(t=Il,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=l,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ms(a);if(null!==p){p.flags&=-257,gs(p,a,l,0,t),1&p.mode&&ps(o,c,t),u=c;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(0===(1&t)){ps(o,c,t),pu();break e}u=Error(s(426))}else if(ro&&1&l.mode){var y=ms(a);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gs(y,a,l,0,t),ho(ls(u,l));break e}}o=u=ls(u,l),4!==Ol&&(Ol=2),null===Fl?Fl=[o]:Fl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,No(o,fs(0,u,t));break e;case 1:l=u;var v=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Wl||!Wl.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,No(o,hs(o,l,t));break e}}o=o.return}while(null!==o)}bu(r)}catch(_){t=_,Cl===r&&null!==r&&(Cl=r=r.return);continue}break}}function hu(){var e=Sl.current;return Sl.current=is,null===e?is:e}function pu(){0!==Ol&&3!==Ol&&2!==Ol||(Ol=4),null===Rl||0===(268435455&Nl)&&0===(268435455&Ll)||au(Rl,Il)}function mu(t,r){var n=Ml;Ml|=2;var i=hu();for(Rl===t&&Il===r||(zl=null,du(t,r));;)try{gu();break}catch(e){fu(t,e)}if(_o(),Ml=n,Sl.current=i,null!==Cl)throw Error(s(261));return Rl=null,Il=0,Ol}function gu(){for(;null!==Cl;)vu(Cl)}function yu(){for(;null!==Cl&&!Ke();)vu(Cl)}function vu(e){var t=El(e.alternate,e,kl);e.memoizedProps=e.pendingProps,null===t?bu(e):Cl=t,Tl.current=null}function bu(e){var t=e;do{var r=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(r=Zs(r,t,kl)))return void(Cl=r)}else{if(null!==(r=qs(r,t)))return r.flags&=32767,void(Cl=r);if(null===e)return Ol=6,void(Cl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Cl=t);Cl=t=e}while(null!==t);0===Ol&&(Ol=5)}function _u(e,t,r){var n=_t,i=Al.transition;try{Al.transition=null,_t=1,function(e,t,r,n){do{wu()}while(null!==ql);if(0!==(6&Ml))throw Error(s(327));r=e.finishedWork;var i=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-st(r),o=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~o}}(e,o),e===Rl&&(Cl=Rl=null,Il=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Zl||(Zl=!0,Ru(rt,(function(){return wu(),null}))),o=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||o){o=Al.transition,Al.transition=null;var a=_t;_t=1;var l=Ml;Ml|=4,Tl.current=null,function(e,t){if($n=Wt,dn(e=cn())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch(w){r=null;break e}var a=0,l=-1,u=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||0!==i&&3!==f.nodeType||(l=a+i),f!==o||0!==n&&3!==f.nodeType||(u=a+n),3===f.nodeType&&(a+=f.nodeValue.length),null!==(p=f.firstChild);)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++c===i&&(l=a),h===o&&++d===n&&(u=a),null!==(p=f.nextSibling))break;h=(f=h).parentNode}f=p}r=-1===l||-1===u?null:{start:l,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(Jn={focusedElem:e,selectionRange:r},Wt=!1,Qs=t;null!==Qs;)if(e=(t=Qs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qs=e;else for(;null!==Qs;){t=Qs;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:mo(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=t.stateNode.containerInfo;1===_.nodeType?_.textContent="":9===_.nodeType&&_.documentElement&&_.removeChild(_.documentElement);break;default:throw Error(s(163))}}catch(w){xu(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Qs=e;break}Qs=t.return}m=el,el=!1}(e,r),ml(r,e),fn(Jn),Wt=!!$n,Jn=$n=null,e.current=r,yl(r,e,i),Qe(),Ml=l,_t=a,Al.transition=o}else e.current=r;if(Zl&&(Zl=!1,ql=e,Yl=i),o=e.pendingLanes,0===o&&(Wl=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(ot,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),ru(e,$e()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Vl)throw Vl=!1,e=Hl,Hl=null,e;0!==(1&Yl)&&0!==e.tag&&wu(),o=e.pendingLanes,0!==(1&o)?e===Kl?Xl++:(Xl=0,Kl=e):Xl=0,Bi()}(e,t,r,n)}finally{Al.transition=i,_t=n}return null}function wu(){if(null!==ql){var e=wt(Yl),t=Al.transition,r=_t;try{if(Al.transition=null,_t=16>e?16:e,null===ql)var n=!1;else{if(e=ql,ql=null,Yl=0,0!==(6&Ml))throw Error(s(331));var i=Ml;for(Ml|=4,Qs=e.current;null!==Qs;){var o=Qs,a=o.child;if(0!==(16&Qs.flags)){var l=o.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Qs=c;null!==Qs;){var d=Qs;switch(d.tag){case 0:case 11:case 15:tl(8,d,o)}var f=d.child;if(null!==f)f.return=d,Qs=f;else for(;null!==Qs;){var h=(d=Qs).sibling,p=d.return;if(il(d),d===c){Qs=null;break}if(null!==h){h.return=p,Qs=h;break}Qs=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Qs=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Qs=a;else e:for(;null!==Qs;){if(0!==(2048&(o=Qs).flags))switch(o.tag){case 0:case 11:case 15:tl(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,Qs=v;break e}Qs=o.return}}var b=e.current;for(Qs=b;null!==Qs;){var _=(a=Qs).child;if(0!==(2064&a.subtreeFlags)&&null!==_)_.return=a,Qs=_;else e:for(a=b;null!==Qs;){if(0!==(2048&(l=Qs).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(E){xu(l,l.return,E)}if(l===a){Qs=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Qs=w;break e}Qs=l.return}}if(Ml=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(ot,e)}catch(E){}n=!0}return n}finally{_t=r,Al.transition=t}}return!1}function Eu(e,t,r){e=Oo(e,t=fs(0,t=ls(r,t),1),1),t=Jl(),null!==e&&(vt(e,1,t),ru(e,t))}function xu(e,t,r){if(3===e.tag)Eu(e,e,r);else for(;null!==t;){if(3===t.tag){Eu(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Wl||!Wl.has(n))){t=Oo(t,e=hs(t,e=ls(r,e),1),1),e=Jl(),null!==t&&(vt(t,1,e),ru(t,e));break}}t=t.return}}function Su(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=Jl(),e.pingedLanes|=e.suspendedLanes&r,Rl===e&&(Il&r)===r&&(4===Ol||3===Ol&&(130023424&Il)===Il&&500>$e()-Bl?du(e,0):Dl|=r),ru(e,t)}function Tu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var r=Jl();null!==(e=Ro(e,t))&&(vt(e,t,r),ru(e,r))}function Au(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),Tu(e,r)}function Mu(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;null!==i&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(s(314))}null!==n&&n.delete(t),Tu(e,r)}function Ru(e,t){return Ye(e,t)}function Cu(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Iu(e,t,r,n){return new Cu(e,t,r,n)}function ku(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pu(e,t){var r=e.alternate;return null===r?((r=Iu(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ou(e,t,r,n,i,o){var a=2;if(n=e,"function"===typeof e)ku(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case T:return ju(r.children,i,o,t);case A:a=8,i|=8;break;case M:return(e=Iu(12,r,t,2|i)).elementType=M,e.lanes=o,e;case k:return(e=Iu(13,r,t,i)).elementType=k,e.lanes=o,e;case P:return(e=Iu(19,r,t,i)).elementType=P,e.lanes=o,e;case N:return Nu(r,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case R:a=10;break e;case C:a=9;break e;case I:a=11;break e;case O:a=14;break e;case j:a=16,n=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Iu(a,r,t,i)).elementType=e,t.type=n,t.lanes=o,t}function ju(e,t,r,n){return(e=Iu(7,e,n,t)).lanes=r,e}function Nu(e,t,r,n){return(e=Iu(22,e,n,t)).elementType=N,e.lanes=r,e.stateNode={isHidden:!1},e}function Lu(e,t,r){return(e=Iu(6,e,null,t)).lanes=r,e}function Du(e,t,r){return(t=Iu(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fu(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yt(0),this.expirationTimes=yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uu(e,t,r,n,i,o,a,s,l){return e=new Fu(e,t,r,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Iu(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Io(o),e}function Bu(e){if(!e)return Ti;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ii(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var r=e.type;if(Ii(r))return Oi(e,r,t)}return t}function Gu(e,t,r,n,i,o,a,s,l){return(e=Uu(r,n,!0,e,0,o,0,s,l)).context=Bu(null),r=e.current,(o=Po(n=Jl(),i=eu(r))).callback=void 0!==t&&null!==t?t:null,Oo(r,o,i),e.current.lanes=i,vt(e,i,n),ru(e,n),e}function zu(e,t,r,n){var i=t.current,o=Jl(),a=eu(i);return r=Bu(r),null===t.context?t.context=r:t.pendingContext=r,(t=Po(o,a)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=Oo(i,t,a))&&(tu(e,i,a,o),jo(e,i,a)),a}function Vu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function Wu(e,t){Hu(e,t),(e=e.alternate)&&Hu(e,t)}El=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||Mi.current)vs=!0;else{if(0===(e.lanes&r)&&0===(128&t.flags))return vs=!1,function(e,t,r){switch(t.tag){case 3:Rs(t),fo();break;case 5:ia(t);break;case 1:Ii(t.type)&&ji(t);break;case 4:ra(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Si(go,n._currentValue),n._currentValue=i;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(Si(aa,1&aa.current),t.flags|=128,null):0!==(r&t.child.childLanes)?Ls(e,t,r):(Si(aa,1&aa.current),null!==(e=Vs(e,t,r))?e.sibling:null);Si(aa,1&aa.current);break;case 19:if(n=0!==(r&t.childLanes),0!==(128&e.flags)){if(n)return Gs(e,t,r);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(aa,aa.current),n)break;return null;case 22:case 23:return t.lanes=0,xs(e,t,r)}return Vs(e,t,r)}(e,t,r);vs=0!==(131072&e.flags)}else vs=!1,ro&&0!==(1048576&t.flags)&&Qi(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;zs(e,t),e=t.pendingProps;var i=Ci(t,Ai.current);xo(t,r),i=Ea(null,t,n,e,i,r);var o=xa();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ii(n)?(o=!0,ji(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Io(t),i.updater=Bo,t.stateNode=i,i._reactInternals=t,Ho(t,n,e,r),t=Ms(null,t,n,!0,o,r)):(t.tag=0,ro&&o&&$i(t),bs(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(zs(e,t),e=t.pendingProps,n=(i=n._init)(n._payload),t.type=n,i=t.tag=function(e){if("function"===typeof e)return ku(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===O)return 14}return 2}(n),e=mo(n,e),i){case 0:t=Ts(null,t,n,e,r);break e;case 1:t=As(null,t,n,e,r);break e;case 11:t=_s(null,t,n,e,r);break e;case 14:t=ws(null,t,n,mo(n.type,e),r);break e}throw Error(s(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,Ts(e,t,n,i=t.elementType===n?i:mo(n,i),r);case 1:return n=t.type,i=t.pendingProps,As(e,t,n,i=t.elementType===n?i:mo(n,i),r);case 3:e:{if(Rs(t),null===e)throw Error(s(387));n=t.pendingProps,i=(o=t.memoizedState).element,ko(e,t),Lo(t,n,null,r);var a=t.memoizedState;if(n=a.element,o.isDehydrated){if(o={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Cs(e,t,n,r,i=ls(Error(s(423)),t));break e}if(n!==i){t=Cs(e,t,n,r,i=ls(Error(s(424)),t));break e}for(to=si(t.stateNode.containerInfo.firstChild),eo=t,ro=!0,no=null,r=Ko(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(fo(),n===i){t=Vs(e,t,r);break e}bs(e,t,n,r)}t=t.child}return t;case 5:return ia(t),null===e&&so(t),n=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ei(n,i)?a=null:null!==o&&ei(n,o)&&(t.flags|=32),Ss(e,t),bs(e,t,a,r),t.child;case 6:return null===e&&so(t),null;case 13:return Ls(e,t,r);case 4:return ra(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=Xo(t,null,n,r):bs(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,_s(e,t,n,i=t.elementType===n?i:mo(n,i),r);case 7:return bs(e,t,t.pendingProps,r),t.child;case 8:case 12:return bs(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,Si(go,n._currentValue),n._currentValue=a,null!==o)if(on(o.value,a)){if(o.children===i.children&&!Mi.current){t=Vs(e,t,r);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var u=l.firstContext;null!==u;){if(u.context===n){if(1===o.tag){(u=Po(-1,r&-r)).tag=2;var c=o.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}o.lanes|=r,null!==(u=o.alternate)&&(u.lanes|=r),Eo(o.return,r,t),l.lanes|=r;break}u=u.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=r,null!==(l=a.alternate)&&(l.lanes|=r),Eo(a,r,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}bs(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,xo(t,r),n=n(i=So(i)),t.flags|=1,bs(e,t,n,r),t.child;case 14:return i=mo(n=t.type,t.pendingProps),ws(e,t,n,i=mo(n.type,i),r);case 15:return Es(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:mo(n,i),zs(e,t),t.tag=1,Ii(n)?(e=!0,ji(t)):e=!1,xo(t,r),zo(t,n,i),Ho(t,n,i,r),Ms(null,t,n,!0,e,r);case 19:return Gs(e,t,r);case 22:return xs(e,t,r)}throw Error(s(156,t.tag))};var Zu="function"===typeof reportError?reportError:function(e){console.error(e)};function qu(e){this._internalRoot=e}function Yu(e){this._internalRoot=e}function Xu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Ku(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Qu(){}function $u(e,t,r,n,i){var o=r._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Vu(a);s.call(e)}}zu(t,a,e,i)}else a=function(e,t,r,n,i){if(i){if("function"===typeof n){var o=n;n=function(){var e=Vu(a);o.call(e)}}var a=Gu(t,n,e,0,null,!1,0,"",Qu);return e._reactRootContainer=a,e[fi]=a.current,Bn(8===e.nodeType?e.parentNode:e),uu(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof n){var s=n;n=function(){var e=Vu(l);s.call(e)}}var l=Uu(e,0,!1,null,0,!1,0,"",Qu);return e._reactRootContainer=l,e[fi]=l.current,Bn(8===e.nodeType?e.parentNode:e),uu((function(){zu(t,l,r,n)})),l}(r,t,e,i,n);return Vu(a)}Yu.prototype.render=qu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));zu(e,t,null,null)},Yu.prototype.unmount=qu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uu((function(){zu(null,e,null,null)})),t[fi]=null}},Yu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Tt();e={blockedOn:null,target:e,priority:t};for(var r=0;r<jt.length&&0!==t&&t<jt[r].priority;r++);jt.splice(r,0,e),0===r&&Ft(e)}},Et=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ft(t.pendingLanes);0!==r&&(bt(t,1|r),ru(t,$e()),0===(6&Ml)&&(Gl=$e()+500,Bi()))}break;case 13:uu((function(){var t=Ro(e,1);if(null!==t){var r=Jl();tu(t,e,1,r)}})),Wu(e,1)}},xt=function(e){if(13===e.tag){var t=Ro(e,134217728);if(null!==t)tu(t,e,134217728,Jl());Wu(e,134217728)}},St=function(e){if(13===e.tag){var t=eu(e),r=Ro(e,t);if(null!==r)tu(r,e,t,Jl());Wu(e,t)}},Tt=function(){return _t},At=function(e,t){var r=_t;try{return _t=e,t()}finally{_t=r}},xe=function(e,t,r){switch(t){case"input":if(ee(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=bi(n);if(!i)throw Error(s(90));X(n),ee(n,i)}}}break;case"textarea":se(e,r);break;case"select":null!=(t=r.value)&&ie(e,!!r.multiple,t,!1)}},Ce=lu,Ie=uu;var Ju={usingClientEntryPoint:!1,Events:[yi,vi,bi,Me,Re,lu]},ec={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},tc={bundleType:ec.bundleType,version:ec.version,rendererPackageName:ec.rendererPackageName,rendererConfig:ec.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:ec.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{ot=rc.inject(tc),at=rc}catch(a){}}r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ju,r.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xu(t))throw Error(s(200));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},r.createRoot=function(e,t){if(!Xu(e))throw Error(s(299));var r=!1,n="",i=Zu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uu(e,1,!1,null,0,r,0,n,i),e[fi]=t.current,Bn(8===e.nodeType?e.parentNode:e),new qu(t)},r.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ze(t))?null:e.stateNode},r.flushSync=function(e){return uu(e)},r.hydrate=function(e,t,r){if(!Ku(t))throw Error(s(200));return $u(null,e,t,!0,r)},r.hydrateRoot=function(e,t,r){if(!Xu(e))throw Error(s(405));var n=null!=r&&r.hydratedSources||null,i=!1,o="",a=Zu;if(null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(i=!0),void 0!==r.identifierPrefix&&(o=r.identifierPrefix),void 0!==r.onRecoverableError&&(a=r.onRecoverableError)),t=Gu(t,null,e,1,null!=r?r:null,i,0,o,a),e[fi]=t.current,Bn(e),n)for(e=0;e<n.length;e++)i=(i=(r=n[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Yu(t)},r.render=function(e,t,r){if(!Ku(t))throw Error(s(200));return $u(null,e,t,!1,r)},r.unmountComponentAtNode=function(e){if(!Ku(e))throw Error(s(40));return!!e._reactRootContainer&&(uu((function(){$u(null,null,e,!1,(function(){e._reactRootContainer=null,e[fi]=null}))})),!0)},r.unstable_batchedUpdates=lu,r.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Ku(r))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return $u(e,t,r,!1,n)},r.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,r){"use strict";var n=r(164);t.createRoot=n.createRoot,t.hydrateRoot=n.hydrateRoot},164:function(e,t,r){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(463)},195:function(e,t,r){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Object.defineProperty(t,"__esModule",{value:!0});function o(e,t,r,n,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var a={};["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"].forEach((function(e){a[e]=new o(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=n(e,2),r=t[0],i=t[1];a[r]=new o(r,1,!1,i,null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){a[e]=new o(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){a[e]=new o(e,2,!1,e,null,!1,!1)})),["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach((function(e){a[e]=new o(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){a[e]=new o(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){a[e]=new o(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){a[e]=new o(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){a[e]=new o(e,5,!1,e.toLowerCase(),null,!1,!1)}));var s=/[\-\:]([a-z])/g,l=function(e){return e[1].toUpperCase()};["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach((function(e){var t=e.replace(s,l);a[t]=new o(t,1,!1,e,null,!1,!1)})),["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach((function(e){var t=e.replace(s,l);a[t]=new o(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(s,l);a[t]=new o(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){a[e]=new o(e,1,!1,e.toLowerCase(),null,!1,!1)}));a.xlinkHref=new o("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){a[e]=new o(e,1,!1,e.toLowerCase(),null,!0,!0)}));var u=r(590),c=u.CAMELCASE,d=u.SAME,f=u.possibleStandardNames,h=RegExp.prototype.test.bind(new RegExp("^(data|aria)-[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$")),p=Object.keys(f).reduce((function(e,t){var r=f[t];return r===d?e[t]=t:r===c?e[t.toLowerCase()]=t:e[t]=r,e}),{});t.BOOLEAN=3,t.BOOLEANISH_STRING=2,t.NUMERIC=5,t.OVERLOADED_BOOLEAN=4,t.POSITIVE_NUMERIC=6,t.RESERVED=0,t.STRING=1,t.getPropertyInfo=function(e){return a.hasOwnProperty(e)?a[e]:null},t.isCustomAttribute=h,t.possibleStandardNames=p},590:function(e,t){t.SAME=0;t.CAMELCASE=1,t.possibleStandardNames={accept:0,acceptCharset:1,"accept-charset":"acceptCharset",accessKey:1,action:0,allowFullScreen:1,alt:0,as:0,async:0,autoCapitalize:1,autoComplete:1,autoCorrect:1,autoFocus:1,autoPlay:1,autoSave:1,capture:0,cellPadding:1,cellSpacing:1,challenge:0,charSet:1,checked:0,children:0,cite:0,class:"className",classID:1,className:1,cols:0,colSpan:1,content:0,contentEditable:1,contextMenu:1,controls:0,controlsList:1,coords:0,crossOrigin:1,dangerouslySetInnerHTML:1,data:0,dateTime:1,default:0,defaultChecked:1,defaultValue:1,defer:0,dir:0,disabled:0,disablePictureInPicture:1,disableRemotePlayback:1,download:0,draggable:0,encType:1,enterKeyHint:1,for:"htmlFor",form:0,formMethod:1,formAction:1,formEncType:1,formNoValidate:1,formTarget:1,frameBorder:1,headers:0,height:0,hidden:0,high:0,href:0,hrefLang:1,htmlFor:1,httpEquiv:1,"http-equiv":"httpEquiv",icon:0,id:0,innerHTML:1,inputMode:1,integrity:0,is:0,itemID:1,itemProp:1,itemRef:1,itemScope:1,itemType:1,keyParams:1,keyType:1,kind:0,label:0,lang:0,list:0,loop:0,low:0,manifest:0,marginWidth:1,marginHeight:1,max:0,maxLength:1,media:0,mediaGroup:1,method:0,min:0,minLength:1,multiple:0,muted:0,name:0,noModule:1,nonce:0,noValidate:1,open:0,optimum:0,pattern:0,placeholder:0,playsInline:1,poster:0,preload:0,profile:0,radioGroup:1,readOnly:1,referrerPolicy:1,rel:0,required:0,reversed:0,role:0,rows:0,rowSpan:1,sandbox:0,scope:0,scoped:0,scrolling:0,seamless:0,selected:0,shape:0,size:0,sizes:0,span:0,spellCheck:1,src:0,srcDoc:1,srcLang:1,srcSet:1,start:0,step:0,style:0,summary:0,tabIndex:1,target:0,title:0,type:0,useMap:1,value:0,width:0,wmode:0,wrap:0,about:0,accentHeight:1,"accent-height":"accentHeight",accumulate:0,additive:0,alignmentBaseline:1,"alignment-baseline":"alignmentBaseline",allowReorder:1,alphabetic:0,amplitude:0,arabicForm:1,"arabic-form":"arabicForm",ascent:0,attributeName:1,attributeType:1,autoReverse:1,azimuth:0,baseFrequency:1,baselineShift:1,"baseline-shift":"baselineShift",baseProfile:1,bbox:0,begin:0,bias:0,by:0,calcMode:1,capHeight:1,"cap-height":"capHeight",clip:0,clipPath:1,"clip-path":"clipPath",clipPathUnits:1,clipRule:1,"clip-rule":"clipRule",color:0,colorInterpolation:1,"color-interpolation":"colorInterpolation",colorInterpolationFilters:1,"color-interpolation-filters":"colorInterpolationFilters",colorProfile:1,"color-profile":"colorProfile",colorRendering:1,"color-rendering":"colorRendering",contentScriptType:1,contentStyleType:1,cursor:0,cx:0,cy:0,d:0,datatype:0,decelerate:0,descent:0,diffuseConstant:1,direction:0,display:0,divisor:0,dominantBaseline:1,"dominant-baseline":"dominantBaseline",dur:0,dx:0,dy:0,edgeMode:1,elevation:0,enableBackground:1,"enable-background":"enableBackground",end:0,exponent:0,externalResourcesRequired:1,fill:0,fillOpacity:1,"fill-opacity":"fillOpacity",fillRule:1,"fill-rule":"fillRule",filter:0,filterRes:1,filterUnits:1,floodOpacity:1,"flood-opacity":"floodOpacity",floodColor:1,"flood-color":"floodColor",focusable:0,fontFamily:1,"font-family":"fontFamily",fontSize:1,"font-size":"fontSize",fontSizeAdjust:1,"font-size-adjust":"fontSizeAdjust",fontStretch:1,"font-stretch":"fontStretch",fontStyle:1,"font-style":"fontStyle",fontVariant:1,"font-variant":"fontVariant",fontWeight:1,"font-weight":"fontWeight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:1,"glyph-name":"glyphName",glyphOrientationHorizontal:1,"glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphOrientationVertical:1,"glyph-orientation-vertical":"glyphOrientationVertical",glyphRef:1,gradientTransform:1,gradientUnits:1,hanging:0,horizAdvX:1,"horiz-adv-x":"horizAdvX",horizOriginX:1,"horiz-origin-x":"horizOriginX",ideographic:0,imageRendering:1,"image-rendering":"imageRendering",in2:0,in:0,inlist:0,intercept:0,k1:0,k2:0,k3:0,k4:0,k:0,kernelMatrix:1,kernelUnitLength:1,kerning:0,keyPoints:1,keySplines:1,keyTimes:1,lengthAdjust:1,letterSpacing:1,"letter-spacing":"letterSpacing",lightingColor:1,"lighting-color":"lightingColor",limitingConeAngle:1,local:0,markerEnd:1,"marker-end":"markerEnd",markerHeight:1,markerMid:1,"marker-mid":"markerMid",markerStart:1,"marker-start":"markerStart",markerUnits:1,markerWidth:1,mask:0,maskContentUnits:1,maskUnits:1,mathematical:0,mode:0,numOctaves:1,offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:1,"overline-position":"overlinePosition",overlineThickness:1,"overline-thickness":"overlineThickness",paintOrder:1,"paint-order":"paintOrder",panose1:0,"panose-1":"panose1",pathLength:1,patternContentUnits:1,patternTransform:1,patternUnits:1,pointerEvents:1,"pointer-events":"pointerEvents",points:0,pointsAtX:1,pointsAtY:1,pointsAtZ:1,prefix:0,preserveAlpha:1,preserveAspectRatio:1,primitiveUnits:1,property:0,r:0,radius:0,refX:1,refY:1,renderingIntent:1,"rendering-intent":"renderingIntent",repeatCount:1,repeatDur:1,requiredExtensions:1,requiredFeatures:1,resource:0,restart:0,result:0,results:0,rotate:0,rx:0,ry:0,scale:0,security:0,seed:0,shapeRendering:1,"shape-rendering":"shapeRendering",slope:0,spacing:0,specularConstant:1,specularExponent:1,speed:0,spreadMethod:1,startOffset:1,stdDeviation:1,stemh:0,stemv:0,stitchTiles:1,stopColor:1,"stop-color":"stopColor",stopOpacity:1,"stop-opacity":"stopOpacity",strikethroughPosition:1,"strikethrough-position":"strikethroughPosition",strikethroughThickness:1,"strikethrough-thickness":"strikethroughThickness",string:0,stroke:0,strokeDasharray:1,"stroke-dasharray":"strokeDasharray",strokeDashoffset:1,"stroke-dashoffset":"strokeDashoffset",strokeLinecap:1,"stroke-linecap":"strokeLinecap",strokeLinejoin:1,"stroke-linejoin":"strokeLinejoin",strokeMiterlimit:1,"stroke-miterlimit":"strokeMiterlimit",strokeWidth:1,"stroke-width":"strokeWidth",strokeOpacity:1,"stroke-opacity":"strokeOpacity",suppressContentEditableWarning:1,suppressHydrationWarning:1,surfaceScale:1,systemLanguage:1,tableValues:1,targetX:1,targetY:1,textAnchor:1,"text-anchor":"textAnchor",textDecoration:1,"text-decoration":"textDecoration",textLength:1,textRendering:1,"text-rendering":"textRendering",to:0,transform:0,typeof:0,u1:0,u2:0,underlinePosition:1,"underline-position":"underlinePosition",underlineThickness:1,"underline-thickness":"underlineThickness",unicode:0,unicodeBidi:1,"unicode-bidi":"unicodeBidi",unicodeRange:1,"unicode-range":"unicodeRange",unitsPerEm:1,"units-per-em":"unitsPerEm",unselectable:0,vAlphabetic:1,"v-alphabetic":"vAlphabetic",values:0,vectorEffect:1,"vector-effect":"vectorEffect",version:0,vertAdvY:1,"vert-adv-y":"vertAdvY",vertOriginX:1,"vert-origin-x":"vertOriginX",vertOriginY:1,"vert-origin-y":"vertOriginY",vHanging:1,"v-hanging":"vHanging",vIdeographic:1,"v-ideographic":"vIdeographic",viewBox:1,viewTarget:1,visibility:0,vMathematical:1,"v-mathematical":"vMathematical",vocab:0,widths:0,wordSpacing:1,"word-spacing":"wordSpacing",writingMode:1,"writing-mode":"writingMode",x1:0,x2:0,x:0,xChannelSelector:1,xHeight:1,"x-height":"xHeight",xlinkActuate:1,"xlink:actuate":"xlinkActuate",xlinkArcrole:1,"xlink:arcrole":"xlinkArcrole",xlinkHref:1,"xlink:href":"xlinkHref",xlinkRole:1,"xlink:role":"xlinkRole",xlinkShow:1,"xlink:show":"xlinkShow",xlinkTitle:1,"xlink:title":"xlinkTitle",xlinkType:1,"xlink:type":"xlinkType",xmlBase:1,"xml:base":"xmlBase",xmlLang:1,"xml:lang":"xmlLang",xmlns:0,"xml:space":"xmlSpace",xmlnsXlink:1,"xmlns:xlink":"xmlnsXlink",xmlSpace:1,y1:0,y2:0,y:0,yChannelSelector:1,z:0,zoomAndPan:1}},374:function(e,t,r){"use strict";var n=r(791),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,r){var n,o={},u=null,c=null;for(n in void 0!==r&&(u=""+r),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,n)&&!l.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===o[n]&&(o[n]=t[n]);return{$$typeof:i,type:e,key:u,ref:c,props:o,_owner:s.current}}t.Fragment=o,t.jsx=u,t.jsxs=u},117:function(e,t){"use strict";var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||p}function v(){}function b(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var _=b.prototype=new v;_.constructor=b,m(_,y.prototype),_.isPureReactComponent=!0;var w=Array.isArray,E=Object.prototype.hasOwnProperty,x={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,n){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)E.call(t,i)&&!S.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:r,type:e,key:a,ref:s,props:o,_owner:x.current}}function A(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var M=/\/+/g;function R(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case r:case n:l=!0}}if(l)return a=a(l=e),e=""===o?"."+R(l,0):o,w(a)?(i="",null!=e&&(i=e.replace(M,"$&/")+"/"),C(a,t,i,"",(function(e){return e}))):null!=a&&(A(a)&&(a=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(M,"$&/")+"/")+e)),t.push(a)),1;if(l=0,o=""===o?".":o+":",w(e))for(var u=0;u<e.length;u++){var c=o+R(s=e[u],u);l+=C(s,t,i,c,a)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=C(s=s.value,t,i,c=o+R(s,u++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function I(e,t,r){if(null==e)return e;var n=[],i=0;return C(e,n,"","",(function(e){return t.call(r,e,i++)})),n}function k(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},O={transition:null},j={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:O,ReactCurrentOwner:x};t.Children={map:I,forEach:function(e,t,r){I(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!A(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=x.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)E.call(t,u)&&!S.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:r,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:k}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,r){return P.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,r){return P.current.useReducer(e,t,r)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return P.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},791:function(e,t,r){"use strict";e.exports=r(117)},184:function(e,t,r){"use strict";e.exports=r(374)},813:function(e,t){"use strict";function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,i=e[n];if(!(0<o(i,t)))break e;e[n]=t,e[r]=i,r=n}}function n(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,i=e.length,a=i>>>1;n<a;){var s=2*(n+1)-1,l=e[s],u=s+1,c=e[u];if(0>o(l,r))u<i&&0>o(c,l)?(e[n]=c,e[u]=r,n=u):(e[n]=l,e[s]=r,n=s);else{if(!(u<i&&0>o(c,r)))break e;e[n]=c,e[u]=r,n=u}}}return t}function o(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],d=1,f=null,h=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function _(e){for(var t=n(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,r(u,t)}t=n(c)}}function w(e){if(g=!1,_(e),!m)if(null!==n(u))m=!0,O(E);else{var t=n(c);null!==t&&j(w,t.startTime-e)}}function E(e,r){m=!1,g&&(g=!1,v(A),A=-1),p=!0;var o=h;try{for(_(r),f=n(u);null!==f&&(!(f.expirationTime>r)||e&&!C());){var a=f.callback;if("function"===typeof a){f.callback=null,h=f.priorityLevel;var s=a(f.expirationTime<=r);r=t.unstable_now(),"function"===typeof s?f.callback=s:f===n(u)&&i(u),_(r)}else i(u);f=n(u)}if(null!==f)var l=!0;else{var d=n(c);null!==d&&j(w,d.startTime-r),l=!1}return l}finally{f=null,h=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,S=!1,T=null,A=-1,M=5,R=-1;function C(){return!(t.unstable_now()-R<M)}function I(){if(null!==T){var e=t.unstable_now();R=e;var r=!0;try{r=T(!0,e)}finally{r?x():(S=!1,T=null)}}else S=!1}if("function"===typeof b)x=function(){b(I)};else if("undefined"!==typeof MessageChannel){var k=new MessageChannel,P=k.port2;k.port1.onmessage=I,x=function(){P.postMessage(null)}}else x=function(){y(I,0)};function O(e){T=e,S||(S=!0,x())}function j(e,r){A=y((function(){e(t.unstable_now())}),r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,O(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var r=h;h=t;try{return e()}finally{h=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=h;h=e;try{return t()}finally{h=r}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,r(c,e),null===n(u)&&e===n(c)&&(g?(v(A),A=-1):g=!0,j(w,o-a))):(e.sortIndex=s,r(u,e),m||p||(m=!0,O(E))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=h;return function(){var r=h;h=t;try{return e.apply(this,arguments)}finally{h=r}}}},296:function(e,t,r){"use strict";e.exports=r(813)},613:function(e){e.exports=function(e,t,r,n){var i=r?r.call(n,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),l=0;l<o.length;l++){var u=o[l];if(!s(u))return!1;var c=e[u],d=t[u];if(!1===(i=r?r.call(n,c,d,u):void 0)||void 0===i&&c!==d)return!1}return!0}},792:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(426)),o=r(483);t.default=function(e,t){var r={};return e&&"string"===typeof e?((0,i.default)(e,(function(e,n){e&&n&&(r[(0,o.camelCase)(e,t)]=n)})),r):r}},483:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.camelCase=void 0;var r=/^--[a-zA-Z0-9-]+$/,n=/-([a-z])/g,i=/^[^-]+$/,o=/^-(webkit|moz|ms|o|khtml)-/,a=/^-(ms)-/,s=function(e,t){return t.toUpperCase()},l=function(e,t){return"".concat(t,"-")};t.camelCase=function(e,t){return void 0===t&&(t={}),function(e){return!e||i.test(e)||r.test(e)}(e)?e:(e=e.toLowerCase(),(e=t.reactCompat?e.replace(a,l):e.replace(o,l)).replace(n,s))}},426:function(e,t,r){var n=r(65);function i(e,t){var r,i=null;if(!e||"string"!==typeof e)return i;for(var o,a,s=n(e),l="function"===typeof t,u=0,c=s.length;u<c;u++)o=(r=s[u]).property,a=r.value,l?t(o,a,r):a&&(i||(i={}),i[o]=a);return i}e.exports=i,e.exports.default=i},726:function(e){e.exports=function(e){return t.test(e)?e.toLowerCase():r.test(e)?(function(e){return e.replace(i,(function(e,t){return t?" "+t:""}))}(e)||e).toLowerCase():n.test(e)?function(e){return e.replace(o,(function(e,t,r){return t+" "+r.toLowerCase().split("").join(" ")}))}(e).toLowerCase():e.toLowerCase()};var t=/\s/,r=/(_|-|\.|:)/,n=/([a-z][A-Z]|[A-Z][a-z])/;var i=/[\W_]+(.|$)/g;var o=/(.)([A-Z]+)/g},416:function(e,t,r){var n=r(726);e.exports=function(e){return n(e).replace(/[\W_]+(.|$)/g,(function(e,t){return t?" "+t:""})).trim()}},61:function(e,t,r){var n=r(698).default;function i(){"use strict";e.exports=i=function(){return r},e.exports.__esModule=!0,e.exports.default=e.exports;var t,r={},o=Object.prototype,a=o.hasOwnProperty,s=Object.defineProperty||function(e,t,r){e[t]=r.value},l="function"==typeof Symbol?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",d=l.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(t){f=function(e,t,r){return e[t]=r}}function h(e,t,r,n){var i=t&&t.prototype instanceof _?t:_,o=Object.create(i.prototype),a=new O(n||[]);return s(o,"_invoke",{value:C(e,r,a)}),o}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}r.wrap=h;var m="suspendedStart",g="suspendedYield",y="executing",v="completed",b={};function _(){}function w(){}function E(){}var x={};f(x,u,(function(){return this}));var S=Object.getPrototypeOf,T=S&&S(S(j([])));T&&T!==o&&a.call(T,u)&&(x=T);var A=E.prototype=_.prototype=Object.create(x);function M(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,t){function r(i,o,s,l){var u=p(e[i],e,o);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==n(d)&&a.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,s,l)}),(function(e){r("throw",e,s,l)})):t.resolve(d).then((function(e){c.value=e,s(c)}),(function(e){return r("throw",e,s,l)}))}l(u.arg)}var i;s(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(o,o):o()}})}function C(e,r,n){var i=m;return function(o,a){if(i===y)throw new Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var l=I(s,n);if(l){if(l===b)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===m)throw i=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=y;var u=p(e,r,n);if("normal"===u.type){if(i=n.done?v:g,u.arg===b)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i=v,n.method="throw",n.arg=u.arg)}}}function I(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,I(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),b;var o=p(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,b;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,b):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,b)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function j(e){if(e||""===e){var r=e[u];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(a.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(n(e)+" is not iterable")}return w.prototype=E,s(A,"constructor",{value:E,configurable:!0}),s(E,"constructor",{value:w,configurable:!0}),w.displayName=f(E,d,"GeneratorFunction"),r.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},r.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,f(e,d,"GeneratorFunction")),e.prototype=Object.create(A),e},r.awrap=function(e){return{__await:e}},M(R.prototype),f(R.prototype,c,(function(){return this})),r.AsyncIterator=R,r.async=function(e,t,n,i,o){void 0===o&&(o=Promise);var a=new R(h(e,t,n,i),o);return r.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},M(A),f(A,d,"Generator"),f(A,u,(function(){return this})),f(A,"toString",(function(){return"[object Generator]"})),r.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},r.values=j,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var r in this)"t"===r.charAt(0)&&a.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var l=a.call(o,"catchLoc"),u=a.call(o,"finallyLoc");if(l&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,b):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;P(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:j(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),b}},r}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},698:function(e){function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}},r={};function n(e){var i=r[e];if(void 0!==i)return i.exports;var o=r[e]={id:e,loaded:!1,exports:{}};return t[e].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=t,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){a[e]=function(){return r[e]}}));return a.default=function(){return r},n.d(o,a),o}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".1ed0c42c.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="portfolio:";n.l=function(r,i,o,a){if(e[r])e[r].push(i);else{var s,l;if(void 0!==o)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var d=u[c];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[i];var f=function(t,n){s.onerror=s.onload=null,clearTimeout(h);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},h=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),l&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise((function(r,n){i=e[t]=[r,n]}));r.push(i[2]=o);var a=n.p+n.u(t),s=new Error;n.l(a,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,o,a=r[0],s=r[1],l=r[2],u=0;if(a.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)l(n)}for(t&&t(r);u<a.length;u++)o=a[u],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkportfolio=self.webpackChunkportfolio||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),n.nc=void 0,function(){"use strict";var t,r=n(791),i=n.t(r,2),o=n(250);function a(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}function u(e,t,r){return(t=l(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e){if(Array.isArray(e))return e}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t){if(e){if("string"===typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(e,t):void 0}}function m(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function g(e,t){return f(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||p(e,t)||m()}function y(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function v(e){return function(e){if(Array.isArray(e))return h(e)}(e)||y(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function w(e,t,r){return t&&_(e.prototype,t),r&&_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function E(e,t){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},E(e,t)}function x(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E(e,t)}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}function T(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e){var t=T();return function(){var r,n=S(e);if(t){var i=S(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===s(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return A(e)}(this,r)}}function R(e,t,r){return R=T()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&E(i,r.prototype),i},R.apply(null,arguments)}function C(e){var t="function"===typeof Map?new Map:void 0;return C=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return R(e,arguments,S(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),E(n,e)},C(e)}function I(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=p(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function k(){return k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var P,O="popstate";function j(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function N(t,r){if(!t){"undefined"!==typeof console&&console.warn(r);try{throw new Error(r)}catch(e){}}}function L(e,t){return{usr:e.state,key:e.key,idx:t}}function D(e,t,r,n){return void 0===r&&(r=null),k({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?U(t):t,{state:r,key:t&&t.key||n||Math.random().toString(36).substr(2,8)})}function F(e){var t=e.pathname,r=void 0===t?"/":t,n=e.search,i=void 0===n?"":n,o=e.hash,a=void 0===o?"":o;return i&&"?"!==i&&(r+="?"===i.charAt(0)?i:"?"+i),a&&"#"!==a&&(r+="#"===a.charAt(0)?a:"#"+a),r}function U(e){var t={};if(e){var r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));var n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function B(e,r,n,i){void 0===i&&(i={});var o=i,a=o.window,s=void 0===a?document.defaultView:a,l=o.v5Compat,u=void 0!==l&&l,c=s.history,d=t.Pop,f=null,h=p();function p(){return(c.state||{idx:null}).idx}function m(){d=t.Pop;var e=p(),r=null==e?null:e-h;h=e,f&&f({action:d,location:y.location,delta:r})}function g(e){var t="null"!==s.location.origin?s.location.origin:s.location.href,r="string"===typeof e?e:F(e);return j(t,"No window.location.(origin|href) available to create URL for href: "+r),new URL(r,t)}null==h&&(h=0,c.replaceState(k({},c.state,{idx:h}),""));var y={get action(){return d},get location(){return e(s,c)},listen:function(e){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(O,m),f=e,function(){s.removeEventListener(O,m),f=null}},createHref:function(e){return r(s,e)},createURL:g,encodeLocation:function(e){var t=g(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,r){d=t.Push;var i=D(y.location,e,r);n&&n(i,e);var o=L(i,h=p()+1),a=y.createHref(i);try{c.pushState(o,"",a)}catch(l){if(l instanceof DOMException&&"DataCloneError"===l.name)throw l;s.location.assign(a)}u&&f&&f({action:d,location:y.location,delta:1})},replace:function(e,r){d=t.Replace;var i=D(y.location,e,r);n&&n(i,e);var o=L(i,h=p()),a=y.createHref(i);c.replaceState(o,"",a),u&&f&&f({action:d,location:y.location,delta:0})},go:function(e){return c.go(e)}};return y}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(P||(P={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function G(e,t,r){void 0===r&&(r="/");var n=te(("string"===typeof t?U(t):t).pathname||"/",r);if(null==n)return null;var i=z(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var r=e.length===t.length&&e.slice(0,-1).every((function(e,r){return e===t[r]}));return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var o=null,a=0;null==o&&a<i.length;++a)o=$(i[a],ee(n));return o}function z(e,t,r,n){void 0===t&&(t=[]),void 0===r&&(r=[]),void 0===n&&(n="");var i=function(e,i,o){var a={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(j(a.relativePath.startsWith(n),'Absolute route path "'+a.relativePath+'" nested under path "'+n+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(n.length));var s=oe([n,a.relativePath]),l=r.concat(a);e.children&&e.children.length>0&&(j(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),z(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:Q(s,e.index),routesMeta:l})};return e.forEach((function(e,t){var r;if(""!==e.path&&null!=(r=e.path)&&r.includes("?")){var n,o=I(V(e.path));try{for(o.s();!(n=o.n()).done;){var a=n.value;i(e,t,a)}}catch(s){o.e(s)}finally{o.f()}}else i(e,t)})),t}function V(e){var t=e.split("/");if(0===t.length)return[];var r,n=f(r=t)||y(r)||p(r)||m(),i=n[0],o=n.slice(1),a=i.endsWith("?"),s=i.replace(/\?$/,"");if(0===o.length)return a?[s,""]:[s];var l=V(o.join("/")),u=[];return u.push.apply(u,v(l.map((function(e){return""===e?s:[s,e].join("/")})))),a&&u.push.apply(u,v(l)),u.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var H=/^:\w+$/,W=3,Z=2,q=1,Y=10,X=-2,K=function(e){return"*"===e};function Q(e,t){var r=e.split("/"),n=r.length;return r.some(K)&&(n+=X),t&&(n+=Z),r.filter((function(e){return!K(e)})).reduce((function(e,t){return e+(H.test(t)?W:""===t?q:Y)}),n)}function $(e,t){for(var r=e.routesMeta,n={},i="/",o=[],a=0;a<r.length;++a){var s=r[a],l=a===r.length-1,u="/"===i?t:t.slice(i.length)||"/",c=J({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},u);if(!c)return null;Object.assign(n,c.params);var d=s.route;o.push({params:n,pathname:oe([i,c.pathname]),pathnameBase:ae(oe([i,c.pathnameBase])),route:d}),"/"!==c.pathnameBase&&(i=oe([i,c.pathnameBase]))}return o}function J(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var r=function(e,t,r){void 0===t&&(t=!1);void 0===r&&(r=!0);N("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return n.push(t),"/([^\\/]+)"}));e.endsWith("*")?(n.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var o=new RegExp(i,t?void 0:"i");return[o,n]}(e.path,e.caseSensitive,e.end),n=g(r,2),i=n[0],o=n[1],a=t.match(i);if(!a)return null;var s=a[0],l=s.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:o.reduce((function(e,t,r){if("*"===t){var n=u[r]||"";l=s.slice(0,s.length-n.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(r){return N(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+r+")."),e}}(u[r]||"",t),e}),{}),pathname:s,pathnameBase:l,pattern:e}}function ee(e){try{return decodeURI(e)}catch(t){return N(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function te(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&"/"!==n?null:e.slice(r)||"/"}function re(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the `to."+r+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function ne(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function ie(e,t,r,n){var i;void 0===n&&(n=!1),"string"===typeof e?i=U(e):(j(!(i=k({},e)).pathname||!i.pathname.includes("?"),re("?","pathname","search",i)),j(!i.pathname||!i.pathname.includes("#"),re("#","pathname","hash",i)),j(!i.search||!i.search.includes("#"),re("#","search","hash",i)));var o,a=""===e||""===i.pathname,s=a?"/":i.pathname;if(n||null==s)o=r;else{var l=t.length-1;if(s.startsWith("..")){for(var u=s.split("/");".."===u[0];)u.shift(),l-=1;i.pathname=u.join("/")}o=l>=0?t[l]:"/"}var c=function(e,t){void 0===t&&(t="/");var r="string"===typeof e?U(e):e,n=r.pathname,i=r.search,o=void 0===i?"":i,a=r.hash,s=void 0===a?"":a,l=n?n.startsWith("/")?n:function(e,t){var r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)})),r.length>1?r.join("/"):"/"}(n,t):t;return{pathname:l,search:se(o),hash:le(s)}}(i,o),d=s&&"/"!==s&&s.endsWith("/"),f=(a||"."===s)&&r.endsWith("/");return c.pathname.endsWith("/")||!d&&!f||(c.pathname+="/"),c}var oe=function(e){return e.join("/").replace(/\/\/+/g,"/")},ae=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},se=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},le=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},ue=function(e){x(r,e);var t=M(r);function r(){return b(this,r),t.apply(this,arguments)}return w(r)}(C(Error));function ce(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var de=["post","put","patch","delete"],fe=(new Set(de),["get"].concat(de));new Set(fe),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function he(){return he=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},he.apply(this,arguments)}var pe=r.createContext(null);var me=r.createContext(null);var ge=r.createContext(null);var ye=r.createContext(null);var ve=r.createContext(null);var be=r.createContext({outlet:null,matches:[],isDataRoute:!1});var _e=r.createContext(null);function we(){return null!=r.useContext(ve)}function Ee(){return we()||j(!1),r.useContext(ve).location}function xe(e){r.useContext(ye).static||r.useLayoutEffect(e)}function Se(){return r.useContext(be).isDataRoute?function(){var e=Le(je.UseNavigateStable).router,t=Fe(Ne.UseNavigateStable),n=r.useRef(!1);return xe((function(){n.current=!0})),r.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,he({fromRouteId:t},i)))}),[e,t])}():function(){we()||j(!1);var e=r.useContext(pe),t=r.useContext(ye),n=t.basename,i=t.navigator,o=r.useContext(be).matches,a=Ee().pathname,s=JSON.stringify(ne(o).map((function(e){return e.pathnameBase}))),l=r.useRef(!1);return xe((function(){l.current=!0})),r.useCallback((function(t,r){if(void 0===r&&(r={}),l.current)if("number"!==typeof t){var o=ie(t,JSON.parse(s),a,"path"===r.relative);null==e&&"/"!==n&&(o.pathname="/"===o.pathname?n:oe([n,o.pathname])),(r.replace?i.replace:i.push)(o,r.state,r)}else i.go(t)}),[n,i,s,a,e])}()}var Te=r.createContext(null);function Ae(){return r.useContext(Te)}function Me(e,t){var n=(void 0===t?{}:t).relative,i=r.useContext(be).matches,o=Ee().pathname,a=JSON.stringify(ne(i).map((function(e){return e.pathnameBase})));return r.useMemo((function(){return ie(e,JSON.parse(a),o,"path"===n)}),[e,a,o,n])}function Re(e,n,i){we()||j(!1);var o,a=r.useContext(ye).navigator,s=r.useContext(be).matches,l=s[s.length-1],u=l?l.params:{},c=(l&&l.pathname,l?l.pathnameBase:"/"),d=(l&&l.route,Ee());if(n){var f,h="string"===typeof n?U(n):n;"/"===c||(null==(f=h.pathname)?void 0:f.startsWith(c))||j(!1),o=h}else o=d;var p=o.pathname||"/",m=G(e,{pathname:"/"===c?p:p.slice(c.length)||"/"});var g=Oe(m&&m.map((function(e){return Object.assign({},e,{params:Object.assign({},u,e.params),pathname:oe([c,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:oe([c,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),s,i);return n&&g?r.createElement(ve.Provider,{value:{location:he({pathname:"/",search:"",hash:"",state:null,key:"default"},o),navigationType:t.Pop}},g):g}function Ce(){var e=function(){var e,t=r.useContext(_e),n=De(Ne.UseRouteError),i=Fe(Ne.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=ce(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:o},n):null,null)}var Ie=r.createElement(Ce,null),ke=function(e){x(n,e);var t=M(n);function n(e){var r;return b(this,n),(r=t.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},r}return w(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?r.createElement(be.Provider,{value:this.props.routeContext},r.createElement(_e.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),n}(r.Component);function Pe(e){var t=e.routeContext,n=e.match,i=e.children,o=r.useContext(pe);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(be.Provider,{value:t},i)}function Oe(e,t,n){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),null==e){var o;if(null==(o=n)||!o.errors)return null;e=n.matches}var a=e,s=null==(i=n)?void 0:i.errors;if(null!=s){var l=a.findIndex((function(e){return e.route.id&&(null==s?void 0:s[e.route.id])}));l>=0||j(!1),a=a.slice(0,Math.min(a.length,l+1))}return a.reduceRight((function(e,i,o){var l=i.route.id?null==s?void 0:s[i.route.id]:null,u=null;n&&(u=i.route.errorElement||Ie);var c=t.concat(a.slice(0,o+1)),d=function(){var t;return t=l?u:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:e,r.createElement(Pe,{match:i,routeContext:{outlet:e,matches:c,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===o)?r.createElement(ke,{location:n.location,revalidation:n.revalidation,component:u,error:l,children:d(),routeContext:{outlet:null,matches:c,isDataRoute:!0}}):d()}),null)}var je=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(je||{}),Ne=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ne||{});function Le(e){var t=r.useContext(pe);return t||j(!1),t}function De(e){var t=r.useContext(me);return t||j(!1),t}function Fe(e){var t=function(e){var t=r.useContext(be);return t||j(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||j(!1),n.route.id}i.startTransition;function Ue(e){var t=e.to,n=e.replace,i=e.state,o=e.relative;we()||j(!1);var a=r.useContext(be).matches,s=Ee().pathname,l=Se(),u=ie(t,ne(a).map((function(e){return e.pathnameBase})),s,"path"===o),c=JSON.stringify(u);return r.useEffect((function(){return l(JSON.parse(c),{replace:n,state:i,relative:o})}),[l,c,o,n,i]),null}function Be(e){return function(e){var t=r.useContext(be).outlet;return t?r.createElement(Te.Provider,{value:e},t):t}(e.context)}function Ge(e){j(!1)}function ze(e){var n=e.basename,i=void 0===n?"/":n,o=e.children,a=void 0===o?null:o,s=e.location,l=e.navigationType,u=void 0===l?t.Pop:l,c=e.navigator,d=e.static,f=void 0!==d&&d;we()&&j(!1);var h=i.replace(/^\/*/,"/"),p=r.useMemo((function(){return{basename:h,navigator:c,static:f}}),[h,c,f]);"string"===typeof s&&(s=U(s));var m=s,g=m.pathname,y=void 0===g?"/":g,v=m.search,b=void 0===v?"":v,_=m.hash,w=void 0===_?"":_,E=m.state,x=void 0===E?null:E,S=m.key,T=void 0===S?"default":S,A=r.useMemo((function(){var e=te(y,h);return null==e?null:{location:{pathname:e,search:b,hash:w,state:x,key:T},navigationType:u}}),[h,y,b,w,x,T,u]);return null==A?null:r.createElement(ye.Provider,{value:p},r.createElement(ve.Provider,{children:a,value:A}))}function Ve(e){var t=e.children,r=e.location;return function(e,t){return Re(e,t)}(Ze(t),r)}var He=function(e){return e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error",e}(He||{}),We=new Promise((function(){}));r.Component;function Ze(e,t){void 0===t&&(t=[]);var n=[];return r.Children.forEach(e,(function(e,i){if(r.isValidElement(e)){var o=[].concat(v(t),[i]);if(e.type!==r.Fragment){e.type!==Ge&&j(!1),e.props.index&&e.props.children&&j(!1);var a={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=Ze(e.props.children,o)),n.push(a)}else n.push.apply(n,Ze(e.props.children,o))}})),n}function qe(){return qe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qe.apply(this,arguments)}function Ye(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}function Xe(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((function(t,r){var n=e[r];return t.concat(Array.isArray(n)?n.map((function(e){return[r,e]})):[[r,n]])}),[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);var Ke=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];var Qe=i.startTransition;function $e(e){var t,n=e.basename,i=e.children,o=e.future,a=e.window,s=r.useRef();null==s.current&&(s.current=(void 0===(t={window:a,v5Compat:!0})&&(t={}),B((function(e,t){var r=U(e.location.hash.substr(1)),n=r.pathname,i=void 0===n?"/":n,o=r.search,a=void 0===o?"":o,s=r.hash,l=void 0===s?"":s;return i.startsWith("/")||i.startsWith(".")||(i="/"+i),D("",{pathname:i,search:a,hash:l},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){var r=e.document.querySelector("base"),n="";if(r&&r.getAttribute("href")){var i=e.location.href,o=i.indexOf("#");n=-1===o?i:i.slice(0,o)}return n+"#"+("string"===typeof t?t:F(t))}),(function(e,t){N("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),t)));var l=s.current,u=g(r.useState({action:l.action,location:l.location}),2),c=u[0],d=u[1],f=(o||{}).v7_startTransition,h=r.useCallback((function(e){f&&Qe?Qe((function(){return d(e)})):d(e)}),[d,f]);return r.useLayoutEffect((function(){return l.listen(h)}),[l,h]),r.createElement(ze,{basename:n,children:i,location:c.location,navigationType:c.action,navigator:l})}var Je="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,et=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tt=r.forwardRef((function(t,n){var i,o=t.onClick,a=t.relative,s=t.reloadDocument,l=t.replace,u=t.state,c=t.target,d=t.to,f=t.preventScrollReset,h=Ye(t,Ke),p=r.useContext(ye).basename,m=!1;if("string"===typeof d&&et.test(d)&&(i=d,Je))try{var g=new URL(window.location.href),y=d.startsWith("//")?new URL(g.protocol+d):new URL(d),v=te(y.pathname,p);y.origin===g.origin&&null!=v?d=v+y.search+y.hash:m=!0}catch(e){}var b=function(e,t){var n=(void 0===t?{}:t).relative;we()||j(!1);var i=r.useContext(ye),o=i.basename,a=i.navigator,s=Me(e,{relative:n}),l=s.hash,u=s.pathname,c=s.search,d=u;return"/"!==o&&(d="/"===u?o:oe([o,u])),a.createHref({pathname:d,search:c,hash:l})}(d,{relative:a}),_=function(e,t){var n=void 0===t?{}:t,i=n.target,o=n.replace,a=n.state,s=n.preventScrollReset,l=n.relative,u=Se(),c=Ee(),d=Me(e,{relative:l});return r.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var r=void 0!==o?o:F(c)===F(d);u(e,{replace:r,state:a,preventScrollReset:s,relative:l})}}),[c,u,d,o,a,i,e,s,l])}(d,{replace:l,state:u,target:c,preventScrollReset:f,relative:a});return r.createElement("a",qe({},h,{href:i||b,onClick:m||s?o:function(e){o&&o(e),e.defaultPrevented||_(e)},ref:n,target:c}))}));var rt,nt;function it(e){var t=r.useRef(Xe(e)),n=r.useRef(!1),i=Ee(),o=r.useMemo((function(){return function(e,t){var r=Xe(e);return t&&t.forEach((function(e,n){r.has(n)||t.getAll(n).forEach((function(e){r.append(n,e)}))})),r}(i.search,n.current?null:t.current)}),[i.search]),a=Se(),s=r.useCallback((function(e,t){var r=Xe("function"===typeof e?e(o):e);n.current=!0,a("?"+r,t)}),[a,o]);return[o,s]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(rt||(rt={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(nt||(nt={}));var ot=function(){return ot=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ot.apply(this,arguments)};Object.create;function at(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var st=n(613),lt=n.n(st),ut="-ms-",ct="-moz-",dt="-webkit-",ft="comm",ht="rule",pt="decl",mt="@import",gt="@keyframes",yt="@layer",vt=Math.abs,bt=String.fromCharCode,_t=Object.assign;function wt(e){return e.trim()}function Et(e,t){return(e=t.exec(e))?e[0]:e}function xt(e,t,r){return e.replace(t,r)}function St(e,t){return e.indexOf(t)}function Tt(e,t){return 0|e.charCodeAt(t)}function At(e,t,r){return e.slice(t,r)}function Mt(e){return e.length}function Rt(e){return e.length}function Ct(e,t){return t.push(e),e}function It(e,t){return e.filter((function(e){return!Et(e,t)}))}var kt=1,Pt=1,Ot=0,jt=0,Nt=0,Lt="";function Dt(e,t,r,n,i,o,a,s){return{value:e,root:t,parent:r,type:n,props:i,children:o,line:kt,column:Pt,length:a,return:"",siblings:s}}function Ft(e,t){return _t(Dt("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function Ut(e){for(;e.root;)e=Ft(e.root,{children:[e]});Ct(e,e.siblings)}function Bt(){return Nt=jt>0?Tt(Lt,--jt):0,Pt--,10===Nt&&(Pt=1,kt--),Nt}function Gt(){return Nt=jt<Ot?Tt(Lt,jt++):0,Pt++,10===Nt&&(Pt=1,kt++),Nt}function zt(){return Tt(Lt,jt)}function Vt(){return jt}function Ht(e,t){return At(Lt,e,t)}function Wt(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Zt(e){return kt=Pt=1,Ot=Mt(Lt=e),jt=0,[]}function qt(e){return Lt="",e}function Yt(e){return wt(Ht(jt-1,Qt(91===e?e+2:40===e?e+1:e)))}function Xt(e){for(;(Nt=zt())&&Nt<33;)Gt();return Wt(e)>2||Wt(Nt)>3?"":" "}function Kt(e,t){for(;--t&&Gt()&&!(Nt<48||Nt>102||Nt>57&&Nt<65||Nt>70&&Nt<97););return Ht(e,Vt()+(t<6&&32==zt()&&32==Gt()))}function Qt(e){for(;Gt();)switch(Nt){case e:return jt;case 34:case 39:34!==e&&39!==e&&Qt(Nt);break;case 40:41===e&&Qt(e);break;case 92:Gt()}return jt}function $t(e,t){for(;Gt()&&e+Nt!==57&&(e+Nt!==84||47!==zt()););return"/*"+Ht(t,jt-1)+"*"+bt(47===e?e:Gt())}function Jt(e){for(;!Wt(zt());)Gt();return Ht(e,jt)}function er(e,t){for(var r="",n=0;n<e.length;n++)r+=t(e[n],n,e,t)||"";return r}function tr(e,t,r,n){switch(e.type){case yt:if(e.children.length)break;case mt:case pt:return e.return=e.return||e.value;case ft:return"";case gt:return e.return=e.value+"{"+er(e.children,n)+"}";case ht:if(!Mt(e.value=e.props.join(",")))return""}return Mt(r=er(e.children,n))?e.return=e.value+"{"+r+"}":""}function rr(e,t,r){switch(function(e,t){return 45^Tt(e,0)?(((t<<2^Tt(e,0))<<2^Tt(e,1))<<2^Tt(e,2))<<2^Tt(e,3):0}(e,t)){case 5103:return dt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return dt+e+e;case 4789:return ct+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return dt+e+ct+e+ut+e+e;case 5936:switch(Tt(e,t+11)){case 114:return dt+e+ut+xt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return dt+e+ut+xt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return dt+e+ut+xt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return dt+e+ut+e+e;case 6165:return dt+e+ut+"flex-"+e+e;case 5187:return dt+e+xt(e,/(\w+).+(:[^]+)/,dt+"box-$1$2"+ut+"flex-$1$2")+e;case 5443:return dt+e+ut+"flex-item-"+xt(e,/flex-|-self/g,"")+(Et(e,/flex-|baseline/)?"":ut+"grid-row-"+xt(e,/flex-|-self/g,""))+e;case 4675:return dt+e+ut+"flex-line-pack"+xt(e,/align-content|flex-|-self/g,"")+e;case 5548:return dt+e+ut+xt(e,"shrink","negative")+e;case 5292:return dt+e+ut+xt(e,"basis","preferred-size")+e;case 6060:return dt+"box-"+xt(e,"-grow","")+dt+e+ut+xt(e,"grow","positive")+e;case 4554:return dt+xt(e,/([^-])(transform)/g,"$1"+dt+"$2")+e;case 6187:return xt(xt(xt(e,/(zoom-|grab)/,dt+"$1"),/(image-set)/,dt+"$1"),e,"")+e;case 5495:case 3959:return xt(e,/(image-set\([^]*)/,dt+"$1$`$1");case 4968:return xt(xt(e,/(.+:)(flex-)?(.*)/,dt+"box-pack:$3"+ut+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+dt+e+e;case 4200:if(!Et(e,/flex-|baseline/))return ut+"grid-column-align"+At(e,t)+e;break;case 2592:case 3360:return ut+xt(e,"template-","")+e;case 4384:case 3616:return r&&r.some((function(e,r){return t=r,Et(e.props,/grid-\w+-end/)}))?~St(e+(r=r[t].value),"span")?e:ut+xt(e,"-start","")+e+ut+"grid-row-span:"+(~St(r,"span")?Et(r,/\d+/):+Et(r,/\d+/)-+Et(e,/\d+/))+";":ut+xt(e,"-start","")+e;case 4896:case 4128:return r&&r.some((function(e){return Et(e.props,/grid-\w+-start/)}))?e:ut+xt(xt(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return xt(e,/(.+)-inline(.+)/,dt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Mt(e)-1-t>6)switch(Tt(e,t+1)){case 109:if(45!==Tt(e,t+4))break;case 102:return xt(e,/(.+:)(.+)-([^]+)/,"$1"+dt+"$2-$3$1"+ct+(108==Tt(e,t+3)?"$3":"$2-$3"))+e;case 115:return~St(e,"stretch")?rr(xt(e,"stretch","fill-available"),t,r)+e:e}break;case 5152:case 5920:return xt(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,(function(t,r,n,i,o,a,s){return ut+r+":"+n+s+(i?ut+r+"-span:"+(o?a:+a-+n)+s:"")+e}));case 4949:if(121===Tt(e,t+6))return xt(e,":",":"+dt)+e;break;case 6444:switch(Tt(e,45===Tt(e,14)?18:11)){case 120:return xt(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+dt+(45===Tt(e,14)?"inline-":"")+"box$3$1"+dt+"$2$3$1"+ut+"$2box$3")+e;case 100:return xt(e,":",":"+ut)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return xt(e,"scroll-","scroll-snap-")+e}return e}function nr(e,t,r,n){if(e.length>-1&&!e.return)switch(e.type){case pt:return void(e.return=rr(e.value,e.length,r));case gt:return er([Ft(e,{value:xt(e.value,"@","@"+dt)})],n);case ht:if(e.length)return function(e,t){return e.map(t).join("")}(r=e.props,(function(t){switch(Et(t,n=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Ut(Ft(e,{props:[xt(t,/:(read-\w+)/,":"+ct+"$1")]})),Ut(Ft(e,{props:[t]})),_t(e,{props:It(r,n)});break;case"::placeholder":Ut(Ft(e,{props:[xt(t,/:(plac\w+)/,":"+dt+"input-$1")]})),Ut(Ft(e,{props:[xt(t,/:(plac\w+)/,":"+ct+"$1")]})),Ut(Ft(e,{props:[xt(t,/:(plac\w+)/,ut+"input-$1")]})),Ut(Ft(e,{props:[t]})),_t(e,{props:It(r,n)})}return""}))}}function ir(e){return qt(or("",null,null,null,[""],e=Zt(e),0,[0],e))}function or(e,t,r,n,i,o,a,s,l){for(var u=0,c=0,d=a,f=0,h=0,p=0,m=1,g=1,y=1,v=0,b="",_=i,w=o,E=n,x=b;g;)switch(p=v,v=Gt()){case 40:if(108!=p&&58==Tt(x,d-1)){-1!=St(x+=xt(Yt(v),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:x+=Yt(v);break;case 9:case 10:case 13:case 32:x+=Xt(p);break;case 92:x+=Kt(Vt()-1,7);continue;case 47:switch(zt()){case 42:case 47:Ct(sr($t(Gt(),Vt()),t,r,l),l);break;default:x+="/"}break;case 123*m:s[u++]=Mt(x)*y;case 125*m:case 59:case 0:switch(v){case 0:case 125:g=0;case 59+c:-1==y&&(x=xt(x,/\f/g,"")),h>0&&Mt(x)-d&&Ct(h>32?lr(x+";",n,r,d-1,l):lr(xt(x," ","")+";",n,r,d-2,l),l);break;case 59:x+=";";default:if(Ct(E=ar(x,t,r,u,c,i,s,b,_=[],w=[],d,o),o),123===v)if(0===c)or(x,t,E,E,_,o,d,s,w);else switch(99===f&&110===Tt(x,3)?100:f){case 100:case 108:case 109:case 115:or(e,E,E,n&&Ct(ar(e,E,E,0,0,i,s,b,i,_=[],d,w),w),i,w,d,s,n?_:w);break;default:or(x,E,E,E,[""],w,0,s,w)}}u=c=h=0,m=y=1,b=x="",d=a;break;case 58:d=1+Mt(x),h=p;default:if(m<1)if(123==v)--m;else if(125==v&&0==m++&&125==Bt())continue;switch(x+=bt(v),v*m){case 38:y=c>0?1:(x+="\f",-1);break;case 44:s[u++]=(Mt(x)-1)*y,y=1;break;case 64:45===zt()&&(x+=Yt(Gt())),f=zt(),c=d=Mt(b=x+=Jt(Vt())),v++;break;case 45:45===p&&2==Mt(x)&&(m=0)}}return o}function ar(e,t,r,n,i,o,a,s,l,u,c,d){for(var f=i-1,h=0===i?o:[""],p=Rt(h),m=0,g=0,y=0;m<n;++m)for(var v=0,b=At(e,f+1,f=vt(g=a[m])),_=e;v<p;++v)(_=wt(g>0?h[v]+" "+b:xt(b,/&\f/g,h[v])))&&(l[y++]=_);return Dt(e,t,r,0===i?ht:s,l,u,c,d)}function sr(e,t,r,n){return Dt(e,t,r,ft,bt(Nt),At(e,2,-2),0,n)}function lr(e,t,r,n,i){return Dt(e,t,r,pt,At(e,0,n),At(e,n+1,-1),n,i)}var ur={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},cr="undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",dr="undefined"!=typeof window&&"HTMLElement"in window,fr=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY)),hr=(new Set,Object.freeze([])),pr=Object.freeze({});function mr(e,t,r){return void 0===r&&(r=pr),e.theme!==r.theme&&e.theme||t||r.theme}var gr=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),yr=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,vr=/(^-|-$)/g;function br(e){return e.replace(yr,"-").replace(vr,"")}var _r=/(a)(d)/gi,wr=function(e){return String.fromCharCode(e+(e>25?39:97))};function Er(e){var t,r="";for(t=Math.abs(e);t>52;t=t/52|0)r=wr(t%52)+r;return(wr(t%52)+r).replace(_r,"$1-$2")}var xr,Sr=function(e,t){for(var r=t.length;r;)e=33*e^t.charCodeAt(--r);return e},Tr=function(e){return Sr(5381,e)};function Ar(e){return Er(Tr(e)>>>0)}function Mr(e){return"string"==typeof e&&!0}var Rr="function"==typeof Symbol&&Symbol.for,Cr=Rr?Symbol.for("react.memo"):60115,Ir=Rr?Symbol.for("react.forward_ref"):60112,kr={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Pr={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Or={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},jr=((xr={})[Ir]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},xr[Cr]=Or,xr);function Nr(e){return("type"in(t=e)&&t.type.$$typeof)===Cr?Or:"$$typeof"in e?jr[e.$$typeof]:kr;var t}var Lr=Object.defineProperty,Dr=Object.getOwnPropertyNames,Fr=Object.getOwnPropertySymbols,Ur=Object.getOwnPropertyDescriptor,Br=Object.getPrototypeOf,Gr=Object.prototype;function zr(e,t,r){if("string"!=typeof t){if(Gr){var n=Br(t);n&&n!==Gr&&zr(e,n,r)}var i=Dr(t);Fr&&(i=i.concat(Fr(t)));for(var o=Nr(e),a=Nr(t),s=0;s<i.length;++s){var l=i[s];if(!(l in Pr||r&&r[l]||a&&l in a||o&&l in o)){var u=Ur(t,l);try{Lr(e,l,u)}catch(e){}}}}return e}function Vr(e){return"function"==typeof e}function Hr(e){return"object"==typeof e&&"styledComponentId"in e}function Wr(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function Zr(e,t){if(0===e.length)return"";for(var r=e[0],n=1;n<e.length;n++)r+=t?t+e[n]:e[n];return r}function qr(e){return null!==e&&"object"==typeof e&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function Yr(e,t,r){if(void 0===r&&(r=!1),!r&&!qr(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var n=0;n<t.length;n++)e[n]=Yr(e[n],t[n]);else if(qr(t))for(var n in t)e[n]=Yr(e[n],t[n]);return e}function Xr(e,t){Object.defineProperty(e,"toString",{value:t})}function Kr(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var Qr=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return e.prototype.indexOfGroup=function(e){for(var t=0,r=0;r<e;r++)t+=this.groupSizes[r];return t},e.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var r=this.groupSizes,n=r.length,i=n;e>=i;)if((i<<=1)<0)throw Kr(16,"".concat(e));this.groupSizes=new Uint32Array(i),this.groupSizes.set(r),this.length=i;for(var o=n;o<i;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),s=(o=0,t.length);o<s;o++)this.tag.insertRule(a,t[o])&&(this.groupSizes[e]++,a++)},e.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],r=this.indexOfGroup(e),n=r+t;this.groupSizes[e]=0;for(var i=r;i<n;i++)this.tag.deleteRule(r)}},e.prototype.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var r=this.groupSizes[e],n=this.indexOfGroup(e),i=n+r,o=n;o<i;o++)t+="".concat(this.tag.getRule(o)).concat("/*!sc*/\n");return t},e}(),$r=new Map,Jr=new Map,en=1,tn=function(e){if($r.has(e))return $r.get(e);for(;Jr.has(en);)en++;var t=en++;return $r.set(e,t),Jr.set(t,e),t},rn=function(e,t){$r.set(e,t),Jr.set(t,e)},nn="style[".concat(cr,"][").concat("data-styled-version",'="').concat("6.0.8",'"]'),on=new RegExp("^".concat(cr,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),an=function(e,t,r){for(var n,i=r.split(","),o=0,a=i.length;o<a;o++)(n=i[o])&&e.registerName(t,n)},sn=function(e,t){for(var r,n=(null!==(r=t.textContent)&&void 0!==r?r:"").split("/*!sc*/\n"),i=[],o=0,a=n.length;o<a;o++){var s=n[o].trim();if(s){var l=s.match(on);if(l){var u=0|parseInt(l[1],10),c=l[2];0!==u&&(rn(c,u),an(e,c,l[3]),e.getTag().insertRules(u,i)),i.length=0}else i.push(s)}}};function ln(){return n.nc}var un=function(e){var t=document.head,r=e||t,n=document.createElement("style"),i=function(e){var t=Array.from(e.querySelectorAll("style[".concat(cr,"]")));return t[t.length-1]}(r),o=void 0!==i?i.nextSibling:null;n.setAttribute(cr,"active"),n.setAttribute("data-styled-version","6.0.8");var a=ln();return a&&n.setAttribute("nonce",a),r.insertBefore(n,o),n},cn=function(){function e(e){this.element=un(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,r=0,n=t.length;r<n;r++){var i=t[r];if(i.ownerNode===e)return i}throw Kr(17)}(this.element),this.length=0}return e.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},e.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},e.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},e}(),dn=function(){function e(e){this.element=un(e),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var r=document.createTextNode(t);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},e.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),fn=function(){function e(e){this.rules=[],this.length=0}return e.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},e.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},e.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),hn=dr,pn={isServer:!dr,useCSSOMInjection:!fr},mn=function(){function e(e,t,r){void 0===e&&(e=pr),void 0===t&&(t={});var n=this;this.options=ot(ot({},pn),e),this.gs=t,this.names=new Map(r),this.server=!!e.isServer,!this.server&&dr&&hn&&(hn=!1,function(e){for(var t=document.querySelectorAll(nn),r=0,n=t.length;r<n;r++){var i=t[r];i&&"active"!==i.getAttribute(cr)&&(sn(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this)),Xr(this,(function(){return function(e){for(var t=e.getTag(),r=t.length,n="",i=function(r){var i=function(e){return Jr.get(e)}(r);if(void 0===i)return"continue";var o=e.names.get(i),a=t.getGroup(r);if(void 0===o||0===a.length)return"continue";var s="".concat(cr,".g").concat(r,'[id="').concat(i,'"]'),l="";void 0!==o&&o.forEach((function(e){e.length>0&&(l+="".concat(e,","))})),n+="".concat(a).concat(s,'{content:"').concat(l,'"}').concat("/*!sc*/\n")},o=0;o<r;o++)i(o);return n}(n)}))}return e.registerId=function(e){return tn(e)},e.prototype.reconstructWithOptions=function(t,r){return void 0===r&&(r=!0),new e(ot(ot({},this.options),t),this.gs,r&&this.names||void 0)},e.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(e=function(e){var t=e.useCSSOMInjection,r=e.target;return e.isServer?new fn(r):t?new cn(r):new dn(r)}(this.options),new Qr(e)));var e},e.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},e.prototype.registerName=function(e,t){if(tn(e),this.names.has(e))this.names.get(e).add(t);else{var r=new Set;r.add(t),this.names.set(e,r)}},e.prototype.insertRules=function(e,t,r){this.registerName(e,t),this.getTag().insertRules(tn(e),r)},e.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},e.prototype.clearRules=function(e){this.getTag().clearGroup(tn(e)),this.clearNames(e)},e.prototype.clearTag=function(){this.tag=void 0},e}(),gn=/&/g,yn=/^\s*\/\/.*$/gm;function vn(e,t){return e.map((function(e){return"rule"===e.type&&(e.value="".concat(t," ").concat(e.value),e.value=e.value.replaceAll(",",",".concat(t," ")),e.props=e.props.map((function(e){return"".concat(t," ").concat(e)}))),Array.isArray(e.children)&&"@keyframes"!==e.type&&(e.children=vn(e.children,t)),e}))}function bn(e){var t,r,n,i=void 0===e?pr:e,o=i.options,a=void 0===o?pr:o,s=i.plugins,l=void 0===s?hr:s,u=function(e,n,i){return i===r||i.startsWith(r)&&i.endsWith(r)&&i.replaceAll(r,"").length>0?".".concat(t):e},c=l.slice();c.push((function(e){e.type===ht&&e.value.includes("&")&&(e.props[0]=e.props[0].replace(gn,r).replace(n,u))})),a.prefix&&c.push(nr),c.push(tr);var d=function(e,i,o,s){void 0===i&&(i=""),void 0===o&&(o=""),void 0===s&&(s="&"),t=s,r=i,n=new RegExp("\\".concat(r,"\\b"),"g");var l=e.replace(yn,""),u=ir(o||i?"".concat(o," ").concat(i," { ").concat(l," }"):l);a.namespace&&(u=vn(u,a.namespace));var d,f=[];return er(u,function(e){var t=Rt(e);return function(r,n,i,o){for(var a="",s=0;s<t;s++)a+=e[s](r,n,i,o)||"";return a}}(c.concat((d=function(e){return f.push(e)},function(e){e.root||(e=e.return)&&d(e)})))),f};return d.hash=l.length?l.reduce((function(e,t){return t.name||Kr(15),Sr(e,t.name)}),5381).toString():"",d}var _n=new mn,wn=bn(),En=r.createContext({shouldForwardProp:void 0,styleSheet:_n,stylis:wn}),xn=(En.Consumer,r.createContext(void 0));function Sn(){return(0,r.useContext)(En)}function Tn(e){var t=(0,r.useState)(e.stylisPlugins),n=t[0],i=t[1],o=Sn().styleSheet,a=(0,r.useMemo)((function(){var t=o;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target,o]),s=(0,r.useMemo)((function(){return bn({options:{namespace:e.namespace,prefix:e.enableVendorPrefixes},plugins:n})}),[e.enableVendorPrefixes,e.namespace,n]);(0,r.useEffect)((function(){lt()(n,e.stylisPlugins)||i(e.stylisPlugins)}),[e.stylisPlugins]);var l=(0,r.useMemo)((function(){return{shouldForwardProp:e.shouldForwardProp,styleSheet:a,stylis:s}}),[e.shouldForwardProp,a,s]);return r.createElement(En.Provider,{value:l},r.createElement(xn.Provider,{value:s},e.children))}var An=function(){function e(e,t){var r=this;this.inject=function(e,t){void 0===t&&(t=wn);var n=r.name+t.hash;e.hasNameForId(r.id,n)||e.insertRules(r.id,n,t(r.rules,n,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,Xr(this,(function(){throw Kr(12,String(r.name))}))}return e.prototype.getName=function(e){return void 0===e&&(e=wn),this.name+e.hash},e}(),Mn=function(e){return e>="A"&&e<="Z"};function Rn(e){for(var t="",r=0;r<e.length;r++){var n=e[r];if(1===r&&"-"===n&&"-"===e[0])return e;Mn(n)?t+="-"+n.toLowerCase():t+=n}return t.startsWith("ms-")?"-"+t:t}var Cn=function(e){return null==e||!1===e||""===e},In=function e(t){var r,n,i=[];for(var o in t){var a=t[o];t.hasOwnProperty(o)&&!Cn(a)&&(Array.isArray(a)&&a.isCss||Vr(a)?i.push("".concat(Rn(o),":"),a,";"):qr(a)?i.push.apply(i,at(at(["".concat(o," {")],e(a),!1),["}"],!1)):i.push("".concat(Rn(o),": ").concat((r=o,null==(n=a)||"boolean"==typeof n||""===n?"":"number"!=typeof n||0===n||r in ur||r.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return i};function kn(e,t,r,n){return Cn(e)?[]:Hr(e)?[".".concat(e.styledComponentId)]:Vr(e)?!Vr(i=e)||i.prototype&&i.prototype.isReactComponent||!t?[e]:kn(e(t),t,r,n):e instanceof An?r?(e.inject(r,n),[e.getName(n)]):[e]:qr(e)?In(e):Array.isArray(e)?Array.prototype.concat.apply(hr,e.map((function(e){return kn(e,t,r,n)}))):[e.toString()];var i}function Pn(e){for(var t=0;t<e.length;t+=1){var r=e[t];if(Vr(r)&&!Hr(r))return!1}return!0}var On=Tr("6.0.8"),jn=function(){function e(e,t,r){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===r||r.isStatic)&&Pn(e),this.componentId=t,this.baseHash=Sr(On,t),this.baseStyle=r,mn.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,r){var n=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))n=Wr(n,this.staticRulesId);else{var i=Zr(kn(this.rules,e,t,r)),o=Er(Sr(this.baseHash,i)>>>0);if(!t.hasNameForId(this.componentId,o)){var a=r(i,".".concat(o),void 0,this.componentId);t.insertRules(this.componentId,o,a)}n=Wr(n,o),this.staticRulesId=o}else{for(var s=Sr(this.baseHash,r.hash),l="",u=0;u<this.rules.length;u++){var c=this.rules[u];if("string"==typeof c)l+=c;else if(c){var d=Zr(kn(c,e,t,r));s=Sr(s,d+u),l+=d}}if(l){var f=Er(s>>>0);t.hasNameForId(this.componentId,f)||t.insertRules(this.componentId,f,r(l,".".concat(f),void 0,this.componentId)),n=Wr(n,f)}}return n},e}(),Nn=r.createContext(void 0);Nn.Consumer;var Ln={};new Set;function Dn(e,t,n){var i=Hr(e),o=e,a=!Mr(e),s=t.attrs,l=void 0===s?hr:s,u=t.componentId,c=void 0===u?function(e,t){var r="string"!=typeof e?"sc":br(e);Ln[r]=(Ln[r]||0)+1;var n="".concat(r,"-").concat(Ar("6.0.8"+r+Ln[r]));return t?"".concat(t,"-").concat(n):n}(t.displayName,t.parentComponentId):u,d=t.displayName,f=(void 0===d&&function(e){Mr(e)?"styled.".concat(e):"Styled(".concat(function(e){return e.displayName||e.name||"Component"}(e),")")}(e),t.displayName&&t.componentId?"".concat(br(t.displayName),"-").concat(t.componentId):t.componentId||c),h=i&&o.attrs?o.attrs.concat(l).filter(Boolean):l,p=t.shouldForwardProp;if(i&&o.shouldForwardProp){var m=o.shouldForwardProp;if(t.shouldForwardProp){var g=t.shouldForwardProp;p=function(e,t){return m(e,t)&&g(e,t)}}else p=m}var y=new jn(n,f,i?o.componentStyle:void 0);var v=r.forwardRef((function(e,t){return function(e,t,n){var i=e.attrs,o=e.componentStyle,a=e.defaultProps,s=e.foldedComponentIds,l=e.styledComponentId,u=e.target,c=r.useContext(Nn),d=Sn(),f=e.shouldForwardProp||d.shouldForwardProp,h=function(e,t,r){for(var n,i=ot(ot({},t),{className:void 0,theme:r}),o=0;o<e.length;o+=1){var a=Vr(n=e[o])?n(i):n;for(var s in a)i[s]="className"===s?Wr(i[s],a[s]):"style"===s?ot(ot({},i[s]),a[s]):a[s]}return t.className&&(i.className=Wr(i.className,t.className)),i}(i,t,mr(t,c,a)||pr),p=h.as||u,m={};for(var g in h)void 0===h[g]||"$"===g[0]||"as"===g||"theme"===g||("forwardedAs"===g?m.as=h.forwardedAs:f&&!f(g,p)||(m[g]=h[g]));var y=function(e,t){var r=Sn();return e.generateAndInjectStyles(t,r.styleSheet,r.stylis)}(o,h),v=Wr(s,l);return y&&(v+=" "+y),h.className&&(v+=" "+h.className),m[Mr(p)&&!gr.has(p)?"class":"className"]=v,m.ref=n,(0,r.createElement)(p,m)}(v,e,t)}));return v.attrs=h,v.componentStyle=y,v.shouldForwardProp=p,v.foldedComponentIds=i?Wr(o.foldedComponentIds,o.styledComponentId):"",v.styledComponentId=f,v.target=i?o.target:e,Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=i?function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var n=0,i=t;n<i.length;n++)Yr(e,i[n],!0);return e}({},o.defaultProps,e):e}}),Xr(v,(function(){return".".concat(v.styledComponentId)})),a&&zr(v,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),v}function Fn(e,t){for(var r=[e[0]],n=0,i=t.length;n<i;n+=1)r.push(t[n],e[n+1]);return r}var Un=function(e){return Object.assign(e,{isCss:!0})};function Bn(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(Vr(e)||qr(e))return Un(kn(Fn(hr,at([e],t,!0))));var n=e;return 0===t.length&&1===n.length&&"string"==typeof n[0]?kn(n):Un(kn(Fn(n,t)))}function Gn(e,t,r){if(void 0===r&&(r=pr),!t)throw Kr(1,t);var n=function(n){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];return e(t,r,Bn.apply(void 0,at([n],i,!1)))};return n.attrs=function(n){return Gn(e,t,ot(ot({},r),{attrs:Array.prototype.concat(r.attrs,n).filter(Boolean)}))},n.withConfig=function(n){return Gn(e,t,ot(ot({},r),n))},n}var zn=function(e){return Gn(Dn,e)},Vn=zn;gr.forEach((function(e){Vn[e]=zn(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=Pn(e),mn.registerId(this.componentId+1)}e.prototype.createStyles=function(e,t,r,n){var i=n(Zr(kn(this.rules,t,r,n)),""),o=this.componentId+e;r.insertRules(o,o,i)},e.prototype.removeStyles=function(e,t){t.clearRules(this.componentId+e)},e.prototype.renderStyles=function(e,t,r,n){e>2&&mn.registerId(this.componentId+e),this.removeStyles(e,r),this.createStyles(e,t,r,n)}}();(function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString(),r=ln(),n=Zr([r&&'nonce="'.concat(r,'"'),"".concat(cr,'="true"'),"".concat("data-styled-version",'="').concat("6.0.8",'"')].filter(Boolean)," ");return"<style ".concat(n,">").concat(t,"</style>")},this.getStyleTags=function(){if(e.sealed)throw Kr(2);return e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)throw Kr(2);var n=((t={})[cr]="",t["data-styled-version"]="6.0.8",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),i=ln();return i&&(n.nonce=i),[r.createElement("style",ot({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new mn({isServer:!0}),this.sealed=!1}e.prototype.collectStyles=function(e){if(this.sealed)throw Kr(2);return r.createElement(Tn,{sheet:this.instance},e)},e.prototype.interleaveWithNodeStream=function(e){throw Kr(3)}})(),"__sc-".concat(cr,"__");var Hn=JSON.parse('[{"id":"vector-struct","title":"VECTOR [\u200aStruct\u200a]","abbr":null,"date":"2022-2023","tags":["Fabrication","Typography"],"medium":["Wood","Elastic Fabric"],"animatedThumbnail":true,"enabled":true,"listed":true,"order":{"desktop":0,"mobile":0}},{"id":"vector-string","title":"VECTOR [\u200aString\u200a]","abbr":null,"date":"2022-2023","tags":["Fabrication","Typography"],"medium":["Vellum","Drawing","Elastic String"],"animatedThumbnail":true,"enabled":true,"listed":true,"order":{"desktop":1,"mobile":1}},{"id":"spin","title":"SPIN","abbr":null,"date":"2022-2023","tags":["Fabrication","Typography"],"medium":["Photography","3D printing","Stepper motor","Acetate"],"animatedThumbnail":false,"enabled":true,"listed":true,"order":{"desktop":2,"mobile":2}},{"id":"roll","title":"ROLL","abbr":null,"date":"2022","tags":["Typography"],"medium":["Toilet paper roll","Scanned photography"],"animatedThumbnail":false,"enabled":true,"listed":true,"order":{"desktop":3,"mobile":3}},{"id":"stroke","title":"STROKE","abbr":null,"date":"2022-2023","tags":["Fabrication","Typography"],"medium":["CNC","Brush","Parallel Pen","Marker","Pencil"],"animatedThumbnail":false,"enabled":true,"listed":true,"order":{"desktop":4,"mobile":4}},{"id":"memory-of-memories","title":"memory (\u200aof memories\u200a)","abbr":null,"date":"2022","tags":["Typography"],"medium":["Kettle-stitched Book","Acetate","Inkjet print"],"animatedThumbnail":false,"enabled":true,"listed":true,"order":{"desktop":5,"mobile":5}},{"id":"game-studies","title":"UofT GAME STUDIES","abbr":null,"date":"2023","tags":["Code","Branding"],"medium":["p5.js","Animation","Postcard","Poster"],"animatedThumbnail":true,"enabled":true,"listed":true,"order":{"desktop":6,"mobile":6}},{"id":"thrasher-reconstructed","title":"Thrasher: Reconstructed","abbr":"Thrasher: Recon.","date":"2019","tags":["Collage","Motion"],"medium":["Analog","Digital","Animation"],"animatedThumbnail":false,"enabled":true,"listed":true,"order":{"desktop":7,"mobile":7}},{"id":"vector-spin-stroke","title":"VECTOR, SPIN, STROKE","abbr":null,"date":"2023","tags":["Anthology"],"medium":["Exhibition","Assorted Tools"],"animatedThumbnail":false,"enabled":true,"listed":false,"order":{"desktop":null,"mobile":null}},{"id":"i-voted","title":"I Voted!","abbr":null,"date":"2019","tags":["Digital Asset"],"medium":["Instagram Sticker"],"animatedThumbnail":false,"enabled":true,"listed":true,"order":{"desktop":8,"mobile":8}},{"id":"dm2020","title":"Design ManifesTO 2020","abbr":null,"date":"2021","tags":["Editorial"],"medium":["Book","Collage"],"animatedThumbnail":false,"enabled":true,"listed":true,"order":{"desktop":9,"mobile":9}},{"id":"the-poor-image","title":"The Poor Image","abbr":null,"date":"2020","tags":["Web Design"],"medium":["Website"],"animatedThumbnail":false,"enabled":true,"listed":true,"order":{"desktop":10,"mobile":10}},{"id":"systemized-creativity","title":"Systemized Creativity","abbr":null,"date":"2019","tags":["Editorial"],"medium":["Analog","Pasteup","Book"],"animatedThumbnail":false,"enabled":true,"listed":true,"order":{"desktop":11,"mobile":11}},{"id":"architecture","title":"\u201cArchitecture\u201d","abbr":null,"date":"2019","tags":["Poster Design"],"medium":["Paste up","Gel medium","Duct tape"],"animatedThumbnail":false,"enabled":true,"listed":true,"order":{"desktop":12,"mobile":13}},{"id":"acogito","title":"ACOGITO","abbr":null,"date":"2022-2023","tags":["Speculative","Generative"],"medium":["Book","Acrylic","Poster","Vellum","Acetate Deck","p5.js"],"animatedThumbnail":true,"enabled":true,"listed":true,"order":{"desktop":13,"mobile":12}},{"id":"object-bulb","title":"Object - Bulb","abbr":null,"date":"2018","tags":["Form Studies"],"medium":["Cyanotype","Spray paint","Photography"],"animatedThumbnail":false,"enabled":true,"listed":true,"order":{"desktop":14,"mobile":14}}]'),Wn=function(e){return e.S="s",e.M="m",e.L="l",e.Xl="xl",e.Xxl="xxl",e}({}),Zn=function(e){return e.Mobile="mobile",e.Desktop="desktop",e}({}),qn=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Yn=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((function(e){return e})).join("/")};function Xn(e,t){return t?e?t:"":e||""}var Kn=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return(e-t)*((arguments.length>4&&void 0!==arguments[4]?arguments[4]:1)-n)/(r-t)+n},Qn=function(e,t){for(var r=[],n=0;n<e;n++)r.push(t(n));return r},$n=function(e,t){return Array(e).fill(t)},Jn=function(e){return Array.isArray(e)?e:[e]},ei=function(e,t){return e.sort((function(e,r){return t.indexOf(e)-t.indexOf(r)}))},ti=function(e,t){return ri(e).forEach((function(r){var n=e[r];t(r,n,e)})),e};function ri(e){return Object.keys(e)}var ni=function(e,t){var r={};return ri(e).forEach((function(n){var i=e[n];r[n]=t(n,i)})),r},ii=function(e,t){return t.y2>=e.y2&&t.y1<=e.y1?[t.topRight,e.topRight,e.botRight,t.botRight]:t.y2<=e.y2?[t.topRight,e.topRight,e.botLeft,t.botLeft]:[t.topLeft,e.topLeft,e.botRight,t.botRight]},oi=function(e){return e.filter((function(e){return e}))};var ai=function(e){return Hn.sort((function(t,r){var n,i;return(null!==(n=t.order[e])&&void 0!==n?n:1/0)-(null!==(i=r.order[e])&&void 0!==i?i:1/0)})).filter((function(e){return e.enabled}))},si=[["#ED1C24","#155FB3","white","black"]],li=ni({background:2,defaultText:1,defaultTextSelectColor:2,defaultTextSelectBg:1,popUpColor:0,autoPlayPopUpBg:2,loadingText:0,homeSketch:0,homeIcon:1,border:0,footer:1,activeElem:0,dashLine:0,toolTipColor:0,toolTipBg:2,workIndex:1,mediaPlayButton:0,strokePrimary:1,strokeSecondary:0,strokePanto:3,strokeCaption:0,strokeClear:1,vectorStringSketch:3},(function(e,t){return si[0][t]})),ui=n(763),ci=n.n(ui),di={s:414,m:768,l:1024,xl:1280,xxl:2560},fi=function(){function e(t){b(this,e),this.dvw=void 0,this.dvh=void 0,this.rem=void 0;var r,n,i,o=wi();"number"===typeof t?(this.dvw=0,this.dvh=0,this.rem=t/o):(this.dvw=null!==(r=t.vw)&&void 0!==r?r:0,this.dvh=null!==(n=t.vh)&&void 0!==n?n:0,this.rem=null!==(i=t.rem)&&void 0!==i?i:0)}return w(e,[{key:"add",value:function(e){return this.calcWithSize(e,(function(e,t){return e+t}))}},{key:"sub",value:function(e){return this.calcWithSize(e,(function(e,t){return e-t}))}},{key:"mult",value:function(e){return this.calcWithNum(e,(function(e,t){return e*t}))}},{key:"div",value:function(e){return this.calcWithNum(e,(function(e,t){return e/t}))}},{key:"calcWithSize",value:function(t,r){return new e({vw:r(this.dvw,t.dvw),vh:r(this.dvh,t.dvh),rem:r(this.rem,t.rem)})}},{key:"calcWithNum",value:function(t,r){return new e({vw:r(this.dvw,t),vh:r(this.dvh,t),rem:r(this.rem,t)})}},{key:"css",get:function(){var e=this,t=[mi.Dvw,mi.Dvh,mi.Rem],r=oi(t.map((function(t){return e.returnUnit(t)})));return"calc(".concat(r.join(" + "),")")}},{key:"value",get:function(){return ci().round(bi(this.dvw)+_i(this.dvh)+wi(this.rem),3)}},{key:"returnUnit",value:function(e){return Xn(this[e],this[e]+e)}}],[{key:"subFromFullWidth",value:function(t){return new e({vw:100}).sub(t)}},{key:"subFromFullHeight",value:function(t){return new e({vh:100}).sub(t)}}]),e}(),hi=fi,pi=function(){function e(t){var r;b(this,e),this.breakptSizes=void 0,this.lowerBreakpt=void 0,this.upperBreakpt=void 0,this.breakptSizes=Wn.Xxl in t?d(d({},t),{},{xxlSm:null!==(r=t.xxlSm)&&void 0!==r?r:t.xxl}):t;var n=g(ei(ri(ci().omit(this.breakptSizes,"xxlSm")),ri(Wn)),2),i=n[0],o=n[1];this.lowerBreakpt=i,this.upperBreakpt=o}return w(e,[{key:"getSlope",value:function(e,t){var r=t-1200*this.vh,n=(r-(e-620*this.vh))/(this.upperBreakptWidth-this.lowerBreakptWidth),i=r-n*this.upperBreakptWidth;return{vw:ci().round(100*n,3),rem:ci().round(i/wi(),3)}}},{key:"getSize",value:function(e){var t=e?wi():1,r=this.lowerSize*t,n=this.upperSize*t,i=this.getSlope(r,n),o=i.vw,a=i.rem;return new hi({vw:o,vh:100*this.vh,rem:ci().round(a,3)})}},{key:"lowerSize",get:function(){var e=this.breakptSizes[this.lowerBreakpt];if(!e)throw new Error("Breaktpoint (".concat(this.lowerBreakpt,"px) does not exist in setting."));return e}},{key:"upperSize",get:function(){var e=this.breakptSizes[this.upperBreakpt];if(!e)throw new Error("Breaktpoint (".concat(this.upperBreakpt,"px) does not exist in setting."));return e}},{key:"lowerBreakptWidth",get:function(){return di[this.lowerBreakpt]}},{key:"upperBreakptWidth",get:function(){return di[this.upperBreakpt]}},{key:"vh",get:function(){return Wn.Xxl in this.breakptSizes&&this.breakptSizes.xxl&&this.breakptSizes.xxlSm?(this.breakptSizes.xxl-this.breakptSizes.xxlSm)/400:0}}]),e}(),mi=function(e){return e.Vw="vw",e.Vh="vh",e.Dvw="dvw",e.Dvh="dvh",e.Px="px",e["%"]="%",e.Em="em",e.Rem="rem",e}({}),gi=function(e){return function(t){return"".concat(t).concat(e)}},yi=(gi(mi.Px),gi(mi.Vw),gi(mi.Vh),gi(mi.Dvw),gi(mi.Dvh),gi(mi["%"])),vi=gi(mi.Em),bi=(gi(mi.Rem),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return window.innerWidth/100*e}),_i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return window.innerHeight/100*e},wi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return parseFloat(getComputedStyle(document.documentElement).fontSize)*e},Ei=function(e){return yi(100*e)},xi=function(e){return new pi(e).getSize(!1)},Si=function(e){return new pi(e).getSize(!0)},Ti='"Recursive", "Helvetica Neue", sans-serif;',Ai='"Manifont Grotesk", "Helvetica Neue", sans-serif;',Mi=.525,Ri=375,Ci=450,Ii=575,ki=625,Pi={text:vi(1.3333),smallText:vi(1.4),popUp:vi(1.25)},Oi=1.03,ji=Si({l:1.3,xxl:2.875}),Ni=Si({s:1.75,l:4.5}),Li=Si({l:.85,xxl:1.7}),Di=Si({s:1.15,l:2.5}),Fi={desktop:{title:Si({l:1.6,xxl:2.3}),text:{mono:ji,sans:ji.mult(Oi)},footer:{link:Si({l:1.15,xxl:2})},smallText:Si({l:1,xxl:1.8}),autoPlay:{message:Si({l:1.5,xxl:2.75}),instrucution:Si({l:.8,xxl:1.35})},workIndex:{mono:Li,sans:Li.mult(Oi)},workPage:{details:Si({l:.7,xxl:1.25})},toolTip:{icon:Si({l:1.5,xxl:2.5}),popUp:Si({l:1,xxl:1.75})},workPageStroke:{caption:Si({l:.7,xxl:1.35})},contact:{copy:ji.mult(.8)}},mobile:{text:{mono:Ni,sans:Ni.mult(Oi)},smallText:Si({s:1.05,l:2.55}),nav:{mono:Di,sans:Di.mult(Oi)},menu:{item:Si({s:2.3,l:4.5})},main:{button:Si({s:1.075,l:2.5})},workIndex:{title:Si({s:.9,l:2.125}),tags:Si({s:.85,l:1.6})},home:{blocker:Si({s:1.25,l:2.25})},workPage:{title:Si({s:1.45,l:3}),details:Si({s:.85,l:1.75})},media:{loading:Si({s:1,l:2})}}},Ui=function(e){return ni(di,(function(t,r){return"only screen and (".concat(e,"-width: ").concat(r+("min"===e?1:0),"px)")}))},Bi=Ui("min"),Gi=Ui("max"),zi=Bi.l,Vi=Gi.l,Hi=function(e){return Math.round(window.screen.width*(e?window.devicePixelRatio:1))},Wi=function(e){var t,r,n=Hi(!0);if(n>=di.xxl)t=Wn.Xxl;else if(n<di.s)t=Wn.S;else{var i=(r=di,ri(r).map((function(e){return[e,r[e]]}))).sort((function(e,t){return e[1]-t[1]})),o=i.find((function(e){var t=g(e,2);t[0];return t[1]>=n}));t=o?o[0]:i[0][0]}return([Wn.Xl,Wn.Xxl].includes(t)&&e===Zn.Mobile||[Wn.S,Wn.M].includes(t)&&e===Zn.Desktop)&&(t=Wn.L),t},Zi=function(e){return Hi(e)<=di.l},qi=n(335),Yi=function(e){return e.draw="draw",e.windowResized="windowResized",e.mouseClicked="mouseClicked",e.doubleClicked="doubleClicked",e.mouseMoved="mouseMoved",e.mousePressed="mousePressed",e.mouseWheel="mouseWheel",e.mouseDragged="mouseDragged",e.mouseReleased="mouseReleased",e.keyPressed="keyPressed",e.keyReleased="keyReleased",e.keyTyped="keyTyped",e.touchStarted="touchStarted",e.touchMoved="touchMoved",e.touchEnded="touchEnded",e.deviceMoved="deviceMoved",e.deviceTurned="deviceTurned",e.deviceShaken="deviceShaken",e}({}),Xi=function(e){return[e.x,e.y]},Ki=function(e){var t=Zi(!1)?Zn.Mobile:Zn.Desktop;e.drawingContext.setLineDash($n(2,Bo[t].line.dash.value)),e.noFill(),e.stroke(li.dashLine),e.strokeWeight(Bo[t].line.weight.value)},Qi=function(e,t){e.push(),t(),e.pop()},$i=function(e){return e[e.Center=0]="Center",e[e.Corner=1]="Corner",e}({}),Ji=function(e){return e.x="x",e.y="y",e}(Ji||{}),eo=function(e){return e[e.Left=0]="Left",e[e.Center=1]="Center",e[e.Right=2]="Right",e}({}),to=function(e){return e[e.Top=0]="Top",e[e.Center=1]="Center",e[e.Bottom=2]="Bottom",e}({}),ro=function(e){return e.DrawLinks="drawLinks",e.DrawPoints="drawPoints",e.DrawVolume="drawVolume",e}({}),no=function(e){return e.Linear="linear",e.EaseInSine="easeInSine",e.EaseOutSine="easeOutSine",e.EaseInOutSine="easeInOutSine",e.EaseInQuad="easeInQuad",e.EaseOutQuad="easeOutQuad",e.EaseInOutQuad="easeInOutQuad",e.EaseInCubic="easeInCubic",e.EaseOutCubic="easeOutCubic",e.EaseInOutCubic="easeInOutCubic",e.EaseInQuart="easeInQuart",e.EaseOutQuart="easeOutQuart",e.EaseInOutQuart="easeInOutQuart",e.EaseInQuint="easeInQuint",e.EaseOutQuint="easeOutQuint",e.EaseInOutQuint="easeInOutQuint",e.EaseInExpo="easeInExpo",e.EaseOutExpo="easeOutExpo",e.EaseInOutExpo="easeInOutExpo",e.EaseInCirc="easeInCirc",e.EaseOutCirc="easeOutCirc",e.EaseInOutCirc="easeInOutCirc",e.EaseInBack="easeInBack",e.EaseOutBack="easeOutBack",e.EaseInOutBack="easeInOutBack",e.EaseInElastic="easeInElastic",e.EaseOutElastic="easeOutElastic",e.EaseInOutElastic="easeInOutElastic",e.EaseOutBounce="easeOutBounce",e.EaseInBounce="easeInBounce",e.EaseInOutBounce="easeInOutBounce",e}({}),io=" ",oo={x:0,y:0,w:void 0,scale:new hi(1),position:[eo.Center,to.Center],align:eo.Center,isMobile:!1,spaceWidth:new hi(25),tracking:new hi(3),leading:new hi(85),drawingSequence:[],maxStretch:4,glyphWeight:new hi(1),glyphColor:0,linkWeight:new hi(1),linkColor:0,pointWeight:new hi(1),pointSize:new hi(5),pointFill:0,pointColor:0,volumeWeight:new hi(1),volumeColor:0,correctVolumeStroke:!1,easing:no.Linear,noMap:!1,squareMap:!0,mapFunction:function(e,t){var r=this,n=function(){var e={x:0,y:0};return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?d(d({},e),{},{z:0}):e}(!1),i=t.sub("mouseOrigin"in this&&this.mouseOrigin?this.mouseOrigin:e),o={x:[0,bi()],y:[0,this.squareMap?bi():_i()]};return ti(Ji,(function(t){var a=i[t],s=g(o[t],2),l=s[0],u=s[1],c=qi[r.easing](Math.abs(a)/(u-l)),d="object"===typeof r.maxStretch?r.maxStretch[t]:r.maxStretch;n[t]=e[t]+Kn(c,0,1,0,d*r.scale.value)*Math.sign(a)})),n},mapMotionFunction:function(e,t,r,n,i,o,a){var s,l=this,u=e.x,c=e.y,d={x:u,y:(90-Math.abs(Math.abs(c%180)-90))*(c<0||c>180?-1:1)},f=Math.hypot(n.constraint.pointA.x-n.active.position.x,n.constraint.pointA.y-n.active.position.y),h=Kn(Math.min(f,5),5,0,0,.6),p=Kn(Math.min(null!==(s=r.mean)&&void 0!==s?s:0,10),0,10,0,.25);if(r.add(Math.max(Math.abs(t.x),Math.abs(t.y))),Object.assign(i.gravity,ni(d,(function(e,r){var i=r/90,a=qi[l.easing](Math.abs(i)),s=Kn(Math.abs(r),90,0)*t[e];return n.active.frictionAir=p+h+o,s*("y"===e?-1:1)*.675+a*Math.sign(i)*Bo.mobile.main.physics.gravity.value}))),null!==a&&void 0!==a&&a.enabled){var m=a.p5;m&&Qi(m,(function(){a.name}))}return n.active.position}},ao=[43,44],so=xi({l:30,xxl:40}),lo={l:.75,xxl:1.15},uo=ao.map((function(e){return xi(lo).mult(e).add(so)})),co=xi({l:8.125,xxl:24,xxlSm:19.5}),fo=xi({l:375,xxl:700}),ho=xi({l:20,xxl:40}),po=xi({l:30,xxl:60}),mo=xi({l:17.5,xxl:32}),go=xi({l:20,xxl:35}),yo=hi.subFromFullWidth(ho),vo=xi({l:10,xxl:20}),bo=xi({l:20,xxl:42.4,xxlSm:33.5}),_o=co.mult(2).add(uo[1]).sub(go),wo=bo.mult(2).add(Fi.desktop.footer.link).sub(go),Eo=xi({s:16,l:32}),xo=xi({s:1.15,l:2.8}),So=xi({s:25,l:100}),To=xi({s:35,l:105}),Ao=xi({s:32,l:80}),Mo=xi({s:5,l:12.5}),Ro=Fi.mobile.nav.mono,Co=Fi.mobile.nav.mono,Io=Ro.mult(2).add(Co),ko=xi({s:12,l:24}),Po=xi({s:56,l:120}),Oo=xi({s:28,l:28}),jo=So.add(Po).add(xo.mult(176)).add(Ao.mult(2)).add(To).add(Mo).add(Io).sub(xi({s:4,l:4})),No=xi({s:1.5,l:3.5}),Lo=Fi.mobile.main.button.mult(.5),Do=Fi.mobile.main.button.mult(1.2),Fo=No.mult(2).add(Lo.mult(2)).add(Do),Uo={desktop:{app:{width:yo},text:{innerMargin:xi({l:16,xxl:30})},sidebar:{width:fo,padding:{left:ho,right:po,vert:mo},border:xi({l:2,xxl:4}),borderHeights:{header:_o,main:hi.subFromFullHeight(_o).sub(wo).sub(go.mult(4)),footer:wo}},footer:{link:{padding:xi({l:4.5,xxl:8})},padding:{top:bo}},homeIcon:{width:uo[0],height:uo[1],padding:{vert:co,left:xi({l:30,xxl:40})}},mainContainer:{left:fo.add(ho),width:yo.sub(fo),margin:xi({l:25,xxl:50})},autoPlay:{width:xi({l:330,xxl:560}),border:xi({l:1,xxl:2}),borderRadius:xi({l:9,xxl:13})},workIndex:{thumbnail:{gap:xi({l:8,xxl:20})},innerMargin:xi({l:6.5,xxl:12.75,xxlSm:10.75})},workPage:{media:{gap:xi({l:15,xxl:22})},sidebar:{description:{maxWidth:fo.sub(po).sub(vo)},margin:{right:vo}}},workPageStroke:{button:{border:xi({l:2,xxl:4}),borderRadius:xi({l:6,xxl:9})}},media:{borderRadius:xi({l:3,xxl:4}),zoomPercentage:.95},toolTip:{border:xi({l:3,xxl:4}),bottom:Fi.desktop.footer.link.add(bo.mult(2)).add(mo),left:ho},contact:{qr:{top:xi({l:20,xxl:55,xxlSm:46.5}),size:xi({l:120,xxl:200})}}},mobile:{app:{top:Io.add(ko),margin:Eo,padding:{top:xi({s:8,l:40}),bottom:xi({s:28,l:56})},width:new hi({vw:100}).sub(Eo.mult(2))},header:{height:Io,link:{padding:Ro,height:Co}},main:{button:{top:jo,height:Do,padding:{vert:Lo},margin:{bottom:xi({s:28,l:40})},border:No,borderRadius:xi({s:6,l:12})},toolTip:{top:Fo}},home:{blocker:{border:xi({s:2.5,l:3.5}),top:jo.add(Fo).add(Oo)}},contact:{linkList:{padding:{top:xi({s:12,l:36})}}},menu:{innerMargin:xi({s:28,l:56})},workIndex:{thumbnail:{margin:xi({s:24,l:42}),width:xi({s:210,l:500})},tags:{padding:{top:xi({s:3.25,l:5.5})}},gap:xi({s:20,l:50})},workPage:{title:{margin:xi({s:12,l:28})},media:{gap:Eo.div(2)},details:{margin:xi({s:16,l:36})}},media:{zoomPercentage:.95}}},Bo={desktop:{vector:{xHeight:44},main:{centerPadding:xi({l:50,xxl:130}),anchor:{size:xi({l:37.5,xxl:50}),offset:xi({l:55,xxl:70})},scale:xi({l:1.5,xxl:2.75}),weight:{lower:xi({l:6,xxl:10}),glyph:xi({l:4,xxl:8}),link:xi({l:3,xxl:5})},pointSize:xi({l:8,xxl:18}),tracking:xi({l:4,xxl:4}),leading:xi({l:67.5,xxl:67.5})},cursor:xi({l:40,xxl:65}),line:{weight:xi({l:2,xxl:4}),dash:xi({l:5,xxl:8})},homeIcon:{height:xi(lo).mult(ao[1]).add(so),weight:xi({l:4,xxl:6}),scale:xi(lo)},workIndex:{listPadding:xi({l:6,xxl:8}),thumbnailPadding:xi({l:10,xxl:15})},string:{weight:{glyph:xi({l:2,xxl:3}),link:xi({l:2,xxl:3})},pointSize:xi({l:7,xxl:10})},panto:{hoverPadding:xi({l:15,xxl:20}),pointSize:xi({l:12,xxl:36}),lineWeight:xi({l:6,xxl:14}),brush:{primary:{max:xi({l:4,xxl:7}),min:xi({l:3,xxl:5})},secondary:{max:xi({l:10,xxl:28}),min:xi({l:4,xxl:8}),radius:xi({l:4,xxl:8})}}},toolTip:{padding:xi({l:2,xxl:3})},contactQr:{toolTipPadding:xi({l:2,xxl:3}),popUpPadding:xi({l:8,xxl:12.5})}},mobile:{main:{top:So,centerPadding:To,scale:xo,weight:{lower:Mo,glyph:xi({s:3,l:9}),link:xi({s:1.5,l:4.5})},pointSize:xi({s:7.75,l:20}),leading:Ao,tracking:{workIn:new hi(2.75),process:new hi(.75),lower:new hi(1.75)},spaceWidth:new hi(10),physics:{gravity:xi({s:5.75,l:12.5})}},line:{weight:xi({s:2,l:4.5}),dash:xi({s:5,l:10})},string:{weight:{glyph:xi({s:2,l:4.5}),link:xi({s:1.5,l:4})},pointSize:xi({s:6,l:15})},struct:{padding:xi({s:1.5,l:2.5})}}},Go=function(e,t,r){var n=e[t],i=e[r];return"".concat(n||i?n?"".concat(t,": ").concat(n):"".concat(r,": ").concat(i):"".concat(t,": 0"),";")},zo=function(e){return e=d({MONO:0,CASL:0,slnt:0,CRSV:.5},e),"font-variation-settings: ".concat(Object.entries(e).map((function(e){var t=g(e,2),r=t[0],n=t[1];return'"'.concat(r,'" ').concat(n)})).join(","),";")},Vo={recursiveCenterText:function(){return"\n  position: relative;\n  top: 0.125em;\n"},fixed:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"\n  position: fixed;\n  ".concat(Go(e,"top","bottom"),";\n  ").concat(Go(e,"left","right"),";\n")},fullscreen:function(){return"\n  width: 100dvw;\n  height: 100dvh;\n"},flex:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"initial",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"initial";return"\n  display: ".concat(Xn(arguments.length>2&&void 0!==arguments[2]&&arguments[2],"inline-"),"flex;\n  justify-content: ").concat(t,";\n  align-items: ").concat(e,";\n")},squared:function(e){return"\n  width: ".concat(e,";\n  height: ").concat(e,";\n")},mobileBody:function(){return"\n  width: ".concat(Uo.mobile.app.width.css,";\n  padding: 0 ").concat(Uo.mobile.app.margin.css,";\n")},innerMargin:function(e){return"\n  >:not(:first-child) {\n    margin-".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",": ").concat(e,";\n  }\n")},highZIndex:function(e){return"z-index: ".concat("9".repeat(e),";")},noSelect:function(){return"\n  user-select: none;\n  -webkit-user-select: none;\n"},fontVar:zo,slant:function(){return zo({slnt:-5,CRSV:1,MONO:Mi})},underline:function(e,t){return"\n  text-decoration: underline;\n  text-decoration-thickness: ".concat(null!==e&&void 0!==e?e:"inherit",";\n  @media ").concat(zi," {\n    text-underline-offset: ").concat(null!==t&&void 0!==t?t:vi(.125),";\n  }\n  text-underline-offset: ").concat(null!==t&&void 0!==t?t:vi(.2),";\n")},textMono:function(){return zo({MONO:Mi})},media:function(e){var t=e.$aspectRatio,r=e.$hasLoaded,n=e.$isZoomed;return"\n  ".concat(Xn(t,"aspect-ratio: ".concat(t,";")),"\n  background-color: ").concat(Xn(!r,n?"white":"rgb(240,240,240)"),";\n  border-radius: ").concat(Uo.desktop.media.borderRadius.css,";\n")},chain:function(){var e={},t="";return ti(ci().omit(Vo,"chain"),(function(r,n){e[r]=function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];t+=n.apply(void 0,r);return Object.assign((function(){return t}),this)}})),e}},Ho=Vo,Wo=n(854),Zo=Wo.domToReact,qo=(Wo.htmlToDOM,Wo.attributesToProps,Wo.Comment,Wo.Element,Wo.ProcessingInstruction,Wo.Text,Wo);function Yo(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}function Xo(e,t){if(null==e)return{};var r,n,i=Yo(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Ko,Qo,$o,Jo=JSON.parse('{"nv6nk":"U\u2009of\u2009T Spaces & Experiences","bcivo":"Bruce Mau Design","w3ejo":"Frontier","eyg6z":"Locomotive","p5lf0":"Public Address","fjd6v":"Aegis","mgzuz":"Concrete","zhsci":"Office/Bureau","kzltz":"Puncture","o3hdp":"Sid Lee","zw0kj":"Underline Studio","f1t3u":"Whitman Emorson","6al8a":"56","tydsr":"Equal Parts","uelaa":"Typotherapy","nl6js":"Sali Tabacchi","epzrm":"Vanderbrand","yv3cv":"Aftermodern","0g0hh":"Arc & Co.","x04fh":"Array of Stars","0vaee":"Public Office","glwag":"Strike","5vzlc":"Tux Creative House","ootr5":"A Plus Creative","qzn2l":"Article","xhbfq":"Blok Design","f1aj1":"Harley Oliver","0adnl":"Critical Mass","65pcj":"Helios Design Labs","fbqk5":"KerrSmith","lbni8":"Camp Jefferson","jtg7v":"Biography","5hksd":"One Method","7to8t":"PB+J","hwnhr":"Sovereign State","2l3oy":"Franklyn","k6m5q":"Ms. Stolinska and Mr. Balland","mbu3h":"The Bentway","m02f0":"Other Means","7kt5f":"Purple Sales Solutions","yo4kg":"Dental Corp","9frcl":"Vocabulary","4p6xy":"Readymag","0wfx0":"Taxi Studio","py7x8":"2x4","dgcrq":"8th Light","rg3ka":"Q30","dypdk":"Daily Dialogue","yr2cu":"Practice Better","yhrkb":"Knix","1qbga":"Survey Monkey"}'),ea=function(){var e=g(it(),1)[0],t=e.get("pid"),n=(0,r.useMemo)((function(){if(t)return Jo[t]}),[e]);return{portfolioData:n,pid:n?t:void 0}},ta=n(184),ra=["to","target","noQuery"],na=(0,r.forwardRef)((function(e,t){var r=e.to,n=e.target,i=e.noQuery,o=Xo(e,ra),a=r&&"string"===typeof r&&r.match(/^(https|www)/),s=ea().pid;return n||(n=a?"_blank":"_self"),r+="".concat(Xn(s&&!a&&!i,function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((function(e,t,r){var n=g(t,2),i=n[0],o=n[1];return e+(r?"&":""+"".concat(i,"=").concat(o))}),"?")}(["pid",s]))),(0,ta.jsx)(ia,d(d({},o),{},{ref:t,to:r,target:n,rel:"noreferrer"}))})),ia=Vn(tt)(Ko||(Ko=a(["\n  @media "," {\n    &:hover {\n      color:",";\n    }\n  }\n"])),zi,li.activeElem),oa=na,aa=Vn.p(Qo||(Qo=a(["\n  margin: 0;\n\n  @media "," {\n    font-size: ",";\n  }\n  @media "," {\n    font-size: ",";\n  }\n  font-weight: ",";\n  letter-spacing: -0.03em;\n  line-height: ",";\n\n  a {\n    ","\n  }\n\n  b {\n    font-size: ",";\n    @media "," {\n      font-size: ",";\n    }\n    letter-spacing: 0;\n  }\n\n  i {\n    ","\n    letter-spacing: -0.02em;\n  }\n"])),Vi,Fi.mobile.text.mono.css,zi,Fi.desktop.text.mono.css,Ri,Pi.text,Ho.underline(),Fi.mobile.text.sans.css,zi,Fi.desktop.text.sans.css,Ho.slant()),sa="\n  b {\n    font-size: inherit;\n    font-family: ".concat(Ti,";\n    font-weight: ").concat(ki,";\n  }\n"),la=Vn(aa)($o||($o=a(["\n  font-size: ",";\n  line-height: ",";\n\n  @media "," {\n    font-size: ",";\n    font-weight: normal;\n    ","\n  }\n\n  @media "," {\n    max-width: ",";\n    ","\n  }\n"])),Fi.desktop.smallText.css,Pi.smallText,Vi,Fi.mobile.smallText.css,sa,zi,Uo.desktop.workPage.sidebar.description.maxWidth.css,sa);function ua(e,t,r,n){return e.addEventListener(t,r,n),function(){return e.removeEventListener(t,r,n)}}var ca=function(e){e=e.replace(/\u2014/g,"\u202f\u2014\u202f");var t={trim:!0,replace:function(e){if("name"in e)return"attribs"in e&&"a"===e.name?(0,ta.jsx)(oa,{to:e.attribs.href,target:e.attribs.target,children:Zo(e.children,t)}):"p"===e.name&&"children"in e?(0,ta.jsx)(la,{children:Zo(e.children,t)}):void 0}};return qo(e,t)},da=function(){var e=document.body.style;return e.overflow="hidden",function(){e.overflow=""}},fa=function(){var e=["mousedown","pointerdown","pointerup","touchend"],t=g((0,r.useState)(),2),n=t[0],i=t[1],o=g((0,r.useState)(),2),a=o[0],s=o[1],l="probably"===document.createElement("video").canPlayType('video/webm; codecs="vp8, vorbis"');return(0,r.useEffect)((function(){var e=document.createElement("video");e.src="assets-local/autoplay-test/test.mp4",e.muted=!0,e.playsInline=!0,e.play().then((function(){return i(!0)})).catch((function(){return i(!1)}))}),[]),(0,r.useEffect)((function(){if(!1!==a&&s(n),!n){var t=e.map((function(e){return ua(document,e,(function(){return i(!0)}))})),r=ua(document,"keydown",(function(e){"Escape"!==e.key&&i(!0)}));return function(){t.forEach((function(e){return e()})),r()}}}),[n]),{canAutoPlay:n,defaultCanAutoPlay:a,canPlayWebm:l}};function ha(e){var t=r.useCallback((function(t){var r=window.matchMedia(e);return r.addEventListener("change",t),function(){r.removeEventListener("change",t)}}),[e]);return r.useSyncExternalStore(t,(function(){return window.matchMedia(e).matches}),(function(){throw Error("useMediaQuery is a client-only hook")}))}function pa(e){var t=g(r.useState(e),2),n=t[0],i=t[1],o=g(r.useState(null),2),a=o[0],s=o[1];return e!==n&&(s(n),i(e)),a}var ma=function(){return!ha(zi)},ga=function(e){return e.Work="work",e.Process="process",e.Contact="contact",e}({}),ya=function(e){return e.Work="WORK",e.Process="HOW I WORK",e.Contact="CONTACT",e}({}),va=function(e){return e.Fallback="fallback",e.Preview="preview",e.Full="full",e.Max="max",e}({}),ba=function(e){return e.DesktopFallback="desktopFallback",e.MobileFallback="mobileFallback",e}({}),_a=function(e){return e.Images="images",e.Videos="videos",e.ToolTips="toolTips",e.Poster="poster",e}({}),wa=function(e){return e.Image="image",e.Video="video",e}({}),Ea=function(e){return e.Webp="webp",e.Png="png",e.Gif="gif",e}({}),xa=function(e){return e.Webm="webm",e.Mp4="mp4",e}({}),Sa=function(e){return e[e.Quiet=0]="Quiet",e[e.Minimal=1]="Minimal",e[e.Normal=2]="Normal",e[e.Diagnostic=3]="Diagnostic",e}({}),Ta=[ba.MobileFallback,ba.DesktopFallback,Wn.S,Wn.M,Wn.L,Wn.Xl,Wn.Xxl,va.Max],Aa=new RegExp(".(".concat(Object.values(Ea).join("|"),")$"),"i"),Ma=new RegExp(".(".concat(Object.values(xa).join("|"),")$"),"i"),Ra=function(e){if(e.match(Aa)||e.match(/\*$/))return!0;if(e.match(Ma))return!1;throw new Error("".concat(e," is neither an image nor a video."))},Ca=function(e){return e.replace(Ma,"."+Ea.Webp)},Ia=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=ci().chain(ei(r,Ta));return e||(i=i.without(va.Max)),i.last().value()},ka=function(e,t){return Ia.apply(void 0,[t].concat(v(e.loadedSizes)))},Pa=function(){return Zi(!1)?ba.MobileFallback:ba.DesktopFallback},Oa=(0,r.createContext)({toolTipRef:void 0,popUpRef:void 0,pageId:""}),ja=function(e){var t=(0,r.useRef)(e&&"function"!==typeof e?e.current:null);return(0,r.useEffect)((function(){e&&("function"===typeof e?e(t.current):e.current=t.current)})),t},Na=["title","titleId"];function La(){return La=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},La.apply(this,arguments)}function Da(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Fa(e,t){var n=e.title,i=e.titleId,o=Da(e,Na);return r.createElement("svg",La({id:"b",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 129.6 129.6",ref:t,"aria-labelledby":i},o),n?r.createElement("title",{id:i},n):null,r.createElement("g",{id:"c"},r.createElement("path",{d:"m129.6,64.8c0,35.74-29.07,64.8-64.8,64.8S0,100.54,0,64.8,29.06,0,64.8,0s64.8,29.06,64.8,64.8Z",style:{strokeWidth:0,fill:"currentcolor"}}),r.createElement("path",{d:"m95.82,69.06l-22.52,13.01-22.53,13c-3.12,1.8-7.02-.45-7.02-4.05v-52.02c0-3.6,3.9-5.85,7.02-4.05l22.53,13,22.52,13.01c3.12,1.8,3.12,6.3,0,8.1Z",style:{fill:"#fff",strokeWidth:0}})))}var Ua,Ba,Ga,za,Va,Ha,Wa,Za,qa,Ya,Xa,Ka,Qa,$a,Ja=r.forwardRef(Fa),es=(n.p,function(e){var t=g((0,r.useState)(!1),2),n=t[0],i=t[1];return(0,r.useEffect)((function(){var t=e.current;if(t){var r=ci().noop;return!function(e){return"VIDEO"===e.tagName}(t)?t.complete?i(!0):r=ua(t,"load",(function(){return i(!0)})):r=ua(t,"playing",(function(){return i(!0)})),r}}),[]),n}),ts=function(e){return!(null===e||void 0===e||!e.current)},rs=function(e){return Error("".concat(null!==e&&void 0!==e?e:"Ref"," - current value is unexpectedly null or undefined."))},ns=function(e){return Error("".concat(e," - no stackData found."))},is=n(821),os=n.n(is),as=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;b(this,e),this.currentId=void 0,this.interval=void 0,this.capacity=void 0,this.queueList=void 0,this.initialQueueCount=void 0,this.currentId=void 0,this.interval=t,this.queueList=[],this.initialQueueCount=void 0,this.capacity=r}return w(e,[{key:"create",value:function(e){var t=this;this.queueList=oi(Jn(e)),this.initialQueueCount=this.queueList.length;var r=this.currentId=ci().uniqueId();return new Promise((function(e,n){for(var i=function i(){var o=t.queueList[0];if(o){t.queueList.shift();var a=o;"function"!==typeof a&&(a=a.run);var s=a();t.promisify(s).then((function(a){var s="object"===typeof o?o.callback:null;if(s&&s(a),r!==t.currentId||!t.initialQueueCount)return n("Queue has been aborted.");t.initialQueueCount--,t.queueList.length?void 0!==t.interval?setTimeout((function(){return i()}),t.interval):i():0!==t.initialQueueCount&&t.capacity&&1!==t.capacity||e()})).catch((function(e){return console.warn(e)}))}},o=0;o<t.capacity;o++)i()}))}},{key:"promisify",value:function(e){return Array.isArray(e)?Promise.all(e):Promise.resolve(e)}},{key:"abort",value:function(){this.currentId=void 0,this.initialQueueCount=void 0}},{key:"push",value:function(){var e;this.currentId&&this.initialQueueCount&&((e=this.queueList).push.apply(e,arguments),this.initialQueueCount+=arguments.length)}},{key:"pop",value:function(){this.currentId&&this.initialQueueCount&&(this.queueList.pop(),this.initialQueueCount--)}}]),e}(),ss=as,ls=function(e){return e.Play="play",e.Pause="pause",e}(ls||{}),us=function(){function e(t,r,n,i){b(this,e),this.playQueue=void 0,this.vidCommands=void 0,this.vidRef=void 0,this.dashPlayerRef=void 0,this.useDash=void 0,this.seeked=void 0,this.zoomedMediaShouldCatchup=void 0,this.playState=void 0,this.enabled=void 0,this.vidRef=t,this.dashPlayerRef=r,this.useDash=n,this.seeked=!1,this.zoomedMediaShouldCatchup=!1,this.playQueue=void 0,this.vidCommands=[],this.playState={current:ls.Pause,future:ls.Pause},this.enabled=i}return w(e,[{key:"onVidCanPlay",value:function(e){var t=this,r=function(r){t.useDash?ts(t.dashPlayerRef)&&t.dashPlayerRef.current[r?"on":"off"]("canPlay",e):ts(t.vidRef)&&t.vidRef.current[r?"addEventListener":"removeEventListener"]("canplay",e)};return r(!0),function(){return r(!1)}}},{key:"play",value:function(){this.toggle(ls.Play)}},{key:"pause",value:function(){this.toggle(ls.Pause),console.log("pause")}},{key:"catchup",value:function(e){e&&this.zoomedMediaShouldCatchup&&(this.useDash?this.dashCatchup(e):this.nativeCatchup(e))}},{key:"toggle",value:function(e){this.enabled&&(this.useDash?this.dashToggle(e):this.nativeToggle(e))}},{key:"dashToggle",value:function(e){ts(this.dashPlayerRef)&&this.dashPlayerRef.current[e]()}},{key:"nativeToggle",value:function(e){e===ls.Play?this.nativePlay():this.nativePause()}},{key:"nativePlay",value:function(){var e=this;this.playState.future!==ls.Play&&this.addToQueue(ls.Play,(function(){return e.vidRef.current.play().then((function(){return e.playState.current=ls.Play})).catch((function(e){return console.error(e)}))}))}},{key:"nativePause",value:function(){var e=this;this.playState.future!==ls.Pause&&this.addToQueue(ls.Pause,(function(){ts(e.vidRef)&&e.vidRef.current.pause(),e.playState.current=ls.Pause}))}},{key:"nativeCatchup",value:function(e){this.vidRef.current.currentTime=e,this.play()}},{key:"dashCatchup",value:function(e){var t=this;if(ts(this.dashPlayerRef)){var r=this.dashPlayerRef.current;r.on("playbackStarted",(function(){t.seeked||(t.seeked=!0,r.seek(e))}))}}},{key:"addToQueue",value:function(e,t){var r=this,n=new cs(e,(function(){r.vidCommands.shift(),t()}));this.parseNewCommand(n),this.setFuturePlayState(n.playState)}},{key:"parseNewCommand",value:function(e){var t=this;if(!this.playQueue){if(this.playState.current===e.playState)return;return this.playQueue=new ss,this.vidCommands=[e],this.playQueue.create([e]).then((function(){return t.playQueue=void 0})).catch((function(){return t.playQueue=void 0}))}if(!this.vidCommands.length)return this.vidCommands.push(e),void this.playQueue.push(e);this.vidCommands.pop(),this.playQueue.pop()}},{key:"setFuturePlayState",value:function(e){this.playState.future=e}}],[{key:"canUseDash",get:function(){return os().supportsMediaSource()}}]),e}(),cs=w((function e(t,r){b(this,e),this.playState=void 0,this.run=void 0,this.playState=t,this.run=r})),ds=us,fs=["src","alt","hasLoaded","aspectRatio","isZoomed"],hs=(0,r.forwardRef)((function(e,t){var r=e.src,n=e.alt,i=e.hasLoaded,o=e.aspectRatio,a=e.isZoomed,s=Xo(e,fs);return(0,ta.jsx)(ps,d({src:r,alt:n,ref:t,$hasLoaded:i,$aspectRatio:o,$isZoomed:a},s))})),ps=Vn.img(Ua||(Ua=a(["\n  ","\n"])),Ho.media),ms=hs,gs=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=(0,r.useRef)(e());return(0,r.useEffect)((function(){n.current=e()}),t),n},ys=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=oi(t),o=(0,r.useRef)(null);return(0,r.useEffect)((function(){i.forEach((function(e){return e.current=o.current}))}),[o]),o},vs=["src","alt","poster","loop","aspectRatio","autoPlay","currentTime","isZoomed","canAutoPlay","useNativeControl"],bs=(0,r.forwardRef)((function(e,t){var n=e.src,i=e.alt,o=e.poster,a=e.loop,s=void 0===a||a,l=e.aspectRatio,u=e.autoPlay,c=void 0===u||u,f=e.currentTime,h=e.isZoomed,p=e.canAutoPlay,m=e.useNativeControl,y=Xo(e,vs),v=Ae(),b=!!p||(null===v||void 0===v?void 0:v.canAutoPlay),_=ds.canUseDash,w=ma(),E=g((0,r.useState)(!1),2),x=E[0],S=E[1],T=!(null===v||void 0===v||!v.zoomMedia),A=pa(T),M=ja(t),R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.threshold,n=void 0===t?1:t,i=e.root,o=void 0===i?null:i,a=e.rootMargin,s=void 0===a?"0%":a,l=r.useRef(null),u=g(r.useState(null),2),c=u[0],d=u[1];return r.useEffect((function(){var e=null===l||void 0===l?void 0:l.current;if(e&&"function"===typeof IntersectionObserver){var t=new IntersectionObserver((function(e){var t=g(e,1)[0];d(t)}),{threshold:n,root:o,rootMargin:s});return t.observe(e),function(){d(null),t.disconnect()}}}),[n,o,s]),[l,c]}({threshold:0}),C=g(R,2),I=C[0],k=(C[1],ys(M,I)),P=(0,r.useRef)(null),O=(0,r.useRef)(!1),j=(0,r.useRef)(!1),N=function(){return!m&&b&&(!_||O.current)},L=gs((function(){if(!m&&ts(k))return new ds(k,P,_,N())}),[]);(0,r.useEffect)((function(){var e=N();ts(L)&&e&&(L.current.enabled=e,L.current.play())}),[b,O.current]),(0,r.useEffect)((function(){var e;return null===(e=L.current)||void 0===e?void 0:e.onVidCanPlay((function(){return S(!0)}))}),[L,P.current]);(0,r.useEffect)((function(){h||function(e){if(ts(L)){"boolean"===typeof e&&console.log(e,n);var t=L.current;e?t.play():!1===e&&t.pause()}}((!T||!1!==A)&&(!(T||!A)||void 0))}),[T]);var D=function(){h&&!w&&ts(L)&&L.current.catchup(f)};return(0,r.useEffect)((function(){if(n&&ts(k))return _?function(){var e=P.current=os().MediaPlayer().create();e.initialize(k.current,n,!!h||b),O.current=!0;var t=function(){var t=k.current.getBoundingClientRect().width,r=e.getBitrateInfoListFor("video"),i=ci().uniq(r.map((function(e){return e.width}))).sort((function(e,t){return e-t})),o=i.find((function(e){return e>=t}));if(o){var a=ci().maxBy(r.filter((function(e){return e.width===o})),(function(e){return e.bitrate}));a&&e.updateSettings({streaming:{abr:{maxBitrate:{audio:-1,video:a.bitrate/1e3}}},debug:{logLevel:null!==n&&void 0!==n&&n.match("vector-struct")?5:3}})}};D(),null!==n&&void 0!==n&&n.match("vector-struct")&&(e.on("playbackPaused",(function(e){return console.log("paused",n,e)})),e.on("playbackSeeking",(function(e){return console.log("seeked",n,e)})),e.on("bufferStalled",(function(e){return console.log("stalled",n,e)})),e.on("playbackError",(function(e){return console.log("error",n,e)})),e.on("playbackEnded",(function(e){return console.log("ended",n,e)})),e.on("fragmentLoadingAbandoned",(function(e){return console.log("frag abandoned",n,e)})),e.on("fragmentLoadingStarted",(function(e){return console.log("frag started",n,e)})),e.on("metricUpdated",(function(e){return console.debug("metric updated",n,e)})),e.on("metricChanged",(function(e){return console.debug("metric changed",n,e)})),e.on("qualityChangeRequested",(function(e){return console.log("quality changed",n,e)})),e.on("periodSwitchCompleted",(function(e){return console.log("period swtich",n,e)})),e.on("periodSwitchStarted",(function(e){return console.log("period started",n,e)})),e.on("playbackTimeUpdated",(function(e){return console.debug("time updated",n,e)})),e.on("dynamicToStatic",(function(e){return console.log("changed",n,e)})),e.on("playbackWaiting",(function(e){return console.log("waiting",n,e)})),e.on("representationSwitch",(function(e){return console.log("switch",n,e)})),e.on("streamDeactivated",(function(e){return console.log("deactivated",n,e)})),e.on("trackChangeRendered",(function(e){return console.log("track",n,e)})),console.log(m&&!1!==p&&c,s)),e.on("streamInitialized",t),e.on("playbackStarted",(function(){return e.setAutoPlay(!0)}));var r=ua(window,"resize",t);return function(){e.destroy(),O.current=!1,j.current=!1,r()}}():void D()}),[]),(0,ta.jsx)(_s,d(d({muted:!0,playsInline:!0,preload:"metadata",src:_?void 0:n,loop:s,ref:k,poster:o,$hasLoaded:!!o||x,$aspectRatio:l,$isZoomed:h,autoPlay:m&&!1!==p&&c},y),{},{children:i}))})),_s=Vn.video(Ba||(Ba=a(["\n  ","\n"])),Ho.media),ws=bs,Es=(0,r.forwardRef)((function(e,t){return e.type===wa.Image?(0,ta.jsx)(ms,d(d({},ci().omit(e,"type","poster","posterFallback","canAutoPlay","currentTime")),{},{ref:t})):(0,ta.jsx)(ws,d(d({},ci().omit(e,"type","hasLoaded")),{},{ref:t}))})),xs=["stackData","isZoomed"],Ss=(0,r.forwardRef)((function(e,t){var n=e.stackData,i=e.isZoomed,o=Xo(e,xs),a=n.stack,s=a.posters,l=!ma(),u=o.type===wa.Video,c=ds.canUseDash,f=function(){return ka(a,i)},h=function(){var e;if(c&&u&&a.dashPath)return a.dashPath;var t=u?i&&l?va.Max:Wi(a.device):null!==(e=f())&&void 0!==e?e:Pa();return a.stack[t].src},p=function(){var e;if(s){var t=null!==(e=ka(s,i))&&void 0!==e?e:Pa();return s.stack[t].src}},m=g((0,r.useState)(h()),2),y=m[0],v=m[1],b=g((0,r.useState)(p()),2),_=b[0],w=b[1],E=g(a.nativeDimension,2),x=E[0],S=E[1];return(0,r.useEffect)(a.addLoadListener((function(){u?w(p()):v(h())})),[a]),(0,ta.jsx)(Es,d(d({},o),{},{src:y,poster:_,hasLoaded:!!f(),aspectRatio:x/S,isZoomed:i,ref:t}))})),Ts=Vn.div(Ga||(Ga=a(["\n  ","\n  position: absolute;\n  width: 100%;\n  font-size: ",";\n  letter-spacing: -0.015em;\n\n  p {\n    background-color: ",";\n    padding: 0.2em 1.25em;\n    color: ",";\n  }\n"])),Ho.flex("center","center"),Fi.mobile.media.loading.css,li.background,li.loadingText),As=function(e){var t=e.className;return(0,ta.jsx)(Ts,{className:t,children:(0,ta.jsx)("p",{children:"loading..."})})},Ms=["maxSize","width","isToolTip"],Rs=(0,r.forwardRef)((function(e,t){var n=Ae(),i=n.handleZoomMedia,o=n.zoomMedia,a=n.canAutoPlay,s=n.defaultCanAutoPlay,l=n.preloadManager,u=e.src,c=e.maxSize,f=e.width,h=e.isToolTip,p=Xo(e,Ms),m=ma(),y=m&&!s,v=g((0,r.useState)(!y),2),b=v[0],_=v[1],w=(0,r.useContext)(Oa).pageId,E=ja(t),x=es(E);(0,r.useEffect)((function(){b||_(!y)}),[m,s]),u=h?Yn(_a.ToolTips,u):u;var S=l.findWorkMedia(w,u);if(!S)throw ns("ZoomMedia");return(0,ta.jsxs)(Cs,{$width:f,children:[(0,ta.jsx)(Ss,d(d(d({},p),p.type!==wa.Video?{}:{canAutoPlay:(y?b:!1!==l.imgPreloaded)&&(!m||!o)}),{},{stackData:S,ref:E,isZoomed:!1,onClick:function(){if(!b&&void 0!==s&&p.type===wa.Video)return _(!0);ka(S.stack)!==Pa()&&i(d(d({},e),{},{stackData:S,getCurrentTime:function(){var e;return null!==(e="current"in E&&E.current&&"currentTime"in E.current?E.current.currentTime:void 0)&&void 0!==e?e:0},maxSize:"number"===typeof c?Ei(c):c}))}})),m&&!1===a&&p.type===wa.Video&&(b?!x&&(0,ta.jsx)(As,{}):(0,ta.jsx)("div",{children:(0,ta.jsx)(Ja,{})}))]})})),Cs=Vn.div(za||(za=a(["\n  ","\n  width: 100%;\n\n  img, video {\n    cursor: zoom-in;\n    object-fit: cover;\n    width: ",";\n\n    @media "," {\n      padding-bottom: 2vw;\n    }\n  }\n\n  > div {\n    ","\n    width: ",";\n    position: absolute;\n    pointer-events: none;\n\n    svg {\n      color: rgba(0, 0, 0, 0.65);\n      width: 13.5%;\n    }\n  }\n"])),Ho.flex("center","center"),(function(e){var t=e.$width;return null!==t&&void 0!==t?t:yi(100)}),Vi,Ho.flex("center","center"),(function(e){var t=e.$width;return null!==t&&void 0!==t?t:yi(100)})),Is=Rs,ks=(0,r.forwardRef)((function(e,t){return(0,ta.jsx)(Is,d(d({},e),{},{ref:t,type:wa.Image}))})),Ps=(0,r.forwardRef)((function(e,t){return(0,ta.jsx)(Is,d(d({},e),{},{ref:t,type:wa.Video}))})),Os=n(21),js=n.n(Os),Ns=function(){function e(t){var r,n=t.x,i=void 0===n?0:n,o=t.y,a=void 0===o?0:o,s=t.w,l=void 0===s?0:s,u=t.h,c=void 0===u?0:u,d=t.padding,f=void 0===d?[0,0]:d;b(this,e),this._x=void 0,this._y=void 0,this._w=void 0,this._h=void 0,this.padding=void 0;var h=Jn(f);this._x=i,this._y=a,this._w=l,this._h=c,this.padding={x:h[0],y:null!==(r=h[1])&&void 0!==r?r:h[0]}}return w(e,[{key:"rectAround",value:function(e){var t=this;Qi(e,(function(){Ki(e),e.rectMode(e.CORNERS),e.rect.apply(e,v(t.sides))}))}},{key:"mouseIsOver",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=g(1===t.length?t[0]:t,2),i=n[0],o=n[1],a=g(this.sides,4),s=a[0],l=a[1],u=a[2],c=a[3];return i>=s&&i<=u&&o>=l&&o<=c}},{key:"toScreenCoors",value:function(){var e=g(this._parseCoors.apply(this,arguments),2),t=e[0],r=e[1];return[t+this.x1,r+this.y1]}},{key:"toRectCoors",value:function(){var e=g(this._parseCoors.apply(this,arguments),2),t=e[0],r=e[1];return[t-this.x1,r-this.y1]}},{key:"_parseCoors",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return 1===t.length?[t[0].x,t[0].y]:t}},{key:"x",get:function(){return this._x-this.padding.x}},{key:"y",get:function(){return this._y-this.padding.y}},{key:"w",get:function(){return this._w+2*this.padding.x}},{key:"h",get:function(){return this._h+2*this.padding.y}},{key:"x1",get:function(){return this.x}},{key:"y1",get:function(){return this.y}},{key:"x2",get:function(){return this.x1+this.w}},{key:"y2",get:function(){return this.y1+this.h}},{key:"cx",get:function(){return(this.x1+this.x2)/2}},{key:"cy",get:function(){return(this.y1+this.y2)/2}},{key:"topLeft",get:function(){return[this.x1,this.y1]}},{key:"topRight",get:function(){return[this.x2,this.y1]}},{key:"botLeft",get:function(){return[this.x1,this.y2]}},{key:"botRight",get:function(){return[this.x2,this.y2]}},{key:"sides",get:function(){return[this.x1,this.y1,this.x2,this.y2]}},{key:"size",get:function(){return[this.w,this.h]}},{key:"center",get:function(){return[this.cx,this.cy]}},{key:"corners",get:function(){return[this.topLeft,this.topRight,this.botRight,this.botLeft]}}]),e}(),Ls=function(e){x(r,e);var t=M(r);function r(e,n,i){var o;return b(this,r),(o=t.call(this,{padding:n})).ref=void 0,o.isRelative=void 0,o.ref=e,o.isRelative=i,o}return w(r,[{key:"elem",get:function(){return this.ref.current}},{key:"elemBounds",get:function(){return this.elem?this.elem.getBoundingClientRect():void 0}},{key:"x",get:function(){return this.elemBounds?(this.isRelative?0:this.elemBounds.x)-this.padding.x:NaN}},{key:"y",get:function(){return this.elemBounds?(this.isRelative?0:this.elemBounds.y)-this.padding.y:NaN}},{key:"w",get:function(){return this.elemBounds?this.elemBounds.width+2*this.padding.x:NaN}},{key:"h",get:function(){return this.elemBounds?this.elemBounds.height+2*this.padding.y:NaN}}],[{key:"createUpdated",value:function(e,t,n,i){if(ts(t))return e&&e.ref.current===t.current?e:new r(t,n,i)}}]),r}(Ns),Ds=Ls,Fs=Vn.div(Va||(Va=a(["\n  position: relative;\n"]))),Us=vi(1.35),Bs=Vn.div(Ha||(Ha=a(["\n  position: absolute;\n  left: calc("," * -1 - "," / 2);\n  background-color: ",";\n  font-size: ",";\n\n  ","\n\n  border-radius: 1px;\n  outline: "," solid currentColor;\n\n  ","\n"])),Uo.desktop.mainContainer.margin.css,Us,li.toolTipBg,Fi.desktop.toolTip.icon.css,Ho.chain().squared(Us).noSelect().fontVar({MONO:1}).flex("center","center"),Uo.desktop.toolTip.border.css,(function(e){return Xn(e.$isHighlighted,"\n    color:".concat(li.activeElem,";\n    outline: none;\n  "))})),Gs=Vn.div(Wa||(Wa=a(["\n  width: ",";\n  padding: 0.8em;\n\n  color: ",";\n  background-color: ",";\n\n  font-size: ",";\n  font-weight: ",";\n  letter-spacing: -0.012em;\n  word-spacing: -0.0225em;\n\n  ","\n\n  p > b {\n    font-family: inherit;\n  }\n\n  img {\n    width: 100%;\n  }\n\n  ::selection {\n    background-color: ",";\n  }\n\n  a {\n    ","\n  }\n"])),Uo.desktop.workPage.sidebar.description.maxWidth.mult(.85).css,li.toolTipColor,li.toolTipBg,Fi.desktop.toolTip.popUp.css,Ri,Ho.chain().fixed({left:Uo.desktop.toolTip.left.css,bottom:Uo.desktop.toolTip.bottom.css}).slant().innerMargin(Uo.desktop.text.innerMargin.css),li.activeElem,Ho.underline()),zs=function(e){var t=e.children,n=g((0,r.useState)(!1),2),i=n[0],o=n[1],a=(0,r.useContext)(Oa),s=a.toolTipRef,l=a.popUpRef,u=Ae(),c=u.zoomMedia,d=u.canvasStates.mousePositionRef;return(0,r.useEffect)((function(){if(i){var e=function(){if(ts(s)&&ts(l)){var e=new Ds(s,Bo.desktop.toolTip.padding.value),t=new Ds(l);if(!ts(d))return;var r=d.current;if(e.mouseIsOver(r)||t.mouseIsOver(r)||c)return;var n=ii(e,t);if(js()(d.current,n))return;o(!1)}s&&(s.current=null)},t=ua(document,"mousemove",e),r=ua(document,"scroll",e);return function(){t(),r()}}}),[i,c]),(0,ta.jsxs)(Fs,{children:[(0,ta.jsx)(Bs,{onMouseOver:function(e){var t=e.currentTarget;s&&(s.current=t),o(!0)},$isHighlighted:i,children:(0,ta.jsx)("p",{children:"i"})}),i&&(0,ta.jsx)(Gs,{ref:l,children:"string"===typeof t?(0,ta.jsx)("p",{children:t}):t})]})},Vs=(0,r.forwardRef)((function(e,t){var r=e.className,n=e.cols,i=e.children,o=e.toolTip,a=Jn(i).flat().length;return(0,ta.jsxs)(Hs,{className:r,ref:t,children:[o&&(0,ta.jsx)(zs,{children:o}),(0,ta.jsx)(qs,{$cols:null!==n&&void 0!==n?n:Array(a).fill(1),children:i})]})})),Hs=Vn.div(Za||(Za=a(["\n  ",";\n"])),Ho.flex("center","center")),Ws=function(e){return function(t){var r=t.$cols;return Xn(r,r.map((function(t,n){return"\n    >:nth-child(".concat(n+1,"){\n      width: calc((100% - ").concat(Uo[e].workPage.media.gap.css," * ").concat(r.length-1,") * ").concat(t/ci().sum(r),");\n    }\n  ")})).join(""))}},Zs=function(e){return Ho.innerMargin(Uo[e].workPage.media.gap.css,"left")},qs=Vn.div(qa||(qa=a(["\n  display: flex;\n  height: 100%;\n\n  @media "," {\n    width: 100%;\n    ","\n    ","\n  }\n\n  @media "," {\n    width: 96%;\n    ","\n    ","\n  }\n\n  img, video {\n    height: 100%;\n  }\n"])),zi,Ws(Zn.Desktop),Zs(Zn.Desktop),Vi,Ws(Zn.Mobile),Zs(Zn.Mobile)),Ys=Vs,Xs=Vn.div(Ya||(Ya=a(["\n  ","\n\n  &>:last-child {\n    padding-bottom: ",";\n  }\n\n  @media "," {\n    ","\n    padding-top: ",";\n    &>:last-child {\n      padding-bottom: ",";\n    }\n  }\n"])),Ho.chain().textMono().innerMargin(Uo.desktop.text.innerMargin.css),Uo.desktop.sidebar.padding.vert.css,Vi,Ho.mobileBody(),Uo.mobile.app.padding.top.css,Uo.mobile.app.padding.bottom.css),Ks=function(e){var t=e.WorkInfo;return(0,ta.jsxs)(ta.Fragment,{children:[(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"1.webp"})}),(0,ta.jsx)(t,{}),(0,ta.jsx)(Xs,{children:(0,ta.jsxs)(la,{children:["A speculative design project about a new drug in a hypothetical future. Via its effects and the assistance of machines and fungi, human users\u2019 consciousness dissolves to form a ",(0,ta.jsx)(oa,{to:"https://en.wikipedia.org/wiki/Mycelium",children:"mycelium-like"}),", distributed network, wherein they act as individual hypha \u2014 meat-based AIs \u2014 to lend their computational power to nature symbiotically. As such, the speculative concepts surrounding this drug seek to offer us narratives to provide thoughtful critiques about our current conditions."]})}),(0,ta.jsxs)(Ys,{cols:[2,3],children:[(0,ta.jsx)(ks,{src:"2.webp"}),(0,ta.jsx)(ks,{src:"3.webp"})]}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"4.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(Ps,{src:"1.mp4"})}),(0,ta.jsx)(Xs,{children:(0,ta.jsx)(la,{children:"A three-layer translucent diagram of the layers within the Neurelium structures: centralized, distributed, and individual."})}),(0,ta.jsxs)(Ys,{cols:[1,2],children:[(0,ta.jsx)(ks,{src:"5.webp"}),(0,ta.jsx)(ks,{src:"6.webp"})]}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"7.webp"})}),(0,ta.jsxs)(Ys,{children:[(0,ta.jsx)(ks,{src:"8.webp"}),(0,ta.jsx)(ks,{src:"9.webp"})]}),(0,ta.jsx)(Xs,{children:(0,ta.jsx)(la,{children:"A draft of an illustrated proposal for the network chronicled by its hypothetical lead researcher. It delineates the historical development of Acogito from a first-person perspective."})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"10.webp"})}),(0,ta.jsxs)(Ys,{children:[(0,ta.jsx)(ks,{src:"11.webp"}),(0,ta.jsx)(ks,{src:"12.webp"})]}),(0,ta.jsxs)(Ys,{children:[(0,ta.jsx)(ks,{src:"13.webp"}),(0,ta.jsx)(ks,{src:"14.webp"})]}),(0,ta.jsx)(Xs,{children:(0,ta.jsx)(la,{children:"Four networked information structures: Neurons, mycelium, and internet\u2014the three of which synthesized to create the fourth, the Neurelium structure, in a human-fungus-machine synthesis."})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"15.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(Ps,{src:"2.mp4"})}),(0,ta.jsxs)(Ys,{children:[(0,ta.jsx)(ks,{src:"16.webp"}),(0,ta.jsx)(ks,{src:"17.webp"})]}),(0,ta.jsxs)(Ys,{children:[(0,ta.jsx)(ks,{src:"18.webp"}),(0,ta.jsx)(ks,{src:"19.webp"})]}),(0,ta.jsxs)(Ys,{children:[(0,ta.jsx)(ks,{src:"20.webp"}),(0,ta.jsx)(ks,{src:"21.webp"})]}),(0,ta.jsxs)(Ys,{children:[(0,ta.jsx)(ks,{src:"22.webp"}),(0,ta.jsx)(ks,{src:"23.webp"})]}),(0,ta.jsx)(Xs,{children:(0,ta.jsxs)(la,{children:["Alongside other graphics of network structures in this project, this deck of transparencies is the generative output of my program in p5.js. The logic is borrowed from ",(0,ta.jsx)(oa,{to:"https://ciphrd.com/2021/03/17/pattern-formation-using-dividing-aggregating-walkers/",children:"Ciphrd\u2019s dividing-aggregating walkers"}),"\u2014the appearance of which heavily resembles mycelial structures."]})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"24.webp"})}),(0,ta.jsx)(Xs,{children:(0,ta.jsx)(la,{children:'An early 24" x 48" poster diagram that illustrates how individual users are attached to the Neurelium system.'})})]})},Qs=function(e){var t=e.WorkInfo,r=e.Description;return(0,ta.jsxs)(ta.Fragment,{children:[(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"1.webp"})}),(0,ta.jsx)(t,{}),(0,ta.jsx)(r,{}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"2.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"3.webp"})})]})},$s=function(e){var t=e.WorkInfo,r=e.Description;return(0,ta.jsxs)(ta.Fragment,{children:[(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"1.webp"})}),(0,ta.jsx)(t,{}),(0,ta.jsx)(r,{}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"2.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"3.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"4.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"5.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"6.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"7.webp"})})]})},Js=function(e){var t=e.WorkInfo,r=e.Description;return(0,ta.jsxs)(ta.Fragment,{children:[(0,ta.jsx)(Ys,{children:(0,ta.jsx)(Ps,{src:"1.mp4"})}),(0,ta.jsx)(t,{}),(0,ta.jsx)(r,{}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"1.webp"})}),(0,ta.jsx)(Xs,{children:(0,ta.jsx)(la,{children:"In ASCII fashion, these icons are mapped onto the image based on the brightness of the pixel."})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"2.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"3.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"4.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"5.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"6.webp"})})]})},el=function(e){var t=e.grid,n=e.toolTip,i=e.prefix,o=e.props,a=g(t,2),s=a[0],l=a[1];return Qn(l,(function(e){return(0,ta.jsx)(Ys,{toolTip:!e&&n,children:Qn(s,(function(t){return(0,r.createElement)(ks,d(d({src:Yn(i,"".concat(e*s+t+1,".webp"))},o),{},{key:t}))}))},e)}))},tl=function(e){var t=e.WorkInfo,r=e.Description;return(0,ta.jsxs)(ta.Fragment,{children:[(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"1.webp"})}),(0,ta.jsx)(t,{}),(0,ta.jsx)(r,{}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"2.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"3.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"4.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"5.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"6.webp"})}),(0,ta.jsx)(el,{grid:[2,8],prefix:"stickers"})]})},rl=function(e){var t=e.WorkInfo,r=e.Description;return(0,ta.jsxs)(ta.Fragment,{children:[(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"1.webp"})}),(0,ta.jsx)(t,{}),(0,ta.jsx)(r,{}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"2.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"3.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"4.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"5.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"6.webp"})}),(0,ta.jsxs)(Ys,{children:[(0,ta.jsx)(ks,{src:"7.webp"}),(0,ta.jsx)(ks,{src:"8.webp"})]}),(0,ta.jsxs)(Ys,{children:[(0,ta.jsx)(ks,{src:"9.webp"}),(0,ta.jsx)(ks,{src:"10.webp"})]}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"11.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"12.webp"})}),(0,ta.jsxs)(Ys,{children:[(0,ta.jsx)(ks,{src:"13.webp"}),(0,ta.jsx)(ks,{src:"14.webp"})]}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"15.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"16.webp"})})]})},nl=function(e){var t=e.WorkInfo,r=e.Description;return(0,ta.jsxs)(ta.Fragment,{children:[(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"1.webp"})}),(0,ta.jsx)(t,{}),(0,ta.jsx)(r,{}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"2.webp"})}),(0,ta.jsxs)(Ys,{children:[(0,ta.jsx)(ks,{src:"3.webp"}),(0,ta.jsx)(ks,{src:"4.webp"})]}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"5.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"6.webp"})}),(0,ta.jsx)(el,{grid:[2,3],prefix:"spray-paint"}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"7.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"8.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"9.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"10.webp"})})]})},il=function(e){var t=e.WorkInfo,r=e.Description;return(0,ta.jsxs)(ta.Fragment,{children:[(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"1.webp"})}),(0,ta.jsx)(t,{}),(0,ta.jsx)(r,{}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"2.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"3.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"4.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"5.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"6.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"7.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"8.webp"})})]})},ol=function(e){return e[e.Youtube=0]="Youtube",e[e.Vimeo=1]="Vimeo",e}({}),al=["src","type","aspectRatio"],sl=Vn.iframe(Xa||(Xa=a(["\n  width: 100%;\n  aspect-ratio: ",";\n"])),(function(e){var t=e.$aspectRatio;return null!==t&&void 0!==t?t:"16 / 9"})),ll=function(e){var t=e.src,r=e.type,n=e.aspectRatio,i=Xo(e,al),o=r===ol.Youtube?"https://www.youtube.com/embed/":"https://player.vimeo.com/video/";return(0,ta.jsx)(sl,d(d({},i),{},{src:o+t,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0,$aspectRatio:n}))},ul=function(e){var t=e.WorkInfo;return(0,ta.jsxs)(ta.Fragment,{children:[(0,ta.jsx)(Ys,{children:(0,ta.jsx)(Ps,{src:"1.mp4"})}),(0,ta.jsx)(t,{}),(0,ta.jsxs)(Xs,{children:[(0,ta.jsxs)(la,{children:["(Part of my ",(0,ta.jsx)(oa,{to:"../vector-spin-stroke",children:"investigation on tools"}),")."]}),(0,ta.jsxs)(la,{children:[(0,ta.jsx)("i",{children:"SPIN"})," is a cylindrical, multi-layered, motorized type-rotation device. It is interested in investigating optics and the ways in which type physically appears. By intersecting typography with related areas of concern, such as occlusion, motion, and topology, the resulting outputs are studies of how typography oscillates between recognition and obfuscation."]})]}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"1.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"2.webp"})}),(0,ta.jsxs)(Ys,{cols:[1,2],children:[(0,ta.jsx)(Ps,{src:"2.mp4"}),(0,ta.jsx)(ks,{src:"3.webp"})]}),(0,ta.jsx)(Xs,{children:(0,ta.jsx)(la,{children:"This apparatus consists of mostly 3D-printed parts, which are driven by four separate mechanical motors. Prints (i.e. acetates, stencils) can be inserted into the holders at the base of the cylinders, allowing the inputs of the system to be variable."})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ll,{type:ol.Youtube,src:"tTNSkb7iunw",title:"SPIN Demo"})}),(0,ta.jsx)(el,{grid:[3,4],prefix:"outputs"})]})},cl=function(e){var t=e.WorkInfo;return(0,ta.jsxs)(ta.Fragment,{children:[(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"1.webp"})}),(0,ta.jsx)(t,{}),(0,ta.jsxs)(Xs,{children:[(0,ta.jsxs)(la,{children:["(Part of my ",(0,ta.jsx)(oa,{to:"../vector-spin-stroke",children:"investigation on tools"}),")."]}),(0,ta.jsxs)(la,{children:[(0,ta.jsx)("i",{children:"STROKE"})," uses the ",(0,ta.jsx)(oa,{to:"https://en.wikipedia.org/wiki/Pantograph",children:"pantograph"})," mechanism to translate writing gestures through different styluses. The primary holder uses a pencil, while the secondary holder can be adapted with any drawing instrument. As one end moves, the other follows\u2014it is an encoded replication system that outputs marks with different qualities based on the same letterform, depending on the nature of the stylus."]})]}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(Ps,{src:"1.mp4"})}),(0,ta.jsx)(Xs,{children:(0,ta.jsx)(la,{children:"As such, it explores the historically significant connection between styluses, styles, glyph systems, and languages."})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"2.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"3.webp"})}),(0,ta.jsx)(Xs,{children:(0,ta.jsx)(la,{children:"Due to the simultaneity with which both styluses write, there is no clear logical order: the letterform is derived from the gesture as much as the gesture is derived from the letterform."})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ll,{type:ol.Youtube,src:"Xt4DlydwnO4",aspectRatio:"14 / 9",title:"STROKE Demo"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(Ps,{src:"2.mp4"})}),(0,ta.jsx)(el,{grid:[2,5],prefix:"outputs"})]})},dl=function(e){var t=e.WorkInfo;return(0,ta.jsxs)(ta.Fragment,{children:[(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"1.webp"})}),(0,ta.jsx)(t,{}),(0,ta.jsx)(Xs,{children:(0,ta.jsx)(la,{children:"This book documents my first year of formal graphic design education. Contrary to preconceived notions of \u201ccreativity\u201d\u2014a spontaneous, result-driven approach\u2014systems and processes play a much more integral role in design. Through the help of design languages and reflections, design decisions can be made conscious and autonomous."})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"2.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"3.webp"})}),(0,ta.jsx)(Xs,{children:(0,ta.jsx)(la,{children:"By structuring a systematic approach, the conditions and parameters of any given inquiry become visible and iterable, allowing the investigation to be exhaustive. This book employs one such self-described system to illustrate the concept."})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"4.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"5.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"6.webp"})})]})},fl=function(e){var t=e.WorkInfo,r=e.Description;return(0,ta.jsxs)(ta.Fragment,{children:[(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"1.webp"})}),(0,ta.jsx)(t,{}),(0,ta.jsx)(r,{}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(Ps,{src:"1.mp4"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"2.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"3.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"4.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"5.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"6.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"7.webp"})})]})},hl=function(e){var t=e.WorkInfo,r=e.Description;return(0,ta.jsxs)(ta.Fragment,{children:[(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"1.webp"})}),(0,ta.jsx)(t,{}),(0,ta.jsx)(r,{}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"2.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"3.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"4.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(Ps,{src:"1.mp4"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(Ps,{src:"2.mp4"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(Ps,{src:"3.mp4"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"6.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"7.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"8.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"9.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"10.webp"})})]})},pl=function(e){var t=e.WorkInfo;return(0,ta.jsxs)(ta.Fragment,{children:[(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"1.webp"})}),(0,ta.jsx)(t,{}),(0,ta.jsxs)(Xs,{children:[(0,ta.jsxs)(la,{children:["[Term 1 ",(0,ta.jsx)(oa,{to:"/assets-local/pdf/vector-spin-stroke-literature-review.pdf",target:"_blank",children:"literature review"}),"]"]}),(0,ta.jsxs)(la,{children:[(0,ta.jsx)("i",{children:"VECTOR, SPIN, STROKE."})," is an ongoing series that explores the role of tools and tool-making within design investigations. To position design as an investigative activity is to favor a bottom-up approach instead of a top-down one. The former discovers, unearths, and assesses, while the latter predetermines, prescribes, and dictates. Thus, a tool is something that stands between oneself and their outputs\u2014it sets up the conditions within one's processes. As such, tool-making is an activity through which I choose to structure my investigations within graphic design."]})]}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"2.webp"})}),(0,ta.jsx)(Xs,{children:(0,ta.jsx)(la,{children:"For this study, the toolset has been chosen to intersect with the field of typography. Namely, using tools to construct and deconstruct type and look at the conditions with which visual communication wrestles."})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(Ps,{src:"1.mp4"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"3.webp"})}),(0,ta.jsx)(Xs,{children:(0,ta.jsxs)(la,{children:["It is examined through three categories: ",(0,ta.jsx)("i",{children:(0,ta.jsx)(oa,{to:"../vector-struct",children:"VECTOR"})})," is interested in the physical manipulation of parametric type; ",(0,ta.jsx)("i",{children:(0,ta.jsx)(oa,{to:"../spin",children:"SPIN"})})," studies the interaction between typography, topology, and motion; and ",(0,ta.jsx)("i",{children:(0,ta.jsx)(oa,{to:"../stroke",children:"STROKE"})})," explores the relationship between the writing hand, styluses, and letterforms."]})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"4.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"5.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"6.webp"})}),(0,ta.jsx)(Xs,{children:(0,ta.jsx)(la,{children:"Being constructed physically, the material nature of the tools gives them different performances and affordances. As such, to build tools from the ground up is to allow them to be potential openings to material reality, through which new modes of thinking and making could emerge."})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"7.webp"})}),(0,ta.jsxs)(Ys,{cols:[2,3],children:[(0,ta.jsx)(ks,{src:"8.webp"}),(0,ta.jsx)(ks,{src:"9.webp"})]}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"10.webp"})})]})},ml=n(24),gl=n.n(ml),yl=["setup","className","children"],vl=0,bl=(0,r.forwardRef)((function(e,t){var n=e.setup,i=e.className,o=e.children,a=Xo(e,yl),s=ja(t),l=ys(s),u=(0,r.useRef)(),c=(0,r.useRef)(new Set),d=ni(Yi,(function(){return ci().noop})),f=ci().defaults(a,d);return(0,r.useEffect)((function(){if(l.current){var e=vl;u.current=new(gl())((function(t){t.setup=function(){if(ts(l)){if(c.current.has(e))return t.remove(),c.current.delete(e);var r=l.current;n&&n(t);var i=r.getBoundingClientRect(),o=i.width,a=i.height;t.createCanvas(o,a)}},t.draw=function(){t._loop&&(t.clear(0,0,0,0),f.draw(t))},t.windowResized=function(){if(f.windowResized(t),ts(l)){var e=l.current.getBoundingClientRect(),r=e.width,n=e.height;t.resizeCanvas(r,n)}},ri(Yi).forEach((function(e){e!==Yi.draw&&e!==Yi.windowResized&&(t[e]=function(r){return f[e](t,r)})}))}),l.current),vl++;var t=c.current;return function(){var r;null!==(r=u.current)&&void 0!==r&&r.canvas?u.current.remove():t.add(e)}}}),[l]),(0,ta.jsx)(_l,{ref:l,className:i,children:o})})),_l=Vn.div(Ka||(Ka=a(["\n  canvas {\n    position: absolute;\n  }\n"]))),wl=bl,El={scale:Bo.desktop.main.scale,tracking:Bo.desktop.main.tracking,leading:Bo.desktop.main.leading,easing:no.EaseOutQuad,maxStretch:18.5,glyphColor:li.homeSketch,linkColor:li.homeSketch},xl={isMobile:!0,scale:Bo.mobile.main.scale,maxStretch:{x:20,y:14.5},position:[eo.Center,to.Top],easing:no.EaseOutCubic,glyphColor:li.homeSketch,linkColor:li.homeSketch,spaceWidth:new hi(15)},Sl={pointColor:li.vectorStringSketch,pointFill:li.vectorStringSketch,glyphColor:li.vectorStringSketch,linkColor:li.vectorStringSketch},Tl={MAIN_UPPER:d(d({},El),{},{glyphWeight:Bo.desktop.main.weight.glyph,linkWeight:Bo.desktop.main.weight.link,pointSize:Bo.desktop.main.pointSize,pointColor:li.homeSketch,pointFill:li.homeSketch,drawingSequence:[ro.DrawLinks,ro.DrawPoints]}),MAIN_LOWER:d(d({},El),{},{glyphWeight:Bo.desktop.main.weight.lower,linkWeight:Bo.desktop.main.weight.lower,volumeColor:li.homeSketch,drawingSequence:[ro.DrawLinks,ro.DrawVolume]}),MOBILE_UPPER:d(d({},xl),{},{glyphWeight:Bo.mobile.main.weight.glyph,linkWeight:Bo.mobile.main.weight.link,pointSize:Bo.mobile.main.pointSize,pointColor:li.homeSketch,pointFill:li.homeSketch,drawingSequence:[ro.DrawLinks,ro.DrawPoints]}),MOBILE_LOWER:d(d({},xl),{},{leading:Bo.mobile.main.leading,tracking:Bo.mobile.main.tracking.lower,glyphWeight:Bo.mobile.main.weight.lower,linkWeight:Bo.mobile.main.weight.lower,volumeColor:li.homeSketch,drawingSequence:[ro.DrawLinks,ro.DrawVolume]}),HOME_ICON:{scale:Bo.desktop.homeIcon.scale,position:[eo.Left,to.Top],glyphWeight:Bo.desktop.homeIcon.weight,linkWeight:Bo.desktop.homeIcon.weight,glyphColor:li.homeIcon,linkColor:li.homeIcon,volumeColor:li.homeIcon,easing:no.EaseOutCubic,drawingSequence:[ro.DrawLinks,ro.DrawVolume],maxStretch:8},VECTOR_STRING_TRANSLATE:d(d({},Sl),{},{glyphWeight:Bo.desktop.string.weight.glyph,linkWeight:Bo.desktop.string.weight.link,pointSize:Bo.desktop.string.pointSize,drawingSequence:[ro.DrawLinks,ro.DrawPoints]}),VECTOR_STRING_TRANSLATE_MOBILE:d(d({},Sl),{},{w:new hi({vw:20}),glyphWeight:Bo.mobile.string.weight.glyph,linkWeight:Bo.mobile.string.weight.link,pointSize:Bo.mobile.string.pointSize,drawingSequence:[ro.DrawLinks,ro.DrawPoints]})},Al=n(47),Ml=JSON.parse('{"A":[5,3],"\xc4":[5,5],"B":[5,5],"C":[5,5],"D":[5,5],"E":[5,5],"G":[3,5],"H":[5,5],"I":[5,5],"K":[5,5],"L":[6,6],"N":[5,5],"O":[5,5],"P":[5,5],"R":[5,0],"S":[5,5],"T":[5,5],"U":[5,5],"V":[5,5],"W":[5,5],"Y":[5,5],"Z":[5,5],"+":[5,5],"&":[5,5],":":[5,5]}'),Rl=function(){function e(t){b(this,e),this.values=void 0,this._size=void 0,this.values=[],this._size=t}return w(e,[{key:"add",value:function(e){this.values.push(e),this.trim()}},{key:"trim",value:function(){for(;this.values.length>this._size;)this.values.shift()}},{key:"sum",get:function(){return ci().sum(this.values)}},{key:"mean",get:function(){return this.values.length?this.sum/this.values.length:void 0}},{key:"max",get:function(){return ci().max(this.values)}},{key:"min",get:function(){return ci().min(this.values)}},{key:"size",get:function(){return this.size},set:function(e){this._size=e,this.trim()}}]),e}(),Cl=JSON.parse('{"A":[[[3,0],[26,0],[34,8],[34,35],[43,44]],[[34,19],[8,19],[0,27],[0,36],[8,44],[25,44],[34,35]]],"\xc4":[[[0,9],[11,0],[29,0],[29,31],[37,45]],[[29,20],[11,20],[0,29],[0,37],[6,45],[21,45],[29,31]]],"B":[[[0,11],[11,0],[28,0],[38,10],[38,34],[28,44],[11,44],[0,33]],[[0,44],[0,-19]]],"C":[[[36,44],[10,44],[0,34],[0,10],[10,0],[28,0],[38,10]]],"D":[[[38,33],[27,44],[10,44],[0,34],[0,10],[10,0],[27,0],[38,11]],[[38,44],[38,-19]]],"E":[[[36,44],[10,44],[0,34],[0,10],[10,0],[28,0],[38,10],[38,22],[0,22]]],"G":[[[38,33],[27,44],[10,44],[0,34],[0,10],[10,0],[27,0],[38,11]],[[0,53],[10,63],[28,63],[38,53],[38,0]]],"H":[[[0,44],[0,-19]],[[0,12],[12,0],[26,0],[36,10],[36,44]]],"I":[[[0,44],[0,0]],[[0,-18],[0,-10]]],"K":[[[31,0],[10,21],[0,21]],[[10,21],[33,44]],[[0,-19],[0,44]]],"L":[[[0,44],[0,-19]]],"N":[[[0,44],[0,0]],[[0,12],[12,0],[26,0],[36,10],[36,44]]],"O":[[[10,0],[28,0],[38,10],[38,34],[28,44],[10,44],[0,34],[0,10],[10,0]]],"P":[[[0,63],[0,0]],[[0,11],[11,0],[28,0],[38,10],[38,34],[28,44],[11,44],[0,33]]],"R":[[[0,44],[0,0]],[[35,10],[25,0],[10,0],[0,10]]],"S":[[[0,37],[7,44],[28,44],[35,37],[35,28],[28,21],[7,21],[0,14],[0,7],[7,0],[28,0],[35,7]]],"T":[[[36,2],[0,2]],[[13,-14],[13,34],[23,44],[36,44]]],"U":[[[36,44],[36,0]],[[36,32],[24,44],[10,44],[0,34],[0,0]]],"V":[[[0,0],[0,25],[18,44],[37,26],[37,0]]],"W":[[[56,0],[56,30],[42,44],[28,30],[28,0]],[[28,30],[14,44],[0,30],[0,0]]],"Y":[[[0,53],[10,63],[28,63],[38,53],[38,0]],[[38,33],[27,44],[13,44],[2,33],[2,0]]],"Z":[[[0,0],[32,0],[36,4],[0,40],[4,44],[36,44]]],"+":[[[18,40],[18,4]],[[36,22],[0,22]]],"&":[[[48,19],[23,44],[10,44],[0,34],[0,22],[14,8]],[[31,1],[31,-6],[26,-11],[15,-11],[10,-6],[10,4],[50,44]]],":":[[[0,6],[0,12]],[[0,32],[0,38]]]}'),Il=function(){function e(t,r){b(this,e),this.value=void 0,this.toCompare=void 0,this.value=t,this.toCompare=r}return w(e,[{key:"compare",value:function(e){this.value=this.toCompare(e,this.value)}}]),e}(),kl=function(e){x(r,e);var t=M(r);function r(){return b(this,r),t.call(this,-1/0,Math.max)}return w(r)}(Il),Pl=function(){function e(t,r,n){var i=this;b(this,e),this.setting=void 0,this.p5=void 0,this.rawData=void 0,this.mode=void 0,this.nativeDimension=void 0,this.vectors=void 0,this.position=void 0,this.scale=void 0;var o=n.x,a=n.y,s=n.scale,l=n.mode,u=void 0===l?$i.Corner:l;this.setting=n,this.p5=t,this.rawData=Cl[r],this.vectors=this.rawData.map((function(e){return e.map((function(e){return t.createVector.apply(t,v(e))}))})),this.position=this.p5.createVector(0,0),this.scale=new hi(1),this.mode=u,this.nativeDimension=function(){var e=new kl,t=new kl;return i.loopPoints((function(r){var n=r.x,i=r.y;e.compare(n),t.compare(i)})),{w:e.value,h:t.value}}(),this.setTransform({x:o,y:a,scale:s})}return w(e,[{key:"draw",value:function(){var e=this,t=this.p5,r=this.setting,n=r.glyphColor,i=r.glyphWeight.value;Qi(t,(function(){t.strokeWeight(i),t.stroke("".concat(n)),e.loopPoints((function(e,r,n){var i=r[n+1];i&&t.line.apply(t,v(Xi(e)).concat(v(Xi(i))))}))}))}},{key:"loopPoints",value:function(e){this.vectors.forEach((function(t,r){return t.forEach((function(n,i){return e(n,t,i,r)}))}))}},{key:"setTransform",value:function(e){var t=ci().defaults(e,this),r=t.x,n=t.y,i=t.scale,o=i.value/this.scale.value;this.mode===$i.Center&&(r-=this.w*o/2,n-=this.h*o/2),this.performTransform(r,n,o),Object.assign(this,{x:r,y:n,scale:i})}},{key:"performTransform",value:function(e,t,r){var n=this;this.loopPoints((function(i){return n.unsetTransform(i).mult(r).add(e,t)}))}},{key:"unsetTransform",value:function(e){return e.sub(this.x,this.y)}},{key:"x",get:function(){return this.position.x},set:function(e){this.position.x=e}},{key:"y",get:function(){return this.position.y},set:function(e){this.position.y=e}},{key:"w",get:function(){return this.nativeDimension.w*this.scale.value}},{key:"h",get:function(){return this.nativeDimension.h*this.scale.value}}]),e}(),Ol=Pl,jl=function(){function e(t,r,n,i){b(this,e),this.p5=void 0,this.nativeBearings=void 0,this.canvasStates=void 0,this.engine=void 0,this.bodies=void 0,this.minFrictionAir=void 0,this.rollingAccelFilter=void 0,this._mouseVector=void 0,this._rotationVector=void 0,this._accelVector=void 0,this.name=void 0,this.setting=void 0,this.still=void 0,this.active=void 0,this.p5=t,this.setting=n,this.still=new Ol(t,r,n),this.active=new Ol(t,r,n),this.nativeBearings=Ml[r],this.name=r,this.canvasStates=i,this.engine=null===i||void 0===i?void 0:i.engine,this.bodies=void 0,this.minFrictionAir=1/0,this.rollingAccelFilter=new Rl(t.frameRate()),this._mouseVector=t.createVector(),this._rotationVector=t.createVector(),this._accelVector=t.createVector(),this.addBodies()}return w(e,[{key:"addBodies",value:function(){if(this.engine){this.bodies&&this.cleanup();var e=this.still,t=e.x,r=e.y,n={active:{density:5,frictionAir:ci().random(.0125,.03,!0),collisionFilter:{group:-1}},constraint:{length:.01,damping:ci().random(.0125,.175,!0),stiffness:ci().random(.01,.0125,!0)}},i=Al.Bodies.circle(t,r,10,n.active),o=Al.Constraint.create(d(d({},n.constraint),{},{pointA:this.still.position,bodyB:i}));this.bodies={active:i,constraint:o},this.minFrictionAir=i.frictionAir,Al.Composite.add(this.engine.world,Object.values(this.bodies))}}},{key:"cleanup",value:function(){this.engine&&this.bodies&&Al.Composite.remove(this.engine.world,Object.values(this.bodies)),this.bodies=void 0}},{key:"draw",value:function(){var e=this,t=this.setting.drawingSequence;this.setting.noMap||(this.setting.isMobile?this.mapMobile():this.mapDesktop()),this.still.draw(),this.active.draw(),Qi(this.p5,(function(){return t.forEach((function(t){return e[t]()}))}))}},{key:"mapMobile",value:function(){if(!this.bodies||!this.engine)throw new Error("No Matter.js bodies or engines was found.");this.rollingAccelFilter.size=this.p5.frameRate(),this.active.setTransform(this.setting.mapMotionFunction.call(this.setting,this.rotationVector,this.accelVector,this.rollingAccelFilter,this.bodies,this.engine,this.minFrictionAir,{p5:this.p5,name:this.name,enabled:!0}))}},{key:"mapDesktop",value:function(){this.active.setTransform(this.setting.mapFunction.call(this.setting,this.still.position,this.mouseVector))}},{key:"drawLinks",value:function(){var e=this.p5,t=this.setting,r=t.linkColor,n=t.linkWeight;e.strokeWeight(n.value),e.stroke("".concat(r)),this.loopVectors((function(t){var r=t.stillPoint,n=t.activePoint;return e.line.apply(e,v(Xi(r)).concat(v(Xi(n))))}))}},{key:"drawPoints",value:function(){var e=this.p5,t=this.setting,r=t.pointColor,n=t.pointWeight,i=t.pointFill,o=t.pointSize.value;e.strokeWeight(n.value),e.stroke("".concat(r)),null===i?e.noFill():e.fill("".concat(i)),e.ellipseMode(e.CENTER),this.loopVectors((function(t){var r=t.stillPoint,n=t.activePoint;e.ellipse.apply(e,v(Xi(r)).concat([o])),e.ellipse.apply(e,v(Xi(n)).concat([o]))}))}},{key:"drawVolume",value:function(){var e=this.p5,t=this.setting,r=t.volumeColor,n=t.volumeWeight,i=t.correctVolumeStroke,o="".concat(r);e.fill(o),this.loopVectors((function(t){var r=t.stillPoint,a=t.activePoint,s=t.nextStillPoint,l=t.nextActivePoint;s&&(i?e.noStroke():(e.stroke(o),e.strokeWeight(n.value)),e.quad.apply(e,v(Xi(r)).concat(v(Xi(s)),v(Xi(l)),v(Xi(a)))),i&&(e.stroke(o),e.strokeWeight(n.value),e.line.apply(e,v(Xi(r)).concat(v(Xi(a))))))}))}},{key:"getBearings",value:function(){var e=this;return this.nativeBearings.map((function(t){return(t+e.setting.tracking.value)*e.still.scale.value}))}},{key:"repositionBodies",value:function(e){this.bodies&&(Object.assign(this.bodies.constraint.pointA,this.still.position),e&&Al.Body.setPosition(this.bodies.active,this.active.position))}},{key:"loopVectors",value:function(e){var t=this;this.still.loopPoints((function(r,n,i,o){var a=t.active.vectors[o],s=a[i],l=a[i+1],u=n[i+1];e({stillPoint:r,activePoint:s,nextStillPoint:u,nextActivePoint:l,stillLine:n,activeLine:a,pointIndex:i,lineIndex:o})}))}},{key:"w",get:function(){return this.still.w}},{key:"mouseVector",get:function(){var e=this.p5;return this._mouseVector.x=e.mouseX,this._mouseVector.y=e.mouseY,this._mouseVector}},{key:"accelVector",get:function(){var e,t,r,n=this.p5;return null!==(e=this.canvasStates)&&void 0!==e&&null!==(t=e.gyroStatesRef)&&void 0!==t&&null!==(r=t.current)&&void 0!==r&&r.isEnabled&&(this._accelVector.x=n.accelerationX,this._accelVector.y=n.accelerationY,this._accelVector.z=n.accelerationZ),this._accelVector}},{key:"rotationVector",get:function(){var e,t={x:0,y:0,z:0};return this.canvasStates&&ts(this.canvasStates.motionSettingsRef)&&ts(this.canvasStates.gimbalRef)&&null!==(e=this.canvasStates.gyroStatesRef.current)&&void 0!==e&&e.isEnabled?t=this.canvasStates.gimbalRef.current.euler:t.y=25,Object.assign(this._rotationVector,t),this._rotationVector}}]),e}(),Nl=jl,Ll=function(){function e(t,r,n,i){var o=this;b(this,e),this.didRepositionActive=void 0,this.glyphWords=void 0,this.setting=void 0,this.bounds=void 0,n.w&&(n.scale=new hi(1)),this.setting=ci().defaults(n,oo,{mouseOrigin:t.createVector(n.x,n.y)});var a=r.toLocaleUpperCase().split("\n");if(this.glyphWords=a.map((function(e){return Array.from(e).map((function(e){return e!==io?new Nl(t,e,o.setting,i):io}))})),this.bounds=this.getBounds(),this.didRepositionActive=!1,n.w){var s=this.getBounds();this.setTransform({scale:n.w.div(s.w)})}this.addBodies()}return w(e,[{key:"write",value:function(){var e=this,t=this.setting,r=t.scale,n=t.position,i=t.align,o=t.leading,a=this.bounds.y1,s=this.bounds,l=s.x1,u=s.wordWidths,c=s.w;this.glyphWords.forEach((function(t,s){var d=l+i/2*(c-u[s]);e.writeWord(t,d,a);var f=o.value*r.value;n[1]===to.Bottom?a-=f:a+=f})),this.didRepositionActive=!0}},{key:"addBodies",value:function(){this.loopGlyphs((function(e){return e.addBodies()}))}},{key:"cleanup",value:function(){this.loopGlyphs((function(e){return e.cleanup()}))}},{key:"setTransform",value:function(e){var t=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Object.assign(this.setting,ci().defaults(d({},e),this.setting)),i=n.x,o=n.y,a=n.scale;this.bounds=this.getBounds(),this.loopGlyphs((function(e){Object.assign(e.setting,t.setting),t.transformGlyph({x:i,y:o,scale:a},e,r)}))}},{key:"setMouseOrigin",value:function(e){var t;Array.isArray(e)||(e=[e.x,e.y]),(t=this.setting.mouseOrigin).set.apply(t,v(e))}},{key:"loopGlyphs",value:function(e){this.glyphWords.forEach((function(t,r){return t.forEach((function(n,i){n!==io&&e(n,i,t,r)}))}))}},{key:"writeWord",value:function(e,t,r){var n=this,i=!this.didRepositionActive;e.forEach((function(o,a){return t+=n.getCurrentGlyphPosition(o,a,e,(function(){o!==io&&(n.transformGlyph({x:t,y:r},o,i),o.draw())}))}))}},{key:"getBounds",value:function(){var e=this.setting,t=this.textHeight,r=this.wordWidths,n=e.position,i=e.x,o=e.y,a=g(n,2),s=a[0],l=a[1],u=Math.max.apply(Math,v(r)),c=i-s/2*u,d=o-l/2*t;return{x1:c,y1:d,x2:c+u,y2:d+t,cx:c+u/2,cy:d+t/2,w:u,h:t,wordWidths:r}}},{key:"transformGlyph",value:function(e,t,r){t.still.setTransform(e),t.active.setTransform(e),t.repositionBodies(r)}},{key:"getCurrentGlyphPosition",value:function(e,t,r,n){var i=this.setting,o=i.scale,a=i.spaceWidth,s=r[t+1],l=s&&s!==io?s.getBearings()[0]:0;if(e===io)return a.value*o.value+l;n&&n();var u=s?e.getBearings()[1]:0;return e.w+u+l}},{key:"textHeight",get:function(){var e=this.setting,t=e.scale,r=e.leading;return((this.glyphWords.length-1)*r.value+44)*t.value}},{key:"wordWidths",get:function(){var e=this;return this.glyphWords.map((function(t){return t.reduce((function(r,n,i){return r+e.getCurrentGlyphPosition(n,i,t)}),0)}))}}]),e}(),Dl=Ll,Fl=function(e){var t,r=e.imgSrcRef,n=function(e){(t=new Dl(e,"\xc4",Tl.VECTOR_STRING_TRANSLATE_MOBILE)).setting.mapFunction=function(t){var n,i=2*Math.PI/20,o=null!==(n=r.current)&&void 0!==n?n:1;return e.createVector(1,1).setHeading(i*(o-1)).setMag(new hi({vw:4}).value).add(t)}};return{setup:function(e){n(e)},draw:function(e){var r=e.width/2,n=e.height/2;t.setTransform({x:r,y:n}),t.setMouseOrigin([r,n]),t.write()},windowResized:n}},Ul=Vn(Ys)(Qa||(Qa=a(["\n  aspect-ratio: 2;\n"]))),Bl=Vn(wl)($a||($a=a(["\n  width: 100%;\n  height: 100%;\n"]))),Gl=function(e){var t=e.WorkInfo,n=g((0,r.useState)(1),2),i=n[0],o=n[1],a=(0,r.useRef)(null),s=gs((function(){return i}),[i]);return(0,r.useEffect)((function(){if(ts(a))return ua(window,"scroll",(function(){var e=a.current.getBoundingClientRect().top,t=_i(),r=Math.max(0,t-e),n=Math.min(t/20,25);o(Math.floor(r/n)%20+1)}))}),[]),(0,ta.jsxs)(ta.Fragment,{children:[(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"1.webp"})}),(0,ta.jsx)(t,{}),(0,ta.jsxs)(Xs,{children:[(0,ta.jsxs)(la,{children:["(Part of my ",(0,ta.jsx)(oa,{to:"../vector-spin-stroke",children:"investigation on tools"}),")."]}),(0,ta.jsxs)(la,{children:["The 2D iteration of ",(0,ta.jsxs)("i",{children:[(0,ta.jsx)(oa,{to:"../vector-struct",children:"VECTOR-STRUCT"}),":"]})," an assortment of glyphs drawn on layers of vellum, which are then connected at their anchor points with strings."]}),(0,ta.jsx)(la,{children:(0,ta.jsx)("i",{children:"By borrowing the logic of interpolation, VECTOR began as an exercise in deconstructing the forms of the flat nib pen to investigate the relationship between parametric parts. It grants one the ability to manipulate the points, lines, areas, and volumes via movement by connecting the layers with elastic material."})})]}),(0,ta.jsx)(Ys,{ref:a,children:(0,ta.jsx)(ks,{src:"translate/".concat(i,".webp")},i)}),(0,ta.jsx)(Ul,{children:(0,ta.jsx)(Bl,d({},Fl({imgSrcRef:s})))}),(0,ta.jsx)(Xs,{children:(0,ta.jsx)(la,{children:(0,ta.jsx)("i",{children:"Through its material resistance, it provides kinaesthetic feedback to specific actions (rotation, displacement) and intrinsic typographic properties (min-max distances, weight, contrast, etc.)."})})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ll,{type:ol.Youtube,src:"vPiSml8Y62k",aspectRatio:"5 / 3",title:"VECTOR [STRING]"})}),(0,ta.jsxs)(Ys,{children:[(0,ta.jsx)(ks,{src:"2.webp"}),(0,ta.jsx)(ks,{src:"3.webp"}),(0,ta.jsx)(ks,{src:"4.webp"})]}),(0,ta.jsxs)(Ys,{children:[(0,ta.jsx)(ks,{src:"5.webp"}),(0,ta.jsx)(ks,{src:"6.webp"}),(0,ta.jsx)(ks,{src:"7.webp"})]}),(0,ta.jsx)(Xs,{children:(0,ta.jsx)(la,{children:(0,ta.jsx)("i",{children:"The resulting formal studies are an iterative, embodied process of unearthing vector relations within physical typographic forms."})})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"8.webp"})}),(0,ta.jsxs)(Ys,{children:[(0,ta.jsx)(ks,{src:"9.webp"}),(0,ta.jsx)(ks,{src:"10.webp"})]}),(0,ta.jsxs)(Ys,{children:[(0,ta.jsx)(ks,{src:"11.webp"}),(0,ta.jsx)(ks,{src:"12.webp"})]}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"13.webp"})}),(0,ta.jsxs)(Ys,{children:[(0,ta.jsx)(ks,{src:"14.webp"}),(0,ta.jsx)(ks,{src:"15.webp"})]}),(0,ta.jsxs)(Ys,{children:[(0,ta.jsx)(ks,{src:"16.webp"}),(0,ta.jsx)(ks,{src:"17.webp"})]}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"18.webp"})})]})},zl=["title","titleId"];function Vl(){return Vl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vl.apply(this,arguments)}function Hl(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Wl(e,t){var n=e.title,i=e.titleId,o=Hl(e,zl);return r.createElement("svg",Vl({id:"uuid-11be99e7-9b39-4189-a5f9-cc93613eb4b6",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 288 365.4",ref:t,"aria-labelledby":i},o),n?r.createElement("title",{id:i},n):null,r.createElement("path",{d:"m192.6,60.3c.29,0,.58,0,.86.05.14.01.27.02.4.04h.1l1.03.21.12.06s.07.02.1.03c.08.02.18.05.29.09.21.07.41.15.6.23.23.1.48.21.71.34l.53.27.08.08c.07.05.37.26.46.32l.2.09.5.46c.13.12.26.24.38.36l54,54c3.51,3.51,3.51,9.23,0,12.74-1.7,1.7-3.96,2.63-6.36,2.63s-4.67-.93-6.37-2.63l-51.36-51.37h-89.74l-48.73,48.73v116.74l48.73,48.73h136.67c4.96,0,9,4.04,9,9s-4.04,9-9,9H95.4c-.29,0-.59-.02-.86-.05-.14-.01-.28-.02-.41-.04h-.08l-.61-.13-.52-.1-.15-.08s-.09-.02-.13-.04c-.47-.15-.95-.35-1.41-.58-.51-.27-1-.59-1.5-.99l-.1-.08c-.21-.17-.41-.36-.6-.54l-54-54c-.19-.2-.37-.4-.55-.6l-.07-.09c-.38-.48-.69-.95-.95-1.44-.08-.15-.15-.29-.22-.44-.06-.14-.13-.29-.18-.43-.02-.02-.03-.05-.04-.08l-.45-.43v-1.15c-.04-.15-.06-.31-.08-.47l-.03-.24c-.04-.35-.06-.68-.06-1v-124.2c0-.32.02-.65.05-.96l.04-.32c.02-.14.04-.28.07-.42v-1.12l.45-.45s.03-.06.04-.09c.06-.15.13-.29.19-.44.07-.15.14-.29.22-.44.26-.48.58-.97.95-1.44l.07-.09c.18-.2.36-.4.55-.59l54-54.01c.2-.19.4-.38.61-.55l.08-.07c.5-.39,1.01-.73,1.52-.99.45-.23.92-.43,1.44-.6.04-.01.08-.02.12-.03l.05-.03h.05s.07-.05.07-.05l.65-.13.39-.09h.12c.13-.02.27-.03.4-.04.28-.04.58-.05.87-.05h97.2m0-3.5h-97.2c-.47,0-.87.02-1.24.07-.08,0-.16.01-.24.02h-.31l-.39.09-.34.08-.6.12-.56.11-.07.04-.09.02-.21.12c-.59.2-1.15.44-1.72.73-.68.34-1.38.8-2.08,1.35l-.08.06-.07.07-.04.03c-.29.24-.54.48-.76.68l-.03.03-.03.03-54,54.01c-.23.23-.46.48-.68.72l-.08.09-.08.1-.07.09c-.47.6-.9,1.25-1.26,1.92-.12.23-.22.42-.31.63h0s-1.01,1.01-1.01,1.01v2.26c-.01.08-.02.16-.03.23v.03s0,.03,0,.03l-.04.32v.05s-.01.05-.01.05c-.04.45-.07.89-.07,1.3v124.2c0,.45.03.91.08,1.4l.03.28c.01.11.03.23.05.34v.88s.02,1.48.02,1.48l1.01.97c.09.19.18.36.28.55.36.67.78,1.32,1.29,1.96l.05.07.08.1.08.09c.2.22.4.45.62.67l.03.03.03.03,54,54,.03.03.03.03c.22.21.49.47.8.72l.12.09c.66.53,1.33.97,2.05,1.35l.04.02.04.02c.58.29,1.16.53,1.74.73l.34.18.52.1.48.09.58.12.36.08h.24c.1.01.2.02.3.03.4.04.8.06,1.18.06h140.4c6.89,0,12.5-5.61,12.5-12.5s-5.61-12.5-12.5-12.5H100.58l-46.68-46.68v-113.84l46.68-46.68h86.84l50.33,50.34c2.36,2.36,5.5,3.66,8.85,3.66s6.48-1.3,8.83-3.66c4.88-4.88,4.88-12.81,0-17.69l-54-54c-.15-.15-.32-.31-.48-.46l-.5-.46-.42-.38-.39-.17-.22-.22-.49-.25-.47-.24c-.34-.19-.66-.33-.96-.46-.23-.1-.52-.22-.85-.33-.09-.03-.17-.06-.26-.09l-.25-.13-.45-.09-1.03-.21-.35-.07h-.24c-.08,0-.17-.02-.25-.02-.48-.06-.92-.07-1.22-.07h0Z",style:{strokeWidth:0}}))}var Zl=r.forwardRef(Wl),ql=(n.p,["title","titleId"]);function Yl(){return Yl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yl.apply(this,arguments)}function Xl(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Kl(e,t){var n=e.title,i=e.titleId,o=Xl(e,ql);return r.createElement("svg",Yl({id:"uuid-c8992cce-3eba-47ee-a9c6-42eaa2a4c968",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 288 365.4",ref:t,"aria-labelledby":i},o),n?r.createElement("title",{id:i},n):null,r.createElement("path",{d:"m192.6,60.3c1.45,0,2.89.35,4.17,1.02.85.45,1.57.99,2.19,1.61l54.01,54c1.67,1.68,2.63,4,2.63,6.37v64.8c0,4.96-4.04,9-9,9H50.4v46.67l48.73,48.73h136.67c4.96,0,9,4.04,9,9s-4.04,9-9,9H95.4c-1.44,0-2.88-.36-4.17-1.03-.82-.42-1.56-.96-2.2-1.61l-54-53.99c-1.7-1.72-2.63-3.98-2.63-6.37v-124.2c0-2.37.96-4.69,2.64-6.37l53.99-54c.65-.64,1.39-1.18,2.2-1.6,1.25-.67,2.7-1.03,4.17-1.03h97.2M50.4,179.1h187.2v-52.08l-48.73-48.72h-89.74l-48.73,48.72v52.08M192.6,56.8h-97.2c-2.05,0-4.06.5-5.82,1.45-1.07.56-2.1,1.3-3,2.19l-54.01,54.02c-2.33,2.33-3.66,5.55-3.66,8.84v124.2c0,3.32,1.29,6.46,3.64,8.83l54.01,54c.88.89,1.92,1.66,3.08,2.25,1.78.92,3.78,1.41,5.77,1.41h140.4c6.89,0,12.5-5.61,12.5-12.5s-5.61-12.5-12.5-12.5H100.58l-46.68-46.68v-41.72h192.7c6.89,0,12.5-5.61,12.5-12.5v-64.8c0-3.28-1.33-6.51-3.65-8.84l-54.02-54.01c-.88-.88-1.9-1.63-3.03-2.23-1.79-.94-3.79-1.43-5.81-1.43h0Zm-92.02,25h86.84l46.68,46.67v47.13H53.9v-47.13l46.68-46.67h0Z",style:{strokeWidth:0}}))}var Ql=r.forwardRef(Kl),$l=(n.p,["title","titleId"]);function Jl(){return Jl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jl.apply(this,arguments)}function eu(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function tu(e,t){var n=e.title,i=e.titleId,o=eu(e,$l);return r.createElement("svg",Jl({id:"uuid-71a377d3-b5c7-4000-aace-2000e9b79561",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 288 365.4",ref:t,"aria-labelledby":i},o),n?r.createElement("title",{id:i},n):null,r.createElement("path",{d:"m192.6,60.3c1.45,0,2.9.36,4.18,1.03.81.43,1.54.97,2.18,1.6l54,54c1.7,1.71,2.64,3.97,2.64,6.37v124.2c0,1.45-.36,2.9-1.04,4.19-.41.8-.95,1.53-1.6,2.17l-54,54c-1.69,1.7-3.96,2.64-6.36,2.64h-97.2c-1.45,0-2.9-.36-4.18-1.03-.8-.42-1.54-.96-2.19-1.61l-54-54c-1.7-1.7-2.63-3.96-2.63-6.36v-124.2c0-1.45.35-2.89,1.03-4.18.43-.81.96-1.54,1.6-2.18l54-54.01c1.71-1.7,3.97-2.63,6.37-2.63h97.2m-93.47,232.2h89.74l48.73-48.73v-116.74l-48.73-48.73h-89.74l-48.73,48.73v116.74l48.73,48.73M192.6,56.8h-97.2c-3.33,0-6.47,1.3-8.84,3.65l-54.01,54.02c-.87.87-1.62,1.89-2.22,3.01-.94,1.79-1.44,3.8-1.44,5.82v124.2c0,3.34,1.3,6.48,3.66,8.84l54,54c.89.89,1.91,1.64,3.04,2.23,1.79.94,3.8,1.43,5.81,1.43h97.2c3.35,0,6.49-1.3,8.84-3.67l53.99-53.99c.9-.89,1.66-1.92,2.24-3.05.93-1.76,1.43-3.77,1.43-5.79v-124.2c0-3.33-1.3-6.46-3.66-8.84l-54.01-54.01c-.91-.89-1.92-1.63-3.01-2.22-1.8-.94-3.81-1.44-5.82-1.44h0Zm-92.02,25h86.84l46.68,46.68v113.84l-46.68,46.68h-86.84l-46.68-46.68v-113.84l46.68-46.68h0Z",style:{strokeWidth:0}}))}var ru=r.forwardRef(tu),nu=(n.p,["title","titleId"]);function iu(){return iu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iu.apply(this,arguments)}function ou(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function au(e,t){var n=e.title,i=e.titleId,o=ou(e,nu);return r.createElement("svg",iu({id:"uuid-ee9fa9b3-7e98-4305-8209-a2ba68528130",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 288 365.4",ref:t,"aria-labelledby":i},o),n?r.createElement("title",{id:i},n):null,r.createElement("path",{d:"m208.8,60.3c2.4,0,4.66.93,6.36,2.63l54,54c1.7,1.71,2.64,3.97,2.64,6.37s-.94,4.66-2.64,6.36c-1.7,1.7-3.96,2.64-6.36,2.64s-4.67-.94-6.36-2.64l-51.37-51.36h-68.14l-48.73,48.73v174.47c0,4.96-4.04,9-9,9s-9-4.04-9-9V127.03l-51.36-51.37c-1.7-1.7-2.64-3.96-2.64-6.36s.94-4.66,2.63-6.36c1.71-1.7,3.97-2.64,6.37-2.64s4.66.94,6.36,2.63l47.64,47.64,47.63-47.64c.65-.64,1.39-1.18,2.19-1.6,1.27-.67,2.72-1.03,4.18-1.03h75.6m0-3.5h-75.6c-2.02,0-4.03.5-5.81,1.43-1.1.58-2.12,1.32-3.01,2.2l-45.17,45.18-45.16-45.16c-2.37-2.36-5.51-3.66-8.83-3.66s-6.46,1.3-8.84,3.66c-2.37,2.38-3.66,5.52-3.66,8.84s1.3,6.47,3.67,8.83l50.33,50.34v173.02c0,6.89,5.61,12.5,12.5,12.5s12.5-5.61,12.5-12.5v-173.02l46.68-46.68h65.24l50.34,50.34c2.35,2.36,5.49,3.66,8.83,3.66s6.47-1.3,8.83-3.67c2.36-2.36,3.67-5.5,3.67-8.83s-1.3-6.46-3.66-8.84l-54.01-54.01c-2.36-2.36-5.49-3.66-8.83-3.66h0Z",style:{strokeWidth:0}}))}var su=r.forwardRef(au),lu=(n.p,["title","titleId"]);function uu(){return uu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uu.apply(this,arguments)}function cu(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function du(e,t){var n=e.title,i=e.titleId,o=cu(e,lu);return r.createElement("svg",uu({id:"uuid-dd1aa92b-1acf-4732-a503-067c8d7ee8af",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 288 432",ref:t,"aria-labelledby":i},o),n?r.createElement("title",{id:i},n):null,r.createElement("path",{d:"m108.9,45.9c4.96,0,9,4.04,9,9v82.8h126c4.96,0,9,4.04,9,9s-4.04,9-9,9h-126v154.67l48.73,48.73h77.27c4.96,0,9,4.04,9,9s-4.04,9-9,9h-81c-2.37,0-4.69-.96-6.37-2.63l-54-54c-.64-.65-1.18-1.39-1.6-2.2-.68-1.29-1.03-2.73-1.03-4.17v-158.4h-55.8c-4.96,0-9-4.04-9-9s4.04-9,9-9h55.8V54.9c0-4.96,4.04-9,9-9m0-3.5c-6.89,0-12.5,5.61-12.5,12.5v79.3h-52.3c-6.89,0-12.5,5.61-12.5,12.5s5.61,12.5,12.5,12.5h52.3v154.9c0,2.02.5,4.02,1.43,5.8.57,1.1,1.31,2.12,2.2,3.02l54.02,54.02c2.34,2.33,5.56,3.66,8.84,3.66h81c6.89,0,12.5-5.61,12.5-12.5s-5.61-12.5-12.5-12.5h-75.82l-46.68-46.68v-149.72h122.5c6.89,0,12.5-5.61,12.5-12.5s-5.61-12.5-12.5-12.5h-122.5V54.9c0-6.89-5.61-12.5-12.5-12.5h0Z",style:{strokeWidth:0}}))}var fu=r.forwardRef(du),hu=(n.p,["title","titleId"]);function pu(){return pu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pu.apply(this,arguments)}function mu(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function gu(e,t){var n=e.title,i=e.titleId,o=mu(e,hu);return r.createElement("svg",pu({id:"uuid-c4d25dab-ae6d-4d98-a6ce-1613224aaeaf",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 288 365.4",ref:t,"aria-labelledby":i},o),n?r.createElement("title",{id:i},n):null,r.createElement("path",{d:"m241.2,59.81c4.96,0,9,4.04,9,9v140.4c0,2.41-.94,4.67-2.63,6.37l-97.21,97.2c-1.69,1.7-3.96,2.63-6.36,2.63s-4.67-.93-6.36-2.63l-97.2-97.2c-1.71-1.71-2.64-3.97-2.64-6.37V68.81c0-4.96,4.04-9,9-9s9,4.04,9,9v136.68l88.2,88.2,88.2-88.2V68.81c0-4.96,4.04-9,9-9m0-3.5c-6.89,0-12.5,5.61-12.5,12.5v135.23l-84.7,84.7-84.7-84.7V68.81c0-6.89-5.61-12.5-12.5-12.5s-12.5,5.61-12.5,12.5v140.4c0,3.34,1.3,6.48,3.67,8.84l97.2,97.2c2.34,2.35,5.48,3.66,8.83,3.66s6.49-1.3,8.84-3.66l97.2-97.19c2.36-2.37,3.66-5.51,3.66-8.84V68.81c0-6.89-5.61-12.5-12.5-12.5h0Z",style:{strokeWidth:0}}))}var yu,vu,bu,_u,wu=r.forwardRef(gu),Eu=(n.p,["setup","draw","cleanup"]),xu=function(e,t){var n=g((0,r.useState)(!1),2),i=n[0],o=n[1],a=Ae(),s=ci().defaults(null!==t&&void 0!==t?t:{},a),l=s.canvasRef,u=s.canvasStates;if(!ts(l))throw rs("canvasRef");var c=(0,r.useMemo)(e,[]),d=c.setup,f=c.draw,h=c.cleanup,p=Xo(c,Eu),m=[],y=function(e,t){l.current[e].push(t),m.push((function(){ci().pull(l.current[e],t)}))};return(0,r.useEffect)((function(){var e=ci().once(null!==d&&void 0!==d?d:ci().noop);return y(Yi.draw,(function(t){e(t,u),f&&f(t,u),o(!0)})),ti(p,(function(e,t){return y(e,(function(e){t&&t(e,u)}))})),function(){m.forEach((function(e){return e()})),h&&h(u)}}),[]),i},Su=function(e){var t,r=e.elemRefs,n=e.padding,i=e.headerRef;return{draw:function(e){var o;(Ki(e),r.forEach((function(t){ts(t)&&new Ds(t,null===n||void 0===n?void 0:n.value).rectAround(e)})),i)&&(null!==(o=t)&&void 0!==o||(t=new Ds(i)),e.fill(255),e.noStroke(),e.rect(t.x,t.y,t.w,t.h))}}},Tu=Vn.div(yu||(yu=a(["\n  ","\n"])),Ho.innerMargin(Uo.desktop.workPage.media.gap.css)),Au=Vn.div(vu||(vu=a(["\n  ","\n\n  svg {\n    flex: none;\n    width: 15%;\n    height: fit-content;\n\n    &,\n    _::-webkit-full-page-media,\n    _:future {\n      height: intrinsic;\n    }\n  }\n"])),Ho.flex("flex-end","space-evenly")),Mu=function(e){var t=e.WorkInfo,n=g((0,r.useState)(0),2),i=n[0],o=n[1],a=(0,r.useRef)(null),s=Ae().headerRef,l=[wu,Ql,Zl,fu,ru,su];return xu((function(){return Su({elemRefs:[a],padding:Bo.mobile.struct.padding,headerRef:s})})),(0,ta.jsxs)(ta.Fragment,{children:[(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"1.webp"})}),(0,ta.jsx)(t,{}),(0,ta.jsxs)(Xs,{children:[(0,ta.jsxs)(la,{children:["(Part of my ",(0,ta.jsx)(oa,{to:"../vector-spin-stroke",children:"investigation on tools"}),")."]}),(0,ta.jsxs)(la,{children:["The 3D iteration of ",(0,ta.jsxs)("i",{children:[(0,ta.jsx)(oa,{to:"../vector-string",children:"VECTOR-STRING"}),":"]})," an assortment of physical letters whose sides are connected by elastic fabrics."]}),(0,ta.jsx)(la,{children:(0,ta.jsx)("i",{children:"By borrowing the logic of interpolation, VECTOR began as an exercise in deconstructing the forms of the flat nib pen to investigate the relationship between parametric parts. It grants one the ability to manipulate the points, lines, areas, and volumes via movement by connecting the layers with elastic material."})})]}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(Ps,{src:"1.mp4"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"2.webp"})}),(0,ta.jsx)(Xs,{children:(0,ta.jsx)(la,{children:(0,ta.jsx)("i",{children:"Through its material resistance, it provides kinaesthetic feedback to specific actions (rotation, displacement) and intrinsic typographic properties (min-max distances, weight, contrast, etc.)."})})}),(0,ta.jsx)(Au,{children:l.map((function(e,t){return(0,ta.jsx)(e,{ref:t===i?a:null,onClick:function(){return function(e){return o(e)}(t)}},t)}))}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(Ps,{src:"".concat(i+2,".mp4"),width:yi(80)},i)}),(0,ta.jsx)(el,{grid:[3,2],prefix:"vector"[i]}),(0,ta.jsx)(Xs,{children:(0,ta.jsx)(la,{children:(0,ta.jsx)("i",{children:"The resulting formal studies are an iterative, embodied process of unearthing vector relations within physical typographic forms."})})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"3.webp"})}),(0,ta.jsxs)(Ys,{cols:[1,2],children:[(0,ta.jsxs)(Tu,{children:[(0,ta.jsx)(ks,{src:"4.webp"}),(0,ta.jsx)(ks,{src:"5.webp"})]}),(0,ta.jsx)(Ps,{src:"8.mp4"})]}),(0,ta.jsx)(el,{grid:[3,2],prefix:"g"}),(0,ta.jsx)(Xs,{children:(0,ta.jsxs)(la,{children:[(0,ta.jsx)("b",{children:"Varied Forms G/S"}),"\u202f\u2014\u202fusing different letterforms for the two connected glyphs; it not only adds another layer to the system but also emulates the non-parallel nature of handwriting."]})}),(0,ta.jsxs)(Ys,{cols:[1,2],children:[(0,ta.jsxs)(Tu,{children:[(0,ta.jsx)(ks,{src:"6.webp"}),(0,ta.jsx)(ks,{src:"7.webp"})]}),(0,ta.jsx)(Ps,{src:"9.mp4"})]}),(0,ta.jsx)(el,{grid:[3,2],prefix:"s"})]})},Ru={"game-studies":Js,"vector-spin-stroke":pl,"vector-struct":Mu,"vector-string":Gl,spin:ul,roll:il,stroke:cl,"memory-of-memories":rl,"thrasher-reconstructed":hl,"systemized-creativity":dl,acogito:Ks,"i-voted":tl,dm2020:$s,"the-poor-image":fl,architecture:Qs,"object-bulb":nl},Cu=function(){var e=ri(Yi).map((function(e){return[e,[]]})),t=Object.fromEntries(e);return(0,r.useRef)(t)},Iu=Vn(wl)(bu||(bu=a(["\n  ","\n  width: 100dvw;\n  height: 100dvh;\n  pointer-events: none;\n  mix-blend-mode: multiply;\n"])),Ho.chain().fixed().highZIndex(1)),ku=function(e){var t=e.canvasRef,r=e.canvasStates,n=e.className,i=function(e,r){var n=t.current[r];n.length&&n.forEach((function(t){return Qi(e,(function(){return t(e)}))}))},o=ni(Yi,(function(e){return function(t){i(t,e)}})),a=ci().omit(o,[Yi.draw,Yi.mouseMoved]);return(0,ta.jsx)(Iu,d({draw:function(e){"engine"in r&&Al.Engine.update(r.engine),i(e,Yi.draw)},mouseMoved:function(e){"mousePositionRef"in r&&(r.mousePositionRef.current=function(e){return[e.mouseX,e.mouseY]}(e)),i(e,Yi.mouseMoved)},className:n},a))};function Pu(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(u){return void r(u)}s.done?t(l):Promise.resolve(l).then(n,i)}function Ou(){return Ou="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=S(e)););return e}(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},Ou.apply(this,arguments)}function ju(){ju=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function d(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,a=Object.create(o.prototype),s=new k(n||[]);return i(a,"_invoke",{value:M(e,r,s)}),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var h="suspendedStart",p="suspendedYield",m="executing",g="completed",y={};function v(){}function b(){}function _(){}var w={};c(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(P([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=_.prototype=v.prototype=Object.create(w);function T(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(i,o,a,l){var u=f(e[i],e,o);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==s(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,a,l)}),(function(e){r("throw",e,a,l)})):t.resolve(d).then((function(e){c.value=e,a(c)}),(function(e){return r("throw",e,a,l)}))}l(u.arg)}var o;i(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,i){r(e,n,t,i)}))}return o=o?o.then(i,i):i()}})}function M(t,r,n){var i=h;return function(o,a){if(i===m)throw new Error("Generator is already running");if(i===g){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var l=R(s,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===h)throw i=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=m;var u=f(t,r,n);if("normal"===u.type){if(i=n.done?g:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i=g,n.method="throw",n.arg=u.arg)}}}function R(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,R(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(s(t)+" is not iterable")}return b.prototype=_,i(S,"constructor",{value:_,configurable:!0}),i(_,"constructor",{value:b,configurable:!0}),b.displayName=c(_,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,c(e,u,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},T(A.prototype),c(A.prototype,l,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new A(d(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},T(S),c(S,u,"Generator"),c(S,a,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function i(n,i){return s.type="throw",s.arg=t,r.next=n,i&&(r.method="next",r.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;I(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Nu="157",Lu=1,Du=2,Fu=3,Uu=0,Bu=1,Gu=100,zu=0,Vu=1,Hu=2,Wu=0,Zu=1,qu=2,Yu=3,Xu=4,Ku=5,Qu=301,$u=302,Ju=303,ec=304,tc=306,rc=1e3,nc=1001,ic=1002,oc=1003,ac=1004,sc=1005,lc=1006,uc=1008,cc=1009,dc=1012,fc=1013,hc=1014,pc=1015,mc=1016,gc=1020,yc=1023,vc=1026,bc=1027,_c=33776,wc=33777,Ec=33778,xc=33779,Sc=36492,Tc=2300,Ac=2301,Mc=2302,Rc=2400,Cc=2401,Ic=2402,kc=3001,Pc="",Oc="srgb",jc="srgb-linear",Nc="display-p3",Lc="display-p3-linear",Dc="linear",Fc="srgb",Uc="rec709",Bc="p3",Gc=7680,zc=35044,Vc="300 es",Hc=1035,Wc=2e3,Zc=2001,qc=function(){function e(){b(this,e)}return w(e,[{key:"addEventListener",value:function(e,t){void 0===this._listeners&&(this._listeners={});var r=this._listeners;void 0===r[e]&&(r[e]=[]),-1===r[e].indexOf(t)&&r[e].push(t)}},{key:"hasEventListener",value:function(e,t){if(void 0===this._listeners)return!1;var r=this._listeners;return void 0!==r[e]&&-1!==r[e].indexOf(t)}},{key:"removeEventListener",value:function(e,t){if(void 0!==this._listeners){var r=this._listeners[e];if(void 0!==r){var n=r.indexOf(t);-1!==n&&r.splice(n,1)}}}},{key:"dispatchEvent",value:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var r=t.slice(0),n=0,i=r.length;n<i;n++)r[n].call(this,e);e.target=null}}}}]),e}(),Yc=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],Xc=Math.PI/180,Kc=180/Math.PI;function Qc(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,r=4294967295*Math.random()|0,n=4294967295*Math.random()|0;return(Yc[255&e]+Yc[e>>8&255]+Yc[e>>16&255]+Yc[e>>24&255]+"-"+Yc[255&t]+Yc[t>>8&255]+"-"+Yc[t>>16&15|64]+Yc[t>>24&255]+"-"+Yc[63&r|128]+Yc[r>>8&255]+"-"+Yc[r>>16&255]+Yc[r>>24&255]+Yc[255&n]+Yc[n>>8&255]+Yc[n>>16&255]+Yc[n>>24&255]).toLowerCase()}function $c(e,t,r){return Math.max(t,Math.min(r,e))}function Jc(e,t){return(e%t+t)%t}function ed(e,t,r){return(1-r)*e+r*t}function td(e){return 0===(e&e-1)&&0!==e}function rd(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}function nd(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return e/4294967295;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int32Array:return Math.max(e/2147483647,-1);case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function id(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return Math.round(4294967295*e);case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int32Array:return Math.round(2147483647*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw new Error("Invalid component type.")}}var od=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;b(this,t),t.prototype.isVector2=!0,this.x=e,this.y=r}return w(t,[{key:"width",get:function(){return this.x},set:function(e){this.x=e}},{key:"height",get:function(){return this.y},set:function(e){this.y=e}},{key:"set",value:function(e,t){return this.x=e,this.y=t,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"applyMatrix3",value:function(e){var t=this.x,r=this.y,n=e.elements;return this.x=n[0]*t+n[3]*r+n[6],this.y=n[1]*t+n[4]*r+n[7],this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}},{key:"clampLength",value:function(e,t){var r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"roundToZero",value:function(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"cross",value:function(e){return this.x*e.y-this.y*e.x}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"angle",value:function(){var e=Math.atan2(-this.y,-this.x)+Math.PI;return e}},{key:"angleTo",value:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;var r=this.dot(e)/t;return Math.acos($c(r,-1,1))}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,r=this.y-e.y;return t*t+r*r}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}},{key:"lerpVectors",value:function(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}},{key:"rotateAround",value:function(e,t){var r=Math.cos(t),n=Math.sin(t),i=this.x-e.x,o=this.y-e.y;return this.x=i*r-o*n+e.x,this.y=i*n+o*r+e.y,this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this}},{key:Symbol.iterator,value:ju().mark((function e(){return ju().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:case"end":return e.stop()}}),e,this)}))}]),t}(),ad=function(){function e(t,r,n,i,o,a,s,l,u){b(this,e),e.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==t&&this.set(t,r,n,i,o,a,s,l,u)}return w(e,[{key:"set",value:function(e,t,r,n,i,o,a,s,l){var u=this.elements;return u[0]=e,u[1]=n,u[2]=a,u[3]=t,u[4]=i,u[5]=s,u[6]=r,u[7]=o,u[8]=l,this}},{key:"identity",value:function(){return this.set(1,0,0,0,1,0,0,0,1),this}},{key:"copy",value:function(e){var t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}},{key:"extractBasis",value:function(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}},{key:"setFromMatrix4",value:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var r=e.elements,n=t.elements,i=this.elements,o=r[0],a=r[3],s=r[6],l=r[1],u=r[4],c=r[7],d=r[2],f=r[5],h=r[8],p=n[0],m=n[3],g=n[6],y=n[1],v=n[4],b=n[7],_=n[2],w=n[5],E=n[8];return i[0]=o*p+a*y+s*_,i[3]=o*m+a*v+s*w,i[6]=o*g+a*b+s*E,i[1]=l*p+u*y+c*_,i[4]=l*m+u*v+c*w,i[7]=l*g+u*b+c*E,i[2]=d*p+f*y+h*_,i[5]=d*m+f*v+h*w,i[8]=d*g+f*b+h*E,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],r=e[1],n=e[2],i=e[3],o=e[4],a=e[5],s=e[6],l=e[7],u=e[8];return t*o*u-t*a*l-r*i*u+r*a*s+n*i*l-n*o*s}},{key:"invert",value:function(){var e=this.elements,t=e[0],r=e[1],n=e[2],i=e[3],o=e[4],a=e[5],s=e[6],l=e[7],u=e[8],c=u*o-a*l,d=a*s-u*i,f=l*i-o*s,h=t*c+r*d+n*f;if(0===h)return this.set(0,0,0,0,0,0,0,0,0);var p=1/h;return e[0]=c*p,e[1]=(n*l-u*r)*p,e[2]=(a*r-n*o)*p,e[3]=d*p,e[4]=(u*t-n*s)*p,e[5]=(n*i-a*t)*p,e[6]=f*p,e[7]=(r*s-l*t)*p,e[8]=(o*t-r*i)*p,this}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}},{key:"getNormalMatrix",value:function(e){return this.setFromMatrix4(e).invert().transpose()}},{key:"transposeIntoArray",value:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}},{key:"setUvTransform",value:function(e,t,r,n,i,o,a){var s=Math.cos(i),l=Math.sin(i);return this.set(r*s,r*l,-r*(s*o+l*a)+o+e,-n*l,n*s,-n*(-l*o+s*a)+a+t,0,0,1),this}},{key:"scale",value:function(e,t){return this.premultiply(sd.makeScale(e,t)),this}},{key:"rotate",value:function(e){return this.premultiply(sd.makeRotation(-e)),this}},{key:"translate",value:function(e,t){return this.premultiply(sd.makeTranslation(e,t)),this}},{key:"makeTranslation",value:function(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}},{key:"makeRotation",value:function(e){var t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}},{key:"makeScale",value:function(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}},{key:"equals",value:function(e){for(var t=this.elements,r=e.elements,n=0;n<9;n++)if(t[n]!==r[n])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=0;r<9;r++)this.elements[r]=e[r+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}},{key:"clone",value:function(){return(new this.constructor).fromArray(this.elements)}}]),e}(),sd=new ad;function ld(e){for(var t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;function ud(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}var cd={};function dd(e){e in cd||(cd[e]=!0,console.warn(e))}var fd,hd=(new ad).set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),pd=(new ad).set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),md=(u(_u={},jc,{transfer:Dc,primaries:Uc,toReference:function(e){return e},fromReference:function(e){return e}}),u(_u,Oc,{transfer:Fc,primaries:Uc,toReference:function(e){return e.convertSRGBToLinear()},fromReference:function(e){return e.convertLinearToSRGB()}}),u(_u,Lc,{transfer:Dc,primaries:Bc,toReference:function(e){return e.applyMatrix3(pd)},fromReference:function(e){return e.applyMatrix3(hd)}}),u(_u,Nc,{transfer:Fc,primaries:Bc,toReference:function(e){return e.convertSRGBToLinear().applyMatrix3(pd)},fromReference:function(e){return e.applyMatrix3(hd).convertLinearToSRGB()}}),_u),gd=new Set([jc,Lc]),yd={enabled:!0,_workingColorSpace:jc,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(e){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!e},get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(e){if(!gd.has(e))throw new Error('Unsupported working color space, "'.concat(e,'".'));this._workingColorSpace=e},convert:function(e,t,r){if(!1===this.enabled||t===r||!t||!r)return e;var n=md[t].toReference;return(0,md[r].fromReference)(n(e))},fromWorkingColorSpace:function(e,t){return this.convert(e,this._workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this._workingColorSpace)},getPrimaries:function(e){return md[e].primaries},getTransfer:function(e){return e===Pc?Dc:md[e].transfer}};function vd(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function bd(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}var _d=function(){function e(){b(this,e)}return w(e,null,[{key:"getDataURL",value:function(e){if(/^data:/i.test(e.src))return e.src;if("undefined"===typeof HTMLCanvasElement)return e.src;var t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===fd&&(fd=ud("canvas")),fd.width=e.width,fd.height=e.height;var r=fd.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=fd}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}},{key:"sRGBToLinear",value:function(e){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){var t=ud("canvas");t.width=e.width,t.height=e.height;var r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);for(var n=r.getImageData(0,0,e.width,e.height),i=n.data,o=0;o<i.length;o++)i[o]=255*vd(i[o]/255);return r.putImageData(n,0,0),t}if(e.data){for(var a=e.data.slice(0),s=0;s<a.length;s++)a instanceof Uint8Array||a instanceof Uint8ClampedArray?a[s]=Math.floor(255*vd(a[s]/255)):a[s]=vd(a[s]);return{data:a,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}]),e}(),wd=0,Ed=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;b(this,e),this.isSource=!0,Object.defineProperty(this,"id",{value:wd++}),this.uuid=Qc(),this.data=t,this.version=0}return w(e,[{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];var r={uuid:this.uuid,url:""},n=this.data;if(null!==n){var i;if(Array.isArray(n)){i=[];for(var o=0,a=n.length;o<a;o++)n[o].isDataTexture?i.push(xd(n[o].image)):i.push(xd(n[o]))}else i=xd(n);r.url=i}return t||(e.images[this.uuid]=r),r}}]),e}();function xd(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?_d.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}var Sd=0,Td=function(e){x(r,e);var t=M(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.DEFAULT_IMAGE,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.DEFAULT_MAPPING,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:nc,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:nc,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:lc,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:uc,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:yc,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:cc,d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:r.DEFAULT_ANISOTROPY,f=arguments.length>9&&void 0!==arguments[9]?arguments[9]:Pc;return b(this,r),(e=t.call(this)).isTexture=!0,Object.defineProperty(A(e),"id",{value:Sd++}),e.uuid=Qc(),e.name="",e.source=new Ed(n),e.mipmaps=[],e.mapping=i,e.channel=0,e.wrapS=o,e.wrapT=a,e.magFilter=s,e.minFilter=l,e.anisotropy=d,e.format=u,e.internalFormat=null,e.type=c,e.offset=new od(0,0),e.repeat=new od(1,1),e.center=new od(0,0),e.rotation=0,e.matrixAutoUpdate=!0,e.matrix=new ad,e.generateMipmaps=!0,e.premultiplyAlpha=!1,e.flipY=!0,e.unpackAlignment=4,"string"===typeof f?e.colorSpace=f:(dd("THREE.Texture: Property .encoding has been replaced by .colorSpace."),e.colorSpace=f===kc?Oc:Pc),e.userData={},e.version=0,e.onUpdate=null,e.isRenderTargetTexture=!1,e.needsPMREMUpdate=!1,e}return w(r,[{key:"image",get:function(){return this.source.data},set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.source.data=e}},{key:"updateMatrix",value:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"transformUv",value:function(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case rc:e.x=e.x-Math.floor(e.x);break;case nc:e.x=e.x<0?0:1;break;case ic:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case rc:e.y=e.y-Math.floor(e.y);break;case nc:e.y=e.y<0?0:1;break;case ic:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}},{key:"needsUpdate",set:function(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}},{key:"encoding",get:function(){return dd("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===Oc?kc:3e3},set:function(e){dd("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===kc?Oc:Pc}}]),r}(qc);Td.DEFAULT_IMAGE=null,Td.DEFAULT_MAPPING=300,Td.DEFAULT_ANISOTROPY=1;var Ad=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;b(this,t),t.prototype.isVector4=!0,this.x=e,this.y=r,this.z=n,this.w=i}return w(t,[{key:"width",get:function(){return this.z},set:function(e){this.z=e}},{key:"height",get:function(){return this.w},set:function(e){this.w=e}},{key:"set",value:function(e,t,r,n){return this.x=e,this.y=t,this.z=r,this.w=n,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setW",value:function(e){return this.w=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z,this.w)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}},{key:"applyMatrix4",value:function(e){var t=this.x,r=this.y,n=this.z,i=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*n+o[12]*i,this.y=o[1]*t+o[5]*r+o[9]*n+o[13]*i,this.z=o[2]*t+o[6]*r+o[10]*n+o[14]*i,this.w=o[3]*t+o[7]*r+o[11]*n+o[15]*i,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"setAxisAngleFromQuaternion",value:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}},{key:"setAxisAngleFromRotationMatrix",value:function(e){var t,r,n,i,o=.01,a=.1,s=e.elements,l=s[0],u=s[4],c=s[8],d=s[1],f=s[5],h=s[9],p=s[2],m=s[6],g=s[10];if(Math.abs(u-d)<o&&Math.abs(c-p)<o&&Math.abs(h-m)<o){if(Math.abs(u+d)<a&&Math.abs(c+p)<a&&Math.abs(h+m)<a&&Math.abs(l+f+g-3)<a)return this.set(1,0,0,0),this;t=Math.PI;var y=(l+1)/2,v=(f+1)/2,b=(g+1)/2,_=(u+d)/4,w=(c+p)/4,E=(h+m)/4;return y>v&&y>b?y<o?(r=0,n=.707106781,i=.707106781):(n=_/(r=Math.sqrt(y)),i=w/r):v>b?v<o?(r=.707106781,n=0,i=.707106781):(r=_/(n=Math.sqrt(v)),i=E/n):b<o?(r=.707106781,n=.707106781,i=0):(r=w/(i=Math.sqrt(b)),n=E/i),this.set(r,n,i,t),this}var x=Math.sqrt((m-h)*(m-h)+(c-p)*(c-p)+(d-u)*(d-u));return Math.abs(x)<.001&&(x=1),this.x=(m-h)/x,this.y=(c-p)/x,this.z=(d-u)/x,this.w=Math.acos((l+f+g-1)/2),this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}},{key:"clampLength",value:function(e,t){var r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}},{key:"roundToZero",value:function(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}},{key:"lerpVectors",value:function(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}},{key:Symbol.iterator,value:ju().mark((function e(){return ju().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:return e.next=8,this.w;case 8:case"end":return e.stop()}}),e,this)}))}]),t}(),Md=function(e){x(r,e);var t=M(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};b(this,r),(e=t.call(this)).isRenderTarget=!0,e.width=n,e.height=i,e.depth=1,e.scissor=new Ad(0,0,n,i),e.scissorTest=!1,e.viewport=new Ad(0,0,n,i);var a={width:n,height:i,depth:1};return void 0!==o.encoding&&(dd("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),o.colorSpace=o.encoding===kc?Oc:Pc),o=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:lc,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},o),e.texture=new Td(a,o.mapping,o.wrapS,o.wrapT,o.magFilter,o.minFilter,o.format,o.type,o.anisotropy,o.colorSpace),e.texture.isRenderTargetTexture=!0,e.texture.flipY=!1,e.texture.generateMipmaps=o.generateMipmaps,e.texture.internalFormat=o.internalFormat,e.depthBuffer=o.depthBuffer,e.stencilBuffer=o.stencilBuffer,e.depthTexture=o.depthTexture,e.samples=o.samples,e}return w(r,[{key:"setSize",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.width===e&&this.height===t&&this.depth===r||(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;var t=Object.assign({},e.texture.image);return this.texture.source=new Ed(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),r}(qc),Rd=function(e){x(r,e);var t=M(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return b(this,r),(e=t.call(this,n,i,o)).isWebGLRenderTarget=!0,e}return w(r)}(Md),Cd=function(e){x(r,e);var t=M(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return b(this,r),(e=t.call(this,null)).isDataArrayTexture=!0,e.image={data:n,width:i,height:o,depth:a},e.magFilter=oc,e.minFilter=oc,e.wrapR=nc,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return w(r)}(Td),Id=function(e){x(r,e);var t=M(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return b(this,r),(e=t.call(this,null)).isData3DTexture=!0,e.image={data:n,width:i,height:o,depth:a},e.magFilter=oc,e.minFilter=oc,e.wrapR=nc,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return w(r)}(Td),kd=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;b(this,t),this.isQuaternion=!0,this._x=e,this._y=r,this._z=n,this._w=i}return w(t,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"w",get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}},{key:"set",value:function(e,t,r,n){return this._x=e,this._y=t,this._z=r,this._w=n,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._w)}},{key:"copy",value:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}},{key:"setFromEuler",value:function(e,t){var r=e._x,n=e._y,i=e._z,o=e._order,a=Math.cos,s=Math.sin,l=a(r/2),u=a(n/2),c=a(i/2),d=s(r/2),f=s(n/2),h=s(i/2);switch(o){case"XYZ":this._x=d*u*c+l*f*h,this._y=l*f*c-d*u*h,this._z=l*u*h+d*f*c,this._w=l*u*c-d*f*h;break;case"YXZ":this._x=d*u*c+l*f*h,this._y=l*f*c-d*u*h,this._z=l*u*h-d*f*c,this._w=l*u*c+d*f*h;break;case"ZXY":this._x=d*u*c-l*f*h,this._y=l*f*c+d*u*h,this._z=l*u*h+d*f*c,this._w=l*u*c-d*f*h;break;case"ZYX":this._x=d*u*c-l*f*h,this._y=l*f*c+d*u*h,this._z=l*u*h-d*f*c,this._w=l*u*c+d*f*h;break;case"YZX":this._x=d*u*c+l*f*h,this._y=l*f*c+d*u*h,this._z=l*u*h-d*f*c,this._w=l*u*c-d*f*h;break;case"XZY":this._x=d*u*c-l*f*h,this._y=l*f*c-d*u*h,this._z=l*u*h+d*f*c,this._w=l*u*c+d*f*h;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return!1!==t&&this._onChangeCallback(),this}},{key:"setFromAxisAngle",value:function(e,t){var r=t/2,n=Math.sin(r);return this._x=e.x*n,this._y=e.y*n,this._z=e.z*n,this._w=Math.cos(r),this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=e.elements,r=t[0],n=t[4],i=t[8],o=t[1],a=t[5],s=t[9],l=t[2],u=t[6],c=t[10],d=r+a+c;if(d>0){var f=.5/Math.sqrt(d+1);this._w=.25/f,this._x=(u-s)*f,this._y=(i-l)*f,this._z=(o-n)*f}else if(r>a&&r>c){var h=2*Math.sqrt(1+r-a-c);this._w=(u-s)/h,this._x=.25*h,this._y=(n+o)/h,this._z=(i+l)/h}else if(a>c){var p=2*Math.sqrt(1+a-r-c);this._w=(i-l)/p,this._x=(n+o)/p,this._y=.25*p,this._z=(s+u)/p}else{var m=2*Math.sqrt(1+c-r-a);this._w=(o-n)/m,this._x=(i+l)/m,this._y=(s+u)/m,this._z=.25*m}return this._onChangeCallback(),this}},{key:"setFromUnitVectors",value:function(e,t){var r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}},{key:"angleTo",value:function(e){return 2*Math.acos(Math.abs($c(this.dot(e),-1,1)))}},{key:"rotateTowards",value:function(e,t){var r=this.angleTo(e);if(0===r)return this;var n=Math.min(1,t/r);return this.slerp(e,n),this}},{key:"identity",value:function(){return this.set(0,0,0,1)}},{key:"invert",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}},{key:"dot",value:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}},{key:"lengthSq",value:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}},{key:"length",value:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}},{key:"normalize",value:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}},{key:"multiply",value:function(e){return this.multiplyQuaternions(this,e)}},{key:"premultiply",value:function(e){return this.multiplyQuaternions(e,this)}},{key:"multiplyQuaternions",value:function(e,t){var r=e._x,n=e._y,i=e._z,o=e._w,a=t._x,s=t._y,l=t._z,u=t._w;return this._x=r*u+o*a+n*l-i*s,this._y=n*u+o*s+i*a-r*l,this._z=i*u+o*l+r*s-n*a,this._w=o*u-r*a-n*s-i*l,this._onChangeCallback(),this}},{key:"slerp",value:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var r=this._x,n=this._y,i=this._z,o=this._w,a=o*e._w+r*e._x+n*e._y+i*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=n,this._z=i,this;var s=1-a*a;if(s<=Number.EPSILON){var l=1-t;return this._w=l*o+t*this._w,this._x=l*r+t*this._x,this._y=l*n+t*this._y,this._z=l*i+t*this._z,this.normalize(),this._onChangeCallback(),this}var u=Math.sqrt(s),c=Math.atan2(u,a),d=Math.sin((1-t)*c)/u,f=Math.sin(t*c)/u;return this._w=o*d+this._w*f,this._x=r*d+this._x*f,this._y=n*d+this._y*f,this._z=i*d+this._z*f,this._onChangeCallback(),this}},{key:"slerpQuaternions",value:function(e,t,r){return this.copy(e).slerp(t,r)}},{key:"random",value:function(){var e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),n=2*Math.PI*Math.random(),i=2*Math.PI*Math.random();return this.set(t*Math.cos(n),r*Math.sin(i),r*Math.cos(i),t*Math.sin(n))}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}},{key:"fromBufferAttribute",value:function(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}},{key:"toJSON",value:function(){return this.toArray()}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}},{key:Symbol.iterator,value:ju().mark((function e(){return ju().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._x;case 2:return e.next=4,this._y;case 4:return e.next=6,this._z;case 6:return e.next=8,this._w;case 8:case"end":return e.stop()}}),e,this)}))}],[{key:"slerpFlat",value:function(e,t,r,n,i,o,a){var s=r[n+0],l=r[n+1],u=r[n+2],c=r[n+3],d=i[o+0],f=i[o+1],h=i[o+2],p=i[o+3];if(0===a)return e[t+0]=s,e[t+1]=l,e[t+2]=u,void(e[t+3]=c);if(1===a)return e[t+0]=d,e[t+1]=f,e[t+2]=h,void(e[t+3]=p);if(c!==p||s!==d||l!==f||u!==h){var m=1-a,g=s*d+l*f+u*h+c*p,y=g>=0?1:-1,v=1-g*g;if(v>Number.EPSILON){var b=Math.sqrt(v),_=Math.atan2(b,g*y);m=Math.sin(m*_)/b,a=Math.sin(a*_)/b}var w=a*y;if(s=s*m+d*w,l=l*m+f*w,u=u*m+h*w,c=c*m+p*w,m===1-a){var E=1/Math.sqrt(s*s+l*l+u*u+c*c);s*=E,l*=E,u*=E,c*=E}}e[t]=s,e[t+1]=l,e[t+2]=u,e[t+3]=c}},{key:"multiplyQuaternionsFlat",value:function(e,t,r,n,i,o){var a=r[n],s=r[n+1],l=r[n+2],u=r[n+3],c=i[o],d=i[o+1],f=i[o+2],h=i[o+3];return e[t]=a*h+u*c+s*f-l*d,e[t+1]=s*h+u*d+l*c-a*f,e[t+2]=l*h+u*f+a*d-s*c,e[t+3]=u*h-a*c-s*d-l*f,e}}]),t}(),Pd=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;b(this,t),t.prototype.isVector3=!0,this.x=e,this.y=r,this.z=n}return w(t,[{key:"set",value:function(e,t,r){return void 0===r&&(r=this.z),this.x=e,this.y=t,this.z=r,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this}},{key:"multiplyVectors",value:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}},{key:"applyEuler",value:function(e){return this.applyQuaternion(jd.setFromEuler(e))}},{key:"applyAxisAngle",value:function(e,t){return this.applyQuaternion(jd.setFromAxisAngle(e,t))}},{key:"applyMatrix3",value:function(e){var t=this.x,r=this.y,n=this.z,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6]*n,this.y=i[1]*t+i[4]*r+i[7]*n,this.z=i[2]*t+i[5]*r+i[8]*n,this}},{key:"applyNormalMatrix",value:function(e){return this.applyMatrix3(e).normalize()}},{key:"applyMatrix4",value:function(e){var t=this.x,r=this.y,n=this.z,i=e.elements,o=1/(i[3]*t+i[7]*r+i[11]*n+i[15]);return this.x=(i[0]*t+i[4]*r+i[8]*n+i[12])*o,this.y=(i[1]*t+i[5]*r+i[9]*n+i[13])*o,this.z=(i[2]*t+i[6]*r+i[10]*n+i[14])*o,this}},{key:"applyQuaternion",value:function(e){var t=this.x,r=this.y,n=this.z,i=e.x,o=e.y,a=e.z,s=e.w,l=s*t+o*n-a*r,u=s*r+a*t-i*n,c=s*n+i*r-o*t,d=-i*t-o*r-a*n;return this.x=l*s+d*-i+u*-a-c*-o,this.y=u*s+d*-o+c*-i-l*-a,this.z=c*s+d*-a+l*-o-u*-i,this}},{key:"project",value:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}},{key:"unproject",value:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}},{key:"transformDirection",value:function(e){var t=this.x,r=this.y,n=this.z,i=e.elements;return this.x=i[0]*t+i[4]*r+i[8]*n,this.y=i[1]*t+i[5]*r+i[9]*n,this.z=i[2]*t+i[6]*r+i[10]*n,this.normalize()}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}},{key:"clampLength",value:function(e,t){var r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}},{key:"lerpVectors",value:function(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}},{key:"cross",value:function(e){return this.crossVectors(this,e)}},{key:"crossVectors",value:function(e,t){var r=e.x,n=e.y,i=e.z,o=t.x,a=t.y,s=t.z;return this.x=n*s-i*a,this.y=i*o-r*s,this.z=r*a-n*o,this}},{key:"projectOnVector",value:function(e){var t=e.lengthSq();if(0===t)return this.set(0,0,0);var r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}},{key:"projectOnPlane",value:function(e){return Od.copy(this).projectOnVector(e),this.sub(Od)}},{key:"reflect",value:function(e){return this.sub(Od.copy(e).multiplyScalar(2*this.dot(e)))}},{key:"angleTo",value:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;var r=this.dot(e)/t;return Math.acos($c(r,-1,1))}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,r=this.y-e.y,n=this.z-e.z;return t*t+r*r+n*n}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}},{key:"setFromSpherical",value:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}},{key:"setFromSphericalCoords",value:function(e,t,r){var n=Math.sin(t)*e;return this.x=n*Math.sin(r),this.y=Math.cos(t)*e,this.z=n*Math.cos(r),this}},{key:"setFromCylindrical",value:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}},{key:"setFromCylindricalCoords",value:function(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}},{key:"setFromMatrixPosition",value:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}},{key:"setFromMatrixScale",value:function(e){var t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),n=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=n,this}},{key:"setFromMatrixColumn",value:function(e,t){return this.fromArray(e.elements,4*t)}},{key:"setFromMatrix3Column",value:function(e,t){return this.fromArray(e.elements,3*t)}},{key:"setFromEuler",value:function(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}},{key:"setFromColor",value:function(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}},{key:"randomDirection",value:function(){var e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,r=Math.sqrt(1-Math.pow(e,2));return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}},{key:Symbol.iterator,value:ju().mark((function e(){return ju().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:case"end":return e.stop()}}),e,this)}))}]),t}(),Od=new Pd,jd=new kd,Nd=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Pd(1/0,1/0,1/0),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Pd(-1/0,-1/0,-1/0);b(this,e),this.isBox3=!0,this.min=t,this.max=r}return w(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromArray",value:function(e){this.makeEmpty();for(var t=0,r=e.length;t<r;t+=3)this.expandByPoint(Dd.fromArray(e,t));return this}},{key:"setFromBufferAttribute",value:function(e){this.makeEmpty();for(var t=0,r=e.count;t<r;t++)this.expandByPoint(Dd.fromBufferAttribute(e,t));return this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var r=Dd.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}},{key:"setFromObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.makeEmpty(),this.expandByObject(e,t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}},{key:"getCenter",value:function(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"expandByObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.updateWorldMatrix(!1,!1),void 0!==e.boundingBox)null===e.boundingBox&&e.computeBoundingBox(),Fd.copy(e.boundingBox),Fd.applyMatrix4(e.matrixWorld),this.union(Fd);else{var r=e.geometry;if(void 0!==r)if(t&&void 0!==r.attributes&&void 0!==r.attributes.position)for(var n=r.attributes.position,i=0,o=n.count;i<o;i++)Dd.fromBufferAttribute(n,i).applyMatrix4(e.matrixWorld),this.expandByPoint(Dd);else null===r.boundingBox&&r.computeBoundingBox(),Fd.copy(r.boundingBox),Fd.applyMatrix4(e.matrixWorld),this.union(Fd)}for(var a=e.children,s=0,l=a.length;s<l;s++)this.expandByObject(a[s],t);return this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}},{key:"getParameter",value:function(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}},{key:"intersectsSphere",value:function(e){return this.clampPoint(e.center,Dd),Dd.distanceToSquared(e.center)<=e.radius*e.radius}},{key:"intersectsPlane",value:function(e){var t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}},{key:"intersectsTriangle",value:function(e){if(this.isEmpty())return!1;this.getCenter(Wd),Zd.subVectors(this.max,Wd),Ud.subVectors(e.a,Wd),Bd.subVectors(e.b,Wd),Gd.subVectors(e.c,Wd),zd.subVectors(Bd,Ud),Vd.subVectors(Gd,Bd),Hd.subVectors(Ud,Gd);var t=[0,-zd.z,zd.y,0,-Vd.z,Vd.y,0,-Hd.z,Hd.y,zd.z,0,-zd.x,Vd.z,0,-Vd.x,Hd.z,0,-Hd.x,-zd.y,zd.x,0,-Vd.y,Vd.x,0,-Hd.y,Hd.x,0];return!!Xd(t,Ud,Bd,Gd,Zd)&&(!!Xd(t=[1,0,0,0,1,0,0,0,1],Ud,Bd,Gd,Zd)&&(qd.crossVectors(zd,Vd),Xd(t=[qd.x,qd.y,qd.z],Ud,Bd,Gd,Zd)))}},{key:"clampPoint",value:function(e,t){return t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return this.clampPoint(e,Dd).distanceTo(e)}},{key:"getBoundingSphere",value:function(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(Dd).length()),e}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"applyMatrix4",value:function(e){return this.isEmpty()||(Ld[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Ld[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Ld[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Ld[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Ld[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Ld[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Ld[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Ld[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Ld)),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}(),Ld=[new Pd,new Pd,new Pd,new Pd,new Pd,new Pd,new Pd,new Pd],Dd=new Pd,Fd=new Nd,Ud=new Pd,Bd=new Pd,Gd=new Pd,zd=new Pd,Vd=new Pd,Hd=new Pd,Wd=new Pd,Zd=new Pd,qd=new Pd,Yd=new Pd;function Xd(e,t,r,n,i){for(var o=0,a=e.length-3;o<=a;o+=3){Yd.fromArray(e,o);var s=i.x*Math.abs(Yd.x)+i.y*Math.abs(Yd.y)+i.z*Math.abs(Yd.z),l=t.dot(Yd),u=r.dot(Yd),c=n.dot(Yd);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>s)return!1}return!0}var Kd=new Nd,Qd=new Pd,$d=new Pd,Jd=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Pd,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;b(this,e),this.center=t,this.radius=r}return w(e,[{key:"set",value:function(e,t){return this.center.copy(e),this.radius=t,this}},{key:"setFromPoints",value:function(e,t){var r=this.center;void 0!==t?r.copy(t):Kd.setFromPoints(e).getCenter(r);for(var n=0,i=0,o=e.length;i<o;i++)n=Math.max(n,r.distanceToSquared(e[i]));return this.radius=Math.sqrt(n),this}},{key:"copy",value:function(e){return this.center.copy(e.center),this.radius=e.radius,this}},{key:"isEmpty",value:function(){return this.radius<0}},{key:"makeEmpty",value:function(){return this.center.set(0,0,0),this.radius=-1,this}},{key:"containsPoint",value:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}},{key:"distanceToPoint",value:function(e){return e.distanceTo(this.center)-this.radius}},{key:"intersectsSphere",value:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}},{key:"intersectsBox",value:function(e){return e.intersectsSphere(this)}},{key:"intersectsPlane",value:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}},{key:"clampPoint",value:function(e,t){var r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}},{key:"getBoundingBox",value:function(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}},{key:"applyMatrix4",value:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}},{key:"translate",value:function(e){return this.center.add(e),this}},{key:"expandByPoint",value:function(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Qd.subVectors(e,this.center);var t=Qd.lengthSq();if(t>this.radius*this.radius){var r=Math.sqrt(t),n=.5*(r-this.radius);this.center.addScaledVector(Qd,n/r),this.radius+=n}return this}},{key:"union",value:function(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):($d.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Qd.copy(e.center).add($d)),this.expandByPoint(Qd.copy(e.center).sub($d))),this)}},{key:"equals",value:function(e){return e.center.equals(this.center)&&e.radius===this.radius}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),ef=new Pd,tf=new Pd,rf=new Pd,nf=new Pd,of=new Pd,af=new Pd,sf=new Pd,lf=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Pd,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Pd(0,0,-1);b(this,e),this.origin=t,this.direction=r}return w(e,[{key:"set",value:function(e,t){return this.origin.copy(e),this.direction.copy(t),this}},{key:"copy",value:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}},{key:"at",value:function(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}},{key:"lookAt",value:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this}},{key:"recast",value:function(e){return this.origin.copy(this.at(e,ef)),this}},{key:"closestPointToPoint",value:function(e,t){t.subVectors(e,this.origin);var r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,r)}},{key:"distanceToPoint",value:function(e){return Math.sqrt(this.distanceSqToPoint(e))}},{key:"distanceSqToPoint",value:function(e){var t=ef.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(ef.copy(this.origin).addScaledVector(this.direction,t),ef.distanceToSquared(e))}},{key:"distanceSqToSegment",value:function(e,t,r,n){tf.copy(e).add(t).multiplyScalar(.5),rf.copy(t).sub(e).normalize(),nf.copy(this.origin).sub(tf);var i,o,a,s,l=.5*e.distanceTo(t),u=-this.direction.dot(rf),c=nf.dot(this.direction),d=-nf.dot(rf),f=nf.lengthSq(),h=Math.abs(1-u*u);if(h>0)if(o=u*c-d,s=l*h,(i=u*d-c)>=0)if(o>=-s)if(o<=s){var p=1/h;a=(i*=p)*(i+u*(o*=p)+2*c)+o*(u*i+o+2*d)+f}else o=l,a=-(i=Math.max(0,-(u*o+c)))*i+o*(o+2*d)+f;else o=-l,a=-(i=Math.max(0,-(u*o+c)))*i+o*(o+2*d)+f;else o<=-s?a=-(i=Math.max(0,-(-u*l+c)))*i+(o=i>0?-l:Math.min(Math.max(-l,-d),l))*(o+2*d)+f:o<=s?(i=0,a=(o=Math.min(Math.max(-l,-d),l))*(o+2*d)+f):a=-(i=Math.max(0,-(u*l+c)))*i+(o=i>0?l:Math.min(Math.max(-l,-d),l))*(o+2*d)+f;else o=u>0?-l:l,a=-(i=Math.max(0,-(u*o+c)))*i+o*(o+2*d)+f;return r&&r.copy(this.origin).addScaledVector(this.direction,i),n&&n.copy(tf).addScaledVector(rf,o),a}},{key:"intersectSphere",value:function(e,t){ef.subVectors(e.center,this.origin);var r=ef.dot(this.direction),n=ef.dot(ef)-r*r,i=e.radius*e.radius;if(n>i)return null;var o=Math.sqrt(i-n),a=r-o,s=r+o;return s<0?null:a<0?this.at(s,t):this.at(a,t)}},{key:"intersectsSphere",value:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}},{key:"distanceToPlane",value:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}},{key:"intersectPlane",value:function(e,t){var r=this.distanceToPlane(e);return null===r?null:this.at(r,t)}},{key:"intersectsPlane",value:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}},{key:"intersectBox",value:function(e,t){var r,n,i,o,a,s,l=1/this.direction.x,u=1/this.direction.y,c=1/this.direction.z,d=this.origin;return l>=0?(r=(e.min.x-d.x)*l,n=(e.max.x-d.x)*l):(r=(e.max.x-d.x)*l,n=(e.min.x-d.x)*l),u>=0?(i=(e.min.y-d.y)*u,o=(e.max.y-d.y)*u):(i=(e.max.y-d.y)*u,o=(e.min.y-d.y)*u),r>o||i>n?null:((i>r||isNaN(r))&&(r=i),(o<n||isNaN(n))&&(n=o),c>=0?(a=(e.min.z-d.z)*c,s=(e.max.z-d.z)*c):(a=(e.max.z-d.z)*c,s=(e.min.z-d.z)*c),r>s||a>n?null:((a>r||r!==r)&&(r=a),(s<n||n!==n)&&(n=s),n<0?null:this.at(r>=0?r:n,t)))}},{key:"intersectsBox",value:function(e){return null!==this.intersectBox(e,ef)}},{key:"intersectTriangle",value:function(e,t,r,n,i){of.subVectors(t,e),af.subVectors(r,e),sf.crossVectors(of,af);var o,a=this.direction.dot(sf);if(a>0){if(n)return null;o=1}else{if(!(a<0))return null;o=-1,a=-a}nf.subVectors(this.origin,e);var s=o*this.direction.dot(af.crossVectors(nf,af));if(s<0)return null;var l=o*this.direction.dot(of.cross(nf));if(l<0)return null;if(s+l>a)return null;var u=-o*nf.dot(sf);return u<0?null:this.at(u/a,i)}},{key:"applyMatrix4",value:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}},{key:"equals",value:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),uf=function(){function e(t,r,n,i,o,a,s,l,u,c,d,f,h,p,m,g){b(this,e),e.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==t&&this.set(t,r,n,i,o,a,s,l,u,c,d,f,h,p,m,g)}return w(e,[{key:"set",value:function(e,t,r,n,i,o,a,s,l,u,c,d,f,h,p,m){var g=this.elements;return g[0]=e,g[4]=t,g[8]=r,g[12]=n,g[1]=i,g[5]=o,g[9]=a,g[13]=s,g[2]=l,g[6]=u,g[10]=c,g[14]=d,g[3]=f,g[7]=h,g[11]=p,g[15]=m,this}},{key:"identity",value:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}},{key:"clone",value:function(){return(new e).fromArray(this.elements)}},{key:"copy",value:function(e){var t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}},{key:"copyPosition",value:function(e){var t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}},{key:"setFromMatrix3",value:function(e){var t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}},{key:"extractBasis",value:function(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}},{key:"makeBasis",value:function(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}},{key:"extractRotation",value:function(e){var t=this.elements,r=e.elements,n=1/cf.setFromMatrixColumn(e,0).length(),i=1/cf.setFromMatrixColumn(e,1).length(),o=1/cf.setFromMatrixColumn(e,2).length();return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=0,t[4]=r[4]*i,t[5]=r[5]*i,t[6]=r[6]*i,t[7]=0,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromEuler",value:function(e){var t=this.elements,r=e.x,n=e.y,i=e.z,o=Math.cos(r),a=Math.sin(r),s=Math.cos(n),l=Math.sin(n),u=Math.cos(i),c=Math.sin(i);if("XYZ"===e.order){var d=o*u,f=o*c,h=a*u,p=a*c;t[0]=s*u,t[4]=-s*c,t[8]=l,t[1]=f+h*l,t[5]=d-p*l,t[9]=-a*s,t[2]=p-d*l,t[6]=h+f*l,t[10]=o*s}else if("YXZ"===e.order){var m=s*u,g=s*c,y=l*u,v=l*c;t[0]=m+v*a,t[4]=y*a-g,t[8]=o*l,t[1]=o*c,t[5]=o*u,t[9]=-a,t[2]=g*a-y,t[6]=v+m*a,t[10]=o*s}else if("ZXY"===e.order){var b=s*u,_=s*c,w=l*u,E=l*c;t[0]=b-E*a,t[4]=-o*c,t[8]=w+_*a,t[1]=_+w*a,t[5]=o*u,t[9]=E-b*a,t[2]=-o*l,t[6]=a,t[10]=o*s}else if("ZYX"===e.order){var x=o*u,S=o*c,T=a*u,A=a*c;t[0]=s*u,t[4]=T*l-S,t[8]=x*l+A,t[1]=s*c,t[5]=A*l+x,t[9]=S*l-T,t[2]=-l,t[6]=a*s,t[10]=o*s}else if("YZX"===e.order){var M=o*s,R=o*l,C=a*s,I=a*l;t[0]=s*u,t[4]=I-M*c,t[8]=C*c+R,t[1]=c,t[5]=o*u,t[9]=-a*u,t[2]=-l*u,t[6]=R*c+C,t[10]=M-I*c}else if("XZY"===e.order){var k=o*s,P=o*l,O=a*s,j=a*l;t[0]=s*u,t[4]=-c,t[8]=l*u,t[1]=k*c+j,t[5]=o*u,t[9]=P*c-O,t[2]=O*c-P,t[6]=a*u,t[10]=j*c+k}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromQuaternion",value:function(e){return this.compose(ff,e,hf)}},{key:"lookAt",value:function(e,t,r){var n=this.elements;return gf.subVectors(e,t),0===gf.lengthSq()&&(gf.z=1),gf.normalize(),pf.crossVectors(r,gf),0===pf.lengthSq()&&(1===Math.abs(r.z)?gf.x+=1e-4:gf.z+=1e-4,gf.normalize(),pf.crossVectors(r,gf)),pf.normalize(),mf.crossVectors(gf,pf),n[0]=pf.x,n[4]=mf.x,n[8]=gf.x,n[1]=pf.y,n[5]=mf.y,n[9]=gf.y,n[2]=pf.z,n[6]=mf.z,n[10]=gf.z,this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var r=e.elements,n=t.elements,i=this.elements,o=r[0],a=r[4],s=r[8],l=r[12],u=r[1],c=r[5],d=r[9],f=r[13],h=r[2],p=r[6],m=r[10],g=r[14],y=r[3],v=r[7],b=r[11],_=r[15],w=n[0],E=n[4],x=n[8],S=n[12],T=n[1],A=n[5],M=n[9],R=n[13],C=n[2],I=n[6],k=n[10],P=n[14],O=n[3],j=n[7],N=n[11],L=n[15];return i[0]=o*w+a*T+s*C+l*O,i[4]=o*E+a*A+s*I+l*j,i[8]=o*x+a*M+s*k+l*N,i[12]=o*S+a*R+s*P+l*L,i[1]=u*w+c*T+d*C+f*O,i[5]=u*E+c*A+d*I+f*j,i[9]=u*x+c*M+d*k+f*N,i[13]=u*S+c*R+d*P+f*L,i[2]=h*w+p*T+m*C+g*O,i[6]=h*E+p*A+m*I+g*j,i[10]=h*x+p*M+m*k+g*N,i[14]=h*S+p*R+m*P+g*L,i[3]=y*w+v*T+b*C+_*O,i[7]=y*E+v*A+b*I+_*j,i[11]=y*x+v*M+b*k+_*N,i[15]=y*S+v*R+b*P+_*L,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],r=e[4],n=e[8],i=e[12],o=e[1],a=e[5],s=e[9],l=e[13],u=e[2],c=e[6],d=e[10],f=e[14];return e[3]*(+i*s*c-n*l*c-i*a*d+r*l*d+n*a*f-r*s*f)+e[7]*(+t*s*f-t*l*d+i*o*d-n*o*f+n*l*u-i*s*u)+e[11]*(+t*l*c-t*a*f-i*o*c+r*o*f+i*a*u-r*l*u)+e[15]*(-n*a*u-t*s*c+t*a*d+n*o*c-r*o*d+r*s*u)}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}},{key:"setPosition",value:function(e,t,r){var n=this.elements;return e.isVector3?(n[12]=e.x,n[13]=e.y,n[14]=e.z):(n[12]=e,n[13]=t,n[14]=r),this}},{key:"invert",value:function(){var e=this.elements,t=e[0],r=e[1],n=e[2],i=e[3],o=e[4],a=e[5],s=e[6],l=e[7],u=e[8],c=e[9],d=e[10],f=e[11],h=e[12],p=e[13],m=e[14],g=e[15],y=c*m*l-p*d*l+p*s*f-a*m*f-c*s*g+a*d*g,v=h*d*l-u*m*l-h*s*f+o*m*f+u*s*g-o*d*g,b=u*p*l-h*c*l+h*a*f-o*p*f-u*a*g+o*c*g,_=h*c*s-u*p*s-h*a*d+o*p*d+u*a*m-o*c*m,w=t*y+r*v+n*b+i*_;if(0===w)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var E=1/w;return e[0]=y*E,e[1]=(p*d*i-c*m*i-p*n*f+r*m*f+c*n*g-r*d*g)*E,e[2]=(a*m*i-p*s*i+p*n*l-r*m*l-a*n*g+r*s*g)*E,e[3]=(c*s*i-a*d*i-c*n*l+r*d*l+a*n*f-r*s*f)*E,e[4]=v*E,e[5]=(u*m*i-h*d*i+h*n*f-t*m*f-u*n*g+t*d*g)*E,e[6]=(h*s*i-o*m*i-h*n*l+t*m*l+o*n*g-t*s*g)*E,e[7]=(o*d*i-u*s*i+u*n*l-t*d*l-o*n*f+t*s*f)*E,e[8]=b*E,e[9]=(h*c*i-u*p*i-h*r*f+t*p*f+u*r*g-t*c*g)*E,e[10]=(o*p*i-h*a*i+h*r*l-t*p*l-o*r*g+t*a*g)*E,e[11]=(u*a*i-o*c*i-u*r*l+t*c*l+o*r*f-t*a*f)*E,e[12]=_*E,e[13]=(u*p*n-h*c*n+h*r*d-t*p*d-u*r*m+t*c*m)*E,e[14]=(h*a*n-o*p*n-h*r*s+t*p*s+o*r*m-t*a*m)*E,e[15]=(o*c*n-u*a*n+u*r*s-t*c*s-o*r*d+t*a*d)*E,this}},{key:"scale",value:function(e){var t=this.elements,r=e.x,n=e.y,i=e.z;return t[0]*=r,t[4]*=n,t[8]*=i,t[1]*=r,t[5]*=n,t[9]*=i,t[2]*=r,t[6]*=n,t[10]*=i,t[3]*=r,t[7]*=n,t[11]*=i,this}},{key:"getMaxScaleOnAxis",value:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],n=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,n))}},{key:"makeTranslation",value:function(e,t,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}},{key:"makeRotationX",value:function(e){var t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}},{key:"makeRotationY",value:function(e){var t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}},{key:"makeRotationZ",value:function(e){var t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}},{key:"makeRotationAxis",value:function(e,t){var r=Math.cos(t),n=Math.sin(t),i=1-r,o=e.x,a=e.y,s=e.z,l=i*o,u=i*a;return this.set(l*o+r,l*a-n*s,l*s+n*a,0,l*a+n*s,u*a+r,u*s-n*o,0,l*s-n*a,u*s+n*o,i*s*s+r,0,0,0,0,1),this}},{key:"makeScale",value:function(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}},{key:"makeShear",value:function(e,t,r,n,i,o){return this.set(1,r,i,0,e,1,o,0,t,n,1,0,0,0,0,1),this}},{key:"compose",value:function(e,t,r){var n=this.elements,i=t._x,o=t._y,a=t._z,s=t._w,l=i+i,u=o+o,c=a+a,d=i*l,f=i*u,h=i*c,p=o*u,m=o*c,g=a*c,y=s*l,v=s*u,b=s*c,_=r.x,w=r.y,E=r.z;return n[0]=(1-(p+g))*_,n[1]=(f+b)*_,n[2]=(h-v)*_,n[3]=0,n[4]=(f-b)*w,n[5]=(1-(d+g))*w,n[6]=(m+y)*w,n[7]=0,n[8]=(h+v)*E,n[9]=(m-y)*E,n[10]=(1-(d+p))*E,n[11]=0,n[12]=e.x,n[13]=e.y,n[14]=e.z,n[15]=1,this}},{key:"decompose",value:function(e,t,r){var n=this.elements,i=cf.set(n[0],n[1],n[2]).length(),o=cf.set(n[4],n[5],n[6]).length(),a=cf.set(n[8],n[9],n[10]).length();this.determinant()<0&&(i=-i),e.x=n[12],e.y=n[13],e.z=n[14],df.copy(this);var s=1/i,l=1/o,u=1/a;return df.elements[0]*=s,df.elements[1]*=s,df.elements[2]*=s,df.elements[4]*=l,df.elements[5]*=l,df.elements[6]*=l,df.elements[8]*=u,df.elements[9]*=u,df.elements[10]*=u,t.setFromRotationMatrix(df),r.x=i,r.y=o,r.z=a,this}},{key:"makePerspective",value:function(e,t,r,n,i,o){var a,s,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Wc,u=this.elements,c=2*i/(t-e),d=2*i/(r-n),f=(t+e)/(t-e),h=(r+n)/(r-n);if(l===Wc)a=-(o+i)/(o-i),s=-2*o*i/(o-i);else{if(l!==Zc)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+l);a=-o/(o-i),s=-o*i/(o-i)}return u[0]=c,u[4]=0,u[8]=f,u[12]=0,u[1]=0,u[5]=d,u[9]=h,u[13]=0,u[2]=0,u[6]=0,u[10]=a,u[14]=s,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}},{key:"makeOrthographic",value:function(e,t,r,n,i,o){var a,s,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Wc,u=this.elements,c=1/(t-e),d=1/(r-n),f=1/(o-i),h=(t+e)*c,p=(r+n)*d;if(l===Wc)a=(o+i)*f,s=-2*f;else{if(l!==Zc)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+l);a=i*f,s=-1*f}return u[0]=2*c,u[4]=0,u[8]=0,u[12]=-h,u[1]=0,u[5]=2*d,u[9]=0,u[13]=-p,u[2]=0,u[6]=0,u[10]=s,u[14]=-a,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}},{key:"equals",value:function(e){for(var t=this.elements,r=e.elements,n=0;n<16;n++)if(t[n]!==r[n])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=0;r<16;r++)this.elements[r]=e[r+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}]),e}(),cf=new Pd,df=new uf,ff=new Pd(0,0,0),hf=new Pd(1,1,1),pf=new Pd,mf=new Pd,gf=new Pd,yf=new uf,vf=new kd,bf=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.DEFAULT_ORDER;b(this,t),this.isEuler=!0,this._x=e,this._y=r,this._z=n,this._order=i}return w(t,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"order",get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}},{key:"set",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._order;return this._x=e,this._y=t,this._z=r,this._order=n,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._order)}},{key:"copy",value:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=e.elements,i=n[0],o=n[4],a=n[8],s=n[1],l=n[5],u=n[9],c=n[2],d=n[6],f=n[10];switch(t){case"XYZ":this._y=Math.asin($c(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,f),this._z=Math.atan2(-o,i)):(this._x=Math.atan2(d,l),this._z=0);break;case"YXZ":this._x=Math.asin(-$c(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,f),this._z=Math.atan2(s,l)):(this._y=Math.atan2(-c,i),this._z=0);break;case"ZXY":this._x=Math.asin($c(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-c,f),this._z=Math.atan2(-o,l)):(this._y=0,this._z=Math.atan2(s,i));break;case"ZYX":this._y=Math.asin(-$c(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(d,f),this._z=Math.atan2(s,i)):(this._x=0,this._z=Math.atan2(-o,l));break;case"YZX":this._z=Math.asin($c(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-u,l),this._y=Math.atan2(-c,i)):(this._x=0,this._y=Math.atan2(a,f));break;case"XZY":this._z=Math.asin(-$c(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(d,l),this._y=Math.atan2(a,i)):(this._x=Math.atan2(-u,f),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===r&&this._onChangeCallback(),this}},{key:"setFromQuaternion",value:function(e,t,r){return yf.makeRotationFromQuaternion(e),this.setFromRotationMatrix(yf,t,r)}},{key:"setFromVector3",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order;return this.set(e.x,e.y,e.z,t)}},{key:"reorder",value:function(e){return vf.setFromEuler(this),this.setFromQuaternion(vf,e)}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}},{key:"fromArray",value:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}},{key:Symbol.iterator,value:ju().mark((function e(){return ju().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._x;case 2:return e.next=4,this._y;case 4:return e.next=6,this._z;case 6:return e.next=8,this._order;case 8:case"end":return e.stop()}}),e,this)}))}]),t}();bf.DEFAULT_ORDER="XYZ";var _f=function(){function e(){b(this,e),this.mask=1}return w(e,[{key:"set",value:function(e){this.mask=(1<<e|0)>>>0}},{key:"enable",value:function(e){this.mask|=1<<e|0}},{key:"enableAll",value:function(){this.mask=-1}},{key:"toggle",value:function(e){this.mask^=1<<e|0}},{key:"disable",value:function(e){this.mask&=~(1<<e|0)}},{key:"disableAll",value:function(){this.mask=0}},{key:"test",value:function(e){return 0!==(this.mask&e.mask)}},{key:"isEnabled",value:function(e){return 0!==(this.mask&(1<<e|0))}}]),e}(),wf=0,Ef=new Pd,xf=new kd,Sf=new uf,Tf=new Pd,Af=new Pd,Mf=new Pd,Rf=new kd,Cf=new Pd(1,0,0),If=new Pd(0,1,0),kf=new Pd(0,0,1),Pf={type:"added"},Of={type:"removed"},jf=function(e){x(r,e);var t=M(r);function r(){var e;b(this,r),(e=t.call(this)).isObject3D=!0,Object.defineProperty(A(e),"id",{value:wf++}),e.uuid=Qc(),e.name="",e.type="Object3D",e.parent=null,e.children=[],e.up=r.DEFAULT_UP.clone();var n=new Pd,i=new bf,o=new kd,a=new Pd(1,1,1);return i._onChange((function(){o.setFromEuler(i,!1)})),o._onChange((function(){i.setFromQuaternion(o,void 0,!1)})),Object.defineProperties(A(e),{position:{configurable:!0,enumerable:!0,value:n},rotation:{configurable:!0,enumerable:!0,value:i},quaternion:{configurable:!0,enumerable:!0,value:o},scale:{configurable:!0,enumerable:!0,value:a},modelViewMatrix:{value:new uf},normalMatrix:{value:new ad}}),e.matrix=new uf,e.matrixWorld=new uf,e.matrixAutoUpdate=r.DEFAULT_MATRIX_AUTO_UPDATE,e.matrixWorldNeedsUpdate=!1,e.matrixWorldAutoUpdate=r.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,e.layers=new _f,e.visible=!0,e.castShadow=!1,e.receiveShadow=!1,e.frustumCulled=!0,e.renderOrder=0,e.animations=[],e.userData={},e}return w(r,[{key:"onBeforeRender",value:function(){}},{key:"onAfterRender",value:function(){}},{key:"applyMatrix4",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}},{key:"applyQuaternion",value:function(e){return this.quaternion.premultiply(e),this}},{key:"setRotationFromAxisAngle",value:function(e,t){this.quaternion.setFromAxisAngle(e,t)}},{key:"setRotationFromEuler",value:function(e){this.quaternion.setFromEuler(e,!0)}},{key:"setRotationFromMatrix",value:function(e){this.quaternion.setFromRotationMatrix(e)}},{key:"setRotationFromQuaternion",value:function(e){this.quaternion.copy(e)}},{key:"rotateOnAxis",value:function(e,t){return xf.setFromAxisAngle(e,t),this.quaternion.multiply(xf),this}},{key:"rotateOnWorldAxis",value:function(e,t){return xf.setFromAxisAngle(e,t),this.quaternion.premultiply(xf),this}},{key:"rotateX",value:function(e){return this.rotateOnAxis(Cf,e)}},{key:"rotateY",value:function(e){return this.rotateOnAxis(If,e)}},{key:"rotateZ",value:function(e){return this.rotateOnAxis(kf,e)}},{key:"translateOnAxis",value:function(e,t){return Ef.copy(e).applyQuaternion(this.quaternion),this.position.add(Ef.multiplyScalar(t)),this}},{key:"translateX",value:function(e){return this.translateOnAxis(Cf,e)}},{key:"translateY",value:function(e){return this.translateOnAxis(If,e)}},{key:"translateZ",value:function(e){return this.translateOnAxis(kf,e)}},{key:"localToWorld",value:function(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}},{key:"worldToLocal",value:function(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Sf.copy(this.matrixWorld).invert())}},{key:"lookAt",value:function(e,t,r){e.isVector3?Tf.copy(e):Tf.set(e,t,r);var n=this.parent;this.updateWorldMatrix(!0,!1),Af.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Sf.lookAt(Af,Tf,this.up):Sf.lookAt(Tf,Af,this.up),this.quaternion.setFromRotationMatrix(Sf),n&&(Sf.extractRotation(n.matrixWorld),xf.setFromRotationMatrix(Sf),this.quaternion.premultiply(xf.invert()))}},{key:"add",value:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Pf)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}},{key:"remove",value:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var r=this.children.indexOf(e);return-1!==r&&(e.parent=null,this.children.splice(r,1),e.dispatchEvent(Of)),this}},{key:"removeFromParent",value:function(){var e=this.parent;return null!==e&&e.remove(this),this}},{key:"clear",value:function(){return this.remove.apply(this,v(this.children))}},{key:"attach",value:function(e){return this.updateWorldMatrix(!0,!1),Sf.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),Sf.multiply(e.parent.matrixWorld)),e.applyMatrix4(Sf),this.add(e),e.updateWorldMatrix(!1,!0),this}},{key:"getObjectById",value:function(e){return this.getObjectByProperty("id",e)}},{key:"getObjectByName",value:function(e){return this.getObjectByProperty("name",e)}},{key:"getObjectByProperty",value:function(e,t){if(this[e]===t)return this;for(var r=0,n=this.children.length;r<n;r++){var i=this.children[r].getObjectByProperty(e,t);if(void 0!==i)return i}}},{key:"getObjectsByProperty",value:function(e,t){var r=[];this[e]===t&&r.push(this);for(var n=0,i=this.children.length;n<i;n++){var o=this.children[n].getObjectsByProperty(e,t);o.length>0&&(r=r.concat(o))}return r}},{key:"getWorldPosition",value:function(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}},{key:"getWorldQuaternion",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Af,e,Mf),e}},{key:"getWorldScale",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Af,Rf,e),e}},{key:"getWorldDirection",value:function(e){this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}},{key:"raycast",value:function(){}},{key:"traverse",value:function(e){e(this);for(var t=this.children,r=0,n=t.length;r<n;r++)t[r].traverse(e)}},{key:"traverseVisible",value:function(e){if(!1!==this.visible){e(this);for(var t=this.children,r=0,n=t.length;r<n;r++)t[r].traverseVisible(e)}}},{key:"traverseAncestors",value:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}},{key:"updateMatrix",value:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}},{key:"updateMatrixWorld",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,r=0,n=t.length;r<n;r++){var i=t[r];!0!==i.matrixWorldAutoUpdate&&!0!==e||i.updateMatrixWorld(e)}}},{key:"updateWorldMatrix",value:function(e,t){var r=this.parent;if(!0===e&&null!==r&&!0===r.matrixWorldAutoUpdate&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var n=this.children,i=0,o=n.length;i<o;i++){var a=n[i];!0===a.matrixWorldAutoUpdate&&a.updateWorldMatrix(!1,!0)}}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e,r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});var n={};function i(t,r){return void 0===t[r.uuid]&&(t[r.uuid]=r.toJSON(e)),r.uuid}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),!0===this.castShadow&&(n.castShadow=!0),!0===this.receiveShadow&&(n.receiveShadow=!0),!1===this.visible&&(n.visible=!1),!1===this.frustumCulled&&(n.frustumCulled=!1),0!==this.renderOrder&&(n.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(n.userData=this.userData),n.layers=this.layers.mask,n.matrix=this.matrix.toArray(),n.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(n.matrixAutoUpdate=!1),this.isInstancedMesh&&(n.type="InstancedMesh",n.count=this.count,n.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(n.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?n.background=this.background.toJSON():this.background.isTexture&&(n.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(n.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){n.geometry=i(e.geometries,this.geometry);var o=this.geometry.parameters;if(void 0!==o&&void 0!==o.shapes){var a=o.shapes;if(Array.isArray(a))for(var s=0,l=a.length;s<l;s++){var u=a[s];i(e.shapes,u)}else i(e.shapes,a)}}if(this.isSkinnedMesh&&(n.bindMode=this.bindMode,n.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(e.skeletons,this.skeleton),n.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){for(var c=[],d=0,f=this.material.length;d<f;d++)c.push(i(e.materials,this.material[d]));n.material=c}else n.material=i(e.materials,this.material);if(this.children.length>0){n.children=[];for(var h=0;h<this.children.length;h++)n.children.push(this.children[h].toJSON(e).object)}if(this.animations.length>0){n.animations=[];for(var p=0;p<this.animations.length;p++){var m=this.animations[p];n.animations.push(i(e.animations,m))}}if(t){var g=S(e.geometries),y=S(e.materials),v=S(e.textures),b=S(e.images),_=S(e.shapes),w=S(e.skeletons),E=S(e.animations),x=S(e.nodes);g.length>0&&(r.geometries=g),y.length>0&&(r.materials=y),v.length>0&&(r.textures=v),b.length>0&&(r.images=b),_.length>0&&(r.shapes=_),w.length>0&&(r.skeletons=w),E.length>0&&(r.animations=E),x.length>0&&(r.nodes=x)}return r.object=n,r;function S(e){var t=[];for(var r in e){var n=e[r];delete n.metadata,t.push(n)}return t}}},{key:"clone",value:function(e){return(new this.constructor).copy(this,e)}},{key:"copy",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var r=0;r<e.children.length;r++){var n=e.children[r];this.add(n.clone())}return this}}]),r}(qc);jf.DEFAULT_UP=new Pd(0,1,0),jf.DEFAULT_MATRIX_AUTO_UPDATE=!0,jf.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;var Nf=new Pd,Lf=new Pd,Df=new Pd,Ff=new Pd,Uf=new Pd,Bf=new Pd,Gf=new Pd,zf=new Pd,Vf=new Pd,Hf=new Pd,Wf=!1,Zf=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Pd,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Pd,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Pd;b(this,e),this.a=t,this.b=r,this.c=n}return w(e,[{key:"set",value:function(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}},{key:"setFromPointsAndIndices",value:function(e,t,r,n){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[n]),this}},{key:"setFromAttributeAndIndices",value:function(e,t,r,n){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,n),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}},{key:"getArea",value:function(){return Nf.subVectors(this.c,this.b),Lf.subVectors(this.a,this.b),.5*Nf.cross(Lf).length()}},{key:"getMidpoint",value:function(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}},{key:"getNormal",value:function(t){return e.getNormal(this.a,this.b,this.c,t)}},{key:"getPlane",value:function(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}},{key:"getBarycoord",value:function(t,r){return e.getBarycoord(t,this.a,this.b,this.c,r)}},{key:"getUV",value:function(t,r,n,i,o){return!1===Wf&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Wf=!0),e.getInterpolation(t,this.a,this.b,this.c,r,n,i,o)}},{key:"getInterpolation",value:function(t,r,n,i,o){return e.getInterpolation(t,this.a,this.b,this.c,r,n,i,o)}},{key:"containsPoint",value:function(t){return e.containsPoint(t,this.a,this.b,this.c)}},{key:"isFrontFacing",value:function(t){return e.isFrontFacing(this.a,this.b,this.c,t)}},{key:"intersectsBox",value:function(e){return e.intersectsTriangle(this)}},{key:"closestPointToPoint",value:function(e,t){var r,n,i=this.a,o=this.b,a=this.c;Uf.subVectors(o,i),Bf.subVectors(a,i),zf.subVectors(e,i);var s=Uf.dot(zf),l=Bf.dot(zf);if(s<=0&&l<=0)return t.copy(i);Vf.subVectors(e,o);var u=Uf.dot(Vf),c=Bf.dot(Vf);if(u>=0&&c<=u)return t.copy(o);var d=s*c-u*l;if(d<=0&&s>=0&&u<=0)return r=s/(s-u),t.copy(i).addScaledVector(Uf,r);Hf.subVectors(e,a);var f=Uf.dot(Hf),h=Bf.dot(Hf);if(h>=0&&f<=h)return t.copy(a);var p=f*l-s*h;if(p<=0&&l>=0&&h<=0)return n=l/(l-h),t.copy(i).addScaledVector(Bf,n);var m=u*h-f*c;if(m<=0&&c-u>=0&&f-h>=0)return Gf.subVectors(a,o),n=(c-u)/(c-u+(f-h)),t.copy(o).addScaledVector(Gf,n);var g=1/(m+p+d);return r=p*g,n=d*g,t.copy(i).addScaledVector(Uf,r).addScaledVector(Bf,n)}},{key:"equals",value:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}],[{key:"getNormal",value:function(e,t,r,n){n.subVectors(r,t),Nf.subVectors(e,t),n.cross(Nf);var i=n.lengthSq();return i>0?n.multiplyScalar(1/Math.sqrt(i)):n.set(0,0,0)}},{key:"getBarycoord",value:function(e,t,r,n,i){Nf.subVectors(n,t),Lf.subVectors(r,t),Df.subVectors(e,t);var o=Nf.dot(Nf),a=Nf.dot(Lf),s=Nf.dot(Df),l=Lf.dot(Lf),u=Lf.dot(Df),c=o*l-a*a;if(0===c)return i.set(-2,-1,-1);var d=1/c,f=(l*s-a*u)*d,h=(o*u-a*s)*d;return i.set(1-f-h,h,f)}},{key:"containsPoint",value:function(e,t,r,n){return this.getBarycoord(e,t,r,n,Ff),Ff.x>=0&&Ff.y>=0&&Ff.x+Ff.y<=1}},{key:"getUV",value:function(e,t,r,n,i,o,a,s){return!1===Wf&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Wf=!0),this.getInterpolation(e,t,r,n,i,o,a,s)}},{key:"getInterpolation",value:function(e,t,r,n,i,o,a,s){return this.getBarycoord(e,t,r,n,Ff),s.setScalar(0),s.addScaledVector(i,Ff.x),s.addScaledVector(o,Ff.y),s.addScaledVector(a,Ff.z),s}},{key:"isFrontFacing",value:function(e,t,r,n){return Nf.subVectors(r,t),Lf.subVectors(e,t),Nf.cross(Lf).dot(n)<0}}]),e}(),qf=0,Yf=function(e){x(r,e);var t=M(r);function r(){var e;return b(this,r),(e=t.call(this)).isMaterial=!0,Object.defineProperty(A(e),"id",{value:qf++}),e.uuid=Qc(),e.name="",e.type="Material",e.blending=1,e.side=Uu,e.vertexColors=!1,e.opacity=1,e.transparent=!1,e.alphaHash=!1,e.blendSrc=204,e.blendDst=205,e.blendEquation=Gu,e.blendSrcAlpha=null,e.blendDstAlpha=null,e.blendEquationAlpha=null,e.depthFunc=3,e.depthTest=!0,e.depthWrite=!0,e.stencilWriteMask=255,e.stencilFunc=519,e.stencilRef=0,e.stencilFuncMask=255,e.stencilFail=Gc,e.stencilZFail=Gc,e.stencilZPass=Gc,e.stencilWrite=!1,e.clippingPlanes=null,e.clipIntersection=!1,e.clipShadows=!1,e.shadowSide=null,e.colorWrite=!0,e.precision=null,e.polygonOffset=!1,e.polygonOffsetFactor=0,e.polygonOffsetUnits=0,e.dithering=!1,e.alphaToCoverage=!1,e.premultipliedAlpha=!1,e.forceSinglePass=!1,e.visible=!0,e.toneMapped=!0,e.userData={},e.version=0,e._alphaTest=0,e}return w(r,[{key:"alphaTest",get:function(){return this._alphaTest},set:function(e){this._alphaTest>0!==e>0&&this.version++,this._alphaTest=e}},{key:"onBuild",value:function(){}},{key:"onBeforeRender",value:function(){}},{key:"onBeforeCompile",value:function(){}},{key:"customProgramCacheKey",value:function(){return this.onBeforeCompile.toString()}},{key:"setValues",value:function(e){if(void 0!==e)for(var t in e){var r=e[t];if(void 0!==r){var n=this[t];void 0!==n?n&&n.isColor?n.set(r):n&&n.isVector3&&r&&r.isVector3?n.copy(r):this[t]=r:console.warn("THREE.Material: '".concat(t,"' is not a property of THREE.").concat(this.type,"."))}else console.warn("THREE.Material: parameter '".concat(t,"' has value of undefined."))}}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;t&&(e={textures:{},images:{}});var r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};function n(e){var t=[];for(var r in e){var n=e[r];delete n.metadata,t.push(n)}return t}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),void 0!==this.roughness&&(r.roughness=this.roughness),void 0!==this.metalness&&(r.metalness=this.metalness),void 0!==this.sheen&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(r.shininess=this.shininess),void 0!==this.clearcoat&&(r.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(r.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(r.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),void 0!==this.anisotropy&&(r.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(r.combine=this.combine)),void 0!==this.envMapIntensity&&(r.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(r.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(r.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(r.size=this.size),null!==this.shadowSide&&(r.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(r.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(r.blending=this.blending),this.side!==Uu&&(r.side=this.side),!0===this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),!0===this.transparent&&(r.transparent=!0),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(r.rotation=this.rotation),!0===this.polygonOffset&&(r.polygonOffset=!0),0!==this.polygonOffsetFactor&&(r.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(r.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(r.linewidth=this.linewidth),void 0!==this.dashSize&&(r.dashSize=this.dashSize),void 0!==this.gapSize&&(r.gapSize=this.gapSize),void 0!==this.scale&&(r.scale=this.scale),!0===this.dithering&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),!0===this.alphaHash&&(r.alphaHash=!0),!0===this.alphaToCoverage&&(r.alphaToCoverage=!0),!0===this.premultipliedAlpha&&(r.premultipliedAlpha=!0),!0===this.forceSinglePass&&(r.forceSinglePass=!0),!0===this.wireframe&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(r.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(r.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(r.flatShading=!0),!1===this.visible&&(r.visible=!1),!1===this.toneMapped&&(r.toneMapped=!1),!1===this.fog&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData),t){var i=n(e.textures),o=n(e.images);i.length>0&&(r.textures=i),o.length>0&&(r.images=o)}return r}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var t=e.clippingPlanes,r=null;if(null!==t){var n=t.length;r=new Array(n);for(var i=0;i!==n;++i)r[i]=t[i].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}}]),r}(qc),Xf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Kf={h:0,s:0,l:0},Qf={h:0,s:0,l:0};function $f(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+6*(t-e)*(2/3-r):e}var Jf=function(e){function t(e,r,n){return b(this,t),this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,r,n)}return w(t,[{key:"set",value:function(e,t,r){if(void 0===t&&void 0===r){var n=e;n&&n.isColor?this.copy(n):"number"===typeof n?this.setHex(n):"string"===typeof n&&this.setStyle(n)}else this.setRGB(e,t,r);return this}},{key:"setScalar",value:function(e){return this.r=e,this.g=e,this.b=e,this}},{key:"setHex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Oc;return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,yd.toWorkingColorSpace(this,t),this}},{key:"setRGB",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:yd.workingColorSpace;return this.r=e,this.g=t,this.b=r,yd.toWorkingColorSpace(this,n),this}},{key:"setHSL",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:yd.workingColorSpace;if(e=Jc(e,1),t=$c(t,0,1),r=$c(r,0,1),0===t)this.r=this.g=this.b=r;else{var i=r<=.5?r*(1+t):r+t-r*t,o=2*r-i;this.r=$f(o,i,e+1/3),this.g=$f(o,i,e),this.b=$f(o,i,e-1/3)}return yd.toWorkingColorSpace(this,n),this}},{key:"setStyle",value:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Oc;function n(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}if(t=/^(\w+)\(([^\)]*)\)/.exec(e)){var i,o=t[1],a=t[2];switch(o){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return n(i[4]),this.setRGB(Math.min(255,parseInt(i[1],10))/255,Math.min(255,parseInt(i[2],10))/255,Math.min(255,parseInt(i[3],10))/255,r);if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return n(i[4]),this.setRGB(Math.min(100,parseInt(i[1],10))/100,Math.min(100,parseInt(i[2],10))/100,Math.min(100,parseInt(i[3],10))/100,r);break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return n(i[4]),this.setHSL(parseFloat(i[1])/360,parseFloat(i[2])/100,parseFloat(i[3])/100,r);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(t=/^\#([A-Fa-f\d]+)$/.exec(e)){var s=t[1],l=s.length;if(3===l)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,r);if(6===l)return this.setHex(parseInt(s,16),r);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,r);return this}},{key:"setColorName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Oc,r=Xf[e.toLowerCase()];return void 0!==r?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}},{key:"clone",value:function(){return new this.constructor(this.r,this.g,this.b)}},{key:"copy",value:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}},{key:"copySRGBToLinear",value:function(e){return this.r=vd(e.r),this.g=vd(e.g),this.b=vd(e.b),this}},{key:"copyLinearToSRGB",value:function(e){return this.r=bd(e.r),this.g=bd(e.g),this.b=bd(e.b),this}},{key:"convertSRGBToLinear",value:function(){return this.copySRGBToLinear(this),this}},{key:"convertLinearToSRGB",value:function(){return this.copyLinearToSRGB(this),this}},{key:"getHex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oc;return yd.fromWorkingColorSpace(eh.copy(this),e),65536*Math.round($c(255*eh.r,0,255))+256*Math.round($c(255*eh.g,0,255))+Math.round($c(255*eh.b,0,255))}},{key:"getHexString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oc;return("000000"+this.getHex(e).toString(16)).slice(-6)}},{key:"getHSL",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yd.workingColorSpace;yd.fromWorkingColorSpace(eh.copy(this),t);var r,n,i=eh.r,o=eh.g,a=eh.b,s=Math.max(i,o,a),l=Math.min(i,o,a),u=(l+s)/2;if(l===s)r=0,n=0;else{var c=s-l;switch(n=u<=.5?c/(s+l):c/(2-s-l),s){case i:r=(o-a)/c+(o<a?6:0);break;case o:r=(a-i)/c+2;break;case a:r=(i-o)/c+4}r/=6}return e.h=r,e.s=n,e.l=u,e}},{key:"getRGB",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yd.workingColorSpace;return yd.fromWorkingColorSpace(eh.copy(this),t),e.r=eh.r,e.g=eh.g,e.b=eh.b,e}},{key:"getStyle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oc;yd.fromWorkingColorSpace(eh.copy(this),e);var t=eh.r,r=eh.g,n=eh.b;return e!==Oc?"color(".concat(e," ").concat(t.toFixed(3)," ").concat(r.toFixed(3)," ").concat(n.toFixed(3),")"):"rgb(".concat(Math.round(255*t),",").concat(Math.round(255*r),",").concat(Math.round(255*n),")")}},{key:"offsetHSL",value:function(e,t,r){return this.getHSL(Kf),this.setHSL(Kf.h+e,Kf.s+t,Kf.l+r)}},{key:"add",value:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}},{key:"addColors",value:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}},{key:"addScalar",value:function(e){return this.r+=e,this.g+=e,this.b+=e,this}},{key:"sub",value:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}},{key:"multiply",value:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}},{key:"multiplyScalar",value:function(e){return this.r*=e,this.g*=e,this.b*=e,this}},{key:"lerp",value:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}},{key:"lerpColors",value:function(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}},{key:"lerpHSL",value:function(e,t){this.getHSL(Kf),e.getHSL(Qf);var r=ed(Kf.h,Qf.h,t),n=ed(Kf.s,Qf.s,t),i=ed(Kf.l,Qf.l,t);return this.setHSL(r,n,i),this}},{key:"setFromVector3",value:function(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}},{key:"applyMatrix3",value:function(e){var t=this.r,r=this.g,n=this.b,i=e.elements;return this.r=i[0]*t+i[3]*r+i[6]*n,this.g=i[1]*t+i[4]*r+i[7]*n,this.b=i[2]*t+i[5]*r+i[8]*n,this}},{key:"equals",value:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}},{key:"fromBufferAttribute",value:function(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}},{key:"toJSON",value:function(){return this.getHex()}},{key:Symbol.iterator,value:ju().mark((function e(){return ju().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.r;case 2:return e.next=4,this.g;case 4:return e.next=6,this.b;case 6:case"end":return e.stop()}}),e,this)}))}]),t}(),eh=new Jf;Jf.NAMES=Xf;var th=function(e){x(r,e);var t=M(r);function r(e){var n;return b(this,r),(n=t.call(this)).isMeshBasicMaterial=!0,n.type="MeshBasicMaterial",n.color=new Jf(16777215),n.map=null,n.lightMap=null,n.lightMapIntensity=1,n.aoMap=null,n.aoMapIntensity=1,n.specularMap=null,n.alphaMap=null,n.envMap=null,n.combine=zu,n.reflectivity=1,n.refractionRatio=.98,n.wireframe=!1,n.wireframeLinewidth=1,n.wireframeLinecap="round",n.wireframeLinejoin="round",n.fog=!0,n.setValues(e),n}return w(r,[{key:"copy",value:function(e){return Ou(S(r.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}]),r}(Yf);var rh=new Pd,nh=new od,ih=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(b(this,e),Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=t,this.itemSize=r,this.count=void 0!==t?t.length/r:0,this.normalized=n,this.usage=zc,this.updateRange={offset:0,count:-1},this.gpuType=pc,this.version=0}return w(e,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"copy",value:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}},{key:"copyAt",value:function(e,t,r){e*=this.itemSize,r*=t.itemSize;for(var n=0,i=this.itemSize;n<i;n++)this.array[e+n]=t.array[r+n];return this}},{key:"copyArray",value:function(e){return this.array.set(e),this}},{key:"applyMatrix3",value:function(e){if(2===this.itemSize)for(var t=0,r=this.count;t<r;t++)nh.fromBufferAttribute(this,t),nh.applyMatrix3(e),this.setXY(t,nh.x,nh.y);else if(3===this.itemSize)for(var n=0,i=this.count;n<i;n++)rh.fromBufferAttribute(this,n),rh.applyMatrix3(e),this.setXYZ(n,rh.x,rh.y,rh.z);return this}},{key:"applyMatrix4",value:function(e){for(var t=0,r=this.count;t<r;t++)rh.fromBufferAttribute(this,t),rh.applyMatrix4(e),this.setXYZ(t,rh.x,rh.y,rh.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,r=this.count;t<r;t++)rh.fromBufferAttribute(this,t),rh.applyNormalMatrix(e),this.setXYZ(t,rh.x,rh.y,rh.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,r=this.count;t<r;t++)rh.fromBufferAttribute(this,t),rh.transformDirection(e),this.setXYZ(t,rh.x,rh.y,rh.z);return this}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}},{key:"getComponent",value:function(e,t){var r=this.array[e*this.itemSize+t];return this.normalized&&(r=nd(r,this.array)),r}},{key:"setComponent",value:function(e,t,r){return this.normalized&&(r=id(r,this.array)),this.array[e*this.itemSize+t]=r,this}},{key:"getX",value:function(e){var t=this.array[e*this.itemSize];return this.normalized&&(t=nd(t,this.array)),t}},{key:"setX",value:function(e,t){return this.normalized&&(t=id(t,this.array)),this.array[e*this.itemSize]=t,this}},{key:"getY",value:function(e){var t=this.array[e*this.itemSize+1];return this.normalized&&(t=nd(t,this.array)),t}},{key:"setY",value:function(e,t){return this.normalized&&(t=id(t,this.array)),this.array[e*this.itemSize+1]=t,this}},{key:"getZ",value:function(e){var t=this.array[e*this.itemSize+2];return this.normalized&&(t=nd(t,this.array)),t}},{key:"setZ",value:function(e,t){return this.normalized&&(t=id(t,this.array)),this.array[e*this.itemSize+2]=t,this}},{key:"getW",value:function(e){var t=this.array[e*this.itemSize+3];return this.normalized&&(t=nd(t,this.array)),t}},{key:"setW",value:function(e,t){return this.normalized&&(t=id(t,this.array)),this.array[e*this.itemSize+3]=t,this}},{key:"setXY",value:function(e,t,r){return e*=this.itemSize,this.normalized&&(t=id(t,this.array),r=id(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}},{key:"setXYZ",value:function(e,t,r,n){return e*=this.itemSize,this.normalized&&(t=id(t,this.array),r=id(r,this.array),n=id(n,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=n,this}},{key:"setXYZW",value:function(e,t,r,n,i){return e*=this.itemSize,this.normalized&&(t=id(t,this.array),r=id(r,this.array),n=id(n,this.array),i=id(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=n,this.array[e+3]=i,this}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"clone",value:function(){return new this.constructor(this.array,this.itemSize).copy(this)}},{key:"toJSON",value:function(){var e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==zc&&(e.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(e.updateRange=this.updateRange),e}}]),e}(),oh=function(e){x(r,e);var t=M(r);function r(e,n,i){return b(this,r),t.call(this,new Uint16Array(e),n,i)}return w(r)}(ih),ah=function(e){x(r,e);var t=M(r);function r(e,n,i){return b(this,r),t.call(this,new Uint32Array(e),n,i)}return w(r)}(ih),sh=function(e){x(r,e);var t=M(r);function r(e,n,i){return b(this,r),t.call(this,new Float32Array(e),n,i)}return w(r)}(ih),lh=0,uh=new uf,ch=new jf,dh=new Pd,fh=new Nd,hh=new Nd,ph=new Pd,mh=function(e){x(r,e);var t=M(r);function r(){var e;return b(this,r),(e=t.call(this)).isBufferGeometry=!0,Object.defineProperty(A(e),"id",{value:lh++}),e.uuid=Qc(),e.name="",e.type="BufferGeometry",e.index=null,e.attributes={},e.morphAttributes={},e.morphTargetsRelative=!1,e.groups=[],e.boundingBox=null,e.boundingSphere=null,e.drawRange={start:0,count:1/0},e.userData={},e}return w(r,[{key:"getIndex",value:function(){return this.index}},{key:"setIndex",value:function(e){return Array.isArray(e)?this.index=new(ld(e)?ah:oh)(e,1):this.index=e,this}},{key:"getAttribute",value:function(e){return this.attributes[e]}},{key:"setAttribute",value:function(e,t){return this.attributes[e]=t,this}},{key:"deleteAttribute",value:function(e){return delete this.attributes[e],this}},{key:"hasAttribute",value:function(e){return void 0!==this.attributes[e]}},{key:"addGroup",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.groups.push({start:e,count:t,materialIndex:r})}},{key:"clearGroups",value:function(){this.groups=[]}},{key:"setDrawRange",value:function(e,t){this.drawRange.start=e,this.drawRange.count=t}},{key:"applyMatrix4",value:function(e){var t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);var r=this.attributes.normal;if(void 0!==r){var n=(new ad).getNormalMatrix(e);r.applyNormalMatrix(n),r.needsUpdate=!0}var i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}},{key:"applyQuaternion",value:function(e){return uh.makeRotationFromQuaternion(e),this.applyMatrix4(uh),this}},{key:"rotateX",value:function(e){return uh.makeRotationX(e),this.applyMatrix4(uh),this}},{key:"rotateY",value:function(e){return uh.makeRotationY(e),this.applyMatrix4(uh),this}},{key:"rotateZ",value:function(e){return uh.makeRotationZ(e),this.applyMatrix4(uh),this}},{key:"translate",value:function(e,t,r){return uh.makeTranslation(e,t,r),this.applyMatrix4(uh),this}},{key:"scale",value:function(e,t,r){return uh.makeScale(e,t,r),this.applyMatrix4(uh),this}},{key:"lookAt",value:function(e){return ch.lookAt(e),ch.updateMatrix(),this.applyMatrix4(ch.matrix),this}},{key:"center",value:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(dh).negate(),this.translate(dh.x,dh.y,dh.z),this}},{key:"setFromPoints",value:function(e){for(var t=[],r=0,n=e.length;r<n;r++){var i=e[r];t.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new sh(t,3)),this}},{key:"computeBoundingBox",value:function(){null===this.boundingBox&&(this.boundingBox=new Nd);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new Pd(-1/0,-1/0,-1/0),new Pd(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(var r=0,n=t.length;r<n;r++){var i=t[r];fh.setFromBufferAttribute(i),this.morphTargetsRelative?(ph.addVectors(this.boundingBox.min,fh.min),this.boundingBox.expandByPoint(ph),ph.addVectors(this.boundingBox.max,fh.max),this.boundingBox.expandByPoint(ph)):(this.boundingBox.expandByPoint(fh.min),this.boundingBox.expandByPoint(fh.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}},{key:"computeBoundingSphere",value:function(){null===this.boundingSphere&&(this.boundingSphere=new Jd);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new Pd,1/0);if(e){var r=this.boundingSphere.center;if(fh.setFromBufferAttribute(e),t)for(var n=0,i=t.length;n<i;n++){var o=t[n];hh.setFromBufferAttribute(o),this.morphTargetsRelative?(ph.addVectors(fh.min,hh.min),fh.expandByPoint(ph),ph.addVectors(fh.max,hh.max),fh.expandByPoint(ph)):(fh.expandByPoint(hh.min),fh.expandByPoint(hh.max))}fh.getCenter(r);for(var a=0,s=0,l=e.count;s<l;s++)ph.fromBufferAttribute(e,s),a=Math.max(a,r.distanceToSquared(ph));if(t)for(var u=0,c=t.length;u<c;u++)for(var d=t[u],f=this.morphTargetsRelative,h=0,p=d.count;h<p;h++)ph.fromBufferAttribute(d,h),f&&(dh.fromBufferAttribute(e,h),ph.add(dh)),a=Math.max(a,r.distanceToSquared(ph));this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}},{key:"computeTangents",value:function(){var e=this.index,t=this.attributes;if(null!==e&&void 0!==t.position&&void 0!==t.normal&&void 0!==t.uv){var r=e.array,n=t.position.array,i=t.normal.array,o=t.uv.array,a=n.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new ih(new Float32Array(4*a),4));for(var s=this.getAttribute("tangent").array,l=[],u=[],c=0;c<a;c++)l[c]=new Pd,u[c]=new Pd;var d=new Pd,f=new Pd,h=new Pd,p=new od,m=new od,g=new od,y=new Pd,v=new Pd,b=this.groups;0===b.length&&(b=[{start:0,count:r.length}]);for(var _=0,w=b.length;_<w;++_)for(var E=b[_],x=E.start,S=x,T=x+E.count;S<T;S+=3)L(r[S+0],r[S+1],r[S+2]);for(var A=new Pd,M=new Pd,R=new Pd,C=new Pd,I=0,k=b.length;I<k;++I)for(var P=b[I],O=P.start,j=O,N=O+P.count;j<N;j+=3)D(r[j+0]),D(r[j+1]),D(r[j+2])}else console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");function L(e,t,r){d.fromArray(n,3*e),f.fromArray(n,3*t),h.fromArray(n,3*r),p.fromArray(o,2*e),m.fromArray(o,2*t),g.fromArray(o,2*r),f.sub(d),h.sub(d),m.sub(p),g.sub(p);var i=1/(m.x*g.y-g.x*m.y);isFinite(i)&&(y.copy(f).multiplyScalar(g.y).addScaledVector(h,-m.y).multiplyScalar(i),v.copy(h).multiplyScalar(m.x).addScaledVector(f,-g.x).multiplyScalar(i),l[e].add(y),l[t].add(y),l[r].add(y),u[e].add(v),u[t].add(v),u[r].add(v))}function D(e){R.fromArray(i,3*e),C.copy(R);var t=l[e];A.copy(t),A.sub(R.multiplyScalar(R.dot(t))).normalize(),M.crossVectors(C,t);var r=M.dot(u[e])<0?-1:1;s[4*e]=A.x,s[4*e+1]=A.y,s[4*e+2]=A.z,s[4*e+3]=r}}},{key:"computeVertexNormals",value:function(){var e=this.index,t=this.getAttribute("position");if(void 0!==t){var r=this.getAttribute("normal");if(void 0===r)r=new ih(new Float32Array(3*t.count),3),this.setAttribute("normal",r);else for(var n=0,i=r.count;n<i;n++)r.setXYZ(n,0,0,0);var o=new Pd,a=new Pd,s=new Pd,l=new Pd,u=new Pd,c=new Pd,d=new Pd,f=new Pd;if(e)for(var h=0,p=e.count;h<p;h+=3){var m=e.getX(h+0),g=e.getX(h+1),y=e.getX(h+2);o.fromBufferAttribute(t,m),a.fromBufferAttribute(t,g),s.fromBufferAttribute(t,y),d.subVectors(s,a),f.subVectors(o,a),d.cross(f),l.fromBufferAttribute(r,m),u.fromBufferAttribute(r,g),c.fromBufferAttribute(r,y),l.add(d),u.add(d),c.add(d),r.setXYZ(m,l.x,l.y,l.z),r.setXYZ(g,u.x,u.y,u.z),r.setXYZ(y,c.x,c.y,c.z)}else for(var v=0,b=t.count;v<b;v+=3)o.fromBufferAttribute(t,v+0),a.fromBufferAttribute(t,v+1),s.fromBufferAttribute(t,v+2),d.subVectors(s,a),f.subVectors(o,a),d.cross(f),r.setXYZ(v+0,d.x,d.y,d.z),r.setXYZ(v+1,d.x,d.y,d.z),r.setXYZ(v+2,d.x,d.y,d.z);this.normalizeNormals(),r.needsUpdate=!0}}},{key:"normalizeNormals",value:function(){for(var e=this.attributes.normal,t=0,r=e.count;t<r;t++)ph.fromBufferAttribute(e,t),ph.normalize(),e.setXYZ(t,ph.x,ph.y,ph.z)}},{key:"toNonIndexed",value:function(){function e(e,t){for(var r=e.array,n=e.itemSize,i=e.normalized,o=new r.constructor(t.length*n),a=0,s=0,l=0,u=t.length;l<u;l++){a=e.isInterleavedBufferAttribute?t[l]*e.data.stride+e.offset:t[l]*n;for(var c=0;c<n;c++)o[s++]=r[a++]}return new ih(o,n,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;var t=new r,n=this.index.array,i=this.attributes;for(var o in i){var a=e(i[o],n);t.setAttribute(o,a)}var s=this.morphAttributes;for(var l in s){for(var u=[],c=s[l],d=0,f=c.length;d<f;d++){var h=e(c[d],n);u.push(h)}t.morphAttributes[l]=u}t.morphTargetsRelative=this.morphTargetsRelative;for(var p=this.groups,m=0,g=p.length;m<g;m++){var y=p[m];t.addGroup(y.start,y.count,y.materialIndex)}return t}},{key:"toJSON",value:function(){var e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var r in t)void 0!==t[r]&&(e[r]=t[r]);return e}e.data={attributes:{}};var n=this.index;null!==n&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});var i=this.attributes;for(var o in i){var a=i[o];e.data.attributes[o]=a.toJSON(e.data)}var s={},l=!1;for(var u in this.morphAttributes){for(var c=this.morphAttributes[u],d=[],f=0,h=c.length;f<h;f++){var p=c[f];d.push(p.toJSON(e.data))}d.length>0&&(s[u]=d,l=!0)}l&&(e.data.morphAttributes=s,e.data.morphTargetsRelative=this.morphTargetsRelative);var m=this.groups;m.length>0&&(e.data.groups=JSON.parse(JSON.stringify(m)));var g=this.boundingSphere;return null!==g&&(e.data.boundingSphere={center:g.center.toArray(),radius:g.radius}),e}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;var t={};this.name=e.name;var r=e.index;null!==r&&this.setIndex(r.clone(t));var n=e.attributes;for(var i in n){var o=n[i];this.setAttribute(i,o.clone(t))}var a=e.morphAttributes;for(var s in a){for(var l=[],u=a[s],c=0,d=u.length;c<d;c++)l.push(u[c].clone(t));this.morphAttributes[s]=l}this.morphTargetsRelative=e.morphTargetsRelative;for(var f=e.groups,h=0,p=f.length;h<p;h++){var m=f[h];this.addGroup(m.start,m.count,m.materialIndex)}var g=e.boundingBox;null!==g&&(this.boundingBox=g.clone());var y=e.boundingSphere;return null!==y&&(this.boundingSphere=y.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),r}(qc),gh=new uf,yh=new lf,vh=new Jd,bh=new Pd,_h=new Pd,wh=new Pd,Eh=new Pd,xh=new Pd,Sh=new Pd,Th=new od,Ah=new od,Mh=new od,Rh=new Pd,Ch=new Pd,Ih=new Pd,kh=new Pd,Ph=new Pd,Oh=function(e){x(r,e);var t=M(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new mh,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new th;return b(this,r),(e=t.call(this)).isMesh=!0,e.type="Mesh",e.geometry=n,e.material=i,e.updateMorphTargets(),e}return w(r,[{key:"copy",value:function(e,t){return Ou(S(r.prototype),"copy",this).call(this,e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}},{key:"updateMorphTargets",value:function(){var e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){var r=e[t[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var n=0,i=r.length;n<i;n++){var o=r[n].name||String(n);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=n}}}}},{key:"getVertexPosition",value:function(e,t){var r=this.geometry,n=r.attributes.position,i=r.morphAttributes.position,o=r.morphTargetsRelative;t.fromBufferAttribute(n,e);var a=this.morphTargetInfluences;if(i&&a){Sh.set(0,0,0);for(var s=0,l=i.length;s<l;s++){var u=a[s],c=i[s];0!==u&&(xh.fromBufferAttribute(c,e),o?Sh.addScaledVector(xh,u):Sh.addScaledVector(xh.sub(t),u))}t.add(Sh)}return t}},{key:"raycast",value:function(e,t){var r=this.geometry,n=this.material,i=this.matrixWorld;if(void 0!==n){if(null===r.boundingSphere&&r.computeBoundingSphere(),vh.copy(r.boundingSphere),vh.applyMatrix4(i),yh.copy(e.ray).recast(e.near),!1===vh.containsPoint(yh.origin)){if(null===yh.intersectSphere(vh,bh))return;if(yh.origin.distanceToSquared(bh)>Math.pow(e.far-e.near,2))return}gh.copy(i).invert(),yh.copy(e.ray).applyMatrix4(gh),null!==r.boundingBox&&!1===yh.intersectsBox(r.boundingBox)||this._computeIntersections(e,t,yh)}}},{key:"_computeIntersections",value:function(e,t,r){var n,i=this.geometry,o=this.material,a=i.index,s=i.attributes.position,l=i.attributes.uv,u=i.attributes.uv1,c=i.attributes.normal,d=i.groups,f=i.drawRange;if(null!==a)if(Array.isArray(o))for(var h=0,p=d.length;h<p;h++)for(var m=d[h],g=o[m.materialIndex],y=Math.max(m.start,f.start),v=Math.min(a.count,Math.min(m.start+m.count,f.start+f.count));y<v;y+=3){(n=jh(this,g,e,r,l,u,c,a.getX(y),a.getX(y+1),a.getX(y+2)))&&(n.faceIndex=Math.floor(y/3),n.face.materialIndex=m.materialIndex,t.push(n))}else for(var b=Math.max(0,f.start),_=Math.min(a.count,f.start+f.count);b<_;b+=3){(n=jh(this,o,e,r,l,u,c,a.getX(b),a.getX(b+1),a.getX(b+2)))&&(n.faceIndex=Math.floor(b/3),t.push(n))}else if(void 0!==s)if(Array.isArray(o))for(var w=0,E=d.length;w<E;w++)for(var x=d[w],S=o[x.materialIndex],T=Math.max(x.start,f.start),A=Math.min(s.count,Math.min(x.start+x.count,f.start+f.count));T<A;T+=3){(n=jh(this,S,e,r,l,u,c,T,T+1,T+2))&&(n.faceIndex=Math.floor(T/3),n.face.materialIndex=x.materialIndex,t.push(n))}else for(var M=Math.max(0,f.start),R=Math.min(s.count,f.start+f.count);M<R;M+=3){(n=jh(this,o,e,r,l,u,c,M,M+1,M+2))&&(n.faceIndex=Math.floor(M/3),t.push(n))}}}]),r}(jf);function jh(e,t,r,n,i,o,a,s,l,u){e.getVertexPosition(s,_h),e.getVertexPosition(l,wh),e.getVertexPosition(u,Eh);var c=function(e,t,r,n,i,o,a,s){if(null===(t.side===Bu?n.intersectTriangle(a,o,i,!0,s):n.intersectTriangle(i,o,a,t.side===Uu,s)))return null;Ph.copy(s),Ph.applyMatrix4(e.matrixWorld);var l=r.ray.origin.distanceTo(Ph);return l<r.near||l>r.far?null:{distance:l,point:Ph.clone(),object:e}}(e,t,r,n,_h,wh,Eh,kh);if(c){i&&(Th.fromBufferAttribute(i,s),Ah.fromBufferAttribute(i,l),Mh.fromBufferAttribute(i,u),c.uv=Zf.getInterpolation(kh,_h,wh,Eh,Th,Ah,Mh,new od)),o&&(Th.fromBufferAttribute(o,s),Ah.fromBufferAttribute(o,l),Mh.fromBufferAttribute(o,u),c.uv1=Zf.getInterpolation(kh,_h,wh,Eh,Th,Ah,Mh,new od),c.uv2=c.uv1),a&&(Rh.fromBufferAttribute(a,s),Ch.fromBufferAttribute(a,l),Ih.fromBufferAttribute(a,u),c.normal=Zf.getInterpolation(kh,_h,wh,Eh,Rh,Ch,Ih,new Pd),c.normal.dot(n.direction)>0&&c.normal.multiplyScalar(-1));var d={a:s,b:l,c:u,normal:new Pd,materialIndex:0};Zf.getNormal(_h,wh,Eh,d.normal),c.face=d}return c}var Nh=function(e){x(r,e);var t=M(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;b(this,r),(e=t.call(this)).type="BoxGeometry",e.parameters={width:n,height:i,depth:o,widthSegments:a,heightSegments:s,depthSegments:l};var u=A(e);a=Math.floor(a),s=Math.floor(s),l=Math.floor(l);var c=[],d=[],f=[],h=[],p=0,m=0;function g(e,t,r,n,i,o,a,s,l,g,y){for(var v=o/l,b=a/g,_=o/2,w=a/2,E=s/2,x=l+1,S=g+1,T=0,A=0,M=new Pd,R=0;R<S;R++)for(var C=R*b-w,I=0;I<x;I++){var k=I*v-_;M[e]=k*n,M[t]=C*i,M[r]=E,d.push(M.x,M.y,M.z),M[e]=0,M[t]=0,M[r]=s>0?1:-1,f.push(M.x,M.y,M.z),h.push(I/l),h.push(1-R/g),T+=1}for(var P=0;P<g;P++)for(var O=0;O<l;O++){var j=p+O+x*P,N=p+O+x*(P+1),L=p+(O+1)+x*(P+1),D=p+(O+1)+x*P;c.push(j,N,D),c.push(N,L,D),A+=6}u.addGroup(m,A,y),m+=A,p+=T}return g("z","y","x",-1,-1,o,i,n,l,s,0),g("z","y","x",1,-1,o,i,-n,l,s,1),g("x","z","y",1,1,n,o,i,a,l,2),g("x","z","y",1,-1,n,o,-i,a,l,3),g("x","y","z",1,-1,n,i,o,a,s,4),g("x","y","z",-1,-1,n,i,-o,a,s,5),e.setIndex(c),e.setAttribute("position",new sh(d,3)),e.setAttribute("normal",new sh(f,3)),e.setAttribute("uv",new sh(h,2)),e}return w(r,[{key:"copy",value:function(e){return Ou(S(r.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new r(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}]),r}(mh);function Lh(e){var t={};for(var r in e)for(var n in t[r]={},e[r]){var i=e[r][n];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[r][n]=null):t[r][n]=i.clone():Array.isArray(i)?t[r][n]=i.slice():t[r][n]=i}return t}function Dh(e){for(var t={},r=0;r<e.length;r++){var n=Lh(e[r]);for(var i in n)t[i]=n[i]}return t}function Fh(e){return null===e.getRenderTarget()?e.outputColorSpace:yd.workingColorSpace}var Uh={clone:Lh,merge:Dh},Bh=function(e){x(r,e);var t=M(r);function r(e){var n;return b(this,r),(n=t.call(this)).isShaderMaterial=!0,n.type="ShaderMaterial",n.defines={},n.uniforms={},n.uniformsGroups=[],n.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",n.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",n.linewidth=1,n.wireframe=!1,n.wireframeLinewidth=1,n.fog=!1,n.lights=!1,n.clipping=!1,n.forceSinglePass=!0,n.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},n.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},n.index0AttributeName=void 0,n.uniformsNeedUpdate=!1,n.glslVersion=null,void 0!==e&&n.setValues(e),n}return w(r,[{key:"copy",value:function(e){return Ou(S(r.prototype),"copy",this).call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Lh(e.uniforms),this.uniformsGroups=function(e){for(var t=[],r=0;r<e.length;r++)t.push(e[r].clone());return t}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}},{key:"toJSON",value:function(e){var t=Ou(S(r.prototype),"toJSON",this).call(this,e);for(var n in t.glslVersion=this.glslVersion,t.uniforms={},this.uniforms){var i=this.uniforms[n].value;i&&i.isTexture?t.uniforms[n]={type:"t",value:i.toJSON(e).uuid}:i&&i.isColor?t.uniforms[n]={type:"c",value:i.getHex()}:i&&i.isVector2?t.uniforms[n]={type:"v2",value:i.toArray()}:i&&i.isVector3?t.uniforms[n]={type:"v3",value:i.toArray()}:i&&i.isVector4?t.uniforms[n]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?t.uniforms[n]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?t.uniforms[n]={type:"m4",value:i.toArray()}:t.uniforms[n]={value:i}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;var o={};for(var a in this.extensions)!0===this.extensions[a]&&(o[a]=!0);return Object.keys(o).length>0&&(t.extensions=o),t}}]),r}(Yf),Gh=function(e){x(r,e);var t=M(r);function r(){var e;return b(this,r),(e=t.call(this)).isCamera=!0,e.type="Camera",e.matrixWorldInverse=new uf,e.projectionMatrix=new uf,e.projectionMatrixInverse=new uf,e.coordinateSystem=Wc,e}return w(r,[{key:"copy",value:function(e,t){return Ou(S(r.prototype),"copy",this).call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}},{key:"getWorldDirection",value:function(e){return Ou(S(r.prototype),"getWorldDirection",this).call(this,e).negate()}},{key:"updateMatrixWorld",value:function(e){Ou(S(r.prototype),"updateMatrixWorld",this).call(this,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"updateWorldMatrix",value:function(e,t){Ou(S(r.prototype),"updateWorldMatrix",this).call(this,e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),r}(jf),zh=function(e){x(r,e);var t=M(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;return b(this,r),(e=t.call(this)).isPerspectiveCamera=!0,e.type="PerspectiveCamera",e.fov=n,e.zoom=1,e.near=o,e.far=a,e.focus=10,e.aspect=i,e.view=null,e.filmGauge=35,e.filmOffset=0,e.updateProjectionMatrix(),e}return w(r,[{key:"copy",value:function(e,t){return Ou(S(r.prototype),"copy",this).call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}},{key:"setFocalLength",value:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*Kc*Math.atan(t),this.updateProjectionMatrix()}},{key:"getFocalLength",value:function(){var e=Math.tan(.5*Xc*this.fov);return.5*this.getFilmHeight()/e}},{key:"getEffectiveFOV",value:function(){return 2*Kc*Math.atan(Math.tan(.5*Xc*this.fov)/this.zoom)}},{key:"getFilmWidth",value:function(){return this.filmGauge*Math.min(this.aspect,1)}},{key:"getFilmHeight",value:function(){return this.filmGauge/Math.max(this.aspect,1)}},{key:"setViewOffset",value:function(e,t,r,n,i,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=n,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=this.near,t=e*Math.tan(.5*Xc*this.fov)/this.zoom,r=2*t,n=this.aspect*r,i=-.5*n,o=this.view;if(null!==this.view&&this.view.enabled){var a=o.fullWidth,s=o.fullHeight;i+=o.offsetX*n/a,t-=o.offsetY*r/s,n*=o.width/a,r*=o.height/s}var l=this.filmOffset;0!==l&&(i+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+n,t,t-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var t=Ou(S(r.prototype),"toJSON",this).call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}]),r}(Gh),Vh=-90,Hh=function(e){x(r,e);var t=M(r);function r(e,n,i){var o;b(this,r),(o=t.call(this)).type="CubeCamera",o.renderTarget=i,o.coordinateSystem=null,o.activeMipmapLevel=0;var a=new zh(Vh,1,e,n);a.layers=o.layers,o.add(a);var s=new zh(Vh,1,e,n);s.layers=o.layers,o.add(s);var l=new zh(Vh,1,e,n);l.layers=o.layers,o.add(l);var u=new zh(Vh,1,e,n);u.layers=o.layers,o.add(u);var c=new zh(Vh,1,e,n);c.layers=o.layers,o.add(c);var d=new zh(Vh,1,e,n);return d.layers=o.layers,o.add(d),o}return w(r,[{key:"updateCoordinateSystem",value:function(){var e,t=this.coordinateSystem,r=this.children.concat(),n=g(r,6),i=n[0],o=n[1],a=n[2],s=n[3],l=n[4],u=n[5],c=I(r);try{for(c.s();!(e=c.n()).done;){var d=e.value;this.remove(d)}}catch(m){c.e(m)}finally{c.f()}if(t===Wc)i.up.set(0,1,0),i.lookAt(1,0,0),o.up.set(0,1,0),o.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),l.up.set(0,1,0),l.lookAt(0,0,1),u.up.set(0,1,0),u.lookAt(0,0,-1);else{if(t!==Zc)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+t);i.up.set(0,-1,0),i.lookAt(-1,0,0),o.up.set(0,-1,0),o.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),l.up.set(0,-1,0),l.lookAt(0,0,1),u.up.set(0,-1,0),u.lookAt(0,0,-1)}var f,h=I(r);try{for(h.s();!(f=h.n()).done;){var p=f.value;this.add(p),p.updateMatrixWorld()}}catch(m){h.e(m)}finally{h.f()}}},{key:"update",value:function(e,t){null===this.parent&&this.updateMatrixWorld();var r=this.renderTarget,n=this.activeMipmapLevel;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());var i=g(this.children,6),o=i[0],a=i[1],s=i[2],l=i[3],u=i[4],c=i[5],d=e.getRenderTarget(),f=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),p=e.xr.enabled;e.xr.enabled=!1;var m=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,n),e.render(t,o),e.setRenderTarget(r,1,n),e.render(t,a),e.setRenderTarget(r,2,n),e.render(t,s),e.setRenderTarget(r,3,n),e.render(t,l),e.setRenderTarget(r,4,n),e.render(t,u),r.texture.generateMipmaps=m,e.setRenderTarget(r,5,n),e.render(t,c),e.setRenderTarget(d,f,h),e.xr.enabled=p,r.texture.needsPMREMUpdate=!0}}]),r}(jf),Wh=function(e){x(r,e);var t=M(r);function r(e,n,i,o,a,s,l,u,c,d){var f;return b(this,r),e=void 0!==e?e:[],n=void 0!==n?n:Qu,(f=t.call(this,e,n,i,o,a,s,l,u,c,d)).isCubeTexture=!0,f.flipY=!1,f}return w(r,[{key:"images",get:function(){return this.image},set:function(e){this.image=e}}]),r}(Td),Zh=function(e){x(r,e);var t=M(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b(this,r),(e=t.call(this,n,n,i)).isWebGLCubeRenderTarget=!0;var o={width:n,height:n,depth:1},a=[o,o,o,o,o,o];return void 0!==i.encoding&&(dd("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),i.colorSpace=i.encoding===kc?Oc:Pc),e.texture=new Wh(a,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace),e.texture.isRenderTargetTexture=!0,e.texture.generateMipmaps=void 0!==i.generateMipmaps&&i.generateMipmaps,e.texture.minFilter=void 0!==i.minFilter?i.minFilter:lc,e}return w(r,[{key:"fromEquirectangularTexture",value:function(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;var r={tEquirect:{value:null}},n="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",i="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",o=new Nh(5,5,5),a=new Bh({name:"CubemapFromEquirect",uniforms:Lh(r),vertexShader:n,fragmentShader:i,side:Bu,blending:0});a.uniforms.tEquirect.value=t;var s=new Oh(o,a),l=t.minFilter;return t.minFilter===uc&&(t.minFilter=lc),new Hh(1,10,this).update(e,s),t.minFilter=l,s.geometry.dispose(),s.material.dispose(),this}},{key:"clear",value:function(e,t,r,n){for(var i=e.getRenderTarget(),o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,r,n);e.setRenderTarget(i)}}]),r}(Rd),qh=new Pd,Yh=new Pd,Xh=new ad,Kh=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Pd(1,0,0),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;b(this,e),this.isPlane=!0,this.normal=t,this.constant=r}return w(e,[{key:"set",value:function(e,t){return this.normal.copy(e),this.constant=t,this}},{key:"setComponents",value:function(e,t,r,n){return this.normal.set(e,t,r),this.constant=n,this}},{key:"setFromNormalAndCoplanarPoint",value:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}},{key:"setFromCoplanarPoints",value:function(e,t,r){var n=qh.subVectors(r,t).cross(Yh.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(n,e),this}},{key:"copy",value:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this}},{key:"normalize",value:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}},{key:"negate",value:function(){return this.constant*=-1,this.normal.negate(),this}},{key:"distanceToPoint",value:function(e){return this.normal.dot(e)+this.constant}},{key:"distanceToSphere",value:function(e){return this.distanceToPoint(e.center)-e.radius}},{key:"projectPoint",value:function(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}},{key:"intersectLine",value:function(e,t){var r=e.delta(qh),n=this.normal.dot(r);if(0===n)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;var i=-(e.start.dot(this.normal)+this.constant)/n;return i<0||i>1?null:t.copy(e.start).addScaledVector(r,i)}},{key:"intersectsLine",value:function(e){var t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}},{key:"intersectsBox",value:function(e){return e.intersectsPlane(this)}},{key:"intersectsSphere",value:function(e){return e.intersectsPlane(this)}},{key:"coplanarPoint",value:function(e){return e.copy(this.normal).multiplyScalar(-this.constant)}},{key:"applyMatrix4",value:function(e,t){var r=t||Xh.getNormalMatrix(e),n=this.coplanarPoint(qh).applyMatrix4(e),i=this.normal.applyMatrix3(r).normalize();return this.constant=-n.dot(i),this}},{key:"translate",value:function(e){return this.constant-=e.dot(this.normal),this}},{key:"equals",value:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),Qh=new Jd,$h=new Pd,Jh=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Kh,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Kh,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Kh,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Kh,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new Kh,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new Kh;b(this,e),this.planes=[t,r,n,i,o,a]}return w(e,[{key:"set",value:function(e,t,r,n,i,o){var a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(n),a[4].copy(i),a[5].copy(o),this}},{key:"copy",value:function(e){for(var t=this.planes,r=0;r<6;r++)t[r].copy(e.planes[r]);return this}},{key:"setFromProjectionMatrix",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Wc,r=this.planes,n=e.elements,i=n[0],o=n[1],a=n[2],s=n[3],l=n[4],u=n[5],c=n[6],d=n[7],f=n[8],h=n[9],p=n[10],m=n[11],g=n[12],y=n[13],v=n[14],b=n[15];if(r[0].setComponents(s-i,d-l,m-f,b-g).normalize(),r[1].setComponents(s+i,d+l,m+f,b+g).normalize(),r[2].setComponents(s+o,d+u,m+h,b+y).normalize(),r[3].setComponents(s-o,d-u,m-h,b-y).normalize(),r[4].setComponents(s-a,d-c,m-p,b-v).normalize(),t===Wc)r[5].setComponents(s+a,d+c,m+p,b+v).normalize();else{if(t!==Zc)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);r[5].setComponents(a,c,p,v).normalize()}return this}},{key:"intersectsObject",value:function(e){if(void 0!==e.boundingSphere)null===e.boundingSphere&&e.computeBoundingSphere(),Qh.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{var t=e.geometry;null===t.boundingSphere&&t.computeBoundingSphere(),Qh.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Qh)}},{key:"intersectsSprite",value:function(e){return Qh.center.set(0,0,0),Qh.radius=.7071067811865476,Qh.applyMatrix4(e.matrixWorld),this.intersectsSphere(Qh)}},{key:"intersectsSphere",value:function(e){for(var t=this.planes,r=e.center,n=-e.radius,i=0;i<6;i++){if(t[i].distanceToPoint(r)<n)return!1}return!0}},{key:"intersectsBox",value:function(e){for(var t=this.planes,r=0;r<6;r++){var n=t[r];if($h.x=n.normal.x>0?e.max.x:e.min.x,$h.y=n.normal.y>0?e.max.y:e.min.y,$h.z=n.normal.z>0?e.max.z:e.min.z,n.distanceToPoint($h)<0)return!1}return!0}},{key:"containsPoint",value:function(e){for(var t=this.planes,r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}();function ep(){var e=null,t=!1,r=null,n=null;function i(t,o){r(t,o),n=e.requestAnimationFrame(i)}return{start:function(){!0!==t&&null!==r&&(n=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(n),t=!1},setAnimationLoop:function(e){r=e},setContext:function(t){e=t}}}function tp(e,t){var r=t.isWebGL2,n=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),n.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);var r=n.get(t);r&&(e.deleteBuffer(r.buffer),n.delete(t))},update:function(t,i){if(t.isGLBufferAttribute){var o=n.get(t);(!o||o.version<t.version)&&n.set(t,{buffer:t.buffer,type:t.type,bytesPerElement:t.elementSize,version:t.version})}else{t.isInterleavedBufferAttribute&&(t=t.data);var a=n.get(t);void 0===a?n.set(t,function(t,n){var i,o=t.array,a=t.usage,s=e.createBuffer();if(e.bindBuffer(n,s),e.bufferData(n,o,a),t.onUploadCallback(),o instanceof Float32Array)i=e.FLOAT;else if(o instanceof Uint16Array)if(t.isFloat16BufferAttribute){if(!r)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");i=e.HALF_FLOAT}else i=e.UNSIGNED_SHORT;else if(o instanceof Int16Array)i=e.SHORT;else if(o instanceof Uint32Array)i=e.UNSIGNED_INT;else if(o instanceof Int32Array)i=e.INT;else if(o instanceof Int8Array)i=e.BYTE;else if(o instanceof Uint8Array)i=e.UNSIGNED_BYTE;else{if(!(o instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+o);i=e.UNSIGNED_BYTE}return{buffer:s,type:i,bytesPerElement:o.BYTES_PER_ELEMENT,version:t.version}}(t,i)):a.version<t.version&&(!function(t,n,i){var o=n.array,a=n.updateRange;e.bindBuffer(i,t),-1===a.count?e.bufferSubData(i,0,o):(r?e.bufferSubData(i,a.offset*o.BYTES_PER_ELEMENT,o,a.offset,a.count):e.bufferSubData(i,a.offset*o.BYTES_PER_ELEMENT,o.subarray(a.offset,a.offset+a.count)),a.count=-1),n.onUploadCallback()}(a.buffer,t,i),a.version=t.version)}}}}var rp=function(e){x(r,e);var t=M(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;b(this,r),(e=t.call(this)).type="PlaneGeometry",e.parameters={width:n,height:i,widthSegments:o,heightSegments:a};for(var s=n/2,l=i/2,u=Math.floor(o),c=Math.floor(a),d=u+1,f=c+1,h=n/u,p=i/c,m=[],g=[],y=[],v=[],_=0;_<f;_++)for(var w=_*p-l,E=0;E<d;E++){var x=E*h-s;g.push(x,-w,0),y.push(0,0,1),v.push(E/u),v.push(1-_/c)}for(var S=0;S<c;S++)for(var T=0;T<u;T++){var A=T+d*S,M=T+d*(S+1),R=T+1+d*(S+1),C=T+1+d*S;m.push(A,M,C),m.push(M,R,C)}return e.setIndex(m),e.setAttribute("position",new sh(g,3)),e.setAttribute("normal",new sh(y,3)),e.setAttribute("uv",new sh(v,2)),e}return w(r,[{key:"copy",value:function(e){return Ou(S(r.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new r(e.width,e.height,e.widthSegments,e.heightSegments)}}]),r}(mh),np={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometryNormal, geometryViewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos.xyz );\n\t\tvec3 vSigmaY = dFdy( surf_pos.xyz );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_v0 0.339\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_v1 0.276\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_v4 0.046\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_v5 0.016\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_v6 0.0038\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"\nconst mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(\n\tvec3( 0.8224621, 0.177538, 0.0 ),\n\tvec3( 0.0331941, 0.9668058, 0.0 ),\n\tvec3( 0.0170827, 0.0723974, 0.9105199 )\n);\nconst mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.2249401, - 0.2249404, 0.0 ),\n\tvec3( - 0.0420569, 1.0420571, 0.0 ),\n\tvec3( - 0.0196376, - 0.0786361, 1.0982735 )\n);\nvec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );\n}\nvec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );\n}\nvec4 LinearTransferOETF( in vec4 value ) {\n\treturn value;\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn sRGBTransferOETF( value );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n\tuniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( LEGACY_LIGHTS )\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#else\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tanisotropyV /= material.anisotropy;\n\tmaterial.anisotropy = saturate( material.anisotropy );\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometryNormal;\n\t\tvec3 viewDir = geometryViewDir;\n\t\tvec3 position = geometryPosition;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nvec3 geometryPosition = - vViewPosition;\nvec3 geometryNormal = normal;\nvec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal;\n#ifdef USE_CLEARCOAT\n\tgeometryClearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometryViewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometryPosition, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometryPosition, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if defined( USE_LIGHT_PROBES )\n\t\tirradiance += getLightProbeIrradiance( lightProbe, geometryNormal );\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometryNormal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 nonPerturbedNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = nonPerturbedNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},ip={common:{diffuse:{value:new Jf(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new ad},alphaMap:{value:null},alphaMapTransform:{value:new ad},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new ad}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new ad}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new ad}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new ad},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new ad},normalScale:{value:new od(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new ad},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new ad}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new ad}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new ad}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Jf(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Jf(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new ad},alphaTest:{value:0},uvTransform:{value:new ad}},sprite:{diffuse:{value:new Jf(16777215)},opacity:{value:1},center:{value:new od(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new ad},alphaMap:{value:null},alphaMapTransform:{value:new ad},alphaTest:{value:0}}},op={basic:{uniforms:Dh([ip.common,ip.specularmap,ip.envmap,ip.aomap,ip.lightmap,ip.fog]),vertexShader:np.meshbasic_vert,fragmentShader:np.meshbasic_frag},lambert:{uniforms:Dh([ip.common,ip.specularmap,ip.envmap,ip.aomap,ip.lightmap,ip.emissivemap,ip.bumpmap,ip.normalmap,ip.displacementmap,ip.fog,ip.lights,{emissive:{value:new Jf(0)}}]),vertexShader:np.meshlambert_vert,fragmentShader:np.meshlambert_frag},phong:{uniforms:Dh([ip.common,ip.specularmap,ip.envmap,ip.aomap,ip.lightmap,ip.emissivemap,ip.bumpmap,ip.normalmap,ip.displacementmap,ip.fog,ip.lights,{emissive:{value:new Jf(0)},specular:{value:new Jf(1118481)},shininess:{value:30}}]),vertexShader:np.meshphong_vert,fragmentShader:np.meshphong_frag},standard:{uniforms:Dh([ip.common,ip.envmap,ip.aomap,ip.lightmap,ip.emissivemap,ip.bumpmap,ip.normalmap,ip.displacementmap,ip.roughnessmap,ip.metalnessmap,ip.fog,ip.lights,{emissive:{value:new Jf(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:np.meshphysical_vert,fragmentShader:np.meshphysical_frag},toon:{uniforms:Dh([ip.common,ip.aomap,ip.lightmap,ip.emissivemap,ip.bumpmap,ip.normalmap,ip.displacementmap,ip.gradientmap,ip.fog,ip.lights,{emissive:{value:new Jf(0)}}]),vertexShader:np.meshtoon_vert,fragmentShader:np.meshtoon_frag},matcap:{uniforms:Dh([ip.common,ip.bumpmap,ip.normalmap,ip.displacementmap,ip.fog,{matcap:{value:null}}]),vertexShader:np.meshmatcap_vert,fragmentShader:np.meshmatcap_frag},points:{uniforms:Dh([ip.points,ip.fog]),vertexShader:np.points_vert,fragmentShader:np.points_frag},dashed:{uniforms:Dh([ip.common,ip.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:np.linedashed_vert,fragmentShader:np.linedashed_frag},depth:{uniforms:Dh([ip.common,ip.displacementmap]),vertexShader:np.depth_vert,fragmentShader:np.depth_frag},normal:{uniforms:Dh([ip.common,ip.bumpmap,ip.normalmap,ip.displacementmap,{opacity:{value:1}}]),vertexShader:np.meshnormal_vert,fragmentShader:np.meshnormal_frag},sprite:{uniforms:Dh([ip.sprite,ip.fog]),vertexShader:np.sprite_vert,fragmentShader:np.sprite_frag},background:{uniforms:{uvTransform:{value:new ad},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:np.background_vert,fragmentShader:np.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:np.backgroundCube_vert,fragmentShader:np.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:np.cube_vert,fragmentShader:np.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:np.equirect_vert,fragmentShader:np.equirect_frag},distanceRGBA:{uniforms:Dh([ip.common,ip.displacementmap,{referencePosition:{value:new Pd},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:np.distanceRGBA_vert,fragmentShader:np.distanceRGBA_frag},shadow:{uniforms:Dh([ip.lights,ip.fog,{color:{value:new Jf(0)},opacity:{value:1}}]),vertexShader:np.shadow_vert,fragmentShader:np.shadow_frag}};op.physical={uniforms:Dh([op.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new ad},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new ad},clearcoatNormalScale:{value:new od(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new ad},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new ad},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new ad},sheen:{value:0},sheenColor:{value:new Jf(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new ad},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new ad},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new ad},transmissionSamplerSize:{value:new od},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new ad},attenuationDistance:{value:0},attenuationColor:{value:new Jf(0)},specularColor:{value:new Jf(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new ad},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new ad},anisotropyVector:{value:new od},anisotropyMap:{value:null},anisotropyMapTransform:{value:new ad}}]),vertexShader:np.meshphysical_vert,fragmentShader:np.meshphysical_frag};var ap={r:0,b:0,g:0};function sp(e,t,r,n,i,o,a){var s,l,u=new Jf(0),c=!0===o?0:1,d=null,f=0,h=null;function p(t,r){t.getRGB(ap,Fh(e)),n.buffers.color.setClear(ap.r,ap.g,ap.b,r,a)}return{getClearColor:function(){return u},setClearColor:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;u.set(e),p(u,c=t)},getClearAlpha:function(){return c},setClearAlpha:function(e){p(u,c=e)},render:function(o,m){var g=!1,y=!0===m.isScene?m.background:null;y&&y.isTexture&&(y=(m.backgroundBlurriness>0?r:t).get(y)),null===y?p(u,c):y&&y.isColor&&(p(y,1),g=!0);var v=e.xr.getEnvironmentBlendMode();"additive"===v?n.buffers.color.setClear(0,0,0,1,a):"alpha-blend"===v&&n.buffers.color.setClear(0,0,0,0,a),(e.autoClear||g)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),y&&(y.isCubeTexture||y.mapping===tc)?(void 0===l&&((l=new Oh(new Nh(1,1,1),new Bh({name:"BackgroundCubeMaterial",uniforms:Lh(op.backgroundCube.uniforms),vertexShader:op.backgroundCube.vertexShader,fragmentShader:op.backgroundCube.fragmentShader,side:Bu,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),l.geometry.deleteAttribute("uv"),l.onBeforeRender=function(e,t,r){this.matrixWorld.copyPosition(r.matrixWorld)},Object.defineProperty(l.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(l)),l.material.uniforms.envMap.value=y,l.material.uniforms.flipEnvMap.value=y.isCubeTexture&&!1===y.isRenderTargetTexture?-1:1,l.material.uniforms.backgroundBlurriness.value=m.backgroundBlurriness,l.material.uniforms.backgroundIntensity.value=m.backgroundIntensity,l.material.toneMapped=yd.getTransfer(y.colorSpace)!==Fc,d===y&&f===y.version&&h===e.toneMapping||(l.material.needsUpdate=!0,d=y,f=y.version,h=e.toneMapping),l.layers.enableAll(),o.unshift(l,l.geometry,l.material,0,0,null)):y&&y.isTexture&&(void 0===s&&((s=new Oh(new rp(2,2),new Bh({name:"BackgroundMaterial",uniforms:Lh(op.background.uniforms),vertexShader:op.background.vertexShader,fragmentShader:op.background.fragmentShader,side:Uu,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(s.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(s)),s.material.uniforms.t2D.value=y,s.material.uniforms.backgroundIntensity.value=m.backgroundIntensity,s.material.toneMapped=yd.getTransfer(y.colorSpace)!==Fc,!0===y.matrixAutoUpdate&&y.updateMatrix(),s.material.uniforms.uvTransform.value.copy(y.matrix),d===y&&f===y.version&&h===e.toneMapping||(s.material.needsUpdate=!0,d=y,f=y.version,h=e.toneMapping),s.layers.enableAll(),o.unshift(s,s.geometry,s.material,0,0,null))}}}function lp(e,t,r,n){var i=e.getParameter(e.MAX_VERTEX_ATTRIBS),o=n.isWebGL2?null:t.get("OES_vertex_array_object"),a=n.isWebGL2||null!==o,s={},l=h(null),u=l,c=!1;function d(t){return n.isWebGL2?e.bindVertexArray(t):o.bindVertexArrayOES(t)}function f(t){return n.isWebGL2?e.deleteVertexArray(t):o.deleteVertexArrayOES(t)}function h(e){for(var t=[],r=[],n=[],o=0;o<i;o++)t[o]=0,r[o]=0,n[o]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:r,attributeDivisors:n,object:e,attributes:{},index:null}}function p(){for(var e=u.newAttributes,t=0,r=e.length;t<r;t++)e[t]=0}function m(e){g(e,0)}function g(r,i){var o=u.newAttributes,a=u.enabledAttributes,s=u.attributeDivisors;(o[r]=1,0===a[r]&&(e.enableVertexAttribArray(r),a[r]=1),s[r]!==i)&&((n.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[n.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](r,i),s[r]=i)}function y(){for(var t=u.newAttributes,r=u.enabledAttributes,n=0,i=r.length;n<i;n++)r[n]!==t[n]&&(e.disableVertexAttribArray(n),r[n]=0)}function v(t,r,n,i,o,a,s){!0===s?e.vertexAttribIPointer(t,r,n,o,a):e.vertexAttribPointer(t,r,n,i,o,a)}function b(){_(),c=!0,u!==l&&d((u=l).object)}function _(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function(i,l,f,b,_){var w=!1;if(a){var E=function(t,r,i){var a=!0===i.wireframe,l=s[t.id];void 0===l&&(l={},s[t.id]=l);var u=l[r.id];void 0===u&&(u={},l[r.id]=u);var c=u[a];void 0===c&&(c=h(n.isWebGL2?e.createVertexArray():o.createVertexArrayOES()),u[a]=c);return c}(b,f,l);u!==E&&d((u=E).object),w=function(e,t,r,n){var i=u.attributes,o=t.attributes,a=0,s=r.getAttributes();for(var l in s){if(s[l].location>=0){var c=i[l],d=o[l];if(void 0===d&&("instanceMatrix"===l&&e.instanceMatrix&&(d=e.instanceMatrix),"instanceColor"===l&&e.instanceColor&&(d=e.instanceColor)),void 0===c)return!0;if(c.attribute!==d)return!0;if(d&&c.data!==d.data)return!0;a++}}return u.attributesNum!==a||u.index!==n}(i,b,f,_),w&&function(e,t,r,n){var i={},o=t.attributes,a=0,s=r.getAttributes();for(var l in s){if(s[l].location>=0){var c=o[l];void 0===c&&("instanceMatrix"===l&&e.instanceMatrix&&(c=e.instanceMatrix),"instanceColor"===l&&e.instanceColor&&(c=e.instanceColor));var d={};d.attribute=c,c&&c.data&&(d.data=c.data),i[l]=d,a++}}u.attributes=i,u.attributesNum=a,u.index=n}(i,b,f,_)}else{var x=!0===l.wireframe;u.geometry===b.id&&u.program===f.id&&u.wireframe===x||(u.geometry=b.id,u.program=f.id,u.wireframe=x,w=!0)}null!==_&&r.update(_,e.ELEMENT_ARRAY_BUFFER),(w||c)&&(c=!1,function(i,o,a,s){if(!1===n.isWebGL2&&(i.isInstancedMesh||s.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;p();var l=s.attributes,u=a.getAttributes(),c=o.defaultAttributeValues;for(var d in u){var f=u[d];if(f.location>=0){var h=l[d];if(void 0===h&&("instanceMatrix"===d&&i.instanceMatrix&&(h=i.instanceMatrix),"instanceColor"===d&&i.instanceColor&&(h=i.instanceColor)),void 0!==h){var b=h.normalized,_=h.itemSize,w=r.get(h);if(void 0===w)continue;var E=w.buffer,x=w.type,S=w.bytesPerElement,T=!0===n.isWebGL2&&(x===e.INT||x===e.UNSIGNED_INT||h.gpuType===fc);if(h.isInterleavedBufferAttribute){var A=h.data,M=A.stride,R=h.offset;if(A.isInstancedInterleavedBuffer){for(var C=0;C<f.locationSize;C++)g(f.location+C,A.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=A.meshPerAttribute*A.count)}else for(var I=0;I<f.locationSize;I++)m(f.location+I);e.bindBuffer(e.ARRAY_BUFFER,E);for(var k=0;k<f.locationSize;k++)v(f.location+k,_/f.locationSize,x,b,M*S,(R+_/f.locationSize*k)*S,T)}else{if(h.isInstancedBufferAttribute){for(var P=0;P<f.locationSize;P++)g(f.location+P,h.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=h.meshPerAttribute*h.count)}else for(var O=0;O<f.locationSize;O++)m(f.location+O);e.bindBuffer(e.ARRAY_BUFFER,E);for(var j=0;j<f.locationSize;j++)v(f.location+j,_/f.locationSize,x,b,_*S,_/f.locationSize*j*S,T)}}else if(void 0!==c){var N=c[d];if(void 0!==N)switch(N.length){case 2:e.vertexAttrib2fv(f.location,N);break;case 3:e.vertexAttrib3fv(f.location,N);break;case 4:e.vertexAttrib4fv(f.location,N);break;default:e.vertexAttrib1fv(f.location,N)}}}}y()}(i,l,f,b),null!==_&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,r.get(_).buffer))},reset:b,resetDefaultState:_,dispose:function(){for(var e in b(),s){var t=s[e];for(var r in t){var n=t[r];for(var i in n)f(n[i].object),delete n[i];delete t[r]}delete s[e]}},releaseStatesOfGeometry:function(e){if(void 0!==s[e.id]){var t=s[e.id];for(var r in t){var n=t[r];for(var i in n)f(n[i].object),delete n[i];delete t[r]}delete s[e.id]}},releaseStatesOfProgram:function(e){for(var t in s){var r=s[t];if(void 0!==r[e.id]){var n=r[e.id];for(var i in n)f(n[i].object),delete n[i];delete r[e.id]}}},initAttributes:p,enableAttribute:m,disableUnusedAttributes:y}}function up(e,t,r,n){var i,o=n.isWebGL2;this.setMode=function(e){i=e},this.render=function(t,n){e.drawArrays(i,t,n),r.update(n,i,1)},this.renderInstances=function(n,a,s){if(0!==s){var l,u;if(o)l=e,u="drawArraysInstanced";else if(u="drawArraysInstancedANGLE",null===(l=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[u](i,n,a,s),r.update(a,i,s)}}}function cp(e,t,r){var n;function i(t){if("highp"===t){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}var o="undefined"!==typeof WebGL2RenderingContext&&"WebGL2RenderingContext"===e.constructor.name,a=void 0!==r.precision?r.precision:"highp",s=i(a);s!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",s,"instead."),a=s);var l=o||t.has("WEBGL_draw_buffers"),u=!0===r.logarithmicDepthBuffer,c=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),d=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),f=e.getParameter(e.MAX_TEXTURE_SIZE),h=e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),p=e.getParameter(e.MAX_VERTEX_ATTRIBS),m=e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),g=e.getParameter(e.MAX_VARYING_VECTORS),y=e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),v=d>0,b=o||t.has("OES_texture_float");return{isWebGL2:o,drawBuffers:l,getMaxAnisotropy:function(){if(void 0!==n)return n;if(!0===t.has("EXT_texture_filter_anisotropic")){var r=t.get("EXT_texture_filter_anisotropic");n=e.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else n=0;return n},getMaxPrecision:i,precision:a,logarithmicDepthBuffer:u,maxTextures:c,maxVertexTextures:d,maxTextureSize:f,maxCubemapSize:h,maxAttributes:p,maxVertexUniforms:m,maxVaryings:g,maxFragmentUniforms:y,vertexTextures:v,floatFragmentTextures:b,floatVertexTextures:v&&b,maxSamples:o?e.getParameter(e.MAX_SAMPLES):0}}function dp(e){var t=this,r=null,n=0,i=!1,o=!1,a=new Kh,s=new ad,l={value:null,needsUpdate:!1};function u(e,r,n,i){var o=null!==e?e.length:0,u=null;if(0!==o){if(u=l.value,!0!==i||null===u){var c=n+4*o,d=r.matrixWorldInverse;s.getNormalMatrix(d),(null===u||u.length<c)&&(u=new Float32Array(c));for(var f=0,h=n;f!==o;++f,h+=4)a.copy(e[f]).applyMatrix4(d,s),a.normal.toArray(u,h),u[h+3]=a.constant}l.value=u,l.needsUpdate=!0}return t.numPlanes=o,t.numIntersection=0,u}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t){var r=0!==e.length||t||0!==n||i;return i=t,n=e.length,r},this.beginShadows=function(){o=!0,u(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(e,t){r=u(e,t,0)},this.setState=function(a,s,c){var d=a.clippingPlanes,f=a.clipIntersection,h=a.clipShadows,p=e.get(a);if(!i||null===d||0===d.length||o&&!h)o?u(null):function(){l.value!==r&&(l.value=r,l.needsUpdate=n>0);t.numPlanes=n,t.numIntersection=0}();else{var m=o?0:n,g=4*m,y=p.clippingState||null;l.value=y,y=u(d,s,g,c);for(var v=0;v!==g;++v)y[v]=r[v];p.clippingState=y,this.numIntersection=f?this.numPlanes:0,this.numPlanes+=m}}}function fp(e){var t=new WeakMap;function r(e,t){return t===Ju?e.mapping=Qu:t===ec&&(e.mapping=$u),e}function n(e){var r=e.target;r.removeEventListener("dispose",n);var i=t.get(r);void 0!==i&&(t.delete(r),i.dispose())}return{get:function(i){if(i&&i.isTexture&&!1===i.isRenderTargetTexture){var o=i.mapping;if(o===Ju||o===ec){if(t.has(i))return r(t.get(i).texture,i.mapping);var a=i.image;if(a&&a.height>0){var s=new Zh(a.height/2);return s.fromEquirectangularTexture(e,i),t.set(i,s),i.addEventListener("dispose",n),r(s.texture,i.mapping)}return null}}return i},dispose:function(){t=new WeakMap}}}var hp=function(e){x(r,e);var t=M(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2e3;return b(this,r),(e=t.call(this)).isOrthographicCamera=!0,e.type="OrthographicCamera",e.zoom=1,e.view=null,e.left=n,e.right=i,e.top=o,e.bottom=a,e.near=s,e.far=l,e.updateProjectionMatrix(),e}return w(r,[{key:"copy",value:function(e,t){return Ou(S(r.prototype),"copy",this).call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}},{key:"setViewOffset",value:function(e,t,r,n,i,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=n,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,n=(this.top+this.bottom)/2,i=r-e,o=r+e,a=n+t,s=n-t;if(null!==this.view&&this.view.enabled){var l=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o=(i+=l*this.view.offsetX)+l*this.view.width,s=(a-=u*this.view.offsetY)-u*this.view.height}this.projectionMatrix.makeOrthographic(i,o,a,s,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var t=Ou(S(r.prototype),"toJSON",this).call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}]),r}(Gh),pp=[.125,.215,.35,.446,.526,.582],mp=20,gp=new hp,yp=new Jf,vp=null,bp=(1+Math.sqrt(5))/2,_p=1/bp,wp=[new Pd(1,1,1),new Pd(-1,1,1),new Pd(1,1,-1),new Pd(-1,1,-1),new Pd(0,bp,_p),new Pd(0,bp,-_p),new Pd(_p,0,bp),new Pd(-_p,0,bp),new Pd(bp,_p,0),new Pd(-bp,_p,0)],Ep=function(){function e(t){b(this,e),this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}return w(e,[{key:"fromScene",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;vp=this._renderer.getRenderTarget(),this._setSize(256);var i=this._allocateTargets();return i.depthBuffer=!0,this._sceneToCubeUV(e,r,n,i),t>0&&this._blur(i,0,0,t),this._applyPMREM(i),this._cleanup(i),i}},{key:"fromEquirectangular",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}},{key:"fromCubemap",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}},{key:"compileCubemapShader",value:function(){null===this._cubemapMaterial&&(this._cubemapMaterial=Ap(),this._compileMaterial(this._cubemapMaterial))}},{key:"compileEquirectangularShader",value:function(){null===this._equirectMaterial&&(this._equirectMaterial=Tp(),this._compileMaterial(this._equirectMaterial))}},{key:"dispose",value:function(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}},{key:"_setSize",value:function(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}},{key:"_dispose",value:function(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(var e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}},{key:"_cleanup",value:function(e){this._renderer.setRenderTarget(vp),e.scissorTest=!1,Sp(e,0,0,e.width,e.height)}},{key:"_fromTexture",value:function(e,t){e.mapping===Qu||e.mapping===$u?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),vp=this._renderer.getRenderTarget();var r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}},{key:"_allocateTargets",value:function(){var e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:lc,minFilter:lc,generateMipmaps:!1,type:mc,format:yc,colorSpace:jc,depthBuffer:!1},n=xp(e,t,r);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=xp(e,t,r);var i=this._lodMax,o=function(e){for(var t=[],r=[],n=[],i=e,o=e-4+1+pp.length,a=0;a<o;a++){var s=Math.pow(2,i);r.push(s);var l=1/s;a>e-4?l=pp[a-e+4-1]:0===a&&(l=0),n.push(l);for(var u=1/(s-2),c=-u,d=1+u,f=[c,c,d,c,d,d,c,c,d,d,c,d],h=6,p=6,m=3,g=2,y=1,v=new Float32Array(m*p*h),b=new Float32Array(g*p*h),_=new Float32Array(y*p*h),w=0;w<h;w++){var E=w%3*2/3-1,x=w>2?0:-1,S=[E,x,0,E+2/3,x,0,E+2/3,x+1,0,E,x,0,E+2/3,x+1,0,E,x+1,0];v.set(S,m*p*w),b.set(f,g*p*w);var T=[w,w,w,w,w,w];_.set(T,y*p*w)}var A=new mh;A.setAttribute("position",new ih(v,m)),A.setAttribute("uv",new ih(b,g)),A.setAttribute("faceIndex",new ih(_,y)),t.push(A),i>4&&i--}return{lodPlanes:t,sizeLods:r,sigmas:n}}(i);this._sizeLods=o.sizeLods,this._lodPlanes=o.lodPlanes,this._sigmas=o.sigmas,this._blurMaterial=function(e,t,r){var n=new Float32Array(mp),i=new Pd(0,1,0),o=new Bh({name:"SphericalGaussianBlur",defines:{n:mp,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/r,CUBEUV_MAX_MIP:"".concat(e,".0")},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1});return o}(i,e,t)}return n}},{key:"_compileMaterial",value:function(e){var t=new Oh(this._lodPlanes[0],e);this._renderer.compile(t,gp)}},{key:"_sceneToCubeUV",value:function(e,t,r,n){var i=new zh(90,1,t,r),o=[1,-1,1,1,1,1],a=[1,1,1,-1,-1,-1],s=this._renderer,l=s.autoClear,u=s.toneMapping;s.getClearColor(yp),s.toneMapping=Wu,s.autoClear=!1;var c=new th({name:"PMREM.Background",side:Bu,depthWrite:!1,depthTest:!1}),d=new Oh(new Nh,c),f=!1,h=e.background;h?h.isColor&&(c.color.copy(h),e.background=null,f=!0):(c.color.copy(yp),f=!0);for(var p=0;p<6;p++){var m=p%3;0===m?(i.up.set(0,o[p],0),i.lookAt(a[p],0,0)):1===m?(i.up.set(0,0,o[p]),i.lookAt(0,a[p],0)):(i.up.set(0,o[p],0),i.lookAt(0,0,a[p]));var g=this._cubeSize;Sp(n,m*g,p>2?g:0,g,g),s.setRenderTarget(n),f&&s.render(d,i),s.render(e,i)}d.geometry.dispose(),d.material.dispose(),s.toneMapping=u,s.autoClear=l,e.background=h}},{key:"_textureToCubeUV",value:function(e,t){var r=this._renderer,n=e.mapping===Qu||e.mapping===$u;n?(null===this._cubemapMaterial&&(this._cubemapMaterial=Ap()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=Tp());var i=n?this._cubemapMaterial:this._equirectMaterial,o=new Oh(this._lodPlanes[0],i);i.uniforms.envMap.value=e;var a=this._cubeSize;Sp(t,0,0,3*a,2*a),r.setRenderTarget(t),r.render(o,gp)}},{key:"_applyPMREM",value:function(e){var t=this._renderer,r=t.autoClear;t.autoClear=!1;for(var n=1;n<this._lodPlanes.length;n++){var i=Math.sqrt(this._sigmas[n]*this._sigmas[n]-this._sigmas[n-1]*this._sigmas[n-1]),o=wp[(n-1)%wp.length];this._blur(e,n-1,n,i,o)}t.autoClear=r}},{key:"_blur",value:function(e,t,r,n,i){var o=this._pingPongRenderTarget;this._halfBlur(e,o,t,r,n,"latitudinal",i),this._halfBlur(o,e,r,r,n,"longitudinal",i)}},{key:"_halfBlur",value:function(e,t,r,n,i,o,a){var s=this._renderer,l=this._blurMaterial;"latitudinal"!==o&&"longitudinal"!==o&&console.error("blur direction must be either latitudinal or longitudinal!");var u=new Oh(this._lodPlanes[n],l),c=l.uniforms,d=this._sizeLods[r]-1,f=isFinite(i)?Math.PI/(2*d):2*Math.PI/39,h=i/f,p=isFinite(i)?1+Math.floor(3*h):mp;p>mp&&console.warn("sigmaRadians, ".concat(i,", is too large and will clip, as it requested ").concat(p," samples when the maximum is set to ").concat(mp));for(var m=[],g=0,y=0;y<mp;++y){var v=y/h,b=Math.exp(-v*v/2);m.push(b),0===y?g+=b:y<p&&(g+=2*b)}for(var _=0;_<m.length;_++)m[_]=m[_]/g;c.envMap.value=e.texture,c.samples.value=p,c.weights.value=m,c.latitudinal.value="latitudinal"===o,a&&(c.poleAxis.value=a);var w=this._lodMax;c.dTheta.value=f,c.mipInt.value=w-r;var E=this._sizeLods[n];Sp(t,3*E*(n>w-4?n-w+4:0),4*(this._cubeSize-E),3*E,2*E),s.setRenderTarget(t),s.render(u,gp)}}]),e}();function xp(e,t,r){var n=new Rd(e,t,r);return n.texture.mapping=tc,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function Sp(e,t,r,n,i){e.viewport.set(t,r,n,i),e.scissor.set(t,r,n,i)}function Tp(){return new Bh({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function Ap(){return new Bh({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function Mp(e){var t=new WeakMap,r=null;function n(e){var r=e.target;r.removeEventListener("dispose",n);var i=t.get(r);void 0!==i&&(t.delete(r),i.dispose())}return{get:function(i){if(i&&i.isTexture){var o=i.mapping,a=o===Ju||o===ec,s=o===Qu||o===$u;if(a||s){if(i.isRenderTargetTexture&&!0===i.needsPMREMUpdate){i.needsPMREMUpdate=!1;var l=t.get(i);return null===r&&(r=new Ep(e)),l=a?r.fromEquirectangular(i,l):r.fromCubemap(i,l),t.set(i,l),l.texture}if(t.has(i))return t.get(i).texture;var u=i.image;if(a&&u&&u.height>0||s&&u&&function(e){for(var t=0,r=6,n=0;n<r;n++)void 0!==e[n]&&t++;return t===r}(u)){null===r&&(r=new Ep(e));var c=a?r.fromEquirectangular(i):r.fromCubemap(i);return t.set(i,c),i.addEventListener("dispose",n),c.texture}return null}}return i},dispose:function(){t=new WeakMap,null!==r&&(r.dispose(),r=null)}}}function Rp(e){var t={};function r(r){if(void 0!==t[r])return t[r];var n;switch(r){case"WEBGL_depth_texture":n=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":n=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":n=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":n=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:n=e.getExtension(r)}return t[r]=n,n}return{has:function(e){return null!==r(e)},init:function(e){e.isWebGL2?r("EXT_color_buffer_float"):(r("WEBGL_depth_texture"),r("OES_texture_float"),r("OES_texture_half_float"),r("OES_texture_half_float_linear"),r("OES_standard_derivatives"),r("OES_element_index_uint"),r("OES_vertex_array_object"),r("ANGLE_instanced_arrays")),r("OES_texture_float_linear"),r("EXT_color_buffer_half_float"),r("WEBGL_multisampled_render_to_texture")},get:function(e){var t=r(e);return null===t&&console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function Cp(e,t,r,n){var i={},o=new WeakMap;function a(e){var s=e.target;for(var l in null!==s.index&&t.remove(s.index),s.attributes)t.remove(s.attributes[l]);for(var u in s.morphAttributes)for(var c=s.morphAttributes[u],d=0,f=c.length;d<f;d++)t.remove(c[d]);s.removeEventListener("dispose",a),delete i[s.id];var h=o.get(s);h&&(t.remove(h),o.delete(s)),n.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,r.memory.geometries--}function s(e){var r=[],n=e.index,i=e.attributes.position,a=0;if(null!==n){var s=n.array;a=n.version;for(var l=0,u=s.length;l<u;l+=3){var c=s[l+0],d=s[l+1],f=s[l+2];r.push(c,d,d,f,f,c)}}else{if(void 0===i)return;var h=i.array;a=i.version;for(var p=0,m=h.length/3-1;p<m;p+=3){var g=p+0,y=p+1,v=p+2;r.push(g,y,y,v,v,g)}}var b=new(ld(r)?ah:oh)(r,1);b.version=a;var _=o.get(e);_&&t.remove(_),o.set(e,b)}return{get:function(e,t){return!0===i[t.id]||(t.addEventListener("dispose",a),i[t.id]=!0,r.memory.geometries++),t},update:function(r){var n=r.attributes;for(var i in n)t.update(n[i],e.ARRAY_BUFFER);var o=r.morphAttributes;for(var a in o)for(var s=o[a],l=0,u=s.length;l<u;l++)t.update(s[l],e.ARRAY_BUFFER)},getWireframeAttribute:function(e){var t=o.get(e);if(t){var r=e.index;null!==r&&t.version<r.version&&s(e)}else s(e);return o.get(e)}}}function Ip(e,t,r,n){var i,o,a,s=n.isWebGL2;this.setMode=function(e){i=e},this.setIndex=function(e){o=e.type,a=e.bytesPerElement},this.render=function(t,n){e.drawElements(i,n,o,t*a),r.update(n,i,1)},this.renderInstances=function(n,l,u){if(0!==u){var c,d;if(s)c=e,d="drawElementsInstanced";else if(d="drawElementsInstancedANGLE",null===(c=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");c[d](i,l,o,n*a,u),r.update(l,i,u)}}}function kp(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(r,n,i){switch(t.calls++,n){case e.TRIANGLES:t.triangles+=i*(r/3);break;case e.LINES:t.lines+=i*(r/2);break;case e.LINE_STRIP:t.lines+=i*(r-1);break;case e.LINE_LOOP:t.lines+=i*r;break;case e.POINTS:t.points+=i*r;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function Pp(e,t){return e[0]-t[0]}function Op(e,t){return Math.abs(t[1])-Math.abs(e[1])}function jp(e,t,r){for(var n={},i=new Float32Array(8),o=new WeakMap,a=new Ad,s=[],l=0;l<8;l++)s[l]=[l,0];return{update:function(l,u,c){var d=l.morphTargetInfluences;if(!0===t.isWebGL2){var f=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,h=void 0!==f?f.length:0,p=o.get(u);if(void 0===p||p.count!==h){void 0!==p&&p.texture.dispose();var m=void 0!==u.morphAttributes.position,g=void 0!==u.morphAttributes.normal,y=void 0!==u.morphAttributes.color,v=u.morphAttributes.position||[],b=u.morphAttributes.normal||[],_=u.morphAttributes.color||[],w=0;!0===m&&(w=1),!0===g&&(w=2),!0===y&&(w=3);var E=u.attributes.position.count*w,x=1;E>t.maxTextureSize&&(x=Math.ceil(E/t.maxTextureSize),E=t.maxTextureSize);var S=new Float32Array(E*x*4*h),T=new Cd(S,E,x,h);T.type=pc,T.needsUpdate=!0;for(var A=4*w,M=0;M<h;M++)for(var R=v[M],C=b[M],I=_[M],k=E*x*4*M,P=0;P<R.count;P++){var O=P*A;!0===m&&(a.fromBufferAttribute(R,P),S[k+O+0]=a.x,S[k+O+1]=a.y,S[k+O+2]=a.z,S[k+O+3]=0),!0===g&&(a.fromBufferAttribute(C,P),S[k+O+4]=a.x,S[k+O+5]=a.y,S[k+O+6]=a.z,S[k+O+7]=0),!0===y&&(a.fromBufferAttribute(I,P),S[k+O+8]=a.x,S[k+O+9]=a.y,S[k+O+10]=a.z,S[k+O+11]=4===I.itemSize?a.w:1)}p={count:h,texture:T,size:new od(E,x)},o.set(u,p),u.addEventListener("dispose",(function e(){T.dispose(),o.delete(u),u.removeEventListener("dispose",e)}))}for(var j=0,N=0;N<d.length;N++)j+=d[N];var L=u.morphTargetsRelative?1:1-j;c.getUniforms().setValue(e,"morphTargetBaseInfluence",L),c.getUniforms().setValue(e,"morphTargetInfluences",d),c.getUniforms().setValue(e,"morphTargetsTexture",p.texture,r),c.getUniforms().setValue(e,"morphTargetsTextureSize",p.size)}else{var D=void 0===d?0:d.length,F=n[u.id];if(void 0===F||F.length!==D){F=[];for(var U=0;U<D;U++)F[U]=[U,0];n[u.id]=F}for(var B=0;B<D;B++){var G=F[B];G[0]=B,G[1]=d[B]}F.sort(Op);for(var z=0;z<8;z++)z<D&&F[z][1]?(s[z][0]=F[z][0],s[z][1]=F[z][1]):(s[z][0]=Number.MAX_SAFE_INTEGER,s[z][1]=0);s.sort(Pp);for(var V=u.morphAttributes.position,H=u.morphAttributes.normal,W=0,Z=0;Z<8;Z++){var q=s[Z],Y=q[0],X=q[1];Y!==Number.MAX_SAFE_INTEGER&&X?(V&&u.getAttribute("morphTarget"+Z)!==V[Y]&&u.setAttribute("morphTarget"+Z,V[Y]),H&&u.getAttribute("morphNormal"+Z)!==H[Y]&&u.setAttribute("morphNormal"+Z,H[Y]),i[Z]=X,W+=X):(V&&!0===u.hasAttribute("morphTarget"+Z)&&u.deleteAttribute("morphTarget"+Z),H&&!0===u.hasAttribute("morphNormal"+Z)&&u.deleteAttribute("morphNormal"+Z),i[Z]=0)}var K=u.morphTargetsRelative?1:1-W;c.getUniforms().setValue(e,"morphTargetBaseInfluence",K),c.getUniforms().setValue(e,"morphTargetInfluences",i)}}}}function Np(e,t,r,n){var i=new WeakMap;function o(e){var t=e.target;t.removeEventListener("dispose",o),r.remove(t.instanceMatrix),null!==t.instanceColor&&r.remove(t.instanceColor)}return{update:function(a){var s=n.render.frame,l=a.geometry,u=t.get(a,l);if(i.get(u)!==s&&(t.update(u),i.set(u,s)),a.isInstancedMesh&&(!1===a.hasEventListener("dispose",o)&&a.addEventListener("dispose",o),i.get(a)!==s&&(r.update(a.instanceMatrix,e.ARRAY_BUFFER),null!==a.instanceColor&&r.update(a.instanceColor,e.ARRAY_BUFFER),i.set(a,s))),a.isSkinnedMesh){var c=a.skeleton;i.get(c)!==s&&(c.update(),i.set(c,s))}return u},dispose:function(){i=new WeakMap}}}var Lp=new Td,Dp=new Cd,Fp=new Id,Up=new Wh,Bp=[],Gp=[],zp=new Float32Array(16),Vp=new Float32Array(9),Hp=new Float32Array(4);function Wp(e,t,r){var n=e[0];if(n<=0||n>0)return e;var i=t*r,o=Bp[i];if(void 0===o&&(o=new Float32Array(i),Bp[i]=o),0!==t){n.toArray(o,0);for(var a=1,s=0;a!==t;++a)s+=r,e[a].toArray(o,s)}return o}function Zp(e,t){if(e.length!==t.length)return!1;for(var r=0,n=e.length;r<n;r++)if(e[r]!==t[r])return!1;return!0}function qp(e,t){for(var r=0,n=t.length;r<n;r++)e[r]=t[r]}function Yp(e,t){var r=Gp[t];void 0===r&&(r=new Int32Array(t),Gp[t]=r);for(var n=0;n!==t;++n)r[n]=e.allocateTextureUnit();return r}function Xp(e,t){var r=this.cache;r[0]!==t&&(e.uniform1f(this.addr,t),r[0]=t)}function Kp(e,t){var r=this.cache;if(void 0!==t.x)r[0]===t.x&&r[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),r[0]=t.x,r[1]=t.y);else{if(Zp(r,t))return;e.uniform2fv(this.addr,t),qp(r,t)}}function Qp(e,t){var r=this.cache;if(void 0!==t.x)r[0]===t.x&&r[1]===t.y&&r[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),r[0]=t.x,r[1]=t.y,r[2]=t.z);else if(void 0!==t.r)r[0]===t.r&&r[1]===t.g&&r[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),r[0]=t.r,r[1]=t.g,r[2]=t.b);else{if(Zp(r,t))return;e.uniform3fv(this.addr,t),qp(r,t)}}function $p(e,t){var r=this.cache;if(void 0!==t.x)r[0]===t.x&&r[1]===t.y&&r[2]===t.z&&r[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=t.w);else{if(Zp(r,t))return;e.uniform4fv(this.addr,t),qp(r,t)}}function Jp(e,t){var r=this.cache,n=t.elements;if(void 0===n){if(Zp(r,t))return;e.uniformMatrix2fv(this.addr,!1,t),qp(r,t)}else{if(Zp(r,n))return;Hp.set(n),e.uniformMatrix2fv(this.addr,!1,Hp),qp(r,n)}}function em(e,t){var r=this.cache,n=t.elements;if(void 0===n){if(Zp(r,t))return;e.uniformMatrix3fv(this.addr,!1,t),qp(r,t)}else{if(Zp(r,n))return;Vp.set(n),e.uniformMatrix3fv(this.addr,!1,Vp),qp(r,n)}}function tm(e,t){var r=this.cache,n=t.elements;if(void 0===n){if(Zp(r,t))return;e.uniformMatrix4fv(this.addr,!1,t),qp(r,t)}else{if(Zp(r,n))return;zp.set(n),e.uniformMatrix4fv(this.addr,!1,zp),qp(r,n)}}function rm(e,t){var r=this.cache;r[0]!==t&&(e.uniform1i(this.addr,t),r[0]=t)}function nm(e,t){var r=this.cache;if(void 0!==t.x)r[0]===t.x&&r[1]===t.y||(e.uniform2i(this.addr,t.x,t.y),r[0]=t.x,r[1]=t.y);else{if(Zp(r,t))return;e.uniform2iv(this.addr,t),qp(r,t)}}function im(e,t){var r=this.cache;if(void 0!==t.x)r[0]===t.x&&r[1]===t.y&&r[2]===t.z||(e.uniform3i(this.addr,t.x,t.y,t.z),r[0]=t.x,r[1]=t.y,r[2]=t.z);else{if(Zp(r,t))return;e.uniform3iv(this.addr,t),qp(r,t)}}function om(e,t){var r=this.cache;if(void 0!==t.x)r[0]===t.x&&r[1]===t.y&&r[2]===t.z&&r[3]===t.w||(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=t.w);else{if(Zp(r,t))return;e.uniform4iv(this.addr,t),qp(r,t)}}function am(e,t){var r=this.cache;r[0]!==t&&(e.uniform1ui(this.addr,t),r[0]=t)}function sm(e,t){var r=this.cache;if(void 0!==t.x)r[0]===t.x&&r[1]===t.y||(e.uniform2ui(this.addr,t.x,t.y),r[0]=t.x,r[1]=t.y);else{if(Zp(r,t))return;e.uniform2uiv(this.addr,t),qp(r,t)}}function lm(e,t){var r=this.cache;if(void 0!==t.x)r[0]===t.x&&r[1]===t.y&&r[2]===t.z||(e.uniform3ui(this.addr,t.x,t.y,t.z),r[0]=t.x,r[1]=t.y,r[2]=t.z);else{if(Zp(r,t))return;e.uniform3uiv(this.addr,t),qp(r,t)}}function um(e,t){var r=this.cache;if(void 0!==t.x)r[0]===t.x&&r[1]===t.y&&r[2]===t.z&&r[3]===t.w||(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=t.w);else{if(Zp(r,t))return;e.uniform4uiv(this.addr,t),qp(r,t)}}function cm(e,t,r){var n=this.cache,i=r.allocateTextureUnit();n[0]!==i&&(e.uniform1i(this.addr,i),n[0]=i),r.setTexture2D(t||Lp,i)}function dm(e,t,r){var n=this.cache,i=r.allocateTextureUnit();n[0]!==i&&(e.uniform1i(this.addr,i),n[0]=i),r.setTexture3D(t||Fp,i)}function fm(e,t,r){var n=this.cache,i=r.allocateTextureUnit();n[0]!==i&&(e.uniform1i(this.addr,i),n[0]=i),r.setTextureCube(t||Up,i)}function hm(e,t,r){var n=this.cache,i=r.allocateTextureUnit();n[0]!==i&&(e.uniform1i(this.addr,i),n[0]=i),r.setTexture2DArray(t||Dp,i)}function pm(e,t){e.uniform1fv(this.addr,t)}function mm(e,t){var r=Wp(t,this.size,2);e.uniform2fv(this.addr,r)}function gm(e,t){var r=Wp(t,this.size,3);e.uniform3fv(this.addr,r)}function ym(e,t){var r=Wp(t,this.size,4);e.uniform4fv(this.addr,r)}function vm(e,t){var r=Wp(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,r)}function bm(e,t){var r=Wp(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,r)}function _m(e,t){var r=Wp(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,r)}function wm(e,t){e.uniform1iv(this.addr,t)}function Em(e,t){e.uniform2iv(this.addr,t)}function xm(e,t){e.uniform3iv(this.addr,t)}function Sm(e,t){e.uniform4iv(this.addr,t)}function Tm(e,t){e.uniform1uiv(this.addr,t)}function Am(e,t){e.uniform2uiv(this.addr,t)}function Mm(e,t){e.uniform3uiv(this.addr,t)}function Rm(e,t){e.uniform4uiv(this.addr,t)}function Cm(e,t,r){var n=this.cache,i=t.length,o=Yp(r,i);Zp(n,o)||(e.uniform1iv(this.addr,o),qp(n,o));for(var a=0;a!==i;++a)r.setTexture2D(t[a]||Lp,o[a])}function Im(e,t,r){var n=this.cache,i=t.length,o=Yp(r,i);Zp(n,o)||(e.uniform1iv(this.addr,o),qp(n,o));for(var a=0;a!==i;++a)r.setTexture3D(t[a]||Fp,o[a])}function km(e,t,r){var n=this.cache,i=t.length,o=Yp(r,i);Zp(n,o)||(e.uniform1iv(this.addr,o),qp(n,o));for(var a=0;a!==i;++a)r.setTextureCube(t[a]||Up,o[a])}function Pm(e,t,r){var n=this.cache,i=t.length,o=Yp(r,i);Zp(n,o)||(e.uniform1iv(this.addr,o),qp(n,o));for(var a=0;a!==i;++a)r.setTexture2DArray(t[a]||Dp,o[a])}var Om=w((function e(t,r,n){b(this,e),this.id=t,this.addr=n,this.cache=[],this.setValue=function(e){switch(e){case 5126:return Xp;case 35664:return Kp;case 35665:return Qp;case 35666:return $p;case 35674:return Jp;case 35675:return em;case 35676:return tm;case 5124:case 35670:return rm;case 35667:case 35671:return nm;case 35668:case 35672:return im;case 35669:case 35673:return om;case 5125:return am;case 36294:return sm;case 36295:return lm;case 36296:return um;case 35678:case 36198:case 36298:case 36306:case 35682:return cm;case 35679:case 36299:case 36307:return dm;case 35680:case 36300:case 36308:case 36293:return fm;case 36289:case 36303:case 36311:case 36292:return hm}}(r.type)})),jm=w((function e(t,r,n){b(this,e),this.id=t,this.addr=n,this.cache=[],this.size=r.size,this.setValue=function(e){switch(e){case 5126:return pm;case 35664:return mm;case 35665:return gm;case 35666:return ym;case 35674:return vm;case 35675:return bm;case 35676:return _m;case 5124:case 35670:return wm;case 35667:case 35671:return Em;case 35668:case 35672:return xm;case 35669:case 35673:return Sm;case 5125:return Tm;case 36294:return Am;case 36295:return Mm;case 36296:return Rm;case 35678:case 36198:case 36298:case 36306:case 35682:return Cm;case 35679:case 36299:case 36307:return Im;case 35680:case 36300:case 36308:case 36293:return km;case 36289:case 36303:case 36311:case 36292:return Pm}}(r.type)})),Nm=function(){function e(t){b(this,e),this.id=t,this.seq=[],this.map={}}return w(e,[{key:"setValue",value:function(e,t,r){for(var n=this.seq,i=0,o=n.length;i!==o;++i){var a=n[i];a.setValue(e,t[a.id],r)}}}]),e}(),Lm=/(\w+)(\])?(\[|\.)?/g;function Dm(e,t){e.seq.push(t),e.map[t.id]=t}function Fm(e,t,r){var n=e.name,i=n.length;for(Lm.lastIndex=0;;){var o=Lm.exec(n),a=Lm.lastIndex,s=o[1],l="]"===o[2],u=o[3];if(l&&(s|=0),void 0===u||"["===u&&a+2===i){Dm(r,void 0===u?new Om(s,e,t):new jm(s,e,t));break}var c=r.map[s];void 0===c&&Dm(r,c=new Nm(s)),r=c}}var Um=function(){function e(t,r){b(this,e),this.seq=[],this.map={};for(var n=t.getProgramParameter(r,t.ACTIVE_UNIFORMS),i=0;i<n;++i){var o=t.getActiveUniform(r,i);Fm(o,t.getUniformLocation(r,o.name),this)}}return w(e,[{key:"setValue",value:function(e,t,r,n){var i=this.map[t];void 0!==i&&i.setValue(e,r,n)}},{key:"setOptional",value:function(e,t,r){var n=t[r];void 0!==n&&this.setValue(e,r,n)}}],[{key:"upload",value:function(e,t,r,n){for(var i=0,o=t.length;i!==o;++i){var a=t[i],s=r[a.id];!1!==s.needsUpdate&&a.setValue(e,s.value,n)}}},{key:"seqWithValue",value:function(e,t){for(var r=[],n=0,i=e.length;n!==i;++n){var o=e[n];o.id in t&&r.push(o)}return r}}]),e}();function Bm(e,t,r){var n=e.createShader(t);return e.shaderSource(n,r),e.compileShader(n),n}var Gm=0;function zm(e,t,r){var n=e.getShaderParameter(t,e.COMPILE_STATUS),i=e.getShaderInfoLog(t).trim();if(n&&""===i)return"";var o=/ERROR: 0:(\d+)/.exec(i);if(o){var a=parseInt(o[1]);return r.toUpperCase()+"\n\n"+i+"\n\n"+function(e,t){for(var r=e.split("\n"),n=[],i=Math.max(t-6,0),o=Math.min(t+6,r.length),a=i;a<o;a++){var s=a+1;n.push("".concat(s===t?">":" "," ").concat(s,": ").concat(r[a]))}return n.join("\n")}(e.getShaderSource(t),a)}return i}function Vm(e,t){var r=function(e){var t,r=yd.getPrimaries(yd.workingColorSpace),n=yd.getPrimaries(e);switch(r===n?t="":r===Bc&&n===Uc?t="LinearDisplayP3ToLinearSRGB":r===Uc&&n===Bc&&(t="LinearSRGBToLinearDisplayP3"),e){case jc:case Lc:return[t,"LinearTransferOETF"];case Oc:case Nc:return[t,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",e),[t,"LinearTransferOETF"]}}(t);return"vec4 ".concat(e,"( vec4 value ) { return ").concat(r[0],"( ").concat(r[1],"( value ) ); }")}function Hm(e,t){var r;switch(t){case Zu:r="Linear";break;case qu:r="Reinhard";break;case Yu:r="OptimizedCineon";break;case Xu:r="ACESFilmic";break;case Ku:r="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),r="Linear"}return"vec3 "+e+"( vec3 color ) { return "+r+"ToneMapping( color ); }"}function Wm(e){return""!==e}function Zm(e,t){var r=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,r).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function qm(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var Ym=/^[ \t]*#include +<([\w\d./]+)>/gm;function Xm(e){return e.replace(Ym,Qm)}var Km=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function Qm(e,t){var r=np[t];if(void 0===r){var n=Km.get(t);if(void 0===n)throw new Error("Can not resolve #include <"+t+">");r=np[n],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',t,n)}return Xm(r)}var $m=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Jm(e){return e.replace($m,eg)}function eg(e,t,r,n){for(var i="",o=parseInt(t);o<parseInt(r);o++)i+=n.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function tg(e){var t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function rg(e,t,r,n){var i,o,a=e.getContext(),s=r.defines,l=r.vertexShader,u=r.fragmentShader,c=function(e){var t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===Lu?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===Du?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===Fu&&(t="SHADOWMAP_TYPE_VSM"),t}(r),d=function(e){var t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case Qu:case $u:t="ENVMAP_TYPE_CUBE";break;case tc:t="ENVMAP_TYPE_CUBE_UV"}return t}(r),f=function(e){var t="ENVMAP_MODE_REFLECTION";e.envMap&&e.envMapMode===$u&&(t="ENVMAP_MODE_REFRACTION");return t}(r),h=function(e){var t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case zu:t="ENVMAP_BLENDING_MULTIPLY";break;case Vu:t="ENVMAP_BLENDING_MIX";break;case Hu:t="ENVMAP_BLENDING_ADD"}return t}(r),p=function(e){var t=e.envMapCubeUVHeight;if(null===t)return null;var r=Math.log2(t)-2,n=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,r),112)),texelHeight:n,maxMip:r}}(r),m=r.isWebGL2?"":function(e){return[e.extensionDerivatives||e.envMapCubeUVHeight||e.bumpMap||e.normalMapTangentSpace||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap||e.transmission)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Wm).join("\n")}(r),g=function(e){var t=[];for(var r in e){var n=e[r];!1!==n&&t.push("#define "+r+" "+n)}return t.join("\n")}(s),y=a.createProgram(),v=r.glslVersion?"#version "+r.glslVersion+"\n":"";r.isRawShaderMaterial?((i=["#define SHADER_TYPE "+r.shaderType,"#define SHADER_NAME "+r.shaderName,g].filter(Wm).join("\n")).length>0&&(i+="\n"),(o=[m,"#define SHADER_TYPE "+r.shaderType,"#define SHADER_NAME "+r.shaderName,g].filter(Wm).join("\n")).length>0&&(o+="\n")):(i=[tg(r),"#define SHADER_TYPE "+r.shaderType,"#define SHADER_NAME "+r.shaderName,g,r.instancing?"#define USE_INSTANCING":"",r.instancingColor?"#define USE_INSTANCING_COLOR":"",r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp2?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+f:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",r.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",r.displacementMap?"#define USE_DISPLACEMENTMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.anisotropy?"#define USE_ANISOTROPY":"",r.anisotropyMap?"#define USE_ANISOTROPYMAP":"",r.clearcoatMap?"#define USE_CLEARCOATMAP":"",r.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",r.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",r.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",r.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",r.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.alphaHash?"#define USE_ALPHAHASH":"",r.transmission?"#define USE_TRANSMISSION":"",r.transmissionMap?"#define USE_TRANSMISSIONMAP":"",r.thicknessMap?"#define USE_THICKNESSMAP":"",r.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",r.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",r.mapUv?"#define MAP_UV "+r.mapUv:"",r.alphaMapUv?"#define ALPHAMAP_UV "+r.alphaMapUv:"",r.lightMapUv?"#define LIGHTMAP_UV "+r.lightMapUv:"",r.aoMapUv?"#define AOMAP_UV "+r.aoMapUv:"",r.emissiveMapUv?"#define EMISSIVEMAP_UV "+r.emissiveMapUv:"",r.bumpMapUv?"#define BUMPMAP_UV "+r.bumpMapUv:"",r.normalMapUv?"#define NORMALMAP_UV "+r.normalMapUv:"",r.displacementMapUv?"#define DISPLACEMENTMAP_UV "+r.displacementMapUv:"",r.metalnessMapUv?"#define METALNESSMAP_UV "+r.metalnessMapUv:"",r.roughnessMapUv?"#define ROUGHNESSMAP_UV "+r.roughnessMapUv:"",r.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+r.anisotropyMapUv:"",r.clearcoatMapUv?"#define CLEARCOATMAP_UV "+r.clearcoatMapUv:"",r.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+r.clearcoatNormalMapUv:"",r.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+r.clearcoatRoughnessMapUv:"",r.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+r.iridescenceMapUv:"",r.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+r.iridescenceThicknessMapUv:"",r.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+r.sheenColorMapUv:"",r.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+r.sheenRoughnessMapUv:"",r.specularMapUv?"#define SPECULARMAP_UV "+r.specularMapUv:"",r.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+r.specularColorMapUv:"",r.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+r.specularIntensityMapUv:"",r.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+r.transmissionMapUv:"",r.thicknessMapUv?"#define THICKNESSMAP_UV "+r.thicknessMapUv:"",r.vertexTangents&&!1===r.flatShading?"#define USE_TANGENT":"",r.vertexColors?"#define USE_COLOR":"",r.vertexAlphas?"#define USE_COLOR_ALPHA":"",r.vertexUv1s?"#define USE_UV1":"",r.vertexUv2s?"#define USE_UV2":"",r.vertexUv3s?"#define USE_UV3":"",r.pointsUvs?"#define USE_POINTS_UV":"",r.flatShading?"#define FLAT_SHADED":"",r.skinning?"#define USE_SKINNING":"",r.morphTargets?"#define USE_MORPHTARGETS":"",r.morphNormals&&!1===r.flatShading?"#define USE_MORPHNORMALS":"",r.morphColors&&r.isWebGL2?"#define USE_MORPHCOLORS":"",r.morphTargetsCount>0&&r.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",r.morphTargetsCount>0&&r.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+r.morphTextureStride:"",r.morphTargetsCount>0&&r.isWebGL2?"#define MORPHTARGETS_COUNT "+r.morphTargetsCount:"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+c:"",r.sizeAttenuation?"#define USE_SIZEATTENUATION":"",r.numLightProbes>0?"#define USE_LIGHT_PROBES":"",r.useLegacyLights?"#define LEGACY_LIGHTS":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&r.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Wm).join("\n"),o=[m,tg(r),"#define SHADER_TYPE "+r.shaderType,"#define SHADER_NAME "+r.shaderName,g,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp2?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.matcap?"#define USE_MATCAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+d:"",r.envMap?"#define "+f:"",r.envMap?"#define "+h:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",r.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.anisotropy?"#define USE_ANISOTROPY":"",r.anisotropyMap?"#define USE_ANISOTROPYMAP":"",r.clearcoat?"#define USE_CLEARCOAT":"",r.clearcoatMap?"#define USE_CLEARCOATMAP":"",r.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",r.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",r.iridescence?"#define USE_IRIDESCENCE":"",r.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",r.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",r.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.alphaTest?"#define USE_ALPHATEST":"",r.alphaHash?"#define USE_ALPHAHASH":"",r.sheen?"#define USE_SHEEN":"",r.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",r.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",r.transmission?"#define USE_TRANSMISSION":"",r.transmissionMap?"#define USE_TRANSMISSIONMAP":"",r.thicknessMap?"#define USE_THICKNESSMAP":"",r.vertexTangents&&!1===r.flatShading?"#define USE_TANGENT":"",r.vertexColors||r.instancingColor?"#define USE_COLOR":"",r.vertexAlphas?"#define USE_COLOR_ALPHA":"",r.vertexUv1s?"#define USE_UV1":"",r.vertexUv2s?"#define USE_UV2":"",r.vertexUv3s?"#define USE_UV3":"",r.pointsUvs?"#define USE_POINTS_UV":"",r.gradientMap?"#define USE_GRADIENTMAP":"",r.flatShading?"#define FLAT_SHADED":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+c:"",r.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",r.numLightProbes>0?"#define USE_LIGHT_PROBES":"",r.useLegacyLights?"#define LEGACY_LIGHTS":"",r.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&r.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",r.toneMapping!==Wu?"#define TONE_MAPPING":"",r.toneMapping!==Wu?np.tonemapping_pars_fragment:"",r.toneMapping!==Wu?Hm("toneMapping",r.toneMapping):"",r.dithering?"#define DITHERING":"",r.opaque?"#define OPAQUE":"",np.colorspace_pars_fragment,Vm("linearToOutputTexel",r.outputColorSpace),r.useDepthPacking?"#define DEPTH_PACKING "+r.depthPacking:"","\n"].filter(Wm).join("\n")),l=qm(l=Zm(l=Xm(l),r),r),u=qm(u=Zm(u=Xm(u),r),r),l=Jm(l),u=Jm(u),r.isWebGL2&&!0!==r.isRawShaderMaterial&&(v="#version 300 es\n",i=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+i,o=["#define varying in",r.glslVersion===Vc?"":"layout(location = 0) out highp vec4 pc_fragColor;",r.glslVersion===Vc?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+o);var b,_,w=v+i+l,E=v+o+u,x=Bm(a,a.VERTEX_SHADER,w),S=Bm(a,a.FRAGMENT_SHADER,E);if(a.attachShader(y,x),a.attachShader(y,S),void 0!==r.index0AttributeName?a.bindAttribLocation(y,0,r.index0AttributeName):!0===r.morphTargets&&a.bindAttribLocation(y,0,"position"),a.linkProgram(y),e.debug.checkShaderErrors){var T=a.getProgramInfoLog(y).trim(),A=a.getShaderInfoLog(x).trim(),M=a.getShaderInfoLog(S).trim(),R=!0,C=!0;if(!1===a.getProgramParameter(y,a.LINK_STATUS))if(R=!1,"function"===typeof e.debug.onShaderError)e.debug.onShaderError(a,y,x,S);else{var I=zm(a,x,"vertex"),k=zm(a,S,"fragment");console.error("THREE.WebGLProgram: Shader Error "+a.getError()+" - VALIDATE_STATUS "+a.getProgramParameter(y,a.VALIDATE_STATUS)+"\n\nProgram Info Log: "+T+"\n"+I+"\n"+k)}else""!==T?console.warn("THREE.WebGLProgram: Program Info Log:",T):""!==A&&""!==M||(C=!1);C&&(this.diagnostics={runnable:R,programLog:T,vertexShader:{log:A,prefix:i},fragmentShader:{log:M,prefix:o}})}return a.deleteShader(x),a.deleteShader(S),this.getUniforms=function(){return void 0===b&&(b=new Um(a,y)),b},this.getAttributes=function(){return void 0===_&&(_=function(e,t){for(var r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),i=0;i<n;i++){var o=e.getActiveAttrib(t,i),a=o.name,s=1;o.type===e.FLOAT_MAT2&&(s=2),o.type===e.FLOAT_MAT3&&(s=3),o.type===e.FLOAT_MAT4&&(s=4),r[a]={type:o.type,location:e.getAttribLocation(t,a),locationSize:s}}return r}(a,y)),_},this.destroy=function(){n.releaseStatesOfProgram(this),a.deleteProgram(y),this.program=void 0},this.type=r.shaderType,this.name=r.shaderName,this.id=Gm++,this.cacheKey=t,this.usedTimes=1,this.program=y,this.vertexShader=x,this.fragmentShader=S,this}var ng=0,ig=function(){function e(){b(this,e),this.shaderCache=new Map,this.materialCache=new Map}return w(e,[{key:"update",value:function(e){var t=e.vertexShader,r=e.fragmentShader,n=this._getShaderStage(t),i=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return!1===o.has(n)&&(o.add(n),n.usedTimes++),!1===o.has(i)&&(o.add(i),i.usedTimes++),this}},{key:"remove",value:function(e){var t,r=I(this.materialCache.get(e));try{for(r.s();!(t=r.n()).done;){var n=t.value;n.usedTimes--,0===n.usedTimes&&this.shaderCache.delete(n.code)}}catch(i){r.e(i)}finally{r.f()}return this.materialCache.delete(e),this}},{key:"getVertexShaderID",value:function(e){return this._getShaderStage(e.vertexShader).id}},{key:"getFragmentShaderID",value:function(e){return this._getShaderStage(e.fragmentShader).id}},{key:"dispose",value:function(){this.shaderCache.clear(),this.materialCache.clear()}},{key:"_getShaderCacheForMaterial",value:function(e){var t=this.materialCache,r=t.get(e);return void 0===r&&(r=new Set,t.set(e,r)),r}},{key:"_getShaderStage",value:function(e){var t=this.shaderCache,r=t.get(e);return void 0===r&&(r=new og(e),t.set(e,r)),r}}]),e}(),og=w((function e(t){b(this,e),this.id=ng++,this.code=t,this.usedTimes=0}));function ag(e,t,r,n,i,o,a){var s=new _f,l=new ig,u=[],c=i.isWebGL2,d=i.logarithmicDepthBuffer,f=i.vertexTextures,h=i.precision,p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function m(e){return 0===e?"uv":"uv".concat(e)}return{getParameters:function(o,s,u,g,y){var v=g.fog,b=y.geometry,_=o.isMeshStandardMaterial?g.environment:null,w=(o.isMeshStandardMaterial?r:t).get(o.envMap||_),E=w&&w.mapping===tc?w.image.height:null,x=p[o.type];null!==o.precision&&(h=i.getMaxPrecision(o.precision))!==o.precision&&console.warn("THREE.WebGLProgram.getParameters:",o.precision,"not supported, using",h,"instead.");var S,T,A,M,R=b.morphAttributes.position||b.morphAttributes.normal||b.morphAttributes.color,C=void 0!==R?R.length:0,I=0;if(void 0!==b.morphAttributes.position&&(I=1),void 0!==b.morphAttributes.normal&&(I=2),void 0!==b.morphAttributes.color&&(I=3),x){var k=op[x];S=k.vertexShader,T=k.fragmentShader}else S=o.vertexShader,T=o.fragmentShader,l.update(o),A=l.getVertexShaderID(o),M=l.getFragmentShaderID(o);var P=e.getRenderTarget(),O=!0===y.isInstancedMesh,j=!!o.map,N=!!o.matcap,L=!!w,D=!!o.aoMap,F=!!o.lightMap,U=!!o.bumpMap,B=!!o.normalMap,G=!!o.displacementMap,z=!!o.emissiveMap,V=!!o.metalnessMap,H=!!o.roughnessMap,W=o.anisotropy>0,Z=o.clearcoat>0,q=o.iridescence>0,Y=o.sheen>0,X=o.transmission>0,K=W&&!!o.anisotropyMap,Q=Z&&!!o.clearcoatMap,$=Z&&!!o.clearcoatNormalMap,J=Z&&!!o.clearcoatRoughnessMap,ee=q&&!!o.iridescenceMap,te=q&&!!o.iridescenceThicknessMap,re=Y&&!!o.sheenColorMap,ne=Y&&!!o.sheenRoughnessMap,ie=!!o.specularMap,oe=!!o.specularColorMap,ae=!!o.specularIntensityMap,se=X&&!!o.transmissionMap,le=X&&!!o.thicknessMap,ue=!!o.gradientMap,ce=!!o.alphaMap,de=o.alphaTest>0,fe=!!o.alphaHash,he=!!o.extensions,pe=!!b.attributes.uv1,me=!!b.attributes.uv2,ge=!!b.attributes.uv3,ye=Wu;return o.toneMapped&&(null!==P&&!0!==P.isXRRenderTarget||(ye=e.toneMapping)),{isWebGL2:c,shaderID:x,shaderType:o.type,shaderName:o.name,vertexShader:S,fragmentShader:T,defines:o.defines,customVertexShaderID:A,customFragmentShaderID:M,isRawShaderMaterial:!0===o.isRawShaderMaterial,glslVersion:o.glslVersion,precision:h,instancing:O,instancingColor:O&&null!==y.instanceColor,supportsVertexTextures:f,outputColorSpace:null===P?e.outputColorSpace:!0===P.isXRRenderTarget?P.texture.colorSpace:jc,map:j,matcap:N,envMap:L,envMapMode:L&&w.mapping,envMapCubeUVHeight:E,aoMap:D,lightMap:F,bumpMap:U,normalMap:B,displacementMap:f&&G,emissiveMap:z,normalMapObjectSpace:B&&1===o.normalMapType,normalMapTangentSpace:B&&0===o.normalMapType,metalnessMap:V,roughnessMap:H,anisotropy:W,anisotropyMap:K,clearcoat:Z,clearcoatMap:Q,clearcoatNormalMap:$,clearcoatRoughnessMap:J,iridescence:q,iridescenceMap:ee,iridescenceThicknessMap:te,sheen:Y,sheenColorMap:re,sheenRoughnessMap:ne,specularMap:ie,specularColorMap:oe,specularIntensityMap:ae,transmission:X,transmissionMap:se,thicknessMap:le,gradientMap:ue,opaque:!1===o.transparent&&1===o.blending,alphaMap:ce,alphaTest:de,alphaHash:fe,combine:o.combine,mapUv:j&&m(o.map.channel),aoMapUv:D&&m(o.aoMap.channel),lightMapUv:F&&m(o.lightMap.channel),bumpMapUv:U&&m(o.bumpMap.channel),normalMapUv:B&&m(o.normalMap.channel),displacementMapUv:G&&m(o.displacementMap.channel),emissiveMapUv:z&&m(o.emissiveMap.channel),metalnessMapUv:V&&m(o.metalnessMap.channel),roughnessMapUv:H&&m(o.roughnessMap.channel),anisotropyMapUv:K&&m(o.anisotropyMap.channel),clearcoatMapUv:Q&&m(o.clearcoatMap.channel),clearcoatNormalMapUv:$&&m(o.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:J&&m(o.clearcoatRoughnessMap.channel),iridescenceMapUv:ee&&m(o.iridescenceMap.channel),iridescenceThicknessMapUv:te&&m(o.iridescenceThicknessMap.channel),sheenColorMapUv:re&&m(o.sheenColorMap.channel),sheenRoughnessMapUv:ne&&m(o.sheenRoughnessMap.channel),specularMapUv:ie&&m(o.specularMap.channel),specularColorMapUv:oe&&m(o.specularColorMap.channel),specularIntensityMapUv:ae&&m(o.specularIntensityMap.channel),transmissionMapUv:se&&m(o.transmissionMap.channel),thicknessMapUv:le&&m(o.thicknessMap.channel),alphaMapUv:ce&&m(o.alphaMap.channel),vertexTangents:!!b.attributes.tangent&&(B||W),vertexColors:o.vertexColors,vertexAlphas:!0===o.vertexColors&&!!b.attributes.color&&4===b.attributes.color.itemSize,vertexUv1s:pe,vertexUv2s:me,vertexUv3s:ge,pointsUvs:!0===y.isPoints&&!!b.attributes.uv&&(j||ce),fog:!!v,useFog:!0===o.fog,fogExp2:v&&v.isFogExp2,flatShading:!0===o.flatShading,sizeAttenuation:!0===o.sizeAttenuation,logarithmicDepthBuffer:d,skinning:!0===y.isSkinnedMesh,morphTargets:void 0!==b.morphAttributes.position,morphNormals:void 0!==b.morphAttributes.normal,morphColors:void 0!==b.morphAttributes.color,morphTargetsCount:C,morphTextureStride:I,numDirLights:s.directional.length,numPointLights:s.point.length,numSpotLights:s.spot.length,numSpotLightMaps:s.spotLightMap.length,numRectAreaLights:s.rectArea.length,numHemiLights:s.hemi.length,numDirLightShadows:s.directionalShadowMap.length,numPointLightShadows:s.pointShadowMap.length,numSpotLightShadows:s.spotShadowMap.length,numSpotLightShadowsWithMaps:s.numSpotLightShadowsWithMaps,numLightProbes:s.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:o.dithering,shadowMapEnabled:e.shadowMap.enabled&&u.length>0,shadowMapType:e.shadowMap.type,toneMapping:ye,useLegacyLights:e._useLegacyLights,decodeVideoTexture:j&&!0===o.map.isVideoTexture&&yd.getTransfer(o.map.colorSpace)===Fc,premultipliedAlpha:o.premultipliedAlpha,doubleSided:2===o.side,flipSided:o.side===Bu,useDepthPacking:o.depthPacking>=0,depthPacking:o.depthPacking||0,index0AttributeName:o.index0AttributeName,extensionDerivatives:he&&!0===o.extensions.derivatives,extensionFragDepth:he&&!0===o.extensions.fragDepth,extensionDrawBuffers:he&&!0===o.extensions.drawBuffers,extensionShaderTextureLOD:he&&!0===o.extensions.shaderTextureLOD,rendererExtensionFragDepth:c||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||n.has("EXT_shader_texture_lod"),customProgramCacheKey:o.customProgramCacheKey()}},getProgramCacheKey:function(t){var r=[];if(t.shaderID?r.push(t.shaderID):(r.push(t.customVertexShaderID),r.push(t.customFragmentShaderID)),void 0!==t.defines)for(var n in t.defines)r.push(n),r.push(t.defines[n]);return!1===t.isRawShaderMaterial&&(!function(e,t){e.push(t.precision),e.push(t.outputColorSpace),e.push(t.envMapMode),e.push(t.envMapCubeUVHeight),e.push(t.mapUv),e.push(t.alphaMapUv),e.push(t.lightMapUv),e.push(t.aoMapUv),e.push(t.bumpMapUv),e.push(t.normalMapUv),e.push(t.displacementMapUv),e.push(t.emissiveMapUv),e.push(t.metalnessMapUv),e.push(t.roughnessMapUv),e.push(t.anisotropyMapUv),e.push(t.clearcoatMapUv),e.push(t.clearcoatNormalMapUv),e.push(t.clearcoatRoughnessMapUv),e.push(t.iridescenceMapUv),e.push(t.iridescenceThicknessMapUv),e.push(t.sheenColorMapUv),e.push(t.sheenRoughnessMapUv),e.push(t.specularMapUv),e.push(t.specularColorMapUv),e.push(t.specularIntensityMapUv),e.push(t.transmissionMapUv),e.push(t.thicknessMapUv),e.push(t.combine),e.push(t.fogExp2),e.push(t.sizeAttenuation),e.push(t.morphTargetsCount),e.push(t.morphAttributeCount),e.push(t.numDirLights),e.push(t.numPointLights),e.push(t.numSpotLights),e.push(t.numSpotLightMaps),e.push(t.numHemiLights),e.push(t.numRectAreaLights),e.push(t.numDirLightShadows),e.push(t.numPointLightShadows),e.push(t.numSpotLightShadows),e.push(t.numSpotLightShadowsWithMaps),e.push(t.numLightProbes),e.push(t.shadowMapType),e.push(t.toneMapping),e.push(t.numClippingPlanes),e.push(t.numClipIntersection),e.push(t.depthPacking)}(r,t),function(e,t){s.disableAll(),t.isWebGL2&&s.enable(0);t.supportsVertexTextures&&s.enable(1);t.instancing&&s.enable(2);t.instancingColor&&s.enable(3);t.matcap&&s.enable(4);t.envMap&&s.enable(5);t.normalMapObjectSpace&&s.enable(6);t.normalMapTangentSpace&&s.enable(7);t.clearcoat&&s.enable(8);t.iridescence&&s.enable(9);t.alphaTest&&s.enable(10);t.vertexColors&&s.enable(11);t.vertexAlphas&&s.enable(12);t.vertexUv1s&&s.enable(13);t.vertexUv2s&&s.enable(14);t.vertexUv3s&&s.enable(15);t.vertexTangents&&s.enable(16);t.anisotropy&&s.enable(17);e.push(s.mask),s.disableAll(),t.fog&&s.enable(0);t.useFog&&s.enable(1);t.flatShading&&s.enable(2);t.logarithmicDepthBuffer&&s.enable(3);t.skinning&&s.enable(4);t.morphTargets&&s.enable(5);t.morphNormals&&s.enable(6);t.morphColors&&s.enable(7);t.premultipliedAlpha&&s.enable(8);t.shadowMapEnabled&&s.enable(9);t.useLegacyLights&&s.enable(10);t.doubleSided&&s.enable(11);t.flipSided&&s.enable(12);t.useDepthPacking&&s.enable(13);t.dithering&&s.enable(14);t.transmission&&s.enable(15);t.sheen&&s.enable(16);t.opaque&&s.enable(17);t.pointsUvs&&s.enable(18);t.decodeVideoTexture&&s.enable(19);e.push(s.mask)}(r,t),r.push(e.outputColorSpace)),r.push(t.customProgramCacheKey),r.join()},getUniforms:function(e){var t,r=p[e.type];if(r){var n=op[r];t=Uh.clone(n.uniforms)}else t=e.uniforms;return t},acquireProgram:function(t,r){for(var n,i=0,a=u.length;i<a;i++){var s=u[i];if(s.cacheKey===r){++(n=s).usedTimes;break}}return void 0===n&&(n=new rg(e,r,t,o),u.push(n)),n},releaseProgram:function(e){if(0===--e.usedTimes){var t=u.indexOf(e);u[t]=u[u.length-1],u.pop(),e.destroy()}},releaseShaderCache:function(e){l.remove(e)},programs:u,dispose:function(){l.dispose()}}}function sg(){var e=new WeakMap;return{get:function(t){var r=e.get(t);return void 0===r&&(r={},e.set(t,r)),r},remove:function(t){e.delete(t)},update:function(t,r,n){e.get(t)[r]=n},dispose:function(){e=new WeakMap}}}function lg(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function ug(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function cg(){var e=[],t=0,r=[],n=[],i=[];function o(r,n,i,o,a,s){var l=e[t];return void 0===l?(l={id:r.id,object:r,geometry:n,material:i,groupOrder:o,renderOrder:r.renderOrder,z:a,group:s},e[t]=l):(l.id=r.id,l.object=r,l.geometry=n,l.material=i,l.groupOrder=o,l.renderOrder=r.renderOrder,l.z=a,l.group=s),t++,l}return{opaque:r,transmissive:n,transparent:i,init:function(){t=0,r.length=0,n.length=0,i.length=0},push:function(e,t,a,s,l,u){var c=o(e,t,a,s,l,u);a.transmission>0?n.push(c):!0===a.transparent?i.push(c):r.push(c)},unshift:function(e,t,a,s,l,u){var c=o(e,t,a,s,l,u);a.transmission>0?n.unshift(c):!0===a.transparent?i.unshift(c):r.unshift(c)},finish:function(){for(var r=t,n=e.length;r<n;r++){var i=e[r];if(null===i.id)break;i.id=null,i.object=null,i.geometry=null,i.material=null,i.group=null}},sort:function(e,t){r.length>1&&r.sort(e||lg),n.length>1&&n.sort(t||ug),i.length>1&&i.sort(t||ug)}}}function dg(){var e=new WeakMap;return{get:function(t,r){var n,i=e.get(t);return void 0===i?(n=new cg,e.set(t,[n])):r>=i.length?(n=new cg,i.push(n)):n=i[r],n},dispose:function(){e=new WeakMap}}}function fg(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var r;switch(t.type){case"DirectionalLight":r={direction:new Pd,color:new Jf};break;case"SpotLight":r={position:new Pd,direction:new Pd,color:new Jf,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":r={position:new Pd,color:new Jf,distance:0,decay:0};break;case"HemisphereLight":r={direction:new Pd,skyColor:new Jf,groundColor:new Jf};break;case"RectAreaLight":r={color:new Jf,position:new Pd,halfWidth:new Pd,halfHeight:new Pd}}return e[t.id]=r,r}}}var hg=0;function pg(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function mg(e,t){for(var r=new fg,n=function(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var r;switch(t.type){case"DirectionalLight":case"SpotLight":r={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new od};break;case"PointLight":r={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new od,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=r,r}}}(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0},o=0;o<9;o++)i.probe.push(new Pd);var a=new Pd,s=new uf,l=new uf;return{setup:function(o,a){for(var s=0,l=0,u=0,c=0;c<9;c++)i.probe[c].set(0,0,0);var d=0,f=0,h=0,p=0,m=0,g=0,y=0,v=0,b=0,_=0,w=0;o.sort(pg);for(var E=!0===a?Math.PI:1,x=0,S=o.length;x<S;x++){var T=o[x],A=T.color,M=T.intensity,R=T.distance,C=T.shadow&&T.shadow.map?T.shadow.map.texture:null;if(T.isAmbientLight)s+=A.r*M*E,l+=A.g*M*E,u+=A.b*M*E;else if(T.isLightProbe){for(var I=0;I<9;I++)i.probe[I].addScaledVector(T.sh.coefficients[I],M);w++}else if(T.isDirectionalLight){var k=r.get(T);if(k.color.copy(T.color).multiplyScalar(T.intensity*E),T.castShadow){var P=T.shadow,O=n.get(T);O.shadowBias=P.bias,O.shadowNormalBias=P.normalBias,O.shadowRadius=P.radius,O.shadowMapSize=P.mapSize,i.directionalShadow[d]=O,i.directionalShadowMap[d]=C,i.directionalShadowMatrix[d]=T.shadow.matrix,g++}i.directional[d]=k,d++}else if(T.isSpotLight){var j=r.get(T);j.position.setFromMatrixPosition(T.matrixWorld),j.color.copy(A).multiplyScalar(M*E),j.distance=R,j.coneCos=Math.cos(T.angle),j.penumbraCos=Math.cos(T.angle*(1-T.penumbra)),j.decay=T.decay,i.spot[h]=j;var N=T.shadow;if(T.map&&(i.spotLightMap[b]=T.map,b++,N.updateMatrices(T),T.castShadow&&_++),i.spotLightMatrix[h]=N.matrix,T.castShadow){var L=n.get(T);L.shadowBias=N.bias,L.shadowNormalBias=N.normalBias,L.shadowRadius=N.radius,L.shadowMapSize=N.mapSize,i.spotShadow[h]=L,i.spotShadowMap[h]=C,v++}h++}else if(T.isRectAreaLight){var D=r.get(T);D.color.copy(A).multiplyScalar(M),D.halfWidth.set(.5*T.width,0,0),D.halfHeight.set(0,.5*T.height,0),i.rectArea[p]=D,p++}else if(T.isPointLight){var F=r.get(T);if(F.color.copy(T.color).multiplyScalar(T.intensity*E),F.distance=T.distance,F.decay=T.decay,T.castShadow){var U=T.shadow,B=n.get(T);B.shadowBias=U.bias,B.shadowNormalBias=U.normalBias,B.shadowRadius=U.radius,B.shadowMapSize=U.mapSize,B.shadowCameraNear=U.camera.near,B.shadowCameraFar=U.camera.far,i.pointShadow[f]=B,i.pointShadowMap[f]=C,i.pointShadowMatrix[f]=T.shadow.matrix,y++}i.point[f]=F,f++}else if(T.isHemisphereLight){var G=r.get(T);G.skyColor.copy(T.color).multiplyScalar(M*E),G.groundColor.copy(T.groundColor).multiplyScalar(M*E),i.hemi[m]=G,m++}}p>0&&(t.isWebGL2||!0===e.has("OES_texture_float_linear")?(i.rectAreaLTC1=ip.LTC_FLOAT_1,i.rectAreaLTC2=ip.LTC_FLOAT_2):!0===e.has("OES_texture_half_float_linear")?(i.rectAreaLTC1=ip.LTC_HALF_1,i.rectAreaLTC2=ip.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=s,i.ambient[1]=l,i.ambient[2]=u;var z=i.hash;z.directionalLength===d&&z.pointLength===f&&z.spotLength===h&&z.rectAreaLength===p&&z.hemiLength===m&&z.numDirectionalShadows===g&&z.numPointShadows===y&&z.numSpotShadows===v&&z.numSpotMaps===b&&z.numLightProbes===w||(i.directional.length=d,i.spot.length=h,i.rectArea.length=p,i.point.length=f,i.hemi.length=m,i.directionalShadow.length=g,i.directionalShadowMap.length=g,i.pointShadow.length=y,i.pointShadowMap.length=y,i.spotShadow.length=v,i.spotShadowMap.length=v,i.directionalShadowMatrix.length=g,i.pointShadowMatrix.length=y,i.spotLightMatrix.length=v+b-_,i.spotLightMap.length=b,i.numSpotLightShadowsWithMaps=_,i.numLightProbes=w,z.directionalLength=d,z.pointLength=f,z.spotLength=h,z.rectAreaLength=p,z.hemiLength=m,z.numDirectionalShadows=g,z.numPointShadows=y,z.numSpotShadows=v,z.numSpotMaps=b,z.numLightProbes=w,i.version=hg++)},setupView:function(e,t){for(var r=0,n=0,o=0,u=0,c=0,d=t.matrixWorldInverse,f=0,h=e.length;f<h;f++){var p=e[f];if(p.isDirectionalLight){var m=i.directional[r];m.direction.setFromMatrixPosition(p.matrixWorld),a.setFromMatrixPosition(p.target.matrixWorld),m.direction.sub(a),m.direction.transformDirection(d),r++}else if(p.isSpotLight){var g=i.spot[o];g.position.setFromMatrixPosition(p.matrixWorld),g.position.applyMatrix4(d),g.direction.setFromMatrixPosition(p.matrixWorld),a.setFromMatrixPosition(p.target.matrixWorld),g.direction.sub(a),g.direction.transformDirection(d),o++}else if(p.isRectAreaLight){var y=i.rectArea[u];y.position.setFromMatrixPosition(p.matrixWorld),y.position.applyMatrix4(d),l.identity(),s.copy(p.matrixWorld),s.premultiply(d),l.extractRotation(s),y.halfWidth.set(.5*p.width,0,0),y.halfHeight.set(0,.5*p.height,0),y.halfWidth.applyMatrix4(l),y.halfHeight.applyMatrix4(l),u++}else if(p.isPointLight){var v=i.point[n];v.position.setFromMatrixPosition(p.matrixWorld),v.position.applyMatrix4(d),n++}else if(p.isHemisphereLight){var b=i.hemi[c];b.direction.setFromMatrixPosition(p.matrixWorld),b.direction.transformDirection(d),c++}}},state:i}}function gg(e,t){var r=new mg(e,t),n=[],i=[];return{init:function(){n.length=0,i.length=0},state:{lightsArray:n,shadowsArray:i,lights:r},setupLights:function(e){r.setup(n,e)},setupLightsView:function(e){r.setupView(n,e)},pushLight:function(e){n.push(e)},pushShadow:function(e){i.push(e)}}}function yg(e,t){var r=new WeakMap;return{get:function(n){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=r.get(n);return void 0===a?(i=new gg(e,t),r.set(n,[i])):o>=a.length?(i=new gg(e,t),a.push(i)):i=a[o],i},dispose:function(){r=new WeakMap}}}var vg=function(e){x(r,e);var t=M(r);function r(e){var n;return b(this,r),(n=t.call(this)).isMeshDepthMaterial=!0,n.type="MeshDepthMaterial",n.depthPacking=3200,n.map=null,n.alphaMap=null,n.displacementMap=null,n.displacementScale=1,n.displacementBias=0,n.wireframe=!1,n.wireframeLinewidth=1,n.setValues(e),n}return w(r,[{key:"copy",value:function(e){return Ou(S(r.prototype),"copy",this).call(this,e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}]),r}(Yf),bg=function(e){x(r,e);var t=M(r);function r(e){var n;return b(this,r),(n=t.call(this)).isMeshDistanceMaterial=!0,n.type="MeshDistanceMaterial",n.map=null,n.alphaMap=null,n.displacementMap=null,n.displacementScale=1,n.displacementBias=0,n.setValues(e),n}return w(r,[{key:"copy",value:function(e){return Ou(S(r.prototype),"copy",this).call(this,e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}]),r}(Yf);function _g(e,t,r){var n,i=new Jh,o=new od,a=new od,s=new Ad,l=new vg({depthPacking:3201}),c=new bg,d={},f=r.maxTextureSize,h=(u(n={},Uu,Bu),u(n,Bu,Uu),u(n,2,2),n),p=new Bh({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new od},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),m=p.clone();m.defines.HORIZONTAL_PASS=1;var g=new mh;g.setAttribute("position",new ih(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var y=new Oh(g,p),v=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Lu;var b=this.type;function _(r,n){var i=t.update(y);p.defines.VSM_SAMPLES!==r.blurSamples&&(p.defines.VSM_SAMPLES=r.blurSamples,m.defines.VSM_SAMPLES=r.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),null===r.mapPass&&(r.mapPass=new Rd(o.x,o.y)),p.uniforms.shadow_pass.value=r.map.texture,p.uniforms.resolution.value=r.mapSize,p.uniforms.radius.value=r.radius,e.setRenderTarget(r.mapPass),e.clear(),e.renderBufferDirect(n,null,i,p,y,null),m.uniforms.shadow_pass.value=r.mapPass.texture,m.uniforms.resolution.value=r.mapSize,m.uniforms.radius.value=r.radius,e.setRenderTarget(r.map),e.clear(),e.renderBufferDirect(n,null,i,m,y,null)}function w(t,r,n,i){var o=null,a=!0===n.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;if(void 0!==a)o=a;else if(o=!0===n.isPointLight?c:l,e.localClippingEnabled&&!0===r.clipShadows&&Array.isArray(r.clippingPlanes)&&0!==r.clippingPlanes.length||r.displacementMap&&0!==r.displacementScale||r.alphaMap&&r.alphaTest>0||r.map&&r.alphaTest>0){var s=o.uuid,u=r.uuid,f=d[s];void 0===f&&(f={},d[s]=f);var p=f[u];void 0===p&&(p=o.clone(),f[u]=p),o=p}(o.visible=r.visible,o.wireframe=r.wireframe,o.side=i===Fu?null!==r.shadowSide?r.shadowSide:r.side:null!==r.shadowSide?r.shadowSide:h[r.side],o.alphaMap=r.alphaMap,o.alphaTest=r.alphaTest,o.map=r.map,o.clipShadows=r.clipShadows,o.clippingPlanes=r.clippingPlanes,o.clipIntersection=r.clipIntersection,o.displacementMap=r.displacementMap,o.displacementScale=r.displacementScale,o.displacementBias=r.displacementBias,o.wireframeLinewidth=r.wireframeLinewidth,o.linewidth=r.linewidth,!0===n.isPointLight&&!0===o.isMeshDistanceMaterial)&&(e.properties.get(o).light=n);return o}function E(r,n,o,a,s){if(!1!==r.visible){if(r.layers.test(n.layers)&&(r.isMesh||r.isLine||r.isPoints)&&(r.castShadow||r.receiveShadow&&s===Fu)&&(!r.frustumCulled||i.intersectsObject(r))){r.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,r.matrixWorld);var l=t.update(r),u=r.material;if(Array.isArray(u))for(var c=l.groups,d=0,f=c.length;d<f;d++){var h=c[d],p=u[h.materialIndex];if(p&&p.visible){var m=w(r,p,a,s);e.renderBufferDirect(o,null,l,m,r,h)}}else if(u.visible){var g=w(r,u,a,s);e.renderBufferDirect(o,null,l,g,r,null)}}for(var y=r.children,v=0,b=y.length;v<b;v++)E(y[v],n,o,a,s)}}this.render=function(t,r,n){if(!1!==v.enabled&&(!1!==v.autoUpdate||!1!==v.needsUpdate)&&0!==t.length){var l=e.getRenderTarget(),u=e.getActiveCubeFace(),c=e.getActiveMipmapLevel(),d=e.state;d.setBlending(0),d.buffers.color.setClear(1,1,1,1),d.buffers.depth.setTest(!0),d.setScissorTest(!1);for(var h=b!==Fu&&this.type===Fu,p=b===Fu&&this.type!==Fu,m=0,g=t.length;m<g;m++){var y=t[m],w=y.shadow;if(void 0!==w){if(!1!==w.autoUpdate||!1!==w.needsUpdate){o.copy(w.mapSize);var x=w.getFrameExtents();if(o.multiply(x),a.copy(w.mapSize),(o.x>f||o.y>f)&&(o.x>f&&(a.x=Math.floor(f/x.x),o.x=a.x*x.x,w.mapSize.x=a.x),o.y>f&&(a.y=Math.floor(f/x.y),o.y=a.y*x.y,w.mapSize.y=a.y)),null===w.map||!0===h||!0===p){var S=this.type!==Fu?{minFilter:oc,magFilter:oc}:{};null!==w.map&&w.map.dispose(),w.map=new Rd(o.x,o.y,S),w.map.texture.name=y.name+".shadowMap",w.camera.updateProjectionMatrix()}e.setRenderTarget(w.map),e.clear();for(var T=w.getViewportCount(),A=0;A<T;A++){var M=w.getViewport(A);s.set(a.x*M.x,a.y*M.y,a.x*M.z,a.y*M.w),d.viewport(s),w.updateMatrices(y,A),i=w.getFrustum(),E(r,n,w.camera,y,this.type)}!0!==w.isPointLightShadow&&this.type===Fu&&_(w,n),w.needsUpdate=!1}}else console.warn("THREE.WebGLShadowMap:",y,"has no shadow.")}b=this.type,v.needsUpdate=!1,e.setRenderTarget(l,u,c)}}}function wg(e,t,r){var n,i,o=r.isWebGL2;var a=new function(){var t=!1,r=new Ad,n=null,i=new Ad(0,0,0,0);return{setMask:function(r){n===r||t||(e.colorMask(r,r,r,r),n=r)},setLocked:function(e){t=e},setClear:function(t,n,o,a,s){!0===s&&(t*=a,n*=a,o*=a),r.set(t,n,o,a),!1===i.equals(r)&&(e.clearColor(t,n,o,a),i.copy(r))},reset:function(){t=!1,n=null,i.set(-1,0,0,0)}}},s=new function(){var t=!1,r=null,n=null,i=null;return{setTest:function(t){t?V(e.DEPTH_TEST):H(e.DEPTH_TEST)},setMask:function(n){r===n||t||(e.depthMask(n),r=n)},setFunc:function(t){if(n!==t){switch(t){case 0:e.depthFunc(e.NEVER);break;case 1:e.depthFunc(e.ALWAYS);break;case 2:e.depthFunc(e.LESS);break;case 3:default:e.depthFunc(e.LEQUAL);break;case 4:e.depthFunc(e.EQUAL);break;case 5:e.depthFunc(e.GEQUAL);break;case 6:e.depthFunc(e.GREATER);break;case 7:e.depthFunc(e.NOTEQUAL)}n=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,r=null,n=null,i=null}}},l=new function(){var t=!1,r=null,n=null,i=null,o=null,a=null,s=null,l=null,u=null;return{setTest:function(r){t||(r?V(e.STENCIL_TEST):H(e.STENCIL_TEST))},setMask:function(n){r===n||t||(e.stencilMask(n),r=n)},setFunc:function(t,r,a){n===t&&i===r&&o===a||(e.stencilFunc(t,r,a),n=t,i=r,o=a)},setOp:function(t,r,n){a===t&&s===r&&l===n||(e.stencilOp(t,r,n),a=t,s=r,l=n)},setLocked:function(e){t=e},setClear:function(t){u!==t&&(e.clearStencil(t),u=t)},reset:function(){t=!1,r=null,n=null,i=null,o=null,a=null,s=null,l=null,u=null}}},c=new WeakMap,d=new WeakMap,f={},h={},p=new WeakMap,m=[],g=null,y=!1,v=null,b=null,_=null,w=null,E=null,x=null,S=null,T=!1,A=null,M=null,R=null,C=null,I=null,k=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS),P=!1,O=0,j=e.getParameter(e.VERSION);-1!==j.indexOf("WebGL")?(O=parseFloat(/^WebGL (\d)/.exec(j)[1]),P=O>=1):-1!==j.indexOf("OpenGL ES")&&(O=parseFloat(/^OpenGL ES (\d)/.exec(j)[1]),P=O>=2);var N=null,L={},D=e.getParameter(e.SCISSOR_BOX),F=e.getParameter(e.VIEWPORT),U=(new Ad).fromArray(D),B=(new Ad).fromArray(F);function G(t,r,n,i){var a=new Uint8Array(4),s=e.createTexture();e.bindTexture(t,s),e.texParameteri(t,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(t,e.TEXTURE_MAG_FILTER,e.NEAREST);for(var l=0;l<n;l++)!o||t!==e.TEXTURE_3D&&t!==e.TEXTURE_2D_ARRAY?e.texImage2D(r+l,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,a):e.texImage3D(r,0,e.RGBA,1,1,i,0,e.RGBA,e.UNSIGNED_BYTE,a);return s}var z={};function V(t){!0!==f[t]&&(e.enable(t),f[t]=!0)}function H(t){!1!==f[t]&&(e.disable(t),f[t]=!1)}z[e.TEXTURE_2D]=G(e.TEXTURE_2D,e.TEXTURE_2D,1),z[e.TEXTURE_CUBE_MAP]=G(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),o&&(z[e.TEXTURE_2D_ARRAY]=G(e.TEXTURE_2D_ARRAY,e.TEXTURE_2D_ARRAY,1,1),z[e.TEXTURE_3D]=G(e.TEXTURE_3D,e.TEXTURE_3D,1,1)),a.setClear(0,0,0,1),s.setClear(1),l.setClear(0),V(e.DEPTH_TEST),s.setFunc(3),X(!1),K(1),V(e.CULL_FACE),Y(0);var W=(u(n={},Gu,e.FUNC_ADD),u(n,101,e.FUNC_SUBTRACT),u(n,102,e.FUNC_REVERSE_SUBTRACT),n);if(o)W[103]=e.MIN,W[104]=e.MAX;else{var Z=t.get("EXT_blend_minmax");null!==Z&&(W[103]=Z.MIN_EXT,W[104]=Z.MAX_EXT)}var q=(u(i={},200,e.ZERO),u(i,201,e.ONE),u(i,202,e.SRC_COLOR),u(i,204,e.SRC_ALPHA),u(i,210,e.SRC_ALPHA_SATURATE),u(i,208,e.DST_COLOR),u(i,206,e.DST_ALPHA),u(i,203,e.ONE_MINUS_SRC_COLOR),u(i,205,e.ONE_MINUS_SRC_ALPHA),u(i,209,e.ONE_MINUS_DST_COLOR),u(i,207,e.ONE_MINUS_DST_ALPHA),i);function Y(t,r,n,i,o,a,s,l){if(0!==t){if(!1===y&&(V(e.BLEND),y=!0),5===t)o=o||r,a=a||n,s=s||i,r===b&&o===E||(e.blendEquationSeparate(W[r],W[o]),b=r,E=o),n===_&&i===w&&a===x&&s===S||(e.blendFuncSeparate(q[n],q[i],q[a],q[s]),_=n,w=i,x=a,S=s),v=t,T=!1;else if(t!==v||l!==T){if(b===Gu&&E===Gu||(e.blendEquation(e.FUNC_ADD),b=Gu,E=Gu),l)switch(t){case 1:e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case 2:e.blendFunc(e.ONE,e.ONE);break;case 3:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case 4:e.blendFuncSeparate(e.ZERO,e.SRC_COLOR,e.ZERO,e.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case 1:e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case 2:e.blendFunc(e.SRC_ALPHA,e.ONE);break;case 3:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case 4:e.blendFunc(e.ZERO,e.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}_=null,w=null,x=null,S=null,v=t,T=l}}else!0===y&&(H(e.BLEND),y=!1)}function X(t){A!==t&&(t?e.frontFace(e.CW):e.frontFace(e.CCW),A=t)}function K(t){0!==t?(V(e.CULL_FACE),t!==M&&(1===t?e.cullFace(e.BACK):2===t?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))):H(e.CULL_FACE),M=t}function Q(t,r,n){t?(V(e.POLYGON_OFFSET_FILL),C===r&&I===n||(e.polygonOffset(r,n),C=r,I=n)):H(e.POLYGON_OFFSET_FILL)}return{buffers:{color:a,depth:s,stencil:l},enable:V,disable:H,bindFramebuffer:function(t,r){return h[t]!==r&&(e.bindFramebuffer(t,r),h[t]=r,o&&(t===e.DRAW_FRAMEBUFFER&&(h[e.FRAMEBUFFER]=r),t===e.FRAMEBUFFER&&(h[e.DRAW_FRAMEBUFFER]=r)),!0)},drawBuffers:function(n,i){var o=m,a=!1;if(n)if(void 0===(o=p.get(i))&&(o=[],p.set(i,o)),n.isWebGLMultipleRenderTargets){var s=n.texture;if(o.length!==s.length||o[0]!==e.COLOR_ATTACHMENT0){for(var l=0,u=s.length;l<u;l++)o[l]=e.COLOR_ATTACHMENT0+l;o.length=s.length,a=!0}}else o[0]!==e.COLOR_ATTACHMENT0&&(o[0]=e.COLOR_ATTACHMENT0,a=!0);else o[0]!==e.BACK&&(o[0]=e.BACK,a=!0);a&&(r.isWebGL2?e.drawBuffers(o):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(o))},useProgram:function(t){return g!==t&&(e.useProgram(t),g=t,!0)},setBlending:Y,setMaterial:function(t,r){2===t.side?H(e.CULL_FACE):V(e.CULL_FACE);var n=t.side===Bu;r&&(n=!n),X(n),1===t.blending&&!1===t.transparent?Y(0):Y(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha),s.setFunc(t.depthFunc),s.setTest(t.depthTest),s.setMask(t.depthWrite),a.setMask(t.colorWrite);var i=t.stencilWrite;l.setTest(i),i&&(l.setMask(t.stencilWriteMask),l.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),l.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),Q(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits),!0===t.alphaToCoverage?V(e.SAMPLE_ALPHA_TO_COVERAGE):H(e.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:X,setCullFace:K,setLineWidth:function(t){t!==R&&(P&&e.lineWidth(t),R=t)},setPolygonOffset:Q,setScissorTest:function(t){t?V(e.SCISSOR_TEST):H(e.SCISSOR_TEST)},activeTexture:function(t){void 0===t&&(t=e.TEXTURE0+k-1),N!==t&&(e.activeTexture(t),N=t)},bindTexture:function(t,r,n){void 0===n&&(n=null===N?e.TEXTURE0+k-1:N);var i=L[n];void 0===i&&(i={type:void 0,texture:void 0},L[n]=i),i.type===t&&i.texture===r||(N!==n&&(e.activeTexture(n),N=n),e.bindTexture(t,r||z[t]),i.type=t,i.texture=r)},unbindTexture:function(){var t=L[N];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexImage3D:function(){try{e.compressedTexImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},updateUBOMapping:function(t,r){var n=d.get(r);void 0===n&&(n=new WeakMap,d.set(r,n));var i=n.get(t);void 0===i&&(i=e.getUniformBlockIndex(r,t.name),n.set(t,i))},uniformBlockBinding:function(t,r){var n=d.get(r).get(t);c.get(r)!==n&&(e.uniformBlockBinding(r,n,t.__bindingPointIndex),c.set(r,n))},texStorage2D:function(){try{e.texStorage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texStorage3D:function(){try{e.texStorage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage2D:function(){try{e.texSubImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage3D:function(){try{e.texSubImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexSubImage2D:function(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexSubImage3D:function(){try{e.compressedTexSubImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(t){!1===U.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),U.copy(t))},viewport:function(t){!1===B.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),B.copy(t))},reset:function(){e.disable(e.BLEND),e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.POLYGON_OFFSET_FILL),e.disable(e.SCISSOR_TEST),e.disable(e.STENCIL_TEST),e.disable(e.SAMPLE_ALPHA_TO_COVERAGE),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ZERO),e.blendFuncSeparate(e.ONE,e.ZERO,e.ONE,e.ZERO),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(e.LESS),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(e.ALWAYS,0,4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.clearStencil(0),e.cullFace(e.BACK),e.frontFace(e.CCW),e.polygonOffset(0,0),e.activeTexture(e.TEXTURE0),e.bindFramebuffer(e.FRAMEBUFFER,null),!0===o&&(e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),e.bindFramebuffer(e.READ_FRAMEBUFFER,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),f={},N=null,L={},h={},p=new WeakMap,m=[],g=null,y=!1,v=null,b=null,_=null,w=null,E=null,x=null,S=null,T=!1,A=null,M=null,R=null,C=null,I=null,U.set(0,0,e.canvas.width,e.canvas.height),B.set(0,0,e.canvas.width,e.canvas.height),a.reset(),s.reset(),l.reset()}}}function Eg(e,t,r,n,i,o,a){var s,l,c,d,f=i.isWebGL2,h=i.maxTextures,p=i.maxCubemapSize,m=i.maxTextureSize,g=i.maxSamples,y=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,v="undefined"!==typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),b=new WeakMap,_=new WeakMap,w=!1;try{w="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(q){}function E(e,t){return w?new OffscreenCanvas(e,t):ud("canvas")}function x(e,t,r,n){var i=1;if((e.width>n||e.height>n)&&(i=n/Math.max(e.width,e.height)),i<1||!0===t){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){var o=t?rd:Math.floor,a=o(i*e.width),s=o(i*e.height);void 0===d&&(d=E(a,s));var l=r?E(a,s):d;return l.width=a,l.height=s,l.getContext("2d").drawImage(e,0,0,a,s),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+a+"x"+s+")."),l}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function S(e){return td(e.width)&&td(e.height)}function T(e,t){return e.generateMipmaps&&t&&e.minFilter!==oc&&e.minFilter!==lc}function A(t){e.generateMipmap(t)}function M(r,n,i,o){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!1===f)return n;if(null!==r){if(void 0!==e[r])return e[r];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+r+"'")}var s=n;if(n===e.RED&&(i===e.FLOAT&&(s=e.R32F),i===e.HALF_FLOAT&&(s=e.R16F),i===e.UNSIGNED_BYTE&&(s=e.R8)),n===e.RED_INTEGER&&(i===e.UNSIGNED_BYTE&&(s=e.R8UI),i===e.UNSIGNED_SHORT&&(s=e.R16UI),i===e.UNSIGNED_INT&&(s=e.R32UI),i===e.BYTE&&(s=e.R8I),i===e.SHORT&&(s=e.R16I),i===e.INT&&(s=e.R32I)),n===e.RG&&(i===e.FLOAT&&(s=e.RG32F),i===e.HALF_FLOAT&&(s=e.RG16F),i===e.UNSIGNED_BYTE&&(s=e.RG8)),n===e.RGBA){var l=a?Dc:yd.getTransfer(o);i===e.FLOAT&&(s=e.RGBA32F),i===e.HALF_FLOAT&&(s=e.RGBA16F),i===e.UNSIGNED_BYTE&&(s=l===Fc?e.SRGB8_ALPHA8:e.RGBA8),i===e.UNSIGNED_SHORT_4_4_4_4&&(s=e.RGBA4),i===e.UNSIGNED_SHORT_5_5_5_1&&(s=e.RGB5_A1)}return s!==e.R16F&&s!==e.R32F&&s!==e.RG16F&&s!==e.RG32F&&s!==e.RGBA16F&&s!==e.RGBA32F||t.get("EXT_color_buffer_float"),s}function R(e,t,r){return!0===T(e,r)||e.isFramebufferTexture&&e.minFilter!==oc&&e.minFilter!==lc?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function C(t){return t===oc||t===ac||t===sc?e.NEAREST:e.LINEAR}function I(e){var t=e.target;t.removeEventListener("dispose",I),function(e){var t=n.get(e);if(void 0===t.__webglInit)return;var r=e.source,i=_.get(r);if(i){var o=i[t.__cacheKey];o.usedTimes--,0===o.usedTimes&&P(e),0===Object.keys(i).length&&_.delete(r)}n.remove(e)}(t),t.isVideoTexture&&b.delete(t)}function k(t){var r=t.target;r.removeEventListener("dispose",k),function(t){var r=t.texture,i=n.get(t),o=n.get(r);void 0!==o.__webglTexture&&(e.deleteTexture(o.__webglTexture),a.memory.textures--);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLCubeRenderTarget)for(var s=0;s<6;s++){if(Array.isArray(i.__webglFramebuffer[s]))for(var l=0;l<i.__webglFramebuffer[s].length;l++)e.deleteFramebuffer(i.__webglFramebuffer[s][l]);else e.deleteFramebuffer(i.__webglFramebuffer[s]);i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer[s])}else{if(Array.isArray(i.__webglFramebuffer))for(var u=0;u<i.__webglFramebuffer.length;u++)e.deleteFramebuffer(i.__webglFramebuffer[u]);else e.deleteFramebuffer(i.__webglFramebuffer);if(i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer),i.__webglMultisampledFramebuffer&&e.deleteFramebuffer(i.__webglMultisampledFramebuffer),i.__webglColorRenderbuffer)for(var c=0;c<i.__webglColorRenderbuffer.length;c++)i.__webglColorRenderbuffer[c]&&e.deleteRenderbuffer(i.__webglColorRenderbuffer[c]);i.__webglDepthRenderbuffer&&e.deleteRenderbuffer(i.__webglDepthRenderbuffer)}if(t.isWebGLMultipleRenderTargets)for(var d=0,f=r.length;d<f;d++){var h=n.get(r[d]);h.__webglTexture&&(e.deleteTexture(h.__webglTexture),a.memory.textures--),n.remove(r[d])}n.remove(r),n.remove(t)}(r)}function P(t){var r=n.get(t);e.deleteTexture(r.__webglTexture);var i=t.source;delete _.get(i)[r.__cacheKey],a.memory.textures--}var O=0;function j(t,i){var o=n.get(t);if(t.isVideoTexture&&function(e){var t=a.render.frame;b.get(e)!==t&&(b.set(e,t),e.update())}(t),!1===t.isRenderTargetTexture&&t.version>0&&o.__version!==t.version){var s=t.image;if(null===s)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==s.complete)return void B(o,t,i);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}r.bindTexture(e.TEXTURE_2D,o.__webglTexture,e.TEXTURE0+i)}var N=(u(s={},rc,e.REPEAT),u(s,nc,e.CLAMP_TO_EDGE),u(s,ic,e.MIRRORED_REPEAT),s),L=(u(l={},oc,e.NEAREST),u(l,ac,e.NEAREST_MIPMAP_NEAREST),u(l,sc,e.NEAREST_MIPMAP_LINEAR),u(l,lc,e.LINEAR),u(l,1007,e.LINEAR_MIPMAP_NEAREST),u(l,uc,e.LINEAR_MIPMAP_LINEAR),l),D=(u(c={},512,e.NEVER),u(c,519,e.ALWAYS),u(c,513,e.LESS),u(c,515,e.LEQUAL),u(c,514,e.EQUAL),u(c,518,e.GEQUAL),u(c,516,e.GREATER),u(c,517,e.NOTEQUAL),c);function F(r,o,a){if(a?(e.texParameteri(r,e.TEXTURE_WRAP_S,N[o.wrapS]),e.texParameteri(r,e.TEXTURE_WRAP_T,N[o.wrapT]),r!==e.TEXTURE_3D&&r!==e.TEXTURE_2D_ARRAY||e.texParameteri(r,e.TEXTURE_WRAP_R,N[o.wrapR]),e.texParameteri(r,e.TEXTURE_MAG_FILTER,L[o.magFilter]),e.texParameteri(r,e.TEXTURE_MIN_FILTER,L[o.minFilter])):(e.texParameteri(r,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(r,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),r!==e.TEXTURE_3D&&r!==e.TEXTURE_2D_ARRAY||e.texParameteri(r,e.TEXTURE_WRAP_R,e.CLAMP_TO_EDGE),o.wrapS===nc&&o.wrapT===nc||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(r,e.TEXTURE_MAG_FILTER,C(o.magFilter)),e.texParameteri(r,e.TEXTURE_MIN_FILTER,C(o.minFilter)),o.minFilter!==oc&&o.minFilter!==lc&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),o.compareFunction&&(e.texParameteri(r,e.TEXTURE_COMPARE_MODE,e.COMPARE_REF_TO_TEXTURE),e.texParameteri(r,e.TEXTURE_COMPARE_FUNC,D[o.compareFunction])),!0===t.has("EXT_texture_filter_anisotropic")){var s=t.get("EXT_texture_filter_anisotropic");if(o.magFilter===oc)return;if(o.minFilter!==sc&&o.minFilter!==uc)return;if(o.type===pc&&!1===t.has("OES_texture_float_linear"))return;if(!1===f&&o.type===mc&&!1===t.has("OES_texture_half_float_linear"))return;(o.anisotropy>1||n.get(o).__currentAnisotropy)&&(e.texParameterf(r,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,i.getMaxAnisotropy())),n.get(o).__currentAnisotropy=o.anisotropy)}}function U(t,r){var n=!1;void 0===t.__webglInit&&(t.__webglInit=!0,r.addEventListener("dispose",I));var i=r.source,o=_.get(i);void 0===o&&(o={},_.set(i,o));var s=function(e){var t=[];return t.push(e.wrapS),t.push(e.wrapT),t.push(e.wrapR||0),t.push(e.magFilter),t.push(e.minFilter),t.push(e.anisotropy),t.push(e.internalFormat),t.push(e.format),t.push(e.type),t.push(e.generateMipmaps),t.push(e.premultiplyAlpha),t.push(e.flipY),t.push(e.unpackAlignment),t.push(e.colorSpace),t.join()}(r);if(s!==t.__cacheKey){void 0===o[s]&&(o[s]={texture:e.createTexture(),usedTimes:0},a.memory.textures++,n=!0),o[s].usedTimes++;var l=o[t.__cacheKey];void 0!==l&&(o[t.__cacheKey].usedTimes--,0===l.usedTimes&&P(r)),t.__cacheKey=s,t.__webglTexture=o[s].texture}return n}function B(t,i,a){var s=e.TEXTURE_2D;(i.isDataArrayTexture||i.isCompressedArrayTexture)&&(s=e.TEXTURE_2D_ARRAY),i.isData3DTexture&&(s=e.TEXTURE_3D);var l=U(t,i),u=i.source;r.bindTexture(s,t.__webglTexture,e.TEXTURE0+a);var c=n.get(u);if(u.version!==c.__version||!0===l){r.activeTexture(e.TEXTURE0+a);var d=yd.getPrimaries(yd.workingColorSpace),h=i.colorSpace===Pc?null:yd.getPrimaries(i.colorSpace),p=i.colorSpace===Pc||d===h?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,i.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,i.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,p);var g,y=function(e){return!f&&(e.wrapS!==nc||e.wrapT!==nc||e.minFilter!==oc&&e.minFilter!==lc)}(i)&&!1===S(i.image),v=x(i.image,y,!1,m),b=S(v=Z(i,v))||f,_=o.convert(i.format,i.colorSpace),w=o.convert(i.type),E=M(i.internalFormat,_,w,i.colorSpace,i.isVideoTexture);F(s,i,b);var C=i.mipmaps,I=f&&!0!==i.isVideoTexture,k=void 0===c.__version||!0===l,P=R(i,v,b);if(i.isDepthTexture)E=e.DEPTH_COMPONENT,f?E=i.type===pc?e.DEPTH_COMPONENT32F:i.type===hc?e.DEPTH_COMPONENT24:i.type===gc?e.DEPTH24_STENCIL8:e.DEPTH_COMPONENT16:i.type===pc&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),i.format===vc&&E===e.DEPTH_COMPONENT&&i.type!==dc&&i.type!==hc&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),i.type=hc,w=o.convert(i.type)),i.format===bc&&E===e.DEPTH_COMPONENT&&(E=e.DEPTH_STENCIL,i.type!==gc&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),i.type=gc,w=o.convert(i.type))),k&&(I?r.texStorage2D(e.TEXTURE_2D,1,E,v.width,v.height):r.texImage2D(e.TEXTURE_2D,0,E,v.width,v.height,0,_,w,null));else if(i.isDataTexture)if(C.length>0&&b){I&&k&&r.texStorage2D(e.TEXTURE_2D,P,E,C[0].width,C[0].height);for(var O=0,j=C.length;O<j;O++)g=C[O],I?r.texSubImage2D(e.TEXTURE_2D,O,0,0,g.width,g.height,_,w,g.data):r.texImage2D(e.TEXTURE_2D,O,E,g.width,g.height,0,_,w,g.data);i.generateMipmaps=!1}else I?(k&&r.texStorage2D(e.TEXTURE_2D,P,E,v.width,v.height),r.texSubImage2D(e.TEXTURE_2D,0,0,0,v.width,v.height,_,w,v.data)):r.texImage2D(e.TEXTURE_2D,0,E,v.width,v.height,0,_,w,v.data);else if(i.isCompressedTexture)if(i.isCompressedArrayTexture){I&&k&&r.texStorage3D(e.TEXTURE_2D_ARRAY,P,E,C[0].width,C[0].height,v.depth);for(var N=0,L=C.length;N<L;N++)g=C[N],i.format!==yc?null!==_?I?r.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,N,0,0,0,g.width,g.height,v.depth,_,g.data,0,0):r.compressedTexImage3D(e.TEXTURE_2D_ARRAY,N,E,g.width,g.height,v.depth,0,g.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):I?r.texSubImage3D(e.TEXTURE_2D_ARRAY,N,0,0,0,g.width,g.height,v.depth,_,w,g.data):r.texImage3D(e.TEXTURE_2D_ARRAY,N,E,g.width,g.height,v.depth,0,_,w,g.data)}else{I&&k&&r.texStorage2D(e.TEXTURE_2D,P,E,C[0].width,C[0].height);for(var D=0,B=C.length;D<B;D++)g=C[D],i.format!==yc?null!==_?I?r.compressedTexSubImage2D(e.TEXTURE_2D,D,0,0,g.width,g.height,_,g.data):r.compressedTexImage2D(e.TEXTURE_2D,D,E,g.width,g.height,0,g.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):I?r.texSubImage2D(e.TEXTURE_2D,D,0,0,g.width,g.height,_,w,g.data):r.texImage2D(e.TEXTURE_2D,D,E,g.width,g.height,0,_,w,g.data)}else if(i.isDataArrayTexture)I?(k&&r.texStorage3D(e.TEXTURE_2D_ARRAY,P,E,v.width,v.height,v.depth),r.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,0,v.width,v.height,v.depth,_,w,v.data)):r.texImage3D(e.TEXTURE_2D_ARRAY,0,E,v.width,v.height,v.depth,0,_,w,v.data);else if(i.isData3DTexture)I?(k&&r.texStorage3D(e.TEXTURE_3D,P,E,v.width,v.height,v.depth),r.texSubImage3D(e.TEXTURE_3D,0,0,0,0,v.width,v.height,v.depth,_,w,v.data)):r.texImage3D(e.TEXTURE_3D,0,E,v.width,v.height,v.depth,0,_,w,v.data);else if(i.isFramebufferTexture){if(k)if(I)r.texStorage2D(e.TEXTURE_2D,P,E,v.width,v.height);else for(var G=v.width,z=v.height,V=0;V<P;V++)r.texImage2D(e.TEXTURE_2D,V,E,G,z,0,_,w,null),G>>=1,z>>=1}else if(C.length>0&&b){I&&k&&r.texStorage2D(e.TEXTURE_2D,P,E,C[0].width,C[0].height);for(var H=0,W=C.length;H<W;H++)g=C[H],I?r.texSubImage2D(e.TEXTURE_2D,H,0,0,_,w,g):r.texImage2D(e.TEXTURE_2D,H,E,_,w,g);i.generateMipmaps=!1}else I?(k&&r.texStorage2D(e.TEXTURE_2D,P,E,v.width,v.height),r.texSubImage2D(e.TEXTURE_2D,0,0,0,_,w,v)):r.texImage2D(e.TEXTURE_2D,0,E,_,w,v);T(i,b)&&A(s),c.__version=u.version,i.onUpdate&&i.onUpdate(i)}t.__version=i.version}function G(t,i,a,s,l,u){var c=o.convert(a.format,a.colorSpace),d=o.convert(a.type),f=M(a.internalFormat,c,d,a.colorSpace);if(!n.get(i).__hasExternalTextures){var h=Math.max(1,i.width>>u),p=Math.max(1,i.height>>u);l===e.TEXTURE_3D||l===e.TEXTURE_2D_ARRAY?r.texImage3D(l,u,f,h,p,i.depth,0,c,d,null):r.texImage2D(l,u,f,h,p,0,c,d,null)}r.bindFramebuffer(e.FRAMEBUFFER,t),W(i)?y.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,s,l,n.get(a).__webglTexture,0,H(i)):(l===e.TEXTURE_2D||l>=e.TEXTURE_CUBE_MAP_POSITIVE_X&&l<=e.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&e.framebufferTexture2D(e.FRAMEBUFFER,s,l,n.get(a).__webglTexture,u),r.bindFramebuffer(e.FRAMEBUFFER,null)}function z(t,r,n){if(e.bindRenderbuffer(e.RENDERBUFFER,t),r.depthBuffer&&!r.stencilBuffer){var i=!0===f?e.DEPTH_COMPONENT24:e.DEPTH_COMPONENT16;if(n||W(r)){var a=r.depthTexture;a&&a.isDepthTexture&&(a.type===pc?i=e.DEPTH_COMPONENT32F:a.type===hc&&(i=e.DEPTH_COMPONENT24));var s=H(r);W(r)?y.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,s,i,r.width,r.height):e.renderbufferStorageMultisample(e.RENDERBUFFER,s,i,r.width,r.height)}else e.renderbufferStorage(e.RENDERBUFFER,i,r.width,r.height);e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t)}else if(r.depthBuffer&&r.stencilBuffer){var l=H(r);n&&!1===W(r)?e.renderbufferStorageMultisample(e.RENDERBUFFER,l,e.DEPTH24_STENCIL8,r.width,r.height):W(r)?y.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,l,e.DEPTH24_STENCIL8,r.width,r.height):e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,r.width,r.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,t)}else for(var u=!0===r.isWebGLMultipleRenderTargets?r.texture:[r.texture],c=0;c<u.length;c++){var d=u[c],h=o.convert(d.format,d.colorSpace),p=o.convert(d.type),m=M(d.internalFormat,h,p,d.colorSpace),g=H(r);n&&!1===W(r)?e.renderbufferStorageMultisample(e.RENDERBUFFER,g,m,r.width,r.height):W(r)?y.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,g,m,r.width,r.height):e.renderbufferStorage(e.RENDERBUFFER,m,r.width,r.height)}e.bindRenderbuffer(e.RENDERBUFFER,null)}function V(t){var i=n.get(t),o=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture&&!i.__autoAllocateDepthBuffer){if(o)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,i){if(i&&i.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(r.bindFramebuffer(e.FRAMEBUFFER,t),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");n.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),j(i.depthTexture,0);var o=n.get(i.depthTexture).__webglTexture,a=H(i);if(i.depthTexture.format===vc)W(i)?y.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,o,0,a):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,o,0);else{if(i.depthTexture.format!==bc)throw new Error("Unknown depthTexture format");W(i)?y.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,o,0,a):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,o,0)}}(i.__webglFramebuffer,t)}else if(o){i.__webglDepthbuffer=[];for(var a=0;a<6;a++)r.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer[a]),i.__webglDepthbuffer[a]=e.createRenderbuffer(),z(i.__webglDepthbuffer[a],t,!1)}else r.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer),i.__webglDepthbuffer=e.createRenderbuffer(),z(i.__webglDepthbuffer,t,!1);r.bindFramebuffer(e.FRAMEBUFFER,null)}function H(e){return Math.min(g,e.samples)}function W(e){var r=n.get(e);return f&&e.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==r.__useRenderToTexture}function Z(e,r){var n=e.colorSpace,i=e.format,o=e.type;return!0===e.isCompressedTexture||!0===e.isVideoTexture||e.format===Hc||n!==jc&&n!==Pc&&(yd.getTransfer(n)===Fc?!1===f?!0===t.has("EXT_sRGB")&&i===yc?(e.format=Hc,e.minFilter=lc,e.generateMipmaps=!1):r=_d.sRGBToLinear(r):i===yc&&o===cc||console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",n)),r}this.allocateTextureUnit=function(){var e=O;return e>=h&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+h),O+=1,e},this.resetTextureUnits=function(){O=0},this.setTexture2D=j,this.setTexture2DArray=function(t,i){var o=n.get(t);t.version>0&&o.__version!==t.version?B(o,t,i):r.bindTexture(e.TEXTURE_2D_ARRAY,o.__webglTexture,e.TEXTURE0+i)},this.setTexture3D=function(t,i){var o=n.get(t);t.version>0&&o.__version!==t.version?B(o,t,i):r.bindTexture(e.TEXTURE_3D,o.__webglTexture,e.TEXTURE0+i)},this.setTextureCube=function(t,i){var a=n.get(t);t.version>0&&a.__version!==t.version?function(t,i,a){if(6!==i.image.length)return;var s=U(t,i),l=i.source;r.bindTexture(e.TEXTURE_CUBE_MAP,t.__webglTexture,e.TEXTURE0+a);var u=n.get(l);if(l.version!==u.__version||!0===s){r.activeTexture(e.TEXTURE0+a);var c=yd.getPrimaries(yd.workingColorSpace),d=i.colorSpace===Pc?null:yd.getPrimaries(i.colorSpace),h=i.colorSpace===Pc||c===d?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,i.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,i.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,h);for(var m=i.isCompressedTexture||i.image[0].isCompressedTexture,g=i.image[0]&&i.image[0].isDataTexture,y=[],v=0;v<6;v++)y[v]=m||g?g?i.image[v].image:i.image[v]:x(i.image[v],!1,!0,p),y[v]=Z(i,y[v]);var b,_=y[0],w=S(_)||f,E=o.convert(i.format,i.colorSpace),C=o.convert(i.type),I=M(i.internalFormat,E,C,i.colorSpace),k=f&&!0!==i.isVideoTexture,P=void 0===u.__version||!0===s,O=R(i,_,w);if(F(e.TEXTURE_CUBE_MAP,i,w),m){k&&P&&r.texStorage2D(e.TEXTURE_CUBE_MAP,O,I,_.width,_.height);for(var j=0;j<6;j++){b=y[j].mipmaps;for(var N=0;N<b.length;N++){var L=b[N];i.format!==yc?null!==E?k?r.compressedTexSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+j,N,0,0,L.width,L.height,E,L.data):r.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+j,N,I,L.width,L.height,0,L.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):k?r.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+j,N,0,0,L.width,L.height,E,C,L.data):r.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+j,N,I,L.width,L.height,0,E,C,L.data)}}}else{b=i.mipmaps,k&&P&&(b.length>0&&O++,r.texStorage2D(e.TEXTURE_CUBE_MAP,O,I,y[0].width,y[0].height));for(var D=0;D<6;D++)if(g){k?r.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+D,0,0,0,y[D].width,y[D].height,E,C,y[D].data):r.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+D,0,I,y[D].width,y[D].height,0,E,C,y[D].data);for(var B=0;B<b.length;B++){var G=b[B].image[D].image;k?r.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+D,B+1,0,0,G.width,G.height,E,C,G.data):r.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+D,B+1,I,G.width,G.height,0,E,C,G.data)}}else{k?r.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+D,0,0,0,E,C,y[D]):r.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+D,0,I,E,C,y[D]);for(var z=0;z<b.length;z++){var V=b[z];k?r.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+D,z+1,0,0,E,C,V.image[D]):r.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+D,z+1,I,E,C,V.image[D])}}}T(i,w)&&A(e.TEXTURE_CUBE_MAP),u.__version=l.version,i.onUpdate&&i.onUpdate(i)}t.__version=i.version}(a,t,i):r.bindTexture(e.TEXTURE_CUBE_MAP,a.__webglTexture,e.TEXTURE0+i)},this.rebindTextures=function(t,r,i){var o=n.get(t);void 0!==r&&G(o.__webglFramebuffer,t,t.texture,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,0),void 0!==i&&V(t)},this.setupRenderTarget=function(t){var s=t.texture,l=n.get(t),u=n.get(s);t.addEventListener("dispose",k),!0!==t.isWebGLMultipleRenderTargets&&(void 0===u.__webglTexture&&(u.__webglTexture=e.createTexture()),u.__version=s.version,a.memory.textures++);var c=!0===t.isWebGLCubeRenderTarget,d=!0===t.isWebGLMultipleRenderTargets,h=S(t)||f;if(c){l.__webglFramebuffer=[];for(var p=0;p<6;p++)if(f&&s.mipmaps&&s.mipmaps.length>0){l.__webglFramebuffer[p]=[];for(var m=0;m<s.mipmaps.length;m++)l.__webglFramebuffer[p][m]=e.createFramebuffer()}else l.__webglFramebuffer[p]=e.createFramebuffer()}else{if(f&&s.mipmaps&&s.mipmaps.length>0){l.__webglFramebuffer=[];for(var g=0;g<s.mipmaps.length;g++)l.__webglFramebuffer[g]=e.createFramebuffer()}else l.__webglFramebuffer=e.createFramebuffer();if(d)if(i.drawBuffers)for(var y=t.texture,v=0,b=y.length;v<b;v++){var _=n.get(y[v]);void 0===_.__webglTexture&&(_.__webglTexture=e.createTexture(),a.memory.textures++)}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(f&&t.samples>0&&!1===W(t)){var w=d?s:[s];l.__webglMultisampledFramebuffer=e.createFramebuffer(),l.__webglColorRenderbuffer=[],r.bindFramebuffer(e.FRAMEBUFFER,l.__webglMultisampledFramebuffer);for(var E=0;E<w.length;E++){var x=w[E];l.__webglColorRenderbuffer[E]=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,l.__webglColorRenderbuffer[E]);var R=o.convert(x.format,x.colorSpace),C=o.convert(x.type),I=M(x.internalFormat,R,C,x.colorSpace,!0===t.isXRRenderTarget),P=H(t);e.renderbufferStorageMultisample(e.RENDERBUFFER,P,I,t.width,t.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+E,e.RENDERBUFFER,l.__webglColorRenderbuffer[E])}e.bindRenderbuffer(e.RENDERBUFFER,null),t.depthBuffer&&(l.__webglDepthRenderbuffer=e.createRenderbuffer(),z(l.__webglDepthRenderbuffer,t,!0)),r.bindFramebuffer(e.FRAMEBUFFER,null)}}if(c){r.bindTexture(e.TEXTURE_CUBE_MAP,u.__webglTexture),F(e.TEXTURE_CUBE_MAP,s,h);for(var O=0;O<6;O++)if(f&&s.mipmaps&&s.mipmaps.length>0)for(var j=0;j<s.mipmaps.length;j++)G(l.__webglFramebuffer[O][j],t,s,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+O,j);else G(l.__webglFramebuffer[O],t,s,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+O,0);T(s,h)&&A(e.TEXTURE_CUBE_MAP),r.unbindTexture()}else if(d){for(var N=t.texture,L=0,D=N.length;L<D;L++){var U=N[L],B=n.get(U);r.bindTexture(e.TEXTURE_2D,B.__webglTexture),F(e.TEXTURE_2D,U,h),G(l.__webglFramebuffer,t,U,e.COLOR_ATTACHMENT0+L,e.TEXTURE_2D,0),T(U,h)&&A(e.TEXTURE_2D)}r.unbindTexture()}else{var Z=e.TEXTURE_2D;if((t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(f?Z=t.isWebGL3DRenderTarget?e.TEXTURE_3D:e.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),r.bindTexture(Z,u.__webglTexture),F(Z,s,h),f&&s.mipmaps&&s.mipmaps.length>0)for(var q=0;q<s.mipmaps.length;q++)G(l.__webglFramebuffer[q],t,s,e.COLOR_ATTACHMENT0,Z,q);else G(l.__webglFramebuffer,t,s,e.COLOR_ATTACHMENT0,Z,0);T(s,h)&&A(Z),r.unbindTexture()}t.depthBuffer&&V(t)},this.updateRenderTargetMipmap=function(t){for(var i=S(t)||f,o=!0===t.isWebGLMultipleRenderTargets?t.texture:[t.texture],a=0,s=o.length;a<s;a++){var l=o[a];if(T(l,i)){var u=t.isWebGLCubeRenderTarget?e.TEXTURE_CUBE_MAP:e.TEXTURE_2D,c=n.get(l).__webglTexture;r.bindTexture(u,c),A(u),r.unbindTexture()}}},this.updateMultisampleRenderTarget=function(t){if(f&&t.samples>0&&!1===W(t)){var i=t.isWebGLMultipleRenderTargets?t.texture:[t.texture],o=t.width,a=t.height,s=e.COLOR_BUFFER_BIT,l=[],u=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,c=n.get(t),d=!0===t.isWebGLMultipleRenderTargets;if(d)for(var h=0;h<i.length;h++)r.bindFramebuffer(e.FRAMEBUFFER,c.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+h,e.RENDERBUFFER,null),r.bindFramebuffer(e.FRAMEBUFFER,c.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+h,e.TEXTURE_2D,null,0);r.bindFramebuffer(e.READ_FRAMEBUFFER,c.__webglMultisampledFramebuffer),r.bindFramebuffer(e.DRAW_FRAMEBUFFER,c.__webglFramebuffer);for(var p=0;p<i.length;p++){l.push(e.COLOR_ATTACHMENT0+p),t.depthBuffer&&l.push(u);var m=void 0!==c.__ignoreDepthValues&&c.__ignoreDepthValues;if(!1===m&&(t.depthBuffer&&(s|=e.DEPTH_BUFFER_BIT),t.stencilBuffer&&(s|=e.STENCIL_BUFFER_BIT)),d&&e.framebufferRenderbuffer(e.READ_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,c.__webglColorRenderbuffer[p]),!0===m&&(e.invalidateFramebuffer(e.READ_FRAMEBUFFER,[u]),e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,[u])),d){var g=n.get(i[p]).__webglTexture;e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,g,0)}e.blitFramebuffer(0,0,o,a,0,0,o,a,s,e.NEAREST),v&&e.invalidateFramebuffer(e.READ_FRAMEBUFFER,l)}if(r.bindFramebuffer(e.READ_FRAMEBUFFER,null),r.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),d)for(var y=0;y<i.length;y++){r.bindFramebuffer(e.FRAMEBUFFER,c.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+y,e.RENDERBUFFER,c.__webglColorRenderbuffer[y]);var b=n.get(i[y]).__webglTexture;r.bindFramebuffer(e.FRAMEBUFFER,c.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+y,e.TEXTURE_2D,b,0)}r.bindFramebuffer(e.DRAW_FRAMEBUFFER,c.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=V,this.setupFrameBufferTexture=G,this.useMultisampledRTT=W}function xg(e,t,r){var n=r.isWebGL2;return{convert:function(r){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pc,a=yd.getTransfer(o);if(r===cc)return e.UNSIGNED_BYTE;if(1017===r)return e.UNSIGNED_SHORT_4_4_4_4;if(1018===r)return e.UNSIGNED_SHORT_5_5_5_1;if(1010===r)return e.BYTE;if(1011===r)return e.SHORT;if(r===dc)return e.UNSIGNED_SHORT;if(r===fc)return e.INT;if(r===hc)return e.UNSIGNED_INT;if(r===pc)return e.FLOAT;if(r===mc)return n?e.HALF_FLOAT:null!==(i=t.get("OES_texture_half_float"))?i.HALF_FLOAT_OES:null;if(1021===r)return e.ALPHA;if(r===yc)return e.RGBA;if(1024===r)return e.LUMINANCE;if(1025===r)return e.LUMINANCE_ALPHA;if(r===vc)return e.DEPTH_COMPONENT;if(r===bc)return e.DEPTH_STENCIL;if(r===Hc)return null!==(i=t.get("EXT_sRGB"))?i.SRGB_ALPHA_EXT:null;if(1028===r)return e.RED;if(1029===r)return e.RED_INTEGER;if(1030===r)return e.RG;if(1031===r)return e.RG_INTEGER;if(1033===r)return e.RGBA_INTEGER;if(r===_c||r===wc||r===Ec||r===xc)if(a===Fc){if(null===(i=t.get("WEBGL_compressed_texture_s3tc_srgb")))return null;if(r===_c)return i.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===wc)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===Ec)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===xc)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(null===(i=t.get("WEBGL_compressed_texture_s3tc")))return null;if(r===_c)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===wc)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===Ec)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===xc)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===r||35841===r||35842===r||35843===r){if(null===(i=t.get("WEBGL_compressed_texture_pvrtc")))return null;if(35840===r)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===r)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===r)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===r)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===r)return null!==(i=t.get("WEBGL_compressed_texture_etc1"))?i.COMPRESSED_RGB_ETC1_WEBGL:null;if(37492===r||37496===r){if(null===(i=t.get("WEBGL_compressed_texture_etc")))return null;if(37492===r)return a===Fc?i.COMPRESSED_SRGB8_ETC2:i.COMPRESSED_RGB8_ETC2;if(37496===r)return a===Fc?i.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:i.COMPRESSED_RGBA8_ETC2_EAC}if(37808===r||37809===r||37810===r||37811===r||37812===r||37813===r||37814===r||37815===r||37816===r||37817===r||37818===r||37819===r||37820===r||37821===r){if(null===(i=t.get("WEBGL_compressed_texture_astc")))return null;if(37808===r)return a===Fc?i.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:i.COMPRESSED_RGBA_ASTC_4x4_KHR;if(37809===r)return a===Fc?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:i.COMPRESSED_RGBA_ASTC_5x4_KHR;if(37810===r)return a===Fc?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:i.COMPRESSED_RGBA_ASTC_5x5_KHR;if(37811===r)return a===Fc?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:i.COMPRESSED_RGBA_ASTC_6x5_KHR;if(37812===r)return a===Fc?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:i.COMPRESSED_RGBA_ASTC_6x6_KHR;if(37813===r)return a===Fc?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:i.COMPRESSED_RGBA_ASTC_8x5_KHR;if(37814===r)return a===Fc?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:i.COMPRESSED_RGBA_ASTC_8x6_KHR;if(37815===r)return a===Fc?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:i.COMPRESSED_RGBA_ASTC_8x8_KHR;if(37816===r)return a===Fc?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:i.COMPRESSED_RGBA_ASTC_10x5_KHR;if(37817===r)return a===Fc?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:i.COMPRESSED_RGBA_ASTC_10x6_KHR;if(37818===r)return a===Fc?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:i.COMPRESSED_RGBA_ASTC_10x8_KHR;if(37819===r)return a===Fc?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:i.COMPRESSED_RGBA_ASTC_10x10_KHR;if(37820===r)return a===Fc?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:i.COMPRESSED_RGBA_ASTC_12x10_KHR;if(37821===r)return a===Fc?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:i.COMPRESSED_RGBA_ASTC_12x12_KHR}if(r===Sc||36494===r||36495===r){if(null===(i=t.get("EXT_texture_compression_bptc")))return null;if(r===Sc)return a===Fc?i.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:i.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(36494===r)return i.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(36495===r)return i.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}if(36283===r||36284===r||36285===r||36286===r){if(null===(i=t.get("EXT_texture_compression_rgtc")))return null;if(r===Sc)return i.COMPRESSED_RED_RGTC1_EXT;if(36284===r)return i.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(36285===r)return i.COMPRESSED_RED_GREEN_RGTC2_EXT;if(36286===r)return i.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return r===gc?n?e.UNSIGNED_INT_24_8:null!==(i=t.get("WEBGL_depth_texture"))?i.UNSIGNED_INT_24_8_WEBGL:null:void 0!==e[r]?e[r]:null}}}var Sg=function(e){x(r,e);var t=M(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return b(this,r),(e=t.call(this)).isArrayCamera=!0,e.cameras=n,e}return w(r)}(zh),Tg=function(e){x(r,e);var t=M(r);function r(){var e;return b(this,r),(e=t.call(this)).isGroup=!0,e.type="Group",e}return w(r)}(jf),Ag={type:"move"},Mg=function(){function e(){b(this,e),this._targetRay=null,this._grip=null,this._hand=null}return w(e,[{key:"getHandSpace",value:function(){return null===this._hand&&(this._hand=new Tg,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}},{key:"getTargetRaySpace",value:function(){return null===this._targetRay&&(this._targetRay=new Tg,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Pd,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Pd),this._targetRay}},{key:"getGripSpace",value:function(){return null===this._grip&&(this._grip=new Tg,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Pd,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Pd),this._grip}},{key:"dispatchEvent",value:function(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}},{key:"connect",value:function(e){if(e&&e.hand){var t=this._hand;if(t){var r,n=I(e.hand.values());try{for(n.s();!(r=n.n()).done;){var i=r.value;this._getHandJoint(t,i)}}catch(o){n.e(o)}finally{n.f()}}}return this.dispatchEvent({type:"connected",data:e}),this}},{key:"disconnect",value:function(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}},{key:"update",value:function(e,t,r){var n=null,i=null,o=null,a=this._targetRay,s=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(l&&e.hand){o=!0;var u,c=I(e.hand.values());try{for(c.s();!(u=c.n()).done;){var d=u.value,f=t.getJointPose(d,r),h=this._getHandJoint(l,d);null!==f&&(h.matrix.fromArray(f.transform.matrix),h.matrix.decompose(h.position,h.rotation,h.scale),h.matrixWorldNeedsUpdate=!0,h.jointRadius=f.radius),h.visible=null!==f}}catch(y){c.e(y)}finally{c.f()}var p=l.joints["index-finger-tip"],m=l.joints["thumb-tip"],g=p.position.distanceTo(m.position);l.inputState.pinching&&g>.025?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&g<=.015&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==s&&e.gripSpace&&null!==(i=t.getPose(e.gripSpace,r))&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1);null!==a&&(null===(n=t.getPose(e.targetRaySpace,r))&&null!==i&&(n=i),null!==n&&(a.matrix.fromArray(n.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,n.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(n.linearVelocity)):a.hasLinearVelocity=!1,n.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(n.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(Ag)))}return null!==a&&(a.visible=null!==n),null!==s&&(s.visible=null!==i),null!==l&&(l.visible=null!==o),this}},{key:"_getHandJoint",value:function(e,t){if(void 0===e.joints[t.jointName]){var r=new Tg;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}}]),e}(),Rg=function(e){x(r,e);var t=M(r);function r(e,n,i,o,a,s,l,u,c,d){var f;if(b(this,r),(d=void 0!==d?d:vc)!==vc&&d!==bc)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");return void 0===i&&d===vc&&(i=hc),void 0===i&&d===bc&&(i=gc),(f=t.call(this,null,o,a,s,l,u,d,i,c)).isDepthTexture=!0,f.image={width:e,height:n},f.magFilter=void 0!==l?l:oc,f.minFilter=void 0!==u?u:oc,f.flipY=!1,f.generateMipmaps=!1,f.compareFunction=null,f}return w(r,[{key:"copy",value:function(e){return Ou(S(r.prototype),"copy",this).call(this,e),this.compareFunction=e.compareFunction,this}},{key:"toJSON",value:function(e){var t=Ou(S(r.prototype),"toJSON",this).call(this,e);return null!==this.compareFunction&&(t.compareFunction=this.compareFunction),t}}]),r}(Td),Cg=function(e){x(r,e);var t=M(r);function r(e,n){var i;b(this,r);var o=A(i=t.call(this)),a=null,s=1,l=null,u="local-floor",c=1,d=null,f=null,h=null,p=null,m=null,g=null,y=n.getContextAttributes(),v=null,_=null,w=[],E=[],x=new zh;x.layers.enable(1),x.viewport=new Ad;var S=new zh;S.layers.enable(2),S.viewport=new Ad;var T=[x,S],M=new Sg;M.layers.enable(1),M.layers.enable(2);var R=null,C=null;function I(e){var t=E.indexOf(e.inputSource);if(-1!==t){var r=w[t];void 0!==r&&(r.update(e.inputSource,e.frame,d||l),r.dispatchEvent({type:e.type,data:e.inputSource}))}}function k(){a.removeEventListener("select",I),a.removeEventListener("selectstart",I),a.removeEventListener("selectend",I),a.removeEventListener("squeeze",I),a.removeEventListener("squeezestart",I),a.removeEventListener("squeezeend",I),a.removeEventListener("end",k),a.removeEventListener("inputsourceschange",P);for(var t=0;t<w.length;t++){var r=E[t];null!==r&&(E[t]=null,w[t].disconnect(r))}R=null,C=null,e.setRenderTarget(v),m=null,p=null,h=null,a=null,_=null,D.stop(),o.isPresenting=!1,o.dispatchEvent({type:"sessionend"})}function P(e){for(var t=0;t<e.removed.length;t++){var r=e.removed[t],n=E.indexOf(r);n>=0&&(E[n]=null,w[n].disconnect(r))}for(var i=0;i<e.added.length;i++){var o=e.added[i],a=E.indexOf(o);if(-1===a){for(var s=0;s<w.length;s++){if(s>=E.length){E.push(o),a=s;break}if(null===E[s]){E[s]=o,a=s;break}}if(-1===a)break}var l=w[a];l&&l.connect(o)}}i.cameraAutoUpdate=!0,i.enabled=!1,i.isPresenting=!1,i.getController=function(e){var t=w[e];return void 0===t&&(t=new Mg,w[e]=t),t.getTargetRaySpace()},i.getControllerGrip=function(e){var t=w[e];return void 0===t&&(t=new Mg,w[e]=t),t.getGripSpace()},i.getHand=function(e){var t=w[e];return void 0===t&&(t=new Mg,w[e]=t),t.getHandSpace()},i.setFramebufferScaleFactor=function(e){s=e,!0===o.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},i.setReferenceSpaceType=function(e){u=e,!0===o.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},i.getReferenceSpace=function(){return d||l},i.setReferenceSpace=function(e){d=e},i.getBaseLayer=function(){return null!==p?p:m},i.getBinding=function(){return h},i.getFrame=function(){return g},i.getSession=function(){return a},i.setSession=function(){var t,r=(t=ju().mark((function t(r){var i,f,g,b,w;return ju().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(a=r)){t.next=25;break}if(v=e.getRenderTarget(),a.addEventListener("select",I),a.addEventListener("selectstart",I),a.addEventListener("selectend",I),a.addEventListener("squeeze",I),a.addEventListener("squeezestart",I),a.addEventListener("squeezeend",I),a.addEventListener("end",k),a.addEventListener("inputsourceschange",P),!0===y.xrCompatible){t.next=14;break}return t.next=14,n.makeXRCompatible();case 14:return void 0===a.renderState.layers||!1===e.capabilities.isWebGL2?(i={antialias:void 0!==a.renderState.layers||y.antialias,alpha:!0,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:s},m=new XRWebGLLayer(a,n,i),a.updateRenderState({baseLayer:m}),_=new Rd(m.framebufferWidth,m.framebufferHeight,{format:yc,type:cc,colorSpace:e.outputColorSpace,stencilBuffer:y.stencil})):(f=null,g=null,b=null,y.depth&&(b=y.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,f=y.stencil?bc:vc,g=y.stencil?gc:hc),w={colorFormat:n.RGBA8,depthFormat:b,scaleFactor:s},h=new XRWebGLBinding(a,n),p=h.createProjectionLayer(w),a.updateRenderState({layers:[p]}),_=new Rd(p.textureWidth,p.textureHeight,{format:yc,type:cc,depthTexture:new Rg(p.textureWidth,p.textureHeight,g,void 0,void 0,void 0,void 0,void 0,void 0,f),stencilBuffer:y.stencil,colorSpace:e.outputColorSpace,samples:y.antialias?4:0}),e.properties.get(_).__ignoreDepthValues=p.ignoreDepthValues),_.isXRRenderTarget=!0,this.setFoveation(c),d=null,t.next=20,a.requestReferenceSpace(u);case 20:l=t.sent,D.setContext(a),D.start(),o.isPresenting=!0,o.dispatchEvent({type:"sessionstart"});case 25:case"end":return t.stop()}}),t,this)})),function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(e){Pu(o,n,i,a,s,"next",e)}function s(e){Pu(o,n,i,a,s,"throw",e)}a(void 0)}))});return function(e){return r.apply(this,arguments)}}(),i.getEnvironmentBlendMode=function(){if(null!==a)return a.environmentBlendMode};var O=new Pd,j=new Pd;function N(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}i.updateCamera=function(e){if(null!==a){M.near=S.near=x.near=e.near,M.far=S.far=x.far=e.far,R===M.near&&C===M.far||(a.updateRenderState({depthNear:M.near,depthFar:M.far}),R=M.near,C=M.far);var t=e.parent,r=M.cameras;N(M,t);for(var n=0;n<r.length;n++)N(r[n],t);2===r.length?function(e,t,r){O.setFromMatrixPosition(t.matrixWorld),j.setFromMatrixPosition(r.matrixWorld);var n=O.distanceTo(j),i=t.projectionMatrix.elements,o=r.projectionMatrix.elements,a=i[14]/(i[10]-1),s=i[14]/(i[10]+1),l=(i[9]+1)/i[5],u=(i[9]-1)/i[5],c=(i[8]-1)/i[0],d=(o[8]+1)/o[0],f=a*c,h=a*d,p=n/(-c+d),m=p*-c;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(m),e.translateZ(p),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert();var g=a+p,y=s+p,v=f-m,b=h+(n-m),_=l*s/y*g,w=u*s/y*g;e.projectionMatrix.makePerspective(v,b,_,w,g,y),e.projectionMatrixInverse.copy(e.projectionMatrix).invert()}(M,x,S):M.projectionMatrix.copy(x.projectionMatrix),function(e,t,r){null===r?e.matrix.copy(t.matrixWorld):(e.matrix.copy(r.matrixWorld),e.matrix.invert(),e.matrix.multiply(t.matrixWorld));e.matrix.decompose(e.position,e.quaternion,e.scale),e.updateMatrixWorld(!0),e.projectionMatrix.copy(t.projectionMatrix),e.projectionMatrixInverse.copy(t.projectionMatrixInverse),e.isPerspectiveCamera&&(e.fov=2*Kc*Math.atan(1/e.projectionMatrix.elements[5]),e.zoom=1)}(e,M,t)}},i.getCamera=function(){return M},i.getFoveation=function(){if(null!==p||null!==m)return c},i.setFoveation=function(e){c=e,null!==p&&(p.fixedFoveation=e),null!==m&&void 0!==m.fixedFoveation&&(m.fixedFoveation=e)};var L=null;var D=new ep;return D.setAnimationLoop((function(t,r){if(f=r.getViewerPose(d||l),g=r,null!==f){var n=f.views;null!==m&&(e.setRenderTargetFramebuffer(_,m.framebuffer),e.setRenderTarget(_));var i=!1;n.length!==M.cameras.length&&(M.cameras.length=0,i=!0);for(var a=0;a<n.length;a++){var s=n[a],u=null;if(null!==m)u=m.getViewport(s);else{var c=h.getViewSubImage(p,s);u=c.viewport,0===a&&(e.setRenderTargetTextures(_,c.colorTexture,p.ignoreDepthValues?void 0:c.depthStencilTexture),e.setRenderTarget(_))}var y=T[a];void 0===y&&((y=new zh).layers.enable(a),y.viewport=new Ad,T[a]=y),y.matrix.fromArray(s.transform.matrix),y.matrix.decompose(y.position,y.quaternion,y.scale),y.projectionMatrix.fromArray(s.projectionMatrix),y.projectionMatrixInverse.copy(y.projectionMatrix).invert(),y.viewport.set(u.x,u.y,u.width,u.height),0===a&&(M.matrix.copy(y.matrix),M.matrix.decompose(M.position,M.quaternion,M.scale)),!0===i&&M.cameras.push(y)}}for(var v=0;v<w.length;v++){var b=E[v],x=w[v];null!==b&&void 0!==x&&x.update(b,r,d||l)}L&&L(t,r),r.detectedPlanes&&o.dispatchEvent({type:"planesdetected",data:r}),g=null})),i.setAnimationLoop=function(e){L=e},i.dispose=function(){},i}return w(r)}(qc);function Ig(e,t){function r(e,t){!0===e.matrixAutoUpdate&&e.updateMatrix(),t.value.copy(e.matrix)}function n(n,i){n.opacity.value=i.opacity,i.color&&n.diffuse.value.copy(i.color),i.emissive&&n.emissive.value.copy(i.emissive).multiplyScalar(i.emissiveIntensity),i.map&&(n.map.value=i.map,r(i.map,n.mapTransform)),i.alphaMap&&(n.alphaMap.value=i.alphaMap,r(i.alphaMap,n.alphaMapTransform)),i.bumpMap&&(n.bumpMap.value=i.bumpMap,r(i.bumpMap,n.bumpMapTransform),n.bumpScale.value=i.bumpScale,i.side===Bu&&(n.bumpScale.value*=-1)),i.normalMap&&(n.normalMap.value=i.normalMap,r(i.normalMap,n.normalMapTransform),n.normalScale.value.copy(i.normalScale),i.side===Bu&&n.normalScale.value.negate()),i.displacementMap&&(n.displacementMap.value=i.displacementMap,r(i.displacementMap,n.displacementMapTransform),n.displacementScale.value=i.displacementScale,n.displacementBias.value=i.displacementBias),i.emissiveMap&&(n.emissiveMap.value=i.emissiveMap,r(i.emissiveMap,n.emissiveMapTransform)),i.specularMap&&(n.specularMap.value=i.specularMap,r(i.specularMap,n.specularMapTransform)),i.alphaTest>0&&(n.alphaTest.value=i.alphaTest);var o=t.get(i).envMap;if(o&&(n.envMap.value=o,n.flipEnvMap.value=o.isCubeTexture&&!1===o.isRenderTargetTexture?-1:1,n.reflectivity.value=i.reflectivity,n.ior.value=i.ior,n.refractionRatio.value=i.refractionRatio),i.lightMap){n.lightMap.value=i.lightMap;var a=!0===e._useLegacyLights?Math.PI:1;n.lightMapIntensity.value=i.lightMapIntensity*a,r(i.lightMap,n.lightMapTransform)}i.aoMap&&(n.aoMap.value=i.aoMap,n.aoMapIntensity.value=i.aoMapIntensity,r(i.aoMap,n.aoMapTransform))}return{refreshFogUniforms:function(t,r){r.color.getRGB(t.fogColor.value,Fh(e)),r.isFog?(t.fogNear.value=r.near,t.fogFar.value=r.far):r.isFogExp2&&(t.fogDensity.value=r.density)},refreshMaterialUniforms:function(e,i,o,a,s){i.isMeshBasicMaterial||i.isMeshLambertMaterial?n(e,i):i.isMeshToonMaterial?(n(e,i),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(e,i)):i.isMeshPhongMaterial?(n(e,i),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4)}(e,i)):i.isMeshStandardMaterial?(n(e,i),function(e,n){e.metalness.value=n.metalness,n.metalnessMap&&(e.metalnessMap.value=n.metalnessMap,r(n.metalnessMap,e.metalnessMapTransform));e.roughness.value=n.roughness,n.roughnessMap&&(e.roughnessMap.value=n.roughnessMap,r(n.roughnessMap,e.roughnessMapTransform));var i=t.get(n).envMap;i&&(e.envMapIntensity.value=n.envMapIntensity)}(e,i),i.isMeshPhysicalMaterial&&function(e,t,n){e.ior.value=t.ior,t.sheen>0&&(e.sheenColor.value.copy(t.sheenColor).multiplyScalar(t.sheen),e.sheenRoughness.value=t.sheenRoughness,t.sheenColorMap&&(e.sheenColorMap.value=t.sheenColorMap,r(t.sheenColorMap,e.sheenColorMapTransform)),t.sheenRoughnessMap&&(e.sheenRoughnessMap.value=t.sheenRoughnessMap,r(t.sheenRoughnessMap,e.sheenRoughnessMapTransform)));t.clearcoat>0&&(e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap,r(t.clearcoatMap,e.clearcoatMapTransform)),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap,r(t.clearcoatRoughnessMap,e.clearcoatRoughnessMapTransform)),t.clearcoatNormalMap&&(e.clearcoatNormalMap.value=t.clearcoatNormalMap,r(t.clearcoatNormalMap,e.clearcoatNormalMapTransform),e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),t.side===Bu&&e.clearcoatNormalScale.value.negate()));t.iridescence>0&&(e.iridescence.value=t.iridescence,e.iridescenceIOR.value=t.iridescenceIOR,e.iridescenceThicknessMinimum.value=t.iridescenceThicknessRange[0],e.iridescenceThicknessMaximum.value=t.iridescenceThicknessRange[1],t.iridescenceMap&&(e.iridescenceMap.value=t.iridescenceMap,r(t.iridescenceMap,e.iridescenceMapTransform)),t.iridescenceThicknessMap&&(e.iridescenceThicknessMap.value=t.iridescenceThicknessMap,r(t.iridescenceThicknessMap,e.iridescenceThicknessMapTransform)));t.transmission>0&&(e.transmission.value=t.transmission,e.transmissionSamplerMap.value=n.texture,e.transmissionSamplerSize.value.set(n.width,n.height),t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap,r(t.transmissionMap,e.transmissionMapTransform)),e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap,r(t.thicknessMap,e.thicknessMapTransform)),e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor));t.anisotropy>0&&(e.anisotropyVector.value.set(t.anisotropy*Math.cos(t.anisotropyRotation),t.anisotropy*Math.sin(t.anisotropyRotation)),t.anisotropyMap&&(e.anisotropyMap.value=t.anisotropyMap,r(t.anisotropyMap,e.anisotropyMapTransform)));e.specularIntensity.value=t.specularIntensity,e.specularColor.value.copy(t.specularColor),t.specularColorMap&&(e.specularColorMap.value=t.specularColorMap,r(t.specularColorMap,e.specularColorMapTransform));t.specularIntensityMap&&(e.specularIntensityMap.value=t.specularIntensityMap,r(t.specularIntensityMap,e.specularIntensityMapTransform))}(e,i,s)):i.isMeshMatcapMaterial?(n(e,i),function(e,t){t.matcap&&(e.matcap.value=t.matcap)}(e,i)):i.isMeshDepthMaterial?n(e,i):i.isMeshDistanceMaterial?(n(e,i),function(e,r){var n=t.get(r).light;e.referencePosition.value.setFromMatrixPosition(n.matrixWorld),e.nearDistance.value=n.shadow.camera.near,e.farDistance.value=n.shadow.camera.far}(e,i)):i.isMeshNormalMaterial?n(e,i):i.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,t.map&&(e.map.value=t.map,r(t.map,e.mapTransform))}(e,i),i.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,i)):i.isPointsMaterial?function(e,t,n,i){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*n,e.scale.value=.5*i,t.map&&(e.map.value=t.map,r(t.map,e.uvTransform));t.alphaMap&&(e.alphaMap.value=t.alphaMap,r(t.alphaMap,e.alphaMapTransform));t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,i,o,a):i.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map,r(t.map,e.mapTransform));t.alphaMap&&(e.alphaMap.value=t.alphaMap,r(t.alphaMap,e.alphaMapTransform));t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,i):i.isShadowMaterial?(e.color.value.copy(i.color),e.opacity.value=i.opacity):i.isShaderMaterial&&(i.uniformsNeedUpdate=!1)}}}function kg(e,t,r,n){var i={},o={},a=[],s=r.isWebGL2?e.getParameter(e.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(e,t,r){var n=e.value;if(void 0===r[t]){if("number"===typeof n)r[t]=n;else{for(var i=Array.isArray(n)?n:[n],o=[],a=0;a<i.length;a++)o.push(i[a].clone());r[t]=o}return!0}if("number"===typeof n){if(r[t]!==n)return r[t]=n,!0}else for(var s=Array.isArray(r[t])?r[t]:[r[t]],l=Array.isArray(n)?n:[n],u=0;u<s.length;u++){var c=s[u];if(!1===c.equals(l[u]))return c.copy(l[u]),!0}return!1}function u(e){var t={boundary:0,storage:0};return"number"===typeof e?(t.boundary=4,t.storage=4):e.isVector2?(t.boundary=8,t.storage=8):e.isVector3||e.isColor?(t.boundary=16,t.storage=12):e.isVector4?(t.boundary=16,t.storage=16):e.isMatrix3?(t.boundary=48,t.storage=48):e.isMatrix4?(t.boundary=64,t.storage=64):e.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",e),t}function c(t){var r=t.target;r.removeEventListener("dispose",c);var n=a.indexOf(r.__bindingPointIndex);a.splice(n,1),e.deleteBuffer(i[r.id]),delete i[r.id],delete o[r.id]}return{bind:function(e,t){var r=t.program;n.uniformBlockBinding(e,r)},update:function(r,d){var f=i[r.id];void 0===f&&(!function(e){for(var t=e.uniforms,r=0,n=16,i=0,o=0,a=t.length;o<a;o++){for(var s=t[o],l={boundary:0,storage:0},c=Array.isArray(s.value)?s.value:[s.value],d=0,f=c.length;d<f;d++){var h=u(c[d]);l.boundary+=h.boundary,l.storage+=h.storage}if(s.__data=new Float32Array(l.storage/Float32Array.BYTES_PER_ELEMENT),s.__offset=r,o>0)0!==(i=r%n)&&n-i-l.boundary<0&&(r+=n-i,s.__offset=r);r+=l.storage}(i=r%n)>0&&(r+=n-i);e.__size=r,e.__cache={}}(r),f=function(t){var r=function(){for(var e=0;e<s;e++)if(-1===a.indexOf(e))return a.push(e),e;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();t.__bindingPointIndex=r;var n=e.createBuffer(),i=t.__size,o=t.usage;return e.bindBuffer(e.UNIFORM_BUFFER,n),e.bufferData(e.UNIFORM_BUFFER,i,o),e.bindBuffer(e.UNIFORM_BUFFER,null),e.bindBufferBase(e.UNIFORM_BUFFER,r,n),n}(r),i[r.id]=f,r.addEventListener("dispose",c));var h=d.program;n.updateUBOMapping(r,h);var p=t.render.frame;o[r.id]!==p&&(!function(t){var r=i[t.id],n=t.uniforms,o=t.__cache;e.bindBuffer(e.UNIFORM_BUFFER,r);for(var a=0,s=n.length;a<s;a++){var c=n[a];if(!0===l(c,a,o)){for(var d=c.__offset,f=Array.isArray(c.value)?c.value:[c.value],h=0,p=0;p<f.length;p++){var m=f[p],g=u(m);"number"===typeof m?(c.__data[0]=m,e.bufferSubData(e.UNIFORM_BUFFER,d+h,c.__data)):m.isMatrix3?(c.__data[0]=m.elements[0],c.__data[1]=m.elements[1],c.__data[2]=m.elements[2],c.__data[3]=m.elements[0],c.__data[4]=m.elements[3],c.__data[5]=m.elements[4],c.__data[6]=m.elements[5],c.__data[7]=m.elements[0],c.__data[8]=m.elements[6],c.__data[9]=m.elements[7],c.__data[10]=m.elements[8],c.__data[11]=m.elements[0]):(m.toArray(c.__data,h),h+=g.storage/Float32Array.BYTES_PER_ELEMENT)}e.bufferSubData(e.UNIFORM_BUFFER,d,c.__data)}}e.bindBuffer(e.UNIFORM_BUFFER,null)}(r),o[r.id]=p)},dispose:function(){for(var t in i)e.deleteBuffer(i[t]);a=[],i={},o={}}}}var Pg=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};b(this,e);var r,n=t.canvas,i=void 0===n?function(){var e=ud("canvas");return e.style.display="block",e}():n,o=t.context,a=void 0===o?null:o,s=t.depth,l=void 0===s||s,u=t.stencil,c=void 0===u||u,d=t.alpha,f=void 0!==d&&d,h=t.antialias,p=void 0!==h&&h,m=t.premultipliedAlpha,g=void 0===m||m,y=t.preserveDrawingBuffer,v=void 0!==y&&y,_=t.powerPreference,w=void 0===_?"default":_,E=t.failIfMajorPerformanceCaveat,x=void 0!==E&&E;this.isWebGLRenderer=!0,r=null!==a?a.getContextAttributes().alpha:f;var S=new Uint32Array(4),T=new Int32Array(4),A=null,M=null,R=[],C=[];this.domElement=i,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Oc,this._useLegacyLights=!1,this.toneMapping=Wu,this.toneMappingExposure=1;var I=this,k=!1,P=0,O=0,j=null,N=-1,L=null,D=new Ad,F=new Ad,U=null,B=new Jf(0),G=0,z=i.width,V=i.height,H=1,W=null,Z=null,q=new Ad(0,0,z,V),Y=new Ad(0,0,z,V),X=!1,K=new Jh,Q=!1,$=!1,J=null,ee=new uf,te=new od,re=new Pd,ne={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function ie(){return null===j?H:1}var oe,ae,se,le,ue,ce,de,fe,he,pe,me,ge,ye,ve,be,_e,we,Ee,xe,Se,Te,Ae,Me,Re,Ce=a;function Ie(e,t){for(var r=0;r<e.length;r++){var n=e[r],o=i.getContext(n,t);if(null!==o)return o}return null}try{var ke={alpha:!0,depth:l,stencil:c,antialias:p,premultipliedAlpha:g,preserveDrawingBuffer:v,powerPreference:w,failIfMajorPerformanceCaveat:x};if("setAttribute"in i&&i.setAttribute("data-engine","three.js r".concat(Nu)),i.addEventListener("webglcontextlost",Ne,!1),i.addEventListener("webglcontextrestored",Le,!1),i.addEventListener("webglcontextcreationerror",De,!1),null===Ce){var Pe=["webgl2","webgl","experimental-webgl"];if(!0===I.isWebGL1Renderer&&Pe.shift(),null===(Ce=Ie(Pe,ke)))throw Ie(Pe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}"undefined"!==typeof WebGLRenderingContext&&Ce instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),void 0===Ce.getShaderPrecisionFormat&&(Ce.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Xe){throw console.error("THREE.WebGLRenderer: "+Xe.message),Xe}function Oe(){oe=new Rp(Ce),ae=new cp(Ce,oe,t),oe.init(ae),Ae=new xg(Ce,oe,ae),se=new wg(Ce,oe,ae),le=new kp(Ce),ue=new sg,ce=new Eg(Ce,oe,se,ue,ae,Ae,le),de=new fp(I),fe=new Mp(I),he=new tp(Ce,ae),Me=new lp(Ce,oe,he,ae),pe=new Cp(Ce,he,le,Me),me=new Np(Ce,pe,he,le),xe=new jp(Ce,ae,ce),_e=new dp(ue),ge=new ag(I,de,fe,oe,ae,Me,_e),ye=new Ig(I,ue),ve=new dg,be=new yg(oe,ae),Ee=new sp(I,de,fe,se,me,r,g),we=new _g(I,me,ae),Re=new kg(Ce,le,ae,se),Se=new up(Ce,oe,le,ae),Te=new Ip(Ce,oe,le,ae),le.programs=ge.programs,I.capabilities=ae,I.extensions=oe,I.properties=ue,I.renderLists=ve,I.shadowMap=we,I.state=se,I.info=le}Oe();var je=new Cg(I,Ce);function Ne(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),k=!0}function Le(){console.log("THREE.WebGLRenderer: Context Restored."),k=!1;var e=le.autoReset,t=we.enabled,r=we.autoUpdate,n=we.needsUpdate,i=we.type;Oe(),le.autoReset=e,we.enabled=t,we.autoUpdate=r,we.needsUpdate=n,we.type=i}function De(e){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",e.statusMessage)}function Fe(e){var t=e.target;t.removeEventListener("dispose",Fe),function(e){(function(e){var t=ue.get(e).programs;void 0!==t&&(t.forEach((function(e){ge.releaseProgram(e)})),e.isShaderMaterial&&ge.releaseShaderCache(e))})(e),ue.remove(e)}(t)}this.xr=je,this.getContext=function(){return Ce},this.getContextAttributes=function(){return Ce.getContextAttributes()},this.forceContextLoss=function(){var e=oe.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=oe.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return H},this.setPixelRatio=function(e){void 0!==e&&(H=e,this.setSize(z,V,!1))},this.getSize=function(e){return e.set(z,V)},this.setSize=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];je.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(z=e,V=t,i.width=Math.floor(e*H),i.height=Math.floor(t*H),!0===r&&(i.style.width=e+"px",i.style.height=t+"px"),this.setViewport(0,0,e,t))},this.getDrawingBufferSize=function(e){return e.set(z*H,V*H).floor()},this.setDrawingBufferSize=function(e,t,r){z=e,V=t,H=r,i.width=Math.floor(e*r),i.height=Math.floor(t*r),this.setViewport(0,0,e,t)},this.getCurrentViewport=function(e){return e.copy(D)},this.getViewport=function(e){return e.copy(q)},this.setViewport=function(e,t,r,n){e.isVector4?q.set(e.x,e.y,e.z,e.w):q.set(e,t,r,n),se.viewport(D.copy(q).multiplyScalar(H).floor())},this.getScissor=function(e){return e.copy(Y)},this.setScissor=function(e,t,r,n){e.isVector4?Y.set(e.x,e.y,e.z,e.w):Y.set(e,t,r,n),se.scissor(F.copy(Y).multiplyScalar(H).floor())},this.getScissorTest=function(){return X},this.setScissorTest=function(e){se.setScissorTest(X=e)},this.setOpaqueSort=function(e){W=e},this.setTransparentSort=function(e){Z=e},this.getClearColor=function(e){return e.copy(Ee.getClearColor())},this.setClearColor=function(){Ee.setClearColor.apply(Ee,arguments)},this.getClearAlpha=function(){return Ee.getClearAlpha()},this.setClearAlpha=function(){Ee.setClearAlpha.apply(Ee,arguments)},this.clear=function(){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=0;if(!(arguments.length>0&&void 0!==arguments[0])||arguments[0]){var n=!1;if(null!==j){var i=j.texture.format;n=1033===i||1031===i||1029===i}if(n){var o=j.texture.type,a=o===cc||o===hc||o===dc||o===gc||1017===o||1018===o,s=Ee.getClearColor(),l=Ee.getClearAlpha(),u=s.r,c=s.g,d=s.b;a?(S[0]=u,S[1]=c,S[2]=d,S[3]=l,Ce.clearBufferuiv(Ce.COLOR,0,S)):(T[0]=u,T[1]=c,T[2]=d,T[3]=l,Ce.clearBufferiv(Ce.COLOR,0,T))}else r|=Ce.COLOR_BUFFER_BIT}e&&(r|=Ce.DEPTH_BUFFER_BIT),t&&(r|=Ce.STENCIL_BUFFER_BIT),Ce.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){i.removeEventListener("webglcontextlost",Ne,!1),i.removeEventListener("webglcontextrestored",Le,!1),i.removeEventListener("webglcontextcreationerror",De,!1),ve.dispose(),be.dispose(),ue.dispose(),de.dispose(),fe.dispose(),me.dispose(),Me.dispose(),Re.dispose(),ge.dispose(),je.dispose(),je.removeEventListener("sessionstart",Be),je.removeEventListener("sessionend",Ge),J&&(J.dispose(),J=null),ze.stop()},this.renderBufferDirect=function(e,t,r,n,i,o){null===t&&(t=ne);var a=i.isMesh&&i.matrixWorld.determinant()<0,s=function(e,t,r,n,i){!0!==t.isScene&&(t=ne);ce.resetTextureUnits();var o=t.fog,a=n.isMeshStandardMaterial?t.environment:null,s=null===j?I.outputColorSpace:!0===j.isXRRenderTarget?j.texture.colorSpace:jc,l=(n.isMeshStandardMaterial?fe:de).get(n.envMap||a),u=!0===n.vertexColors&&!!r.attributes.color&&4===r.attributes.color.itemSize,c=!!r.attributes.tangent&&(!!n.normalMap||n.anisotropy>0),d=!!r.morphAttributes.position,f=!!r.morphAttributes.normal,h=!!r.morphAttributes.color,p=Wu;n.toneMapped&&(null!==j&&!0!==j.isXRRenderTarget||(p=I.toneMapping));var m=r.morphAttributes.position||r.morphAttributes.normal||r.morphAttributes.color,g=void 0!==m?m.length:0,y=ue.get(n),v=M.state.lights;if(!0===Q&&(!0===$||e!==L)){var b=e===L&&n.id===N;_e.setState(n,e,b)}var _=!1;n.version===y.__version?y.needsLights&&y.lightsStateVersion!==v.state.version||y.outputColorSpace!==s||i.isInstancedMesh&&!1===y.instancing?_=!0:i.isInstancedMesh||!0!==y.instancing?i.isSkinnedMesh&&!1===y.skinning?_=!0:i.isSkinnedMesh||!0!==y.skinning?i.isInstancedMesh&&!0===y.instancingColor&&null===i.instanceColor||i.isInstancedMesh&&!1===y.instancingColor&&null!==i.instanceColor||y.envMap!==l||!0===n.fog&&y.fog!==o?_=!0:void 0===y.numClippingPlanes||y.numClippingPlanes===_e.numPlanes&&y.numIntersection===_e.numIntersection?(y.vertexAlphas!==u||y.vertexTangents!==c||y.morphTargets!==d||y.morphNormals!==f||y.morphColors!==h||y.toneMapping!==p||!0===ae.isWebGL2&&y.morphTargetsCount!==g)&&(_=!0):_=!0:_=!0:_=!0:(_=!0,y.__version=n.version);var w=y.currentProgram;!0===_&&(w=qe(n,t,i));var E=!1,x=!1,S=!1,T=w.getUniforms(),A=y.uniforms;se.useProgram(w.program)&&(E=!0,x=!0,S=!0);n.id!==N&&(N=n.id,x=!0);if(E||L!==e){T.setValue(Ce,"projectionMatrix",e.projectionMatrix),T.setValue(Ce,"viewMatrix",e.matrixWorldInverse);var R=T.map.cameraPosition;void 0!==R&&R.setValue(Ce,re.setFromMatrixPosition(e.matrixWorld)),ae.logarithmicDepthBuffer&&T.setValue(Ce,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial)&&T.setValue(Ce,"isOrthographic",!0===e.isOrthographicCamera),L!==e&&(L=e,x=!0,S=!0)}if(i.isSkinnedMesh){T.setOptional(Ce,i,"bindMatrix"),T.setOptional(Ce,i,"bindMatrixInverse");var C=i.skeleton;C&&(ae.floatVertexTextures?(null===C.boneTexture&&C.computeBoneTexture(),T.setValue(Ce,"boneTexture",C.boneTexture,ce),T.setValue(Ce,"boneTextureSize",C.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}var k=r.morphAttributes;(void 0!==k.position||void 0!==k.normal||void 0!==k.color&&!0===ae.isWebGL2)&&xe.update(i,r,w);(x||y.receiveShadow!==i.receiveShadow)&&(y.receiveShadow=i.receiveShadow,T.setValue(Ce,"receiveShadow",i.receiveShadow));n.isMeshGouraudMaterial&&null!==n.envMap&&(A.envMap.value=l,A.flipEnvMap.value=l.isCubeTexture&&!1===l.isRenderTargetTexture?-1:1);x&&(T.setValue(Ce,"toneMappingExposure",I.toneMappingExposure),y.needsLights&&(O=S,(P=A).ambientLightColor.needsUpdate=O,P.lightProbe.needsUpdate=O,P.directionalLights.needsUpdate=O,P.directionalLightShadows.needsUpdate=O,P.pointLights.needsUpdate=O,P.pointLightShadows.needsUpdate=O,P.spotLights.needsUpdate=O,P.spotLightShadows.needsUpdate=O,P.rectAreaLights.needsUpdate=O,P.hemisphereLights.needsUpdate=O),o&&!0===n.fog&&ye.refreshFogUniforms(A,o),ye.refreshMaterialUniforms(A,n,H,V,J),Um.upload(Ce,y.uniformsList,A,ce));var P,O;n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(Um.upload(Ce,y.uniformsList,A,ce),n.uniformsNeedUpdate=!1);n.isSpriteMaterial&&T.setValue(Ce,"center",i.center);if(T.setValue(Ce,"modelViewMatrix",i.modelViewMatrix),T.setValue(Ce,"normalMatrix",i.normalMatrix),T.setValue(Ce,"modelMatrix",i.matrixWorld),n.isShaderMaterial||n.isRawShaderMaterial)for(var D=n.uniformsGroups,F=0,U=D.length;F<U;F++)if(ae.isWebGL2){var B=D[F];Re.update(B,w),Re.bind(B,w)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.");return w}(e,t,r,n,i);se.setMaterial(n,a);var l=r.index,u=1;if(!0===n.wireframe){if(void 0===(l=pe.getWireframeAttribute(r)))return;u=2}var c=r.drawRange,d=r.attributes.position,f=c.start*u,h=(c.start+c.count)*u;null!==o&&(f=Math.max(f,o.start*u),h=Math.min(h,(o.start+o.count)*u)),null!==l?(f=Math.max(f,0),h=Math.min(h,l.count)):void 0!==d&&null!==d&&(f=Math.max(f,0),h=Math.min(h,d.count));var p=h-f;if(!(p<0||p===1/0)){var m;Me.setup(i,n,s,r,l);var g=Se;if(null!==l&&(m=he.get(l),(g=Te).setIndex(m)),i.isMesh)!0===n.wireframe?(se.setLineWidth(n.wireframeLinewidth*ie()),g.setMode(Ce.LINES)):g.setMode(Ce.TRIANGLES);else if(i.isLine){var y=n.linewidth;void 0===y&&(y=1),se.setLineWidth(y*ie()),i.isLineSegments?g.setMode(Ce.LINES):i.isLineLoop?g.setMode(Ce.LINE_LOOP):g.setMode(Ce.LINE_STRIP)}else i.isPoints?g.setMode(Ce.POINTS):i.isSprite&&g.setMode(Ce.TRIANGLES);if(i.isInstancedMesh)g.renderInstances(f,p,i.count);else if(r.isInstancedBufferGeometry){var v=void 0!==r._maxInstanceCount?r._maxInstanceCount:1/0,b=Math.min(r.instanceCount,v);g.renderInstances(f,p,b)}else g.render(f,p)}},this.compile=function(e,t){function r(e,t,r){!0===e.transparent&&2===e.side&&!1===e.forceSinglePass?(e.side=Bu,e.needsUpdate=!0,qe(e,t,r),e.side=Uu,e.needsUpdate=!0,qe(e,t,r),e.side=2):qe(e,t,r)}(M=be.get(e)).init(),C.push(M),e.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(M.pushLight(e),e.castShadow&&M.pushShadow(e))})),M.setupLights(I._useLegacyLights),e.traverse((function(t){var n=t.material;if(n)if(Array.isArray(n))for(var i=0;i<n.length;i++){r(n[i],e,t)}else r(n,e,t)})),C.pop(),M=null};var Ue=null;function Be(){ze.stop()}function Ge(){ze.start()}var ze=new ep;function Ve(e,t,r,n){if(!1!==e.visible){if(e.layers.test(t.layers))if(e.isGroup)r=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)M.pushLight(e),e.castShadow&&M.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||K.intersectsSprite(e)){n&&re.setFromMatrixPosition(e.matrixWorld).applyMatrix4(ee);var i=me.update(e),o=e.material;o.visible&&A.push(e,i,o,r,re.z,null)}}else if((e.isMesh||e.isLine||e.isPoints)&&(!e.frustumCulled||K.intersectsObject(e))){var a=me.update(e),s=e.material;if(n&&(void 0!==e.boundingSphere?(null===e.boundingSphere&&e.computeBoundingSphere(),re.copy(e.boundingSphere.center)):(null===a.boundingSphere&&a.computeBoundingSphere(),re.copy(a.boundingSphere.center)),re.applyMatrix4(e.matrixWorld).applyMatrix4(ee)),Array.isArray(s))for(var l=a.groups,u=0,c=l.length;u<c;u++){var d=l[u],f=s[d.materialIndex];f&&f.visible&&A.push(e,a,f,r,re.z,d)}else s.visible&&A.push(e,a,s,r,re.z,null)}for(var h=e.children,p=0,m=h.length;p<m;p++)Ve(h[p],t,r,n)}}function He(e,t,r,n){var i=e.opaque,o=e.transmissive,a=e.transparent;M.setupLightsView(r),!0===Q&&_e.setGlobalState(I.clippingPlanes,r),o.length>0&&function(e,t,r,n){var i=ae.isWebGL2;null===J&&(J=new Rd(1,1,{generateMipmaps:!0,type:oe.has("EXT_color_buffer_half_float")?mc:cc,minFilter:uc,samples:i?4:0}));I.getDrawingBufferSize(te),i?J.setSize(te.x,te.y):J.setSize(rd(te.x),rd(te.y));var o=I.getRenderTarget();I.setRenderTarget(J),I.getClearColor(B),(G=I.getClearAlpha())<1&&I.setClearColor(16777215,.5);I.clear();var a=I.toneMapping;I.toneMapping=Wu,We(e,r,n),ce.updateMultisampleRenderTarget(J),ce.updateRenderTargetMipmap(J);for(var s=!1,l=0,u=t.length;l<u;l++){var c=t[l],d=c.object,f=c.geometry,h=c.material,p=c.group;if(2===h.side&&d.layers.test(n.layers)){var m=h.side;h.side=Bu,h.needsUpdate=!0,Ze(d,r,n,f,h,p),h.side=m,h.needsUpdate=!0,s=!0}}!0===s&&(ce.updateMultisampleRenderTarget(J),ce.updateRenderTargetMipmap(J));I.setRenderTarget(o),I.setClearColor(B,G),I.toneMapping=a}(i,o,t,r),n&&se.viewport(D.copy(n)),i.length>0&&We(i,t,r),o.length>0&&We(o,t,r),a.length>0&&We(a,t,r),se.buffers.depth.setTest(!0),se.buffers.depth.setMask(!0),se.buffers.color.setMask(!0),se.setPolygonOffset(!1)}function We(e,t,r){for(var n=!0===t.isScene?t.overrideMaterial:null,i=0,o=e.length;i<o;i++){var a=e[i],s=a.object,l=a.geometry,u=null===n?a.material:n,c=a.group;s.layers.test(r.layers)&&Ze(s,t,r,l,u,c)}}function Ze(e,t,r,n,i,o){e.onBeforeRender(I,t,r,n,i,o),e.modelViewMatrix.multiplyMatrices(r.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),i.onBeforeRender(I,t,r,n,e,o),!0===i.transparent&&2===i.side&&!1===i.forceSinglePass?(i.side=Bu,i.needsUpdate=!0,I.renderBufferDirect(r,t,n,i,e,o),i.side=Uu,i.needsUpdate=!0,I.renderBufferDirect(r,t,n,i,e,o),i.side=2):I.renderBufferDirect(r,t,n,i,e,o),e.onAfterRender(I,t,r,n,i,o)}function qe(e,t,r){!0!==t.isScene&&(t=ne);var n=ue.get(e),i=M.state.lights,o=M.state.shadowsArray,a=i.state.version,s=ge.getParameters(e,i.state,o,t,r),l=ge.getProgramCacheKey(s),u=n.programs;n.environment=e.isMeshStandardMaterial?t.environment:null,n.fog=t.fog,n.envMap=(e.isMeshStandardMaterial?fe:de).get(e.envMap||n.environment),void 0===u&&(e.addEventListener("dispose",Fe),u=new Map,n.programs=u);var c=u.get(l);if(void 0!==c){if(n.currentProgram===c&&n.lightsStateVersion===a)return Ye(e,s),c}else s.uniforms=ge.getUniforms(e),e.onBuild(r,s,I),e.onBeforeCompile(s,I),c=ge.acquireProgram(s,l),u.set(l,c),n.uniforms=s.uniforms;var d=n.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(d.clippingPlanes=_e.uniform),Ye(e,s),n.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),n.lightsStateVersion=a,n.needsLights&&(d.ambientLightColor.value=i.state.ambient,d.lightProbe.value=i.state.probe,d.directionalLights.value=i.state.directional,d.directionalLightShadows.value=i.state.directionalShadow,d.spotLights.value=i.state.spot,d.spotLightShadows.value=i.state.spotShadow,d.rectAreaLights.value=i.state.rectArea,d.ltc_1.value=i.state.rectAreaLTC1,d.ltc_2.value=i.state.rectAreaLTC2,d.pointLights.value=i.state.point,d.pointLightShadows.value=i.state.pointShadow,d.hemisphereLights.value=i.state.hemi,d.directionalShadowMap.value=i.state.directionalShadowMap,d.directionalShadowMatrix.value=i.state.directionalShadowMatrix,d.spotShadowMap.value=i.state.spotShadowMap,d.spotLightMatrix.value=i.state.spotLightMatrix,d.spotLightMap.value=i.state.spotLightMap,d.pointShadowMap.value=i.state.pointShadowMap,d.pointShadowMatrix.value=i.state.pointShadowMatrix);var f=c.getUniforms(),h=Um.seqWithValue(f.seq,d);return n.currentProgram=c,n.uniformsList=h,c}function Ye(e,t){var r=ue.get(e);r.outputColorSpace=t.outputColorSpace,r.instancing=t.instancing,r.instancingColor=t.instancingColor,r.skinning=t.skinning,r.morphTargets=t.morphTargets,r.morphNormals=t.morphNormals,r.morphColors=t.morphColors,r.morphTargetsCount=t.morphTargetsCount,r.numClippingPlanes=t.numClippingPlanes,r.numIntersection=t.numClipIntersection,r.vertexAlphas=t.vertexAlphas,r.vertexTangents=t.vertexTangents,r.toneMapping=t.toneMapping}ze.setAnimationLoop((function(e){Ue&&Ue(e)})),"undefined"!==typeof self&&ze.setContext(self),this.setAnimationLoop=function(e){Ue=e,je.setAnimationLoop(e),null===e?ze.stop():ze.start()},je.addEventListener("sessionstart",Be),je.addEventListener("sessionend",Ge),this.render=function(e,t){if(void 0===t||!0===t.isCamera){if(!0!==k){!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),!0===je.enabled&&!0===je.isPresenting&&(!0===je.cameraAutoUpdate&&je.updateCamera(t),t=je.getCamera()),!0===e.isScene&&e.onBeforeRender(I,e,t,j),(M=be.get(e,C.length)).init(),C.push(M),ee.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),K.setFromProjectionMatrix(ee),$=this.localClippingEnabled,Q=_e.init(this.clippingPlanes,$),(A=ve.get(e,R.length)).init(),R.push(A),Ve(e,t,0,I.sortObjects),A.finish(),!0===I.sortObjects&&A.sort(W,Z),this.info.render.frame++,!0===Q&&_e.beginShadows();var r=M.state.shadowsArray;if(we.render(r,e,t),!0===Q&&_e.endShadows(),!0===this.info.autoReset&&this.info.reset(),Ee.render(A,e),M.setupLights(I._useLegacyLights),t.isArrayCamera)for(var n=t.cameras,i=0,o=n.length;i<o;i++){var a=n[i];He(A,e,a,a.viewport)}else He(A,e,t);null!==j&&(ce.updateMultisampleRenderTarget(j),ce.updateRenderTargetMipmap(j)),!0===e.isScene&&e.onAfterRender(I,e,t),Me.resetDefaultState(),N=-1,L=null,C.pop(),M=C.length>0?C[C.length-1]:null,R.pop(),A=R.length>0?R[R.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return P},this.getActiveMipmapLevel=function(){return O},this.getRenderTarget=function(){return j},this.setRenderTargetTextures=function(e,t,r){ue.get(e.texture).__webglTexture=t,ue.get(e.depthTexture).__webglTexture=r;var n=ue.get(e);n.__hasExternalTextures=!0,n.__hasExternalTextures&&(n.__autoAllocateDepthBuffer=void 0===r,n.__autoAllocateDepthBuffer||!0===oe.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),n.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(e,t){var r=ue.get(e);r.__webglFramebuffer=t,r.__useDefaultFramebuffer=void 0===t},this.setRenderTarget=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;j=e,P=t,O=r;var n=!0,i=null,o=!1,a=!1;if(e){var s=ue.get(e);void 0!==s.__useDefaultFramebuffer?(se.bindFramebuffer(Ce.FRAMEBUFFER,null),n=!1):void 0===s.__webglFramebuffer?ce.setupRenderTarget(e):s.__hasExternalTextures&&ce.rebindTextures(e,ue.get(e.texture).__webglTexture,ue.get(e.depthTexture).__webglTexture);var l=e.texture;(l.isData3DTexture||l.isDataArrayTexture||l.isCompressedArrayTexture)&&(a=!0);var u=ue.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(i=Array.isArray(u[t])?u[t][r]:u[t],o=!0):i=ae.isWebGL2&&e.samples>0&&!1===ce.useMultisampledRTT(e)?ue.get(e).__webglMultisampledFramebuffer:Array.isArray(u)?u[r]:u,D.copy(e.viewport),F.copy(e.scissor),U=e.scissorTest}else D.copy(q).multiplyScalar(H).floor(),F.copy(Y).multiplyScalar(H).floor(),U=X;if(se.bindFramebuffer(Ce.FRAMEBUFFER,i)&&ae.drawBuffers&&n&&se.drawBuffers(e,i),se.viewport(D),se.scissor(F),se.setScissorTest(U),o){var c=ue.get(e.texture);Ce.framebufferTexture2D(Ce.FRAMEBUFFER,Ce.COLOR_ATTACHMENT0,Ce.TEXTURE_CUBE_MAP_POSITIVE_X+t,c.__webglTexture,r)}else if(a){var d=ue.get(e.texture),f=t||0;Ce.framebufferTextureLayer(Ce.FRAMEBUFFER,Ce.COLOR_ATTACHMENT0,d.__webglTexture,r||0,f)}N=-1},this.readRenderTargetPixels=function(e,t,r,n,i,o,a){if(e&&e.isWebGLRenderTarget){var s=ue.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==a&&(s=s[a]),s){se.bindFramebuffer(Ce.FRAMEBUFFER,s);try{var l=e.texture,u=l.format,c=l.type;if(u!==yc&&Ae.convert(u)!==Ce.getParameter(Ce.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");var d=c===mc&&(oe.has("EXT_color_buffer_half_float")||ae.isWebGL2&&oe.has("EXT_color_buffer_float"));if(c!==cc&&Ae.convert(c)!==Ce.getParameter(Ce.IMPLEMENTATION_COLOR_READ_TYPE)&&(c!==pc||!(ae.isWebGL2||oe.has("OES_texture_float")||oe.has("WEBGL_color_buffer_float")))&&!d)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");t>=0&&t<=e.width-n&&r>=0&&r<=e.height-i&&Ce.readPixels(t,r,n,i,Ae.convert(u),Ae.convert(c),o)}finally{var f=null!==j?ue.get(j).__webglFramebuffer:null;se.bindFramebuffer(Ce.FRAMEBUFFER,f)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=Math.pow(2,-r),i=Math.floor(t.image.width*n),o=Math.floor(t.image.height*n);ce.setTexture2D(t,0),Ce.copyTexSubImage2D(Ce.TEXTURE_2D,r,0,0,e.x,e.y,i,o),se.unbindTexture()},this.copyTextureToTexture=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=t.image.width,o=t.image.height,a=Ae.convert(r.format),s=Ae.convert(r.type);ce.setTexture2D(r,0),Ce.pixelStorei(Ce.UNPACK_FLIP_Y_WEBGL,r.flipY),Ce.pixelStorei(Ce.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha),Ce.pixelStorei(Ce.UNPACK_ALIGNMENT,r.unpackAlignment),t.isDataTexture?Ce.texSubImage2D(Ce.TEXTURE_2D,n,e.x,e.y,i,o,a,s,t.image.data):t.isCompressedTexture?Ce.compressedTexSubImage2D(Ce.TEXTURE_2D,n,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,a,t.mipmaps[0].data):Ce.texSubImage2D(Ce.TEXTURE_2D,n,e.x,e.y,a,s,t.image),0===n&&r.generateMipmaps&&Ce.generateMipmap(Ce.TEXTURE_2D),se.unbindTexture()},this.copyTextureToTexture3D=function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(I.isWebGL1Renderer)console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");else{var o,a=e.max.x-e.min.x+1,s=e.max.y-e.min.y+1,l=e.max.z-e.min.z+1,u=Ae.convert(n.format),c=Ae.convert(n.type);if(n.isData3DTexture)ce.setTexture3D(n,0),o=Ce.TEXTURE_3D;else{if(!n.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");ce.setTexture2DArray(n,0),o=Ce.TEXTURE_2D_ARRAY}Ce.pixelStorei(Ce.UNPACK_FLIP_Y_WEBGL,n.flipY),Ce.pixelStorei(Ce.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.premultiplyAlpha),Ce.pixelStorei(Ce.UNPACK_ALIGNMENT,n.unpackAlignment);var d=Ce.getParameter(Ce.UNPACK_ROW_LENGTH),f=Ce.getParameter(Ce.UNPACK_IMAGE_HEIGHT),h=Ce.getParameter(Ce.UNPACK_SKIP_PIXELS),p=Ce.getParameter(Ce.UNPACK_SKIP_ROWS),m=Ce.getParameter(Ce.UNPACK_SKIP_IMAGES),g=r.isCompressedTexture?r.mipmaps[0]:r.image;Ce.pixelStorei(Ce.UNPACK_ROW_LENGTH,g.width),Ce.pixelStorei(Ce.UNPACK_IMAGE_HEIGHT,g.height),Ce.pixelStorei(Ce.UNPACK_SKIP_PIXELS,e.min.x),Ce.pixelStorei(Ce.UNPACK_SKIP_ROWS,e.min.y),Ce.pixelStorei(Ce.UNPACK_SKIP_IMAGES,e.min.z),r.isDataTexture||r.isData3DTexture?Ce.texSubImage3D(o,i,t.x,t.y,t.z,a,s,l,u,c,g.data):r.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Ce.compressedTexSubImage3D(o,i,t.x,t.y,t.z,a,s,l,u,g.data)):Ce.texSubImage3D(o,i,t.x,t.y,t.z,a,s,l,u,c,g),Ce.pixelStorei(Ce.UNPACK_ROW_LENGTH,d),Ce.pixelStorei(Ce.UNPACK_IMAGE_HEIGHT,f),Ce.pixelStorei(Ce.UNPACK_SKIP_PIXELS,h),Ce.pixelStorei(Ce.UNPACK_SKIP_ROWS,p),Ce.pixelStorei(Ce.UNPACK_SKIP_IMAGES,m),0===i&&n.generateMipmaps&&Ce.generateMipmap(o),se.unbindTexture()}},this.initTexture=function(e){e.isCubeTexture?ce.setTextureCube(e,0):e.isData3DTexture?ce.setTexture3D(e,0):e.isDataArrayTexture||e.isCompressedArrayTexture?ce.setTexture2DArray(e,0):ce.setTexture2D(e,0),se.unbindTexture()},this.resetState=function(){P=0,O=0,j=null,se.reset(),Me.reset()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}return w(e,[{key:"coordinateSystem",get:function(){return Wc}},{key:"outputColorSpace",get:function(){return this._outputColorSpace},set:function(e){this._outputColorSpace=e;var t=this.getContext();t.drawingBufferColorSpace=e===Nc?"display-p3":"srgb",t.unpackColorSpace=yd.workingColorSpace===Lc?"display-p3":"srgb"}},{key:"physicallyCorrectLights",get:function(){return console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights},set:function(e){console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}},{key:"outputEncoding",get:function(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===Oc?kc:3e3},set:function(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===kc?Oc:jc}},{key:"useLegacyLights",get:function(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights},set:function(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}]),e}(),Og=function(e){x(r,e);var t=M(r);function r(){return b(this,r),t.apply(this,arguments)}return w(r)}(Pg);Og.prototype.isWebGL1Renderer=!0;function jg(e,t,r){return!e||!r&&e.constructor===t?e:"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)}function Ng(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}var Lg=function(){function e(t,r,n,i){b(this,e),this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new r.constructor(n),this.sampleValues=r,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}return w(e,[{key:"evaluate",value:function(e){var t=this.parameterPositions,r=this._cachedIndex,n=t[r],i=t[r-1];e:{t:{var o;r:{n:if(!(e<n)){for(var a=r+2;;){if(void 0===n){if(e<i)break n;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(i=n,e<(n=t[++r]))break t}o=t.length;break r}if(e>=i)break e;var s=t[1];e<s&&(r=2,i=s);for(var l=r-2;;){if(void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(n=i,e>=(i=t[--r-1]))break t}o=r,r=0}for(;r<o;){var u=r+o>>>1;e<t[u]?o=u:r=u+1}if(n=t[r],void 0===(i=t[r-1]))return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===n)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,i,n)}return this.interpolate_(r,i,e,n)}},{key:"getSettings_",value:function(){return this.settings||this.DefaultSettings_}},{key:"copySampleValue_",value:function(e){for(var t=this.resultBuffer,r=this.sampleValues,n=this.valueSize,i=e*n,o=0;o!==n;++o)t[o]=r[i+o];return t}},{key:"interpolate_",value:function(){throw new Error("call to abstract method")}},{key:"intervalChanged_",value:function(){}}]),e}(),Dg=function(e){x(r,e);var t=M(r);function r(e,n,i,o){var a;return b(this,r),(a=t.call(this,e,n,i,o))._weightPrev=-0,a._offsetPrev=-0,a._weightNext=-0,a._offsetNext=-0,a.DefaultSettings_={endingStart:Rc,endingEnd:Rc},a}return w(r,[{key:"intervalChanged_",value:function(e,t,r){var n=this.parameterPositions,i=e-2,o=e+1,a=n[i],s=n[o];if(void 0===a)switch(this.getSettings_().endingStart){case Cc:i=e,a=2*t-r;break;case Ic:a=t+n[i=n.length-2]-n[i+1];break;default:i=e,a=r}if(void 0===s)switch(this.getSettings_().endingEnd){case Cc:o=e,s=2*r-t;break;case Ic:o=1,s=r+n[1]-n[0];break;default:o=e-1,s=t}var l=.5*(r-t),u=this.valueSize;this._weightPrev=l/(t-a),this._weightNext=l/(s-r),this._offsetPrev=i*u,this._offsetNext=o*u}},{key:"interpolate_",value:function(e,t,r,n){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,l=s-a,u=this._offsetPrev,c=this._offsetNext,d=this._weightPrev,f=this._weightNext,h=(r-t)/(n-t),p=h*h,m=p*h,g=-d*m+2*d*p-d*h,y=(1+d)*m+(-1.5-2*d)*p+(-.5+d)*h+1,v=(-1-f)*m+(1.5+f)*p+.5*h,b=f*m-f*p,_=0;_!==a;++_)i[_]=g*o[u+_]+y*o[l+_]+v*o[s+_]+b*o[c+_];return i}}]),r}(Lg),Fg=function(e){x(r,e);var t=M(r);function r(e,n,i,o){return b(this,r),t.call(this,e,n,i,o)}return w(r,[{key:"interpolate_",value:function(e,t,r,n){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,l=s-a,u=(r-t)/(n-t),c=1-u,d=0;d!==a;++d)i[d]=o[l+d]*c+o[s+d]*u;return i}}]),r}(Lg),Ug=function(e){x(r,e);var t=M(r);function r(e,n,i,o){return b(this,r),t.call(this,e,n,i,o)}return w(r,[{key:"interpolate_",value:function(e){return this.copySampleValue_(e-1)}}]),r}(Lg),Bg=function(){function e(t,r,n,i){if(b(this,e),void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===r||0===r.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=jg(r,this.TimeBufferType),this.values=jg(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}return w(e,[{key:"InterpolantFactoryMethodDiscrete",value:function(e){return new Ug(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodLinear",value:function(e){return new Fg(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodSmooth",value:function(e){return new Dg(this.times,this.values,this.getValueSize(),e)}},{key:"setInterpolation",value:function(e){var t;switch(e){case Tc:t=this.InterpolantFactoryMethodDiscrete;break;case Ac:t=this.InterpolantFactoryMethodLinear;break;case Mc:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(r);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}},{key:"getInterpolation",value:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Tc;case this.InterpolantFactoryMethodLinear:return Ac;case this.InterpolantFactoryMethodSmooth:return Mc}}},{key:"getValueSize",value:function(){return this.values.length/this.times.length}},{key:"shift",value:function(e){if(0!==e)for(var t=this.times,r=0,n=t.length;r!==n;++r)t[r]+=e;return this}},{key:"scale",value:function(e){if(1!==e)for(var t=this.times,r=0,n=t.length;r!==n;++r)t[r]*=e;return this}},{key:"trim",value:function(e,t){for(var r=this.times,n=r.length,i=0,o=n-1;i!==n&&r[i]<e;)++i;for(;-1!==o&&r[o]>t;)--o;if(++o,0!==i||o!==n){i>=o&&(i=(o=Math.max(o,1))-1);var a=this.getValueSize();this.times=r.slice(i,o),this.values=this.values.slice(i*a,o*a)}return this}},{key:"validate",value:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var r=this.times,n=this.values,i=r.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var o=null,a=0;a!==i;a++){var s=r[a];if("number"===typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,s),e=!1;break}if(null!==o&&o>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,s,o),e=!1;break}o=s}if(void 0!==n&&Ng(n))for(var l=0,u=n.length;l!==u;++l){var c=n[l];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,c),e=!1;break}}return e}},{key:"optimize",value:function(){for(var e=this.times.slice(),t=this.values.slice(),r=this.getValueSize(),n=this.getInterpolation()===Mc,i=e.length-1,o=1,a=1;a<i;++a){var s=!1,l=e[a];if(l!==e[a+1]&&(1!==a||l!==e[0]))if(n)s=!0;else for(var u=a*r,c=u-r,d=u+r,f=0;f!==r;++f){var h=t[u+f];if(h!==t[c+f]||h!==t[d+f]){s=!0;break}}if(s){if(a!==o){e[o]=e[a];for(var p=a*r,m=o*r,g=0;g!==r;++g)t[m+g]=t[p+g]}++o}}if(i>0){e[o]=e[i];for(var y=i*r,v=o*r,b=0;b!==r;++b)t[v+b]=t[y+b];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*r)):(this.times=e,this.values=t),this}},{key:"clone",value:function(){var e=this.times.slice(),t=this.values.slice(),r=new(0,this.constructor)(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}],[{key:"toJSON",value:function(e){var t,r=e.constructor;if(r.toJSON!==this.toJSON)t=r.toJSON(e);else{t={name:e.name,times:jg(e.times,Array),values:jg(e.values,Array)};var n=e.getInterpolation();n!==e.DefaultInterpolation&&(t.interpolation=n)}return t.type=e.ValueTypeName,t}}]),e}();Bg.prototype.TimeBufferType=Float32Array,Bg.prototype.ValueBufferType=Float32Array,Bg.prototype.DefaultInterpolation=Ac;var Gg=function(e){x(r,e);var t=M(r);function r(){return b(this,r),t.apply(this,arguments)}return w(r)}(Bg);Gg.prototype.ValueTypeName="bool",Gg.prototype.ValueBufferType=Array,Gg.prototype.DefaultInterpolation=Tc,Gg.prototype.InterpolantFactoryMethodLinear=void 0,Gg.prototype.InterpolantFactoryMethodSmooth=void 0;var zg=function(e){x(r,e);var t=M(r);function r(){return b(this,r),t.apply(this,arguments)}return w(r)}(Bg);zg.prototype.ValueTypeName="color";var Vg=function(e){x(r,e);var t=M(r);function r(){return b(this,r),t.apply(this,arguments)}return w(r)}(Bg);Vg.prototype.ValueTypeName="number";var Hg=function(e){x(r,e);var t=M(r);function r(e,n,i,o){return b(this,r),t.call(this,e,n,i,o)}return w(r,[{key:"interpolate_",value:function(e,t,r,n){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=(r-t)/(n-t),l=e*a,u=l+a;l!==u;l+=4)kd.slerpFlat(i,0,o,l-a,o,l,s);return i}}]),r}(Lg),Wg=function(e){x(r,e);var t=M(r);function r(){return b(this,r),t.apply(this,arguments)}return w(r,[{key:"InterpolantFactoryMethodLinear",value:function(e){return new Hg(this.times,this.values,this.getValueSize(),e)}}]),r}(Bg);Wg.prototype.ValueTypeName="quaternion",Wg.prototype.DefaultInterpolation=Ac,Wg.prototype.InterpolantFactoryMethodSmooth=void 0;var Zg=function(e){x(r,e);var t=M(r);function r(){return b(this,r),t.apply(this,arguments)}return w(r)}(Bg);Zg.prototype.ValueTypeName="string",Zg.prototype.ValueBufferType=Array,Zg.prototype.DefaultInterpolation=Tc,Zg.prototype.InterpolantFactoryMethodLinear=void 0,Zg.prototype.InterpolantFactoryMethodSmooth=void 0;var qg=function(e){x(r,e);var t=M(r);function r(){return b(this,r),t.apply(this,arguments)}return w(r)}(Bg);qg.prototype.ValueTypeName="vector";var Yg=w((function e(t,r,n){b(this,e);var i=this,o=!1,a=0,s=0,l=void 0,u=[];this.onStart=void 0,this.onLoad=t,this.onProgress=r,this.onError=n,this.itemStart=function(e){s++,!1===o&&void 0!==i.onStart&&i.onStart(e,a,s),o=!0},this.itemEnd=function(e){a++,void 0!==i.onProgress&&i.onProgress(e,a,s),a===s&&(o=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(e){void 0!==i.onError&&i.onError(e)},this.resolveURL=function(e){return l?l(e):e},this.setURLModifier=function(e){return l=e,this},this.addHandler=function(e,t){return u.push(e,t),this},this.removeHandler=function(e){var t=u.indexOf(e);return-1!==t&&u.splice(t,2),this},this.getHandler=function(e){for(var t=0,r=u.length;t<r;t+=2){var n=u[t],i=u[t+1];if(n.global&&(n.lastIndex=0),n.test(e))return i}return null}})),Xg=new Yg,Kg=function(){function e(t){b(this,e),this.manager=void 0!==t?t:Xg,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}return w(e,[{key:"load",value:function(){}},{key:"loadAsync",value:function(e,t){var r=this;return new Promise((function(n,i){r.load(e,n,t,i)}))}},{key:"parse",value:function(){}},{key:"setCrossOrigin",value:function(e){return this.crossOrigin=e,this}},{key:"setWithCredentials",value:function(e){return this.withCredentials=e,this}},{key:"setPath",value:function(e){return this.path=e,this}},{key:"setResourcePath",value:function(e){return this.resourcePath=e,this}},{key:"setRequestHeader",value:function(e){return this.requestHeader=e,this}}]),e}();Kg.DEFAULT_MATERIAL_NAME="__DEFAULT";var Qg="\\[\\]\\.:\\/",$g=new RegExp("["+Qg+"]","g"),Jg="[^"+Qg+"]",ey="[^"+Qg.replace("\\.","")+"]",ty=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",Jg)+/(WCOD+)?/.source.replace("WCOD",ey)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Jg)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Jg)+"$"),ry=["material","materials","bones","map"],ny=function(){function e(t,r,n){b(this,e);var i=n||iy.parseTrackName(r);this._targetGroup=t,this._bindings=t.subscribe_(r,i)}return w(e,[{key:"getValue",value:function(e,t){this.bind();var r=this._targetGroup.nCachedObjects_,n=this._bindings[r];void 0!==n&&n.getValue(e,t)}},{key:"setValue",value:function(e,t){for(var r=this._bindings,n=this._targetGroup.nCachedObjects_,i=r.length;n!==i;++n)r[n].setValue(e,t)}},{key:"bind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}},{key:"unbind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}]),e}(),iy=function(){function e(t,r,n){b(this,e),this.path=r,this.parsedPath=n||e.parseTrackName(r),this.node=e.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}return w(e,[{key:"_getValue_unavailable",value:function(){}},{key:"_setValue_unavailable",value:function(){}},{key:"_getValue_direct",value:function(e,t){e[t]=this.targetObject[this.propertyName]}},{key:"_getValue_array",value:function(e,t){for(var r=this.resolvedProperty,n=0,i=r.length;n!==i;++n)e[t++]=r[n]}},{key:"_getValue_arrayElement",value:function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}},{key:"_getValue_toArray",value:function(e,t){this.resolvedProperty.toArray(e,t)}},{key:"_setValue_direct",value:function(e,t){this.targetObject[this.propertyName]=e[t]}},{key:"_setValue_direct_setNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_direct_setMatrixWorldNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_array",value:function(e,t){for(var r=this.resolvedProperty,n=0,i=r.length;n!==i;++n)r[n]=e[t++]}},{key:"_setValue_array_setNeedsUpdate",value:function(e,t){for(var r=this.resolvedProperty,n=0,i=r.length;n!==i;++n)r[n]=e[t++];this.targetObject.needsUpdate=!0}},{key:"_setValue_array_setMatrixWorldNeedsUpdate",value:function(e,t){for(var r=this.resolvedProperty,n=0,i=r.length;n!==i;++n)r[n]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_arrayElement",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}},{key:"_setValue_arrayElement_setNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_arrayElement_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_fromArray",value:function(e,t){this.resolvedProperty.fromArray(e,t)}},{key:"_setValue_fromArray_setNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}},{key:"_setValue_fromArray_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_getValue_unbound",value:function(e,t){this.bind(),this.getValue(e,t)}},{key:"_setValue_unbound",value:function(e,t){this.bind(),this.setValue(e,t)}},{key:"bind",value:function(){var t=this.node,r=this.parsedPath,n=r.objectName,i=r.propertyName,o=r.propertyIndex;if(t||(t=e.findNode(this.rootNode,r.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(n){var a=r.objectIndex;switch(n){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(var s=0;s<t.length;s++)if(t[s].name===a){a=s;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);t=t.material.map;break;default:if(void 0===t[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[n]}if(void 0!==a){if(void 0===t[a])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[a]}}var l=t[i];if(void 0!==l){var u=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?u=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(u=this.Versioning.MatrixWorldNeedsUpdate);var c=this.BindingType.Direct;if(void 0!==o){if("morphTargetInfluences"===i){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[o]&&(o=t.morphTargetDictionary[o])}c=this.BindingType.ArrayElement,this.resolvedProperty=l,this.propertyIndex=o}else void 0!==l.fromArray&&void 0!==l.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=l):Array.isArray(l)?(c=this.BindingType.EntireArray,this.resolvedProperty=l):this.propertyName=i;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][u]}else{var d=r.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+d+"."+i+" but it wasn't found.",t)}}else console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".")}},{key:"unbind",value:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}],[{key:"create",value:function(t,r,n){return t&&t.isAnimationObjectGroup?new e.Composite(t,r,n):new e(t,r,n)}},{key:"sanitizeNodeName",value:function(e){return e.replace(/\s/g,"_").replace($g,"")}},{key:"parseTrackName",value:function(e){var t=ty.exec(e);if(null===t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},n=r.nodeName&&r.nodeName.lastIndexOf(".");if(void 0!==n&&-1!==n){var i=r.nodeName.substring(n+1);-1!==ry.indexOf(i)&&(r.nodeName=r.nodeName.substring(0,n),r.objectName=i)}if(null===r.propertyName||0===r.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}},{key:"findNode",value:function(e,t){if(void 0===t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var r=e.skeleton.getBoneByName(t);if(void 0!==r)return r}if(e.children){var n=function e(r){for(var n=0;n<r.length;n++){var i=r[n];if(i.name===t||i.uuid===t)return i;var o=e(i.children);if(o)return o}return null}(e.children);if(n)return n}return null}}]),e}();iy.Composite=ny,iy.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},iy.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},iy.prototype.GetterByBindingType=[iy.prototype._getValue_direct,iy.prototype._getValue_array,iy.prototype._getValue_arrayElement,iy.prototype._getValue_toArray],iy.prototype.SetterByBindingTypeAndVersioning=[[iy.prototype._setValue_direct,iy.prototype._setValue_direct_setNeedsUpdate,iy.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[iy.prototype._setValue_array,iy.prototype._setValue_array_setNeedsUpdate,iy.prototype._setValue_array_setMatrixWorldNeedsUpdate],[iy.prototype._setValue_arrayElement,iy.prototype._setValue_arrayElement_setNeedsUpdate,iy.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[iy.prototype._setValue_fromArray,iy.prototype._setValue_fromArray_setNeedsUpdate,iy.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];new Float32Array(1);"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Nu}})),"undefined"!==typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Nu);var oy=Math.PI/180,ay=180/Math.PI;function sy(e){return e*oy}function ly(e){return e*ay}var uy,cy,dy,fy,hy,py,my,gy,yy,vy,by,_y,wy,Ey,xy,Sy,Ty,Ay,My,Ry=function(){function e(){var t,r,n;b(this,e),this.quatOrigin=void 0,this.data=void 0,this.needsUpdate=void 0,this.recalRequested=void 0,this.eulerOrigin=void 0,this.rotation=void 0,this.quaternion=void 0,this.quaternion=this.createSeparate((function(){return new kd})),this.quatOrigin=this.createSeparate((function(){return new kd})),this.rotation=this.createSeparate((function(){return new jf})),this.data={beta:0,gamma:0,alpha:0},this.needsUpdate=!1,this.recalRequested=!1,this.eulerOrigin=new bf(sy(90),sy(180),sy(null!==(t=180+(null===(r=screen)||void 0===r||null===(n=r.orientation)||void 0===n?void 0:n.angle))&&void 0!==t?t:0))}return w(e,[{key:"performRecalibration",value:function(e){var t=this.rotation[e],r=this.quatOrigin[e];t.setRotationFromEuler(this.eulerOrigin),this.rotate(e),r.copy(t.quaternion),r.invert()}},{key:"onSensorMove",value:function(e){var t,r,n;this.data.beta=null!==(t=e.beta)&&void 0!==t?t:0,this.data.gamma=null!==(r=e.gamma)&&void 0!==r?r:0,this.data.alpha=null!==(n=e.alpha)&&void 0!==n?n:0,this.needsUpdate=!0,this.recalRequested&&(this.performRecalibration("xy"),this.performRecalibration("z"),this.recalRequested=!1)}},{key:"recalibrate",value:function(){this.recalRequested=!0}},{key:"update",value:function(){this.needsUpdate&&(this.updateAxes("xy"),this.updateAxes("z"),this.needsUpdate=!1)}},{key:"updateAxes",value:function(e){var t=this.rotation[e],r=this.quatOrigin[e],n=this.quaternion[e];t.setRotationFromEuler(this.eulerOrigin),t.applyQuaternion(r),this.rotate(e),n.copy(t.quaternion),n.invert()}},{key:"rotate",value:function(e){var t=this.rotation[e];"xy"===e?(t.rotateX(sy(this.data.beta)),t.rotateY(sy(this.data.gamma))):(t.rotateY(sy(this.data.gamma)),t.rotateZ(sy(this.data.alpha)))}},{key:"createSeparate",value:function(e){return{xy:e(),z:e()}}},{key:"euler",get:function(){var e=(new bf).setFromQuaternion(this.quaternion.xy,"XZY"),t=(new bf).setFromQuaternion(this.quaternion.z,"ZYX");return{x:ly(e.z),y:ly(-(e.x-Math.PI/2)),z:ly(t.z)}}}]),e}(),Cy=window.DeviceMotionEvent,Iy=window.DeviceOrientationEvent,ky=Cy&&Iy&&"requestPermission"in Cy&&"function"===typeof Cy.requestPermission&&"requestPermission"in Iy&&"function"===typeof Iy.requestPermission,Py=function(){var e=g((0,r.useState)("DeviceOrientationEvent"in window&&"DeviceMotionEvent"in window?ky?{hasMotion:!0,isUsable:void 0}:{hasMotion:!0,isUsable:!0}:{hasMotion:!1,isUsable:!1}),2),t=e[0],n=e[1],i=(0,r.useRef)(null),o=t.hasMotion&&!1!==t.isUsable?t.isUsable?function(){return"granted"}:function(){var e=Cy.requestPermission();return e.then((function(e){n({hasMotion:!0,isUsable:"granted"===e})})),e}:null;return(0,r.useEffect)((function(){var e=ci().once((function(){return n({hasMotion:!0,isUsable:!0})})),t=i.current=new Ry;return ua(window,"deviceorientation",(function(r){t.onSensorMove(r),e()}),!1)}),[]),{motionSettings:t,gimbalRef:i,getPermission:o}},Oy=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=(0,r.useMemo)(Al.Engine.create,e);return(0,r.useEffect)((function(){return function(){Al.Composite.clear(t.world,!0),Al.Engine.clear(t)}}),e),t},jy=(0,r.forwardRef)((function(e,t){var r=e.isShown,n=e.handleClick;return(0,ta.jsxs)(Ny,{ref:t,children:[(0,ta.jsxs)(Ly,{to:"/",onClick:function(){return n(!1)},children:["D",(0,ta.jsx)("b",{children:"ZHU"})]}),(0,ta.jsx)(Dy,{onClick:function(){return n()},children:r?"close":"menu"})]})})),Ny=Vn.header(uy||(uy=a(["\n  ","\n  position: fixed;\n  background-color: ",";\n  padding-top: ",";\n  padding-bottom: ",";\n  font-size: ",";\n  height: ",";\n"])),Ho.chain().highZIndex(3).mobileBody().flex("center","space-between"),li.background,Uo.mobile.header.link.padding.css,Uo.mobile.header.link.padding.css,Fi.mobile.nav.mono.css,Uo.mobile.header.link.height.css),Ly=Vn(oa)(cy||(cy=a(["\n  font-family: ",";\n  padding-top: 0.225em;\n  font-size: ",";\n"])),Ai,Fi.mobile.nav.sans.css),Dy=Vn.button(dy||(dy=a(["\n  ","\n"])),Ho.textMono()),Fy=jy,Uy=Vn.nav(fy||(fy=a(["\n  ","\n\n  background-color: ",";\n  font-family: ",";\n  font-weight: bold;\n  text-transform: uppercase;\n  font-size: ",";\n\n"])),Ho.chain().fullscreen().highZIndex(2).mobileBody().flex("center").fixed(),li.background,Ai,Fi.mobile.menu.item.css),By=Vn.ul(hy||(hy=a(["\n  ","\n  position: relative;\n"])),Ho.innerMargin(Uo.mobile.menu.innerMargin.css)),Gy=Vn.li(py||(py=a(["\n  color: ",";\n"])),(function(e){return e.$isHighlighted?li.activeElem:"inherit"})),zy=function(){var e=Ee();return(0,ta.jsx)(Uy,{children:(0,ta.jsx)(By,{children:ri(ya).map((function(t){return(0,ta.jsx)(Gy,{$isHighlighted:!!e.pathname.match(ga[t]),children:(0,ta.jsx)(oa,{to:ga[t],children:ya[t]})},t)}))})})},Vy=Vn.div(my||(my=a(["\n  ","\n  visibility: hidden;\n"])),Ho.fixed()),Hy=function(e){var t=e.isMobile,n=e.hasZoomedMedia,i=e.vidLoadData,o=e.canAutoPlay,a=e.verbosity,s=t&&n,l=!!Object.keys(i).length;return(0,r.useEffect)((function(){l&&t&&a&&a>=2&&console.log("".concat(s?"Zoomed":"Unzoomed"," media %c- ").concat(s?"pausing":"resuming"," video load..."),"color: gray; font-style: italic;",ri(i))}),[n]),l&&(0,ta.jsx)(Vy,{children:!s&&ri(i).map((function(e){var t,r=(null!==(t=i[e])&&void 0!==t?t:{}).onProgress;return(0,ta.jsx)(ws,{src:e,autoPlay:!0,canAutoPlay:o,useNativeControl:!0,onProgress:r,onCanPlayThrough:r,onTimeUpdate:r},e)}))})},Wy=["className","children"],Zy=Vn.div(gy||(gy=a(["\n  ","\n  text-align: center;\n  color: ",";\n\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6,\n  p {\n    font-weight: normal;\n    line-height: ",";\n    text-transform: initial;\n    hyphens: none;\n  }\n"])),Ho.chain().fixed().fullscreen().flex("center","center").highZIndex(5),li.popUpColor,Pi.popUp),qy=function(e){var t=e.className,n=e.children,i=Xo(e,Wy);return(0,r.useEffect)(da,[]),(0,ta.jsx)(Zy,d(d({className:t},i),{},{children:n}))},Yy=function(){var e=function(){return{width:window.innerWidth,height:window.innerHeight}},t=g((0,r.useState)(e()),2),n=t[0],i=t[1];return(0,r.useLayoutEffect)((function(){return ua(window,"resize",(function(){return i(e())}))}),[]),n},Xy=Vn(qy)(yy||(yy=a(["\n  background-color: rgba(0, 0, 0, 0.85);\n  cursor: zoom-out;\n\n  img, video {\n    ","\n\n    object-fit: fill;\n    ","\n  }\n"])),(function(e){var t=e.$aspectRatio,r=e.$mobileWidth,n=e.$mobileHeight;return"\n      width: ".concat(r,";\n      height: ").concat(n,";\n      aspect-ratio: ").concat(Xn(t),";\n    ")}),(function(e){return Xn(!e.$isRendered,"background: white;")})),Ky=function(e){var t,n=e.zoomMedia,i=e.canAutoPlay,o=e.handleUnzoom,a=g((0,r.useState)(!1),2),s=a[0],l=a[1],u=(0,r.useRef)(null),c=es(u),d=ma(),f=Yy(),h=f.width,p=f.height;(0,r.useEffect)((function(){var e=u.current,t=ua(document,"keydown",(function(e){"Escape"===e.key&&o()}));if(!e)return t;return function(e){return"VIDEO"===e.tagName}(e)?(setTimeout((function(){l(!0)}),500),t):t}),[]);var m=n.type,y=n.stackData,v=n.alt,b=null!==(t=n.maxSize)&&void 0!==t?t:Ei(Uo[d?Zn.Mobile:Zn.Desktop].media.zoomPercentage),_=y.stack.nativeDimension,w=_[0]/_[1],E=h/p,x=w&&E&&w>=E,S=x?b:"",T=x?"":b;return(0,ta.jsxs)(Xy,{$maxSize:b,$isRendered:c,$aspectRatio:w,$mobileWidth:S,$mobileHeight:T,onClick:function(){return o()},children:[(0,ta.jsx)(Ss,{type:m,stackData:y,alt:v,ref:u,isZoomed:!0,autoPlay:!0,canAutoPlay:i,currentTime:d?void 0:n.getCurrentTime()}),s&&d&&m===wa.Video&&!c&&(0,ta.jsx)(As,{})]})},Qy=["canAutoPlay","vidLoadData","preloadManager"],$y=Vn.div(vy||(vy=a(["\n  ","\n"])),(function(e){return Xn(e.$shouldFade,"\n    @keyframes fadeIn {\n      from {\n        opacity: 0;\n      } to {\n        opacity: 1;\n      }\n    }\n    animation: fadeIn 0.5s ease-in-out;\n  ")})),Jy=Vn.div(by||(by=a(["\n  &, &>"," {\n    ","\n    flex-direction: column;\n    width: 100%;\n  }\n"])),$y,Ho.flex("center")),ev=Vn(ku)(_y||(_y=a(["\n  ","\n  ","\n"])),Ho.fixed(),(function(e){return Xn(!e.$menuIsShown,Ho.highZIndex(4))})),tv=function(e){var t=e.mediaSettings,n=t.canAutoPlay,i=t.vidLoadData,o=t.preloadManager,a=Xo(t,Qy),s=Ee(),l=pa(s),u=Oy(),c=Cu(),f=g((0,r.useState)({isEnabled:!1,hasRequested:!1}),2),h=f[0],p=f[1],m=g((0,r.useState)(!1),2),y=m[0],v=m[1],b=g((0,r.useState)(!0),2),_=b[0],w=b[1],E=g((0,r.useState)(!1),2),x=E[0],S=E[1],T=g((0,r.useState)(),2),A=T[0],M=T[1],R=Py(),C=R.motionSettings,I=R.gimbalRef,k=R.getPermission,P=gs((function(){return C}),[C]),O=gs((function(){return h}),[h]),j=(0,r.useRef)(null),N=(0,r.useCallback)((function(){return M(void 0)}),[]);(0,r.useEffect)((function(){if(y)return da()}),[y]),(0,r.useEffect)((function(){window.scrollTo(0,0),v(!1),w(!0),h.isEnabled&&l.pathname!==s.pathname&&S(!0),A&&M(void 0)}),[s]);var L={motionSettings:C,motionSettingsRef:P,gyroStates:h,gyroStatesRef:O,gimbalRef:I,engine:u};return(0,ta.jsxs)(Jy,{$menuIsShown:y,children:[(0,ta.jsx)(Fy,{ref:j,isShown:y,handleClick:function(e){return v(null!==e&&void 0!==e?e:!y)}}),y&&(0,ta.jsx)(zy,{}),A&&(0,ta.jsx)(Ky,{zoomMedia:A,canAutoPlay:n,handleUnzoom:N}),(0,ta.jsxs)($y,{$shouldFade:_,onAnimationEnd:function(){return w(!1)},children:[(0,ta.jsx)(ev,{canvasRef:c,canvasStates:{engine:u},$menuIsShown:y}),(0,ta.jsx)(Be,{context:d({canvasRef:c,canvasStates:L,zoomMedia:A,shouldHideGyro:x,headerRef:j,canAutoPlay:n,preloadManager:o,handleZoomMedia:function(e){return M(e)},handleGyroButtonClick:function(){k?Promise.resolve(k()).then((function(e){return p({hasRequested:!0,isEnabled:"granted"===e})})):p({hasRequested:!1,isEnabled:!1})}},a)})]}),!ds.canUseDash&&(0,ta.jsx)(Hy,{isMobile:!0,verbosity:t.preloadManager.verbosity,hasZoomedMedia:!!A,vidLoadData:i,canAutoPlay:n})]})},rv=function(){var e,t=function(t,r){var n=bi(50),i=new Dl(t,"WORK IN",d(d({},Tl.MOBILE_UPPER),{},{x:n,y:Bo.mobile.main.top.add(Uo.mobile.header.height).value,spaceWidth:Bo.mobile.main.spaceWidth,tracking:Bo.mobile.main.tracking.workIn}),r),o=new Dl(t,"PROCESS",d(d({},Tl.MOBILE_UPPER),{},{x:n,y:i.bounds.y2+Bo.mobile.main.leading.value,tracking:Bo.mobile.main.tracking.process}),r),a=new Dl(t,"DONALD",d(d({},Tl.MOBILE_LOWER),{},{x:n,y:o.bounds.y2+Bo.mobile.main.centerPadding.value}),r),s=new Dl(t,"ZHU",d(d({},Tl.MOBILE_LOWER),{},{x:n,y:a.bounds.y2+Bo.mobile.main.leading.value}),r),l=[n,(a.bounds.y1-o.bounds.y2)/2];ti(e={workIn:i,process:o,donald:a,zhu:s},(function(e,t){t.setMouseOrigin(l),t.addBodies()}))};return{setup:function(e,r){return t(e,r)},draw:function(t,r){var n=r.gimbalRef;ti(e,(function(e,t){return t.write()})),ts(n)&&n.current.update()},windowResized:t,cleanup:function(){Object.values(e).forEach((function(e){return e.cleanup()}))}}},nv=function(e,t){var n=g((0,r.useState)(!1),2),i=n[0],o=n[1],a=Ae(),s=ci().defaults(null!==t&&void 0!==t?t:{},a).canvasStates;return{canvasHandlers:(0,r.useMemo)((function(){return ni(e(),(function(e,t){return t?function(r){t(r,s),"setup"===e&&o(!0)}:function(){o(!0)}}))}),[]),setupDone:i}},iv=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=Ae().preloadManager;(0,r.useEffect)((function(){if(e)return t(i),function(){return i.abort()}}),[!!i,e].concat(v(n)))},ov="0.125s",av=Vn.div(wy||(wy=a(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n"]))),sv=Vn(wl)(Ey||(Ey=a(["\n  ","\n"])),Ho.fullscreen()),lv=Vn.div(xy||(xy=a(["\n  ","\n  flex-direction: column;\n  position: absolute;\n  top: ",";\n  width: 100%;\n  font-size: ",";\n"])),Ho.chain().flex("center","center").highZIndex(1),Uo.mobile.main.button.top.css,Fi.mobile.main.button.css),uv=Vn.button(Sy||(Sy=a(["\n  padding: "," 0.7em;\n  word-spacing: -0.05em;\n  font-weight: ",";\n  height: ",";\n  background-color: ",";\n  transition: opacity ",";\n  transition-timing-function: ease-in-out;\n  ","\n"])),Uo.mobile.main.button.padding.vert.css,Ii,Uo.mobile.main.button.height.css,li.background,ov,Ho.flex("center","center",!0)),cv=Vn(uv)(Ty||(Ty=a(["\n  opacity: ",";\n  border: "," solid currentColor;\n  border-radius: ",";\n"])),(function(e){return e.$isShown?0:1}),Uo.mobile.main.button.border.css,Uo.mobile.main.button.borderRadius.css),dv=Vn(uv)(Ay||(Ay=a(["\n  ","\n  pointer-events: none;\n  transition: opacity "," ",";\n  opacity: ",";\n  background-color: transparent;\n  position: relative;\n  top: ",";\n"])),Ho.slant(),ov,ov,(function(e){return e.$isShown?1:0}),Uo.mobile.main.toolTip.top.mult(-1).css),fv=Vn.div(My||(My=a(["\n  position: absolute;\n  top: ",";\n"])),(function(e){return e.$isGyroShown?Uo.mobile.home.blocker.top.css:Uo.mobile.main.button.top.css})),hv=function(){var e=Ae(),t=e.canvasStates,r=e.shouldHideGyro,n=e.handleGyroButtonClick,i=t.motionSettings,o=t.gyroStates,a=nv(rv),s=a.canvasHandlers,l=a.setupDone;iv(l,(function(e){return e.defaultPreload()}));var u=i.hasMotion&&!r;return(0,ta.jsxs)(av,{children:[(0,ta.jsx)(sv,d({},s)),u&&(0,ta.jsxs)(lv,{children:[(0,ta.jsx)(cv,{onTouchEnd:n,$isShown:!!o.hasRequested,children:"Enable Gyroscope"}),(0,ta.jsx)(dv,{$isShown:!!o.hasRequested,children:o.isEnabled?"(Tilt Your Phone)":"Permission Denied :("})]}),(0,ta.jsx)(fv,{$isGyroShown:u,children:(0,ta.jsx)(Be,{context:Ae()})})]})},pv=function(){return(0,ta.jsxs)(Xs,{children:[(0,ta.jsx)(aa,{children:(0,ta.jsx)("b",{children:"DONALD ZHU is a graphic designer based in Toronto, Canada."})}),(0,ta.jsxs)(aa,{children:["He finished his degree at OCAD University in 2023. His work primarily focuses on",(0,ta.jsx)("i",{children:" typography, interaction, and code"}),". In his free time, he likes to work on custom typefaces and side web projects."]})]})},mv=["title","titleId"];function gv(){return gv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gv.apply(this,arguments)}function yv(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function vv(e,t){var n=e.title,i=e.titleId,o=yv(e,mv);return r.createElement("svg",gv({fill:"currentcolor",id:"b",xmlns:"http://www.w3.org/2000/svg",width:950,height:950,viewBox:"0 0 950 950",ref:t,"aria-labelledby":i},o),n?r.createElement("title",{id:i},n):null,r.createElement("g",{id:"c"},r.createElement("path",{d:"m455.9,684.1s0,0,.1,0h0c0-.1-.1,0-.1,0Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m532.1,608.1h0c0-.1,0-.1-.1-.1h.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m455.9,265.9s0,0,0,.1h.1-.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m266,0H0v266h266V0Zm-38.2,227.7H38.4V38.4h189.4v189.4Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m684,0v266h266V0h-266Zm227.7,227.6h-189.4V38.2h189.4v189.4Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m0,950h266v-266H0v266Zm38.4-227.6h189.4v189.4H38.4v-189.4Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m151.9,341.9v-37.9H0v152c12.6,0,25.3,0,37.9,0v-114h114Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m37.9,455.9h0q0,.1,0,.1h0s0,0,.1,0h0c0-.1,0-.1-.1-.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m798.1,455.9h-.1c0,.1,0,.1.1.1h0Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m304,950h38v-151.6h-38v151.6Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m911.9,341.9h-37.9v-37.6h-114.1v37.6h-38v76c-25.3,0-50.6,0-75.9,0v-37.9h37.6v-75.9h-37.4v-152h-114v-38h75.3v-38.1h-37.5v-37.7h-38.1v37.4h-38V0h-38v37.9h-113.9c0-12.6,0-25.3,0-37.9h-38v38.1h37.9v38.2h-37.6v113.4h38v-37.9h75.9v-75.5h37.9v37.9h37.7v37.9h-37.4v38.1h75.7v75.9h37.8c0,12.5,0,25.1,0,38.2h-37.6v37.9h113.6v37.8h-37.6v38.1h37.6c0,25.3,0,50.6,0,75.8-12.4,0-24.8,0-37.8,0v-37.7h-75.9v-37.8h-38.1v75.8h-37.9c0-2.1-.3-4.2-.3-6.3,0-73.9,0-147.8,0-221.7h-37.8v-75.8h-37.9v189.7h-76.2c0-12.6-.1-25.2-.2-37.8-12.6,0-25.2,0-37.8,0,0,12.6-.1,25.2-.2,37.8-25.3,0-50.6,0-75.9.1v37.8c25.3,0,50.6,0,75.9.1v37.8h-37.6v37.9h37.4v38.2h-37.4v37.9h37.7v38.1h-114v-37.9h-75.9v75.6h190v-37.6h75.6v37.7h-37.3v38h37.5v76h37.8v114.2h76.1v38.1h-75.9v37.8h190v-113.7h-38.2v37.6h-75.7v-75.8h-37.8v-37.9h75.6v-38h37.9v75.4h38.1v-37.3h37.9v37.4h75.9v38.1h-37.2v76.3h75.5c0,12.6,0,25.3,0,37.9h228v-38h-75.7v-37.8h37.4v-38.2h38.3v-76h-75.9v37.7h-37.9v-37.6h-38v-113.9h37.5v75.7h114.2v-152c-12.6,0-25.3,0-37.9,0v-37.8c12.6,0,25.3,0,37.9,0v-76h-76.2v-37.6h-75.8v37.6h37.8v37.9h76.1c0,13,0,25.5,0,38.1h-75.6v38.1h75.6v37.6h-114v-151.6h-75.9v-38h38v-76h113.9v37.6h38.1v-37.6c12.6,0,25.3,0,37.9,0v-38h-38.1v37.9Zm-304.3-76c-12.5,0-25.1,0-37.6,0v-75.6h37.6v75.6Zm-303.7,152h-37.9v-37.9h37.9v37.9Zm76,152h-75.6v-37.9h75.6v37.9Zm227.7,151.7h-37.6c0-12.6,0-25.1,0-37.6h37.6v37.6Zm38.1-113.8h-37.5v37.9h-38.3v38.2c-37.9,0-75.9.1-113.8.2v37.6h-76v-151.6h37.6v-38.1h-37.6v-37.7c25.5,0,50.7,0,76,0v75.5h37.8v-37.3h38.2v75.5h37.8v-75.7h37.9v37.7h37.9v37.9Zm152.6,228.6h37.6v75.2h-37.6v-75.2Zm75.9-190.2h37.4v37.6h-37.4v-37.6Zm-228.2-152.2h37.7c0,12.8,0,25.4,0,38.1h-37.7c0-13,0-25.5,0-38.1Zm.2,265.6v-113.4h113.4v113.4h-113.4Zm113.4,152.3c-12.5,0-25.1,0-37.6,0v-113.6h37.6v113.6Zm0-379.7v37.5h-37.7v37.9h-38.2v-75.5c25.2,0,50.4,0,75.9,0Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m646,0h-38v37.7h38V0Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m190.1,380.1h0c0-.1-.1,0-.1,0,0,0,0,0,.1,0Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m341.8,228.3h-37.4v37.4h37.4v-37.4Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m265.9,342.1h.1s0,0,0-.1h-.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m303.9,341.9h0c0,.1,0,.1.1.1h-.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m190.1,379.9s0,0-.1,0h0c0,.1.1,0,.1,0Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m152.1,342.1h0c0-.1,0-.1-.1-.1h0c0,.1,0,.1.1.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m493.7,228.4h-37.6v37.6c12.5,0,25.1,0,37.6,0v-37.6Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m455.9,265.9s.1.1.1.1h0c0-.1,0-.1-.1-.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m303.9,341.9s.1.1.1.1h0c0-.1,0-.1-.1-.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m341.7,304.4h-37.6v37.6c12.5,0,25.1,0,37.6,0v-37.6Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m265.9,342.1s.1-.1.1-.1h-.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m228.4,304.3v37.6h37.6c0-12.5,0-25.1,0-37.6h-37.6Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m113.8,494.3v37.4h38.3v38.2h37.6v-76.1h-37.6v-37.7h37.9v-38c-12.6,0-25.2,0-37.9-.1v-37.9c12.6,0,25.2,0,37.9-.1v-37.9h-37.9c0,12.6,0,25.2-.1,37.9h-75.6v38.1h75.6c0,12.6,0,25.2,0,37.9-38,0-75.9,0-113.9.1v113.9c-12.8,0-25.4,0-38.1,0v38h38.1v-37.9c12.6,0,25.2,0,37.9-.1v-75.6h37.9Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m75.9,569.9h0c0,.1,0,.1.1.1h0c0-.1,0-.1-.1-.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m152.1,569.9h-.1c0,.1,0,.1.1.1h0Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m494.3,645.6h37.6v-37.6c-12.5,0-25.1,0-37.6,0v37.6Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m532.1,608.1s-.1-.1-.1-.1h0c0,.1,0,.1.1.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m418.4,646.3v37.6h37.6c0-12.5,0-25.1,0-37.6h-37.6Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m455.9,684.1s.1-.1.1-.1h-.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m189.9,418.1s0,0,.1,0h0c0-.1,0-.1-.1-.1h0Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m684.4,721.8h37.4v-37.6h-37.4v37.6Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m189.6,76.3h-113.4v113.4h113.4v-113.4Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m873.6,76.3h-113.4v113.4h113.4v-113.4Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m76.4,873.7h113.4v-113.4h-113.4v113.4Z",style:{strokeWidth:0}})))}var bv=r.forwardRef(vv),_v=(n.p,["title","titleId"]);function wv(){return wv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wv.apply(this,arguments)}function Ev(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function xv(e,t){var n=e.title,i=e.titleId,o=Ev(e,_v);return r.createElement("svg",wv({fill:"currentcolor",id:"b",xmlns:"http://www.w3.org/2000/svg",width:957,height:957,viewBox:"0 0 957 957",ref:t,"aria-labelledby":i},o),n?r.createElement("title",{id:i},n):null,r.createElement("g",{id:"c"},r.createElement("path",{d:"m957,264v66h-32.7v33h32.7v132h-66.1c0-11.5,0-22.3,0-33.1,10.9,0,21.8,0,32.7,0v-32.6h-32.6v32.7h-33.2v66.2h-33v32.8h-33v33h-32.9c0-22,0-44.1,0-66.1,10.9,0,21.9,0,33,0v-33h33c0-33.4,0-66.2,0-99,21.9,0,43.8,0,65.7,0v-33.1h-32.7v-32.4h-65.6v32.7h32.8v33h-99.1c0-11.5,0-22.3,0-33.1,10.9,0,21.8,0,32.7,0v-32.6h-32.6v32.7h-66.2v-33h-65.9v-65.7h-33.1v32.7h-32.8v33h-66.2v33.1h-98.8c0,22.3,0,44.1,0,65.8-10.9,0-21.8,0-32.7,0v32.6h32.6v-32.7h33.2v-32.5h32.9v65.7h-33.2v66h.1c-21.9-.1-43.8-.1-66-.1v33.2h-165.2v66h-32.9c0-10.9,0-21.9,0-33h-33v-33.2h32.7v-32.8h-65.7c0-11,.1-22.1.2-33.1,0,0-.1.1-.1.1h99.3v32.5h65.5v-32.7h-32.6v-32.9h-.1c10.9.1,21.8.1,33,.1v-33.1c11,0,22.1,0,33.1,0,0,10.9,0,21.8,0,32.7h32.6v-32.6h-32.7c0-22,0-44.1,0-66.1h33.3v-33.1h32.8v-165h33v-32.9h-.1c10.9.1,21.8.1,33.2.1v-32.7h32.9c0,22.1,0,43.9,0,65.7-10.9,0-21.8,0-33.2,0v32.8h-32.5v65.8h32.3c0-22.2,0-44.1,0-66,11.1,0,22.2.1,33.3.2v66.3h33.1v32.4h32.7c0-22.1,0-43.9,0-65.7,10.9,0,21.8,0,32.7,0v-32.9c-11.1,0-21.9,0-32.7,0,0-11,0-22.1,0-33.1,10.9,0,21.8,0,33,0v-33c11.1,0,22.1,0,33.2,0v32.7h66.1v-65.6h32.9-.1v66.1h32.7v65.9c-11.1,0-21.9,0-32.7,0,0-10.9,0-21.8,0-32.7h-32.6v32.6h32.7v33.3h-32.8v32.4h66v-32.4h32.9v32.4h66v-32.3h99v32.4h32.9v-32.8h32.9Zm-593.6,33.2v32.6h32.3v-32.6h-32.3Zm230.2-66.4v-32.6h-32.3v32.6h32.3Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m561.1,725.9h-33v-66h-.1c10.9.1,21.8.1,33.1.1v-33.1h-.1c21.9.1,43.8.1,66.3.1v32.7h164.9v-32.8h33c0,65.9,0,131.8,0,197.7h33.1v-32.3h65.9v32.7c-10.9,0-21.9,0-33.3,0v33.1h-32.9v65.7h-33,.1v-65.6h-33.1v65.7h.1c-10.9-.1-21.8-.1-33.3-.1v-98.7h-32.9v65.9h-32.7v32.9h32.8v32.9h-66v-98.9h32.7v-33h-32.5v-66.2h-33.3.1v-33h-33.1.1v-32.6h-33.1v32.7h.1Zm230.6,65.9v-98.4h-98.4v98.4h98.4Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m231,0v231H0V0h231Zm-33.2,33.4H33.2v164.3h164.6V33.4Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m0,726h231v231H0v-231Zm197.6,197.8v-164.4H33.3v164.4h164.4Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m726,0h231v231h-231V0Zm197.8,33.3h-164.4v164.4h164.4V33.3Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m363.1,131.9h-65.9v32.8h-32.9v-98.5h32.7c0-11.5,0-22.4,0-33.3,10.9,0,21.8,0,33.1,0V0h33v32.7h33V0h132c0,11,0,22,0,33.1-21.9,0-43.8,0-66.2,0v33.2h-98.9v65.8h.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m0,264h131.9c0,11.2,0,22.1,0,33.1,0,0,.1-.1.1-.1h-33.3v66.3h-32.4v32.9h98.7-.1v32.9h33.1c0,11,0,22.1-.1,33.1h.1c-21.9-.1-43.8-.1-66.3-.1v-32.7h-32.9v32.7h-33,.1v-33.1h-33.3v-65.8H0v-33h65.6v-33H0v-33Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m957,726h-32.9v32.8h-32.9v-32.6h-32.9v-99.1h-33.3v-32.9h32.9v-32.7h33v65.4h32.9v66.2h33.3v33Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m264,957v-131.8h32.9v-32.9h32.8v65.7h33.3c0,10.9,0,21.8,0,33.2h-66.1v65.8h-33Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m527.9,858.1h32.7v65.7h-32.6v33.2h-33c0-22,0-44,0-66.1h-.1c10.9.1,21.8.1,33.1.1v-33.1h-.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m693,0v98.9c-11.2,0-22.2,0-33.1,0,0,0,.1.1.1.1V33.1h-33.1c0-11,0-22,0-33.1h66Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m924.1,891.1c0-22,0-44.1-.1-66.1,11,0,22,0,33.1,0v66c-11,0-22,0-33.1,0h.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m891,957v-65.9c11.2,0,22.2,0,33.1,0h-.1c0,21.9,0,43.9,0,65.9h-33Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m66.1,494.9c-22,0-44.1,0-66.1,0v-33c22,0,44.1,0,66.1,0,0,0-.1-.1-.1-.1v33.1h.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m0,594c11,0,22,0,33.1,0,0,10.8,0,21.6,0,33.1H0v-33Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m297,0c0,11,0,22,0,33.1-10.8,0-21.6,0-33.1,0V0h33Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m396.1,923.9c0,11,0,22,0,33.1h-33v-33.1h33.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m594,957v-32.7h33v32.7h-33Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m792,957c0-11,0-22.1,0-33.1h-.1c11,.1,22.1.1,33.1.1h-.1c0,10.9,0,21.9,0,32.9h-33Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m560.9,593.9c0,11,0,22.1,0,33.1h.1c-10.9-.1-21.8-.1-33.1-.1v33.1h.1c-10.8-.1-21.6-.1-32.9-.1v32.8h-65.7v-98.5h32.7c0-33.4,0-66.4,0-99.3,0,0-.1.1-.1.1h33.2v32.9h32.9v66.1h33-.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m230.9,627.1h32.9v-32.9h66.1v-33.2h33v66.1h.1c-21.8-.1-43.6-.1-65.7-.1v33h32.4v32.8h-32.7v33.3h-32.9v-66.2h-33.2.1c0-10.9,0-21.9,0-33h-.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m396.1,858.1h-33.1v-99.1h98.9v-32.7h32.9v32.6h33v32.9h-131.7v66.3Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m461.9,890.9v33.1h-66v-66.1c11,0,22.1,0,33.1.1h-.1v33h33.1-.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m363.1,759.1h-66.1v-33.1h66.1v33.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m428.9,461.9c11,0,22.1,0,33.1.1,0,0-.1-.1-.1-.1v33.1s.1-.1.1-.1c-10.8,0-21.6,0-33.1,0v-33Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m395.9,528.1h32.7v32.6h-32.6c0-10.9,0-21.8,0-32.7,0,0-.1.1-.1.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m362.9,627.1h32.7v32.6h-32.6c0-10.9,0-21.8,0-32.7,0,0-.1.1-.1.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m594.1,758.9h-33c0-11.2,0-22.1,0-33h-.1c11,.1,22.1.1,33.1.1h-.1v33h.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m626.9,758.9v33h-33,.1c0-10.9,0-21.9,0-33h-.1c11,.1,22.1.1,33.1.1h-.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m593.9,791.9v32.7h-32.6v-32.6c10.9,0,21.8,0,32.7,0,0,0-.1-.1-.1-.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m429.1,858.1v-32.7h32.9v32.7s.1-.1.1-.1h-33.1.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m495.1,858.1v-32.7h32.9c0,10.9,0,21.8,0,32.7h.1c-11-.1-22.1-.1-33.1-.1h.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m495.1,890.9c-11.1,0-22.1,0-33.2,0,0,0,.1.1.1.1v-33.1s-.1.1-.1.1c11.1,0,22.1,0,33.2,0,0,0-.1-.1-.1-.1v33.1h.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m98.9,626.9h33.1v65.7H33.3v-32.4h65.7v-33.3Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m230.9,659.9v32.7h-65.6v-32.6c22,0,43.8,0,65.7,0,0,0-.1-.1-.1-.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m66.1,527.9v66.1h-33.1c0-21.8,0-43.6,0-66.1h33.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m99.1,593.9v33.1h-33.1v-33.1h33.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m231.1,626.9h-32.7v-32.6h32.6c0,10.9,0,21.8,0,32.7,0,0,.1-.1.1-.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m264.1,363.1h-66c0,11.1,0,22.1,0,33-11,0-22.1,0-33.1-.1h.1v-66.1h-33v-32.9s-.1.1-.1.1c22,0,44.1,0,66.1,0h-.1v32.6h33.1v-32.7h-.1c11,.2,22.1.2,33.1.2h-.1c0,21.9.1,43.9.2,66Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m264.1,297.1v-32.7h32.6v32.6c-10.9,0-21.8,0-32.7,0,0,0,.1.1.1.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m198.1,297.1v-32.7h32.9c0,10.9,0,21.8,0,32.7,0,0,.1-.1.1-.1h-33.1.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m264.2,230.6v-32.4h32.4v32.4h-32.4Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m758.9,494.9c0,11,0,22.1.1,33.1h-32.9v32.8h-33.1v33.2h-32.9v-33.1h-66.2.1v-33.1h32.5v-32.8h-65.7v-33.1h-99s.1.1.1.1c0-21.8,0-43.6,0-65.7h32.9v32.4h65.8v-32.4h33.2v65.4h32.8v-32.7h33.3-.1v33h33.1-.1v33h66.1-.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m692.9,593.9h66.1v32.7h-66.1v-32.7Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m593.9,560.9v33c-11.2,0-22.1,0-33,0h.1v-32.9h33-.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m561.1,99.1h-33.1V32.9c33,0,66.1,0,99.1,0v32.9h-66v33.2Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m527.9,329.9h66.1v32.7h-66.1v-32.7Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m692.9,429.1h66c0,11.1,0,22.1,0,33,0,0,.1-.1.1-.1h-66.1.1v-33h-.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m792.1,495.1c-11,0-22.1,0-33.1-.1h.1v-33s-.1.1-.1.1c10.8,0,21.6,0,33.1,0v33Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m660.1,429.1v-32.7h32.9c0,10.9,0,21.8,0,32.7,0,0,.1-.1.1-.1h-33.1.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m528.1,98.9v33.1h-33v33h-33.1v-66.1h66.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m428.9,198.1v-33.1h33.1v33.1h-33.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m560.9,132.1v-33.1h32.7v33.1h-32.7Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m461.9,197.9h33.1v33.1h-33.1v-33.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m197.9,429.1v-33.1h33.1v33.1h-33.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m726.4,726.2h32.4v32.4h-32.4v-32.4Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m164.6,164.8h-98.4v-98.4h98.4v98.4Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m66.3,792.2h98.4v98.4h-98.4v-98.4Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m890.7,164.9h-98.3v-98.6h98.3v98.6Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m527.9,528.1v-33.1h33.1v33.1h-33.1Z",style:{strokeWidth:0}})))}var Sv=r.forwardRef(xv),Tv=(n.p,["title","titleId"]);function Av(){return Av=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Av.apply(this,arguments)}function Mv(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Rv(e,t){var n=e.title,i=e.titleId,o=Mv(e,Tv);return r.createElement("svg",Av({fill:"currentcolor",id:"b",xmlns:"http://www.w3.org/2000/svg",width:957,height:957,viewBox:"0 0 957 957",ref:t,"aria-labelledby":i},o),n?r.createElement("title",{id:i},n):null,r.createElement("g",{id:"c"},r.createElement("path",{d:"m890.8,759.2v-33.2h66.2v-66h-32.9v-33.1h-33.1v-98.8h32.6v-33.1h-32.6v-33h-66c0-10.9,0-21.8,0-32.7-11,0-21.9,0-33.2,0v32.7h-32.8v-32.8h-131.9v-32.8h-66.1v32.4h-33.2v33.2h-32.9v-66.1h33v-65.8h132.1v32.8h98.8v-33.1h66v-32.7h-33.1v-32.7h-33v32.3h-33v-32.6h-32.8v-.2h-.1v-98.9h-32.9v98.9h-.1c0,.1-32.8.1-32.8.1v32.6h-33v-32.5h-32.8v-66.3h32.6v-33h66v-66.1h32.7v-32.8h-65.5v65.5h-32.9v-32.7h-33.1v-32.9c21.9,0,43.9,0,65.8-.1v-33.1h66.1V0h-99v33.1h-32.9c0,10.9,0,21.9-.2,32.8h-32.9c0-11,0-21.9-.1-32.8h-164.8v32.5h-33.1V0h-33v33.3h-32.7v32.9h32.3v33h-32.2v32.7h65.6v-32.6h33.1v32.6h32.9v-65.6h65.8v32.4h-32.7v33.2h33v33h32.9v-98.8h33v33h33v66h-65.8c0,11,0,21.9-.2,32.9h-32.8c0-11,0-21.9-.1-32.9h-32.9c0,11,0,21.9,0,32.9,11,0,21.9,0,32.9.1v33h33v32.6h-66v-65.6h-32.6v99.1h131.6v32.7h-33.1v33.2h-32.8v33h-33v32.8h-32.9v-66.2h32.7v-32.5h-65.9v32.4h-32.5v-65.9h32.4v-32.5h-164.4v33h65.8v32.9h32.4v65.6h-32.7v-32.6h-32.8v33h-66v32.9h99v33c11,0,21.9,0,32.9,0v-33h33v-32.6h33.1v32.6c10.9,0,21.9.1,32.9.2v32.6h33.1v-32.6h33.1v33h32.8v32.6h33.1v-32.6h32.8v32.6h32.9v-32.4h131.9v32.5h-32.6v32.9h0c-11,.1-22,.2-33,.4v32.8h-66v-32.6h-66.1v65.6h-33.2v65.7h-98.5v-32.7h32.6v-32.8h-66.1v-32.8h-32.5v65.9h32.5v32.9h-32.9v99h-32.8v33.1h-33.1v164.8h33v-131.9h33v-32.9h32.8v65.8h66.1v32.8h-66v33h-32.9v33.1h33c0-11,0-22,0-32.9h65.8c0,11,0,22,0,32.9h99v-65.9h65.9v32.8h-32.9v33.1h33c0-11,0-22,0-32.9h32.9c0,11,0,22,0,32.9h33c0-11,0-22,0-32.9h32.9c0,11,0,22,0,32.9h33v-33.1h-32.9v-32.6h-33.1v32.6c-10.9,0-21.9,0-32.9,0v-33h-33v-32.8h65.9v-33.1h-65.7v-33h-33.1v32.8h-33v33h-32.8v33.1h-33.1v-33h-33v-32.7h65.8v-33.3h66.1c0-11,0-21.9.1-32.9h33.1v-33h32.8v65.7h33.2v33.1h98.6v33h-32.4v32.9h32.7v66.2h132c0-11,0-22,0-32.9h32.7v-66.1h33.2v-66h-33v32.8h-32.9v-32.5h-32.9v32.6h-33.2v-65.7h65.7ZM527.6,230.9h-32.6v-32.9h32.6v32.9Zm-98.6,660.1h32.9v32.9h-32.9v-32.9Zm98.9-165.2h-32.8v32.9h-32.9v32.8h-66.1v-32.5h-32.8v-65.9h32.5v32.5h65.9v-32.6h66.2v32.8Zm33,33h-32.9v-32.9h32.9v32.9Zm0-66h-32.9v-32.9h32.9v32.9Zm98.7,33h-32.6v-33.1h-33v-32.8h65.6v65.9Zm0-99.2h-65.8v33.2h-32.8v-32.8h-33v-33.1h33.1v-33h32.8v32.8h65.8v32.9Zm33.5-98.9h0s65.5,0,65.5,0v33h-32.6v32.9h-32.9c0-21.9,0-43.8,0-65.8Zm65.4,66v33h-32.6c0-11,0-22,.2-33h0s32.4,0,32.4,0Zm-32.7,33.2v32.6h-32.6v-32.6h32.6Zm65.8,164.6h-98.6v-98.3h98.6v98.3Zm66.6,99.7h32.6v32.6h-32.6v-32.6Zm-33.3-396.3h65.9v32.9h-65.9v-32.9Zm-33-33h32.9v32.9h-32.9v-32.9Zm32.9,66v32.9h-32.6v-32.9h32.6Zm-.3,395.6h-32.4v-32.4h32.4v32.4Zm.3-66h-32.6v-32.6h32.6v32.6Zm-32.7-230.6v-32.9h32.8v-33.1h33.1v66h32.8v32.8h-32.7v32.7h-33v-65.5h-32.9Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m198.3,494.8h32.2v32.9h-65.6v-98.6h-32.6v-33.1h32.6v-131.9H0v99c11,0,22,0,32.9,0v32.8c-11,0-22,0-32.9,0v66h33.1v32.9c10.9,0,21.9.1,32.8.2v33.1h33.3v98.9h32.7c0,10.9,0,21.9.2,32.8,21.9,0,43.9,0,65.8,0v-33.1h33.2v-32.7c11,0,21.9-.1,32.8-.2v-33.2h32.8v-32.9h-32.8v-65.8h-65.6v32.7Zm-66.7.2h-65.6v-32.6h65.6v32.6Zm0-165.1h-32.4v98.8H33.1v-32.6h32.6v-33.1h-32.6v-65.6h98.6v32.5Zm33,297.1h-32.6v-32.6h32.6v32.6Zm66.3-33h-32.6v-32.6h32.6v32.6Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m726,0v231h231V0h-231Zm197.7,197.6h-164.4V33.2h164.4v164.4Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m0,957h231v-231H0v231Zm33.3-197.6h164.4v164.4H33.3v-164.4Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m231,0H0v231h231V0Zm-33.4,197.7H33.2V33.3h164.4v164.4Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m0,693h33.2v-99.1h32.5v-33h-32.8v-65.8c-11,0-22,0-32.9,0v198Z",style:{strokeWidth:0}}),r.createElement("rect",{x:32.9,y:494.9,width:.1,height:.2,style:{strokeWidth:0}}),r.createElement("rect",{x:924.3,y:429,width:32.7,height:33,style:{strokeWidth:0}}),r.createElement("rect",{x:924.3,y:561,width:32.7,height:33,style:{strokeWidth:0}}),r.createElement("path",{d:"m924.1,330h32.9v-33c-11,0-22,0-32.9,0v32.9Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m561,0h-33c0,11,0,22,0,32.9h32.9c0-11,0-22,0-32.9Z",style:{strokeWidth:0}}),r.createElement("rect",{x:659.9,y:824.9,width:.1,height:.1,style:{strokeWidth:0}}),r.createElement("path",{d:"m429.1,593.9h-.2v.2h.2v-.2Z",style:{strokeWidth:0}}),r.createElement("polygon",{points:"462.2 560.9 494.7 560.9 494.7 527.9 428.8 527.9 428.8 495.3 396.3 495.3 396.3 561.2 429.1 561.2 429.1 593.9 462.2 593.9 462.2 560.9",style:{strokeWidth:0}}),r.createElement("rect",{x:264.3,y:660.3,width:32.6,height:98.6,style:{strokeWidth:0}}),r.createElement("rect",{x:296.9,y:758.9,width:.1,height:.1,style:{strokeWidth:0}}),r.createElement("rect",{x:66.3,y:660,width:65.6,height:32.6,style:{strokeWidth:0}}),r.createElement("rect",{x:131.9,y:659.9,width:.1,height:.1,style:{strokeWidth:0}}),r.createElement("path",{d:"m297.1,494.9h32.8c0-11,0-21.9,0-32.8h-32.9v32.8Z",style:{strokeWidth:0}}),r.createElement("rect",{x:329.9,y:494.9,width:.1,height:.1,style:{strokeWidth:0}}),r.createElement("rect",{x:330,y:495.1,width:32.6,height:32.6,style:{strokeWidth:0}}),r.createElement("rect",{x:627.4,y:495.3,width:32.6,height:32.6,style:{strokeWidth:0}}),r.createElement("rect",{x:659.9,y:527.9,width:.1,height:.1,style:{strokeWidth:0}}),r.createElement("rect",{x:330.1,y:429.1,width:32.9,height:32.9,style:{strokeWidth:0}}),r.createElement("rect",{x:263.9,y:593.9,width:.1,height:.1,style:{strokeWidth:0}}),r.createElement("rect",{x:264,y:594.1,width:32.6,height:32.6,style:{strokeWidth:0}}),r.createElement("rect",{x:197.9,y:659.9,width:.1,height:.1,style:{strokeWidth:0}}),r.createElement("rect",{x:198,y:660.1,width:32.6,height:32.6,style:{strokeWidth:0}}),r.createElement("rect",{x:825.1,y:429.1,width:.2,height:.1,style:{strokeWidth:0}}),r.createElement("path",{d:"m890.9,396.1h-33.1v-32.8h-32.5v65.8c21.8,0,43.6,0,65.6,0v-33Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m891.1,395.9h-.2v.2h.2v-.2Z",style:{strokeWidth:0}}),r.createElement("rect",{x:891.1,y:363.4,width:32.6,height:32.6,style:{strokeWidth:0}}),r.createElement("rect",{x:758.9,y:362.9,width:.1,height:.1,style:{strokeWidth:0}}),r.createElement("rect",{x:759,y:363.1,width:32.6,height:32.6,style:{strokeWidth:0}}),r.createElement("rect",{x:891.4,y:264.3,width:32.6,height:32.6,style:{strokeWidth:0}}),r.createElement("rect",{x:923.9,y:296.9,width:.1,height:.1,style:{strokeWidth:0}}),r.createElement("path",{d:"m825.1,296.9h-.2v.2h.2v-.2Z",style:{strokeWidth:0}}),r.createElement("rect",{x:825.1,y:264.4,width:32.6,height:32.6,style:{strokeWidth:0}}),r.createElement("rect",{x:330.1,y:132.1,width:32.9,height:98.6,style:{strokeWidth:0}}),r.createElement("rect",{x:264.3,y:165.4,width:32.4,height:65.4,style:{strokeWidth:0}}),r.createElement("rect",{x:198.4,y:330.3,width:32.6,height:32.6,style:{strokeWidth:0}}),r.createElement("rect",{x:230.9,y:362.9,width:.1,height:.1,style:{strokeWidth:0}}),r.createElement("rect",{x:396.1,y:132.1,width:32.9,height:32.9,style:{strokeWidth:0}}),r.createElement("rect",{x:263.9,y:461.9,width:.2,height:.1,style:{strokeWidth:0}}),r.createElement("rect",{x:164.9,y:428.9,width:.1,height:.1,style:{strokeWidth:0}}),r.createElement("rect",{x:164.9,y:395.9,width:.2,height:.1,style:{strokeWidth:0}}),r.createElement("rect",{x:560.9,y:791.9,width:.1,height:.1,style:{strokeWidth:0}}),r.createElement("rect",{x:395.9,y:131.9,width:.1,height:.2,style:{strokeWidth:0}}),r.createElement("rect",{x:494.9,y:164.9,width:.1,height:.1,style:{strokeWidth:0}}),r.createElement("rect",{x:428.9,y:131.9,width:.1,height:.1,style:{strokeWidth:0}}),r.createElement("rect",{x:428.9,y:164.9,width:.1,height:.1,style:{strokeWidth:0}}),r.createElement("rect",{x:461.9,y:164.9,width:.1,height:.1,style:{strokeWidth:0}}),r.createElement("rect",{x:329.9,y:131.9,width:.1,height:.2,style:{strokeWidth:0}}),r.createElement("rect",{x:362.9,y:131.9,width:.1,height:.2,style:{strokeWidth:0}}),r.createElement("rect",{x:527.9,y:32.9,width:.1,height:.2,style:{strokeWidth:0}}),r.createElement("rect",{x:560.9,y:32.9,width:.1,height:.2,style:{strokeWidth:0}}),r.createElement("rect",{x:626.9,y:65.9,width:.2,height:.1,style:{strokeWidth:0}}),r.createElement("rect",{x:726.4,y:726.3,width:32.4,height:32.4,style:{strokeWidth:0}}),r.createElement("rect",{x:296.9,y:461.9,width:.1,height:.2,style:{strokeWidth:0}}),r.createElement("rect",{x:329.9,y:461.9,width:.2,height:.1,style:{strokeWidth:0}}),r.createElement("rect",{x:329.9,y:428.9,width:.1,height:.1,style:{strokeWidth:0}}),r.createElement("rect",{x:362.9,y:428.9,width:.1,height:.2,style:{strokeWidth:0}}),r.createElement("rect",{x:659.9,y:164.9,width:.2,height:.1,style:{strokeWidth:0}}),r.createElement("rect",{x:428.9,y:197.9,width:.1,height:.2,style:{strokeWidth:0}}),r.createElement("rect",{x:792.3,y:66.2,width:98.3,height:98.4,style:{strokeWidth:0}}),r.createElement("rect",{x:66.3,y:792.4,width:98.4,height:98.4,style:{strokeWidth:0}}),r.createElement("rect",{x:66.4,y:66.4,width:98.4,height:98.4,style:{strokeWidth:0}}),r.createElement("rect",{x:593.9,y:197.9,width:.1,height:.1,style:{strokeWidth:0}}),r.createElement("rect",{x:594,y:198.1,width:32.6,height:32.6,style:{strokeWidth:0}})))}var Cv=r.forwardRef(Rv),Iv=(n.p,["title","titleId"]);function kv(){return kv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kv.apply(this,arguments)}function Pv(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Ov(e,t){var n=e.title,i=e.titleId,o=Pv(e,Iv);return r.createElement("svg",kv({fill:"currentcolor",id:"b",xmlns:"http://www.w3.org/2000/svg",width:956.5,height:956.5,viewBox:"0 0 956.5 956.5",ref:t,"aria-labelledby":i},o),n?r.createElement("title",{id:i},n):null,r.createElement("g",{id:"c"},r.createElement("path",{d:"m395.7,494.7h0c0,.1,0,.1.1.1h-.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m857.7,857.7h0c0,.1,0,.1.1.1,0,0,0,0,0-.1h-.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m593.9,791.7h-.1c0,.1,0,.1.1.1h0Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m956.5,725.5v-32.9h-65.4v-99h32.7v-99h32.5v-66h-65.7v-32.7h-65.8v32.8h32.8v65.9h32.8v66h-32.4v-32.6h-33.1v-65.9h-33.1v-33h-65.7v32.6h32.4v65.9h33.1v33.2c-10.8,0-21.5,0-32.8,0v32.9h-32.8v66h-99.4v33.1c-10.8,0-21.5,0-33,0v-131.8h-32.8v32.6h-32.7v-65.5h32.5v-99.1h-33.1v-33h-32.7v66.1h32.5v33h-32.7v32.5h-99v-32.6h-33.1v-32.7h-65.7v32.6h32.7c0,11.2,0,22.2,0,33.2-10.9,0-21.8,0-32.7,0v66h-33v65.9h32.9v-33h33v-33.2h66.3v-32.4h32.9v32.7h66.1v33.1h65.5v33.1h-32.4v65.9h65.8v65.8h32.8v-32.6h32.9v65.5h-32.7v33.1h98.7v-32.6h66.3v32.6h65.9v-32.9h-32.6v-33.1h32.6v-65.5h32.9v32.5h33.1v-33.2h32.8Zm-594-165.2h-32.8v-32.3c10.9,0,21.7,0,32.8,0v32.3Zm296.9,165.1h-32.6c0-10.9,0-21.7,0-32.6h32.6v32.6Zm132.1,66.1h-98.4v-98.4h98.4v98.4Zm65.8-132.1h-98.3v-32.4h32.8c0-22.4,0-44.3,0-66.2h32.8v32.8h32.7v65.8Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m296.7,659.7h0c0,.1,0,.1.1.1,0,0,0,0,0-.1h-.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m494.7,395.8h.1c0-.1-.1,0-.1,0Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m824.9,395.8h0c0-.1,0-.1-.1-.1h0c0,.1,0,.1.1.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m593.7,560.7h0c0,.1,0,.1.1.1h-.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m461.4,329.5v-32.9h-65.6c0-10.9-.1-21.9-.2-32.8h-32.6v-66.1h32.6v-33h33v-33h66v-32.9h-33v-33h-32.9v32.7h-32.9v33.3h-33.1c0,10.9,0,21.8,0,33.2h-33.4v165h-32.8c0,32.8,0,65.7,0,98.5h98.8v-32.9h-32.3v-32.8c3.7,0,7.1,0,10.4,0,18.4,0,36.9-.2,55.3-.3,0-10.9,0-21.7,0-32.9h32.6Zm-65.7-.2h-32.6v-32.6c10.9,0,21.7,0,32.6,0v32.6Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m395.7,263.8h.1c0-.1,0-.1-.1-.1,0,0,0,0,0,.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m956.4.1h-230.4v230.4h230.4V.1Zm-32.9,197.2h-164.4V32.9h164.4v164.4Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m230.4,0H0v230.4h230.4V0Zm-33,197.4H33V33h164.4v164.4Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m0,956.4h230.4v-230.4H0v230.4Zm33-197.4h164.6v164.3H33v-164.3Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m659.7,230.8h.1c0-.1,0-.1-.1-.1h0Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m593.9,395.7s0,0-.1,0h0c0,.1,0,.1.1.1h0Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m659.9,329.8s0,0,0-.1h-.1c0,.1,0,.1.1.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m33.1,395.8h65.4v33H0v131.5h65.8v-65.6c32.9,0,65.7,0,98.5,0v-33.2h-32.6v-5.7c0-18.8,0-37.6,0-56.5,0-12.3-.2-24.5-.3-36.8-32.8,0-65.7,0-98.5,0v33.2Zm0,98.8v-32.6h32.6c0,10.9,0,21.7,0,32.6h-32.6Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m428.7,65.7h0c0,.1,0,.1.1.1h0c0-.1,0-.1-.1-.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m296.7,32.8h.1c0-.1-.1,0-.1,0Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m428.7,65.7v-33h33V.1h-66.1v32.3h-33.1V0h-32.9v32.8h-32.8v33.1h-32.8v98.5h32.9v-32.8h65.8v-66h66Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m362.7,131.7h0c0,.1,0,.1.1.1h0c0-.1,0-.1-.1-.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m791.7,857.8h.1c0-.1,0-.1-.1-.1h0Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m626.7,857.8h.1c0-.1,0-.1-.1-.1h0Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m758.9,890.7h-99v32.7h-33.2v-65.6h-32.9v98.5h165.1v-32.7h32.8v-65.8h-32.8v32.9Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m131.7,296.8h.1s0,0,0-.1h-.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m230.7,296.8h.1c0-.1-.1,0-.1,0Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m296.6,329.9v.2s0,0,.1-.1c0,0-.1.1-.1.1h.1v-.2s0,0-.1,0Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m131.6,362.6s-.1-.1-.1-.1c0,0,0,0,0,.1h.2s0,0,0-.1c0,0-.1,0-.2,0,0,0,0,0,.1,0Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m263.7,264v32.8h-32.8v32.6h-66.3v-32.6h-32.7c0,21.9-.1,43.8-.2,65.7,10.9,0,21.8,0,33.2,0v33.3h32.8c0,10.9,0,21.8,0,32.5h66.3v-98.5c11.1,0,21.8,0,32.6,0,0-22,0-44,0-65.8h-32.9Zm-33.2,131.7c-10.9,0-21.7,0-32.6,0v-32.6h32.6v32.6Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m494.6,890.6h-32.7c0-10.9,0-21.7,0-32.5h-66.4v65.8h-32.4v32.5h164.6v-32.6h-33.1v-33.2Zm-32.9,32.7h-32.6v-32.6c10.9,0,21.7,0,32.6,0v32.6Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m527.7,923.8h.1-.1c0,0,0,0,0,0Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m98.7,626.8h.1c0-.1-.1,0-.1,0Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m131.6,626.8h-32.8v65.6h131.5v-32.8h-65.3v-33h65.6v-32.8h-99.1v33Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m230.7,593.8h.1-.1c0,0,0,0,0,0Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m627,32.5h65.4V.1h-164.4v32.7h65.8v65.8h33.2V32.5Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m593.9,98.6h-.1.1c0,0,0,0,0,0Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m131.7,296.8s.1-.1.1-.1h-.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m0,264.1v65.4h98.9v-32.8h32.8c0-10.9,0-21.8,0-32.6H0Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m527.4,98.7v33.1h-32.6v32.9h66v-33.1h32.8v-32.8c-10.9,0-21.7,0-33.1,0v-33h-65.7v32.9h32.6Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m494.9,131.8h0c0-.1,0-.1-.1-.1h0c0,.1,0,.1.1.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m593.7,98.6h0c0,.1,0,.1.1.1,0,0-.1-.1-.1-.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m494.9,98.7h-.1c0,.1,0,.1.1.1h0Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m264,956.5h32.9v-98.9h65.5v-32.5h-98.4v131.4Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m494.8,758.6h-.1c0,.1.1,0,.1,0Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m395.9,758.8v33.1h33.1v32.5h33v-65.8h32.8v-65.6h-33.1v32.8h-32.7v33h-33Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m428.9,725.8h0c0-.1,0-.1-.1-.1h0c0,.1,0,.1.1.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m923.7,791.8h.1c0-.1,0-.1-.1-.1h0Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m857.9,824.7h33v33h33v33h32.6v-66.1h-32.8v-32.7h-65.9v32.9Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m857.9,824.7h-.1c0,.1,0,.1.1.1h0Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m857.9,791.8h0c0-.1,0-.1-.1-.1h0c0,.1,0,.1.1.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m296.9,659.8c0,10.9,0,21.9,0,32.8,21.9,0,43.9,0,65.8,0v-33h33v-32.9h-65.9v33h-33Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m329.9,626.8h0c0-.1,0-.1-.1-.1h0c0,.1,0,.1.1.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m296.9,692.8s0,0,0-.1h-.1.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m362.7,692.7h0c0,.1,0,.1.1.1,0,0,0,0,0-.1h-.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m362.9,758.8s0,0,0-.1c0,0,0,0-.1,0h.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m362.9,692.8c0,21.9,0,43.9,0,65.8,10.9,0,21.9,0,32.8,0v-33h33v-65.9c-11.3,0-22.1,0-32.9,0v33h-33Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m395.7,758.7h0c0,.1,0,.1.1.1h0c0-.1,0-.1-.1-.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m395.9,659.8h0c0-.1,0-.1-.1-.1h0c0,.1,0,.1.1.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m593.7,857.7h0c0,.1,0,.1.1.1h0c0-.1,0-.1-.1-.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m560.5,791.8v33.1h-65.4v32.7h98.6v-65.9c-10.9,0-21.8,0-33.2,0Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m296.8,494.7h0s0,0,0,0h-.1c0,.1,0,.1.1.1s0,0,0,0Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m296.7,527.7h0c0,.1,0,.1.1.1h0c0-.1,0-.1-.1-.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m296.7,494.8c-10.9,0-21.7,0-33.1,0v-32.7h-65.5v32.7h32.8v32.8h65.9v-32.9Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m494.7,395.8s.1-.1.1-.1h-.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m428.9,362.6s.1-.1.1-.1c0,0,0,0-.1,0,0,0,0,.1,0,.2h.1v-.2s0,0,0,.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m429,362.6c0,21.9,0,43.8,0,65.8h32.9v-32.8h32.8c0-10.9,0-21.7,0-33.1-22.3,0-44,0-65.7,0Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m494.7,164.8h.1c0-.1,0-.1-.1-.1h0Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m428.9,197.7h33.1v32.7h32.8v-65.5h-65.9v32.9Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m428.9,164.8h0c0-.1,0-.1-.1-.1h0c0,.1,0,.1.1.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m890.9,956.4h32.9v-65.6h-32.9v65.6Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m923.7,890.8h.1c0-.1,0-.1-.1-.1h0Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m461.5,462.1h-65.6v32.6c21.9,0,43.7,0,65.6,0v-32.6Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m395.7,494.7s.1.1.1.1h0c0-.1,0-.1-.1-.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m825.2,956.5h32.3v-65.8c-10.8,0-21.7,0-32.3,0v65.8Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m362.9,758.8s-.1-.1-.1-.1h0c0,.1,0,.1.1.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m297.1,791.4h65.6v-32.6c-21.9,0-43.7,0-65.6,0v32.6Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m395.9,263.7h32.9v-65.9h-32.9v65.9Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m428.7,197.8h.1c0-.1,0-.1-.1-.1h0Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m395.9,197.8h0c0-.1,0-.1-.1-.1h0c0,.1,0,.1.1.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m956.5,264.1h-32.6v65.5h32.6v-65.5Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m923.9,329.8h0c0-.1,0-.1-.1-.1h.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m923.8,362.6h-.1s0,0,0,.1h.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m923.7,329.6s0,0,0,.1h.1s-.1-.1-.1-.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m858.1,329.8v32.9h65.6c0-11,0-21.9,0-32.9-21.9,0-43.7,0-65.6,0Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m0,594v32.4h32.4v-32.4H0Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m98.7,626.8s.1-.1.1-.1h-.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m66.1,594.1v32.6h32.6c0-10.9,0-21.7,0-32.6h-32.6Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m230.8,593.8s0,0,0-.1c0,0,0,0-.1,0,0,0,.1.1.1.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m263.7,593.7h0c0,.1,0,.1.1.1h0c0-.1,0-.1-.1-.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m230.9,560.8c0,11,0,21.9,0,32.9,11,0,21.9,0,32.9,0v-32.9h-32.9Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m33,660.1v32.3h32.4v-32.3h-32.4Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m296.9,692.8s-.1-.1-.1-.1h0c0,.1,0,.1.1.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m264.1,725.4h32.6v-32.6c-10.9,0-21.7,0-32.6,0v32.6Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m956.4,395.4v-32.6h-32.6c0,10.9,0,21.7,0,32.6h32.6Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m923.8,362.6s-.1.1-.1.1h.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m230.7,296.8s.1-.1.1-.1h-.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m198.1,264.1v32.6h32.6c0-10.9,0-21.7,0-32.6h-32.6Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m692.4,230.7v-32.9h-32.6v32.9c10.9,0,21.7,0,32.6,0Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m659.9,197.8h0c0-.1,0-.1-.1-.1h0c0,.1,0,.1.1.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m593.7,395.8h-32.9v32.9h32.9v-32.9Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m560.9,428.7h-.1c0,.1,0,.1.1.1h0Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m527.4,791.4v-32.6h-32.6c0,10.9,0,21.7,0,32.6h32.6Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m494.8,758.6s-.1.1-.1.1h.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m198.1,527.8v32.9h32.6v-32.9c-10.9,0-21.7,0-32.6,0Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m230.7,560.7h0c0,.1,0,.1.1.1,0,0,0,0,0-.1h-.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m230.8,527.7h0s0,0,0,0h-.1c0,.1,0,.1.1.1s0,0,0,0Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m956.4,791.7v-32.9h-32.6v32.9c10.9,0,21.7,0,32.6,0Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m923.9,758.8h0c0-.1,0-.1-.1-.1h0c0,.1,0,.1.1.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m264.1,198.1v32.4h32.4v-32.4h-32.4Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m99.2,528.1v32.4h32.4v-32.4h-32.4Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m494.8,65.7h0c0,0,0,0,.1,0h0c0-.1,0-.1-.1-.1h0c0,.1,0,.1,0,0Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m494.7,65.7c0-10.9,0-21.8,0-32.9h-32.9v32.9h32.9Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m461.9,32.8h0c0-.1,0-.1-.1-.1h0c0,.1,0,.1.1.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m461.9,65.7h-.1c0,.1,0,.1.1.1h0Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m857.9,857.8c0,10.9-.1,21.8-.2,32.7,11,0,22,.1,33,.2v-32.9h-32.9Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m857.6,890.6s-.1-.1-.1-.1h0c0,.1.1.1.2.1h0c0-.1-.1-.1-.2-.1,0,0,0,0,.1.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m890.7,857.8h.1c0-.1,0-.1-.1-.1h0Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m890.7,890.7h0c0,.1,0,.1.1.1h0c0-.1,0-.1-.1-.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m527.8,923.8h0c0-.1,0-.1-.1-.1,0,0,.1.1.1.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m527.8,923.7c10.9,0,21.7,0,32.6,0v-32.6h-32.6v32.6Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m296.7,32.8s.1-.1.1-.1h-.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m264.1,0v32.6h32.6c0-10.9,0-21.7,0-32.6h-32.6Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m660,593.5h32.9v-33h32.6v-32.4h-131.7v32.6c21.9,0,43.8,0,66.2,0v32.8Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m593.7,560.7s.1.1.1.1h0c0-.1,0-.1-.1-.1Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m626.7,494.3h65.8v-32.7h-32.7v-65.8h32.8v-32.8h32.9v32.7h99.2c0-32.9,0-65.7,0-99.1h65.7v-32.6h-98.7v32.4h-66v-32.3h-33v65.8h-32.8c0,22,0,43.9-.1,65.9h-32.9v-66h32.9v-33.2h-65.6v-32.9h65.6v-32.8h-32.6v-33.1h32.6v-65.5h-33.1v32.7h-33v65.7h-32.9v-32.4h-33v65.7h-32.5v33.2h65.8v32.9h32.9v65.8c11,0,21.9,0,32.9.1v98.5Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m758.6,726.1h-32.6v32.3h32.6v-32.3Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m890.4,66.1h-98.4v98.4h98.4v-98.4Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m164.5,65.9h-98.4v98.4h98.4v-98.4Z",style:{strokeWidth:0}}),r.createElement("path",{d:"m66.1,890.3h98.4v-98.4h-98.4v98.4Z",style:{strokeWidth:0}})))}var jv,Nv,Lv,Dv,Fv,Uv,Bv,Gv,zv,Vv,Hv,Wv,Zv,qv,Yv,Xv=r.forwardRef(Ov),Kv=(n.p,[{type:"email",qrName:"email",text:"email",displayName:"email",link:"mailto:contact@donaldzhu.ca",SvgComponent:Sv},{type:"instagram",qrName:"instagram",text:"instagram",displayName:"Instagram",link:"https://www.instagram.com/donaldzhu.graphics/",SvgComponent:Cv},{type:"linkedin",qrName:"linkedin",text:"linkedin",displayName:"LinkedIn",link:"https://www.linkedin.com/in/donald-zhu-012114179",SvgComponent:Xv},{type:"are.na",qrName:"arena",text:"are.na",displayName:"are.na",link:"https://www.are.na/donald-zhu",SvgComponent:bv}]),Qv=Vn(oa)(jv||(jv=a(["\n  p {\n    ","\n  }\n"])),Ho.underline(vi(.06),vi(.125))),$v=Vn.ul(Nv||(Nv=a(["\n  padding-top: ",";\n"])),Uo.mobile.contact.linkList.padding.top.css),Jv=function(){return(0,ta.jsxs)(Xs,{children:[(0,ta.jsxs)(aa,{children:[(0,ta.jsx)("b",{children:"Feel free to contact for inquiry -"})," Toronto, Canada [In person/Remote]"]}),(0,ta.jsx)($v,{children:Kv.map((function(e,t){return(0,ta.jsx)("li",{children:(0,ta.jsx)(Qv,{to:e.link,children:(0,ta.jsx)(aa,{children:e.displayName})})},t)}))})]})},eb=function(){return(0,ta.jsxs)(Xs,{children:[(0,ta.jsx)(aa,{children:(0,ta.jsx)("b",{children:"My process prioritizes an inter-disciplinary, bottom-up approach."})}),(0,ta.jsxs)(la,{children:["Contrary to the common perception of the \u201ccreative\u201d designer, meaningful works are often not the result of spontaneous, top-down executions. Instead, my work is the cumulated outputs of vigorous, investigative makings that seek to deconstruct and reconstruct communication in the provided context. For that reason, my practice is centered around ",(0,ta.jsx)("i",{children:"design systems"})," and ",(0,ta.jsx)("i",{children:"tool-making."})]}),(0,ta.jsxs)(la,{children:["A system, in short, is a set of things that form the mechanisms and networks within each design investigation. They can be visual (scale, contrast, movement) or conceptual (hierarchy, juxtaposition, tone). ",(0,ta.jsx)("i",{children:"Verbalizing these parameters allows them to be discussed, reflected upon, intentionally decided on, and exhaustively iterated."})," By doing so, its inherent structures can be broken and appropriated, through which the inputs could be transformed endlessly in unforeseen ways through the making process. As such, the systematic outputs are the self-informed products that emerged from within the given concern of communication."]}),(0,ta.jsxs)(la,{children:["Simultaneously, tools and tool-making play an inextricable role in my design process ",(0,ta.jsx)(oa,{to:"../work/vector-spin-stroke",children:"(my capstone project on tools)"}),". Given each tool\u2019s particular performances and mechanisms, they stand between the designer and their outputs, setting the conditions within each investigation. In my case, to approach a situation from the ground up often involves making my own tools. Whether it be digital (coded, generative, algorithmic) or ",(0,ta.jsx)(oa,{to:"../work/stroke",children:"analog"})," (tactile, haptic, tangible), they offer their own ways of assessing a given problem. In other words, tools are ",(0,ta.jsx)("i",{children:"potential openings to design challenges\u2014through which new modes of thinking and making could emerge."})]})]})},tb=Vn(oa)(Lv||(Lv=a(["\n  ","\n  width: 100%;\n  margin-bottom: ",";\n\n  img, video {\n    flex: none;\n    width: ",";\n  }\n"])),Ho.flex("initial","space-between"),Uo.mobile.workIndex.thumbnail.margin.css,Uo.mobile.workIndex.thumbnail.width.css),rb=Vn.div(Dv||(Dv=a(["\n  padding-right: ",";\n"])),Uo.mobile.workIndex.gap.css),nb=Vn.h3(Fv||(Fv=a(["\n  display: block;\n  font-size: ",";\n  line-height: ",";\n"])),Fi.mobile.workIndex.title.css,Pi.text),ib=Vn.p(Uv||(Uv=a(["\n  ","\n  display: block;\n  font-size: ",";\n  padding-top: ",";\n"])),Ho.textMono(),Fi.mobile.workIndex.tags.css,Uo.mobile.workIndex.tags.padding.top.css),ob=function(e){var t=e.data,n=t.title,i=t.abbr,o=t.tags,a=t.animatedThumbnail,s=t.id,l=Ae(),u=l.preloadManager,c=l.canAutoPlay,f=g((0,r.useState)(!!c),1)[0],h=u.findThumbnail(s);if(!h)throw ns("Thumbnail");return(0,ta.jsxs)(tb,{to:s,children:[(0,ta.jsxs)(rb,{children:[(0,ta.jsx)(nb,{children:null!==i&&void 0!==i?i:n}),(0,ta.jsx)(ib,{children:o.join("\u2009+\u2009")})]}),(0,ta.jsx)(Ss,d(d({},a?{canAutoPlay:f&&!1!==u.imgPreloaded}:{}),{},{stackData:h,type:a?wa.Video:wa.Image}))]})},ab=Vn.div(Bv||(Bv=a(["\n  ","\n  position: absolute;\n  top: ",";\n"])),Ho.mobileBody(),Uo.mobile.app.top.css),sb=function(){return iv(!0,(function(e){return e.defaultPreload()})),(0,ta.jsx)(ab,{children:ai(Zn.Mobile).map((function(e){return e.listed&&(0,ta.jsx)(ob,{data:e},e.title)}))})},lb=JSON.parse('{"acogito":"<p>A speculative design project about a new mind-altering drug in a hypothetical future. Via the effects of this\\n  substance and the assistance of machines and fungi, human users\u2019 consciousness dissolves together to form a <a\\n    href=\\"https://en.wikipedia.org/wiki/Mycelium\\">mycelium-like</a>, distributed network. Through this system, humans\\n  act as individual hypha\u2014meat-based AIs\u2014to lend their computational power to nature in a symbiotic relationship. As\\n  such, the speculative concepts surrounding this drug offer us narratives to provide thoughtful critiques about our\\n  current conditions.</p>","architecture":"<p>Iterations of posters designed for a hypothetical postmodern architecture conference. To encapsulate the topic, the\\n  three different approaches employed are focused on analog mediums, malleable materiality, and a hand-driven process.\\n</p>","dm2020":"<p>A sample of contents designed for the documentation of the <i>Design ManifesTO 2020</i>\u2014a community-guided\\n  city-planning workshop. Due to the academic nature of the project,\\n  distinct categories of research notes were provided to be typesetted in a clear and informative manner. On the other\\n  hand, each book chapter was made with different making methods corresponding to the various workshop topics covered by\\n  participants.</p>","game-studies":"<p>A new identity system for the University of Toronto\u2019s nascent Game Studies program. Using custom game icons, I\\n  developed a generative tool in p5.js to translate 3D renderings of gaming platforms into ASCII outputs\u2014a form of\\n  rendering that traces back to early game design history. With the addition of <a\\n    href=\\"https://en.wikipedia.org/wiki/Perlin_noise\\">Perlin noise</a> and <a\\n    href=\\"https://en.wikipedia.org/wiki/Conway%27s_Game_of_Life\\">Conway\u2019s Game of Life</a>\\n  as overlay patterns, the tool is made procedural and reactive. As such, the sum of these elements of gaming makes up\\n  the whole of \u201cgame studies.\u201d</p>","i-voted":"<p><i>I VOTED!</i> was a competition by OCAD U and Instagram to design a story sticker for the 2019 Canadian election.\\n  My runner-up proposal reappropriated the \u201cX\u201d symbol from the previous Ontario election campaign. Additionally, it was\\n  paired with multilingual designs, set in a playful, rounded custom typeface. As such, the X marks the individual civic\\n  act of voting\u2014a common element shared by Canadian citizens across different cultures.</p>","memory-of-memories":"<p>\\n  This book is an exploratory look into the subject of memory through the experimental technique of acetate ink\\n  transfer. It is a method that imperfectly imprints onto surfaces by lifting the ink from the acetate, making the\\n  outcome lighter with every transfer. \u201cImprinting,\u201d \u201ccopying,\u201d and \u201cfading\u201d\u2014all of which connect to the shapes of\\n  memories, making it an apt topic for the formal investigation.\\n</p>","object-bulb":"<p>A rigorous formal exploration of incandescent light bulbs\u2014an object found in quotidian contexts\u2014as an elementary step\\n  into understanding <i>making as research.</i> While the study remained largely visual, the outputs inextricably\\n  suggest connections to a greater context beyond the object itself.</p>","roll":"<p>(Part of my <a href=\\"work/vector-spin-stroke\\">investigation on tools</a>).</p>\\n<p>An early prototype of its motorized version\u2014<a href=\\"work/spin\\"><i>SPIN</i></a>. It consists of multiple toilet paper\\n  rolls with printed text wrapped around their surfaces. The user can rotate the objects against each other to generate\\n  combinations of typographic forms. As a result of their curvatures, each cylinder warps the letterforms and casts\\n  shadows on adjacent rolls. As such, ROLL is a tool that\u2019s concerned with topology and combinatorics.</p>","spin":"<p>(Part of my <a href=\\"work/vector-spin-stroke\\">investigation on tools</a>).</p>\\n<p><i>SPIN</i> is a cylindrical, multi-layered, motorized type-rotation device. It is interested in investigating optics\\n  and\\n  the ways in which type physically appears. By intersecting typography with related areas of concern, such as\\n  occlusion, motion, and topology, the resulting outputs are studies of how typography oscillates between\\n  recognition and obfuscation. Like <a href=\\"work/roll\\"><i>ROLL</i></a>, its shape introduces a fundamental 3D volume\\n  with simple cyclical\\n  motion, making the resulting outputs combinatoric.</p>","stroke":"<p>(Part of my <a href=\\"work/vector-spin-stroke\\">investigation on tools</a>).</p>\\n<p><i>STROKE</i> uses the <a href=\\"https://en.wikipedia.org/wiki/Pantograph\\">pantograph</a> mechanism to translate\\n  writing gestures through different styluses.\\n  The primary holder uses a pencil, while the secondary holder can be adapted with any drawing instrument. As one\\n  end moves, the other follows\u2014it is an encoded replication system that outputs marks with\\n  different qualities based on the same letterform, depending on the nature of the stylus. As such, it explores the\\n  historically significant connection between styluses, styles, glyph systems, and languages.</p>","systemized-creativity":"<p>\\n  This book documents my first year of formal graphic design education. Contrary to preconceived notions of\\n  \u201ccreativity\u201d\u2014a spontaneous, result-driven approach\u2014systems and processes play a much more integral role in design.\\n  Through the help of design languages and reflections, design decisions can be made conscious and autonomous.\\n  By structuring a systematic approach, the conditions and parameters of any given inquiry become visible and\\n  iterable,\\n  allowing the investigation to be exhaustive. This book employs one such self-describe system to illustrate the\\n  concept.\\n</p>","the-poor-image":"<p>A web version of Hito Steyerl\u2019s <a href=\\"https://www.e-flux.com/journal/10/61362/in-defense-of-the-poor-image/\\"><i>In\\n      Defense of the Poor Image</i></a>\u2014an essay concerned with poor images whose quality degrades due to circulation\\n  and compression. While the reader peruses the passages, popular images and website screenshots pop up like illicit\\n  ads, forcing them to wade through the obstruction. Inadvertently, as one drags away the elements, they become\\n  participants in curating the new context for these poor images.</p>\\n<p>\\n  Visit the site at <a href=\\"https://thepoorimage.com\\">thepoorimage.com</a> (desktop only).\\n</p>","thrasher-reconstructed":"<p>A formal, taxonomical, and topological investigation into the information hierarchy present in printed publications.\\n  The magazine is first deconstructed into seven constituent categories (title, images, etc.), then reassembled through\\n  different formal treatments to reconstruct its visual voice in 2D and through motion.</p>\\n<p>A part of the process involved in this project is illustrated in <a href=\\"work/systemized-creativity\\"><i>Systemized\\n      Creativity</i></a>.</p>","vector-spin-stroke":"<p>[Term 1 <a href=\\"/assets/pdf/vector-spin-stroke-literature-review.pdf\\" target=\\"_blank\\">literature review</a>]</p>\\n<p><i>VECTOR, SPIN, STROKE.</i> is an ongoing series that explores the role of tools and tool-making within design\\n  investigations. To position design as an investigative activity is to favor a bottom-up approach instead of a top-down\\n  one. The former discovers, unearths, and assesses, while the latter predetermines, prescribes, and dictates. Thus, a\\n  tool is something that stands between oneself and their outputs\u2014it sets up the conditions within one\'s processes. As\\n  such, tool-making is an activity through which I choose to structure my investigations within graphic design.</p>\\n<p>\\n  For this study, the toolset has been chosen to intersect with the field of typography. Namely, using tools to\\n  construct and deconstruct type and look at the conditions with which visual communication wrestles. It is examined\\n  through three categories: <i><a href=\\"work/vector-struct\\">VECTOR</a></i> is interested in the physical manipulation of\\n  parametric type; <i><a href=\\"work/spin\\">SPIN</a></i> studies the\\n  interaction between typography, topology, and motion; and <i><a href=\\"work/stroke\\">STROKE</a></i> explores the\\n  relationship between the writing hand,\\n  styluses, and letterforms. Being constructed physically, the material nature of the tools gives them different\\n  performances and affordances. As such, to build tools from the ground up is to allow them to be potential openings to\\n  material reality, through which new modes of thinking and making could emerge.\\n</p>","vector-string":"<p>(Part of my <a href=\\"work/vector-spin-stroke\\">investigation on tools</a>).</p>\\n<p>The 2D iteration of <i><a href=\\"work/vector-struct\\">VECTOR-STRUCT</a>:</i> an assortment of glyphs drawn on layers\\n  of\\n  vellum, which are then connected at\\n  their\\n  anchor points with strings.</p>\\n<p><i>By borrowing the logic of interpolation, VECTOR began as an exercise in deconstructing the forms of the flat nib\\n    pen\\n    to investigate the relationship between parametric parts. It grants one the ability to manipulate the points, lines,\\n    areas, and volumes via movement by connecting the layers with elastic material. Through its material resistance, it\\n    provides kinaesthetic feedback to specific actions (rotation, displacement) and intrinsic typographic properties\\n    (min-max distances, weight, contrast, etc.). As such, the resulting formal studies are an iterative, embodied\\n    process\\n    of unearthing vector relations within physical typographic forms.</i></p>","vector-struct":"<p>(Part of my <a href=\\"work/vector-spin-stroke\\">investigation on tools</a>).</p>\\n<p>The 3D iteration of <i><a href=\\"work/vector-string\\">VECTOR-STRING</a>:</i> an assortment of physical letters whose\\n    sides are connected by elastic fabrics.\\n</p>\\n<p><i>By borrowing the logic of interpolation, VECTOR began as an exercise in deconstructing the forms of the flat nib\\n        pen\\n        to investigate the relationship between parametric parts. It grants one the ability to manipulate the points,\\n        lines,\\n        areas, and volumes via movement by connecting the layers with elastic material. Through its material resistance,\\n        it\\n        provides kinaesthetic feedback to specific actions (rotation, displacement) and intrinsic typographic properties\\n        (min-max distances, weight, contrast, etc.). As such, the resulting formal studies are an iterative, embodied\\n        process\\n        of unearthing vector relations within physical typographic forms.</i></p>"}'),ub=lb,cb=Vn.div(Gv||(Gv=a(["\n  ","\n\n  h1 {\n    margin-top: ",";\n    font-size: ",";\n  }\n"])),Ho.mobileBody(),Uo.mobile.workPage.title.margin.css,Fi.mobile.workPage.title.css),db=Vn.div(zv||(zv=a(["\n  font-size: ",";\n  line-height: ",";\n  margin: "," 0;\n  font-weight: ",";\n\n  span {\n    ",";\n  }\n"])),Fi.mobile.workPage.details.css,Pi.text,Uo.mobile.workPage.details.margin.css,Ci,Ho.fontVar({MONO:1})),fb=Vn.span(Vv||(Vv=a(["\n  margin: 0 0.35em;\n"]))),hb=Vn.i(Hv||(Hv=a(["\n  ","\n"])),Ho.slant()),pb=Vn.div(Wv||(Wv=a(["\n  ","\n  position: absolute;\n  top: ",";\n  flex-direction: column;\n  &>:last-child {\n    margin-bottom: 3vw;\n  }\n"])),Ho.flex(),Uo.mobile.app.top.css),mb=function(e){var t=e.data,n=e.Content,i=t.title,o=t.date,a=t.tags,s=t.medium,l=t.id;iv(!0,(function(e){return e.pagePreload(l)}),[t]);var u=(0,r.useCallback)((function(){return(0,ta.jsxs)(cb,{children:[(0,ta.jsx)("h1",{children:i}),(0,ta.jsxs)(db,{children:[(0,ta.jsxs)("p",{children:[(0,ta.jsx)("span",{children:o}),(0,ta.jsx)(fb,{children:"\u2014"}),(0,ta.jsx)(hb,{children:qn(a.join("/").toLocaleLowerCase())})]}),(0,ta.jsx)("p",{children:qn(s.join(", ").toLocaleLowerCase())})]})]})}),[t]),c=(0,r.useCallback)((function(){return(0,ta.jsx)(Xs,{children:ca(ub[l])})}),[t]);return(0,ta.jsx)(Oa.Provider,{value:{pageId:l},children:(0,ta.jsx)(pb,{children:(0,ta.jsx)(n,{WorkInfo:u,Description:c})})})},gb=function(e){var t=e.mediaSettings;return(0,ta.jsx)(Ve,{children:(0,ta.jsxs)(Ge,{path:"/",element:(0,ta.jsx)(tv,{mediaSettings:t}),children:[(0,ta.jsxs)(Ge,{path:"",element:(0,ta.jsx)(hv,{}),children:[(0,ta.jsx)(Ge,{index:!0,element:(0,ta.jsx)(pv,{})}),(0,ta.jsx)(Ge,{path:ga.Contact,element:(0,ta.jsx)(Jv,{})}),(0,ta.jsx)(Ge,{path:ga.Process,element:(0,ta.jsx)(eb,{})})]}),(0,ta.jsxs)(Ge,{path:ga.Work,children:[(0,ta.jsx)(Ge,{path:"",element:(0,ta.jsx)(sb,{})}),Hn.map((function(e){return e.enabled&&(0,ta.jsx)(Ge,{path:e.id,element:(0,ta.jsx)(mb,{data:e,Content:Ru[e.id]})},e.id)}))]}),(0,ta.jsx)(Ge,{path:"*",element:(0,ta.jsx)(Ue,{to:"/",replace:!0})})]})})},yb=function(){return(0,ta.jsxs)(ta.Fragment,{children:[(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"1.webp"})}),(0,ta.jsxs)(Ys,{cols:[2,3],children:[(0,ta.jsx)(ks,{src:"2.webp"}),(0,ta.jsx)(ks,{src:"3.webp"})]}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"22.webp"})}),(0,ta.jsxs)(Ys,{cols:[3,1],toolTip:"A three-page translucent diagram detailing the three layers within the Neurelium structures: centralized, distributed, and individual.",children:[(0,ta.jsx)(ks,{src:"4.webp"}),(0,ta.jsxs)(Tu,{children:[(0,ta.jsx)(ks,{src:"5.webp"}),(0,ta.jsx)(ks,{src:"6.webp"}),(0,ta.jsx)(ks,{src:"7.webp"}),(0,ta.jsx)(ks,{src:"8.webp"}),(0,ta.jsx)(ks,{src:"9.webp"})]})]}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"23.webp"})}),(0,ta.jsxs)(Ys,{cols:[1,2],toolTip:"A draft of an illustrated proposal for the network chronicled by its hypothetical lead researcher. It delineates the historical development of Acogito from a first-person perspective, from its conception to its widespread adaptation.",children:[(0,ta.jsx)(ks,{src:"10.webp"}),(0,ta.jsx)(ks,{src:"11.webp"})]}),(0,ta.jsxs)(Ys,{children:[(0,ta.jsx)(ks,{src:"12.webp"}),(0,ta.jsx)(ks,{src:"13.webp"}),(0,ta.jsx)(ks,{src:"14.webp"})]}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"24.webp"})}),(0,ta.jsx)(Ys,{toolTip:"Four networked information structures that served as references for researchers. Neurons, mycelium, and internet\u2014the three of which synthesized to create the fourth, the Neurelium structure, in a human-fungus-machine synthesis.",children:(0,ta.jsx)(ks,{src:"15.webp"})}),(0,ta.jsxs)(Ys,{children:[(0,ta.jsx)(ks,{src:"16.webp"}),(0,ta.jsx)(ks,{src:"17.webp"})]}),(0,ta.jsxs)(Ys,{children:[(0,ta.jsx)(ks,{src:"18.webp"}),(0,ta.jsx)(ks,{src:"19.webp"})]}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"25.webp"})}),(0,ta.jsx)(Ys,{toolTip:(0,ta.jsxs)(ta.Fragment,{children:[(0,ta.jsxs)("p",{children:["Alongside other graphics of network structures in this project, the deck of transparencies is the generative output of my program in p5.js. The logic is borrowed from ",(0,ta.jsx)(oa,{to:"https://ciphrd.com/2021/03/17/pattern-formation-using-dividing-aggregating-walkers/",children:"Ciphrd\u2019s dividing-aggregating walkers"}),"\u2014the appearance of which heavily resembles mycelial structures."]}),(0,ta.jsx)(ks,{src:"1.gif",isToolTip:!0})]}),children:(0,ta.jsx)(ks,{src:"20.webp"})}),(0,ta.jsx)(el,{grid:[3,3],prefix:"transparencies"}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"26.webp"})}),(0,ta.jsx)(Ys,{toolTip:'An early 24" x 48" poster diagram that illustrates how individual users are attached to the Neurelium system while sustaining their bodily functions.',children:(0,ta.jsx)(ks,{src:"21.webp"})})]})},vb=function(){var e=yi(90);return(0,ta.jsxs)(ta.Fragment,{children:[(0,ta.jsx)(Ys,{toolTip:(0,ta.jsxs)(ta.Fragment,{children:[(0,ta.jsx)("p",{children:"Layers of type and images successively collaged together using wheatpaste. The wetness of the prints allows the process to be subtractive as well as additive."}),(0,ta.jsxs)(Ys,{children:[(0,ta.jsx)(ks,{src:"1.webp",isToolTip:!0}),(0,ta.jsx)(ks,{src:"2.webp",isToolTip:!0})]})]}),children:(0,ta.jsx)(ks,{src:"1.webp",width:e})}),(0,ta.jsx)(Ys,{toolTip:(0,ta.jsxs)(ta.Fragment,{children:[(0,ta.jsx)("p",{children:"Applying gel medium on printed text turns the print into a flexible, translucent material, allowing it to be hand-manipulated."}),(0,ta.jsx)(ks,{src:"3.webp",isToolTip:!0}),(0,ta.jsx)(ks,{src:"4.webp",isToolTip:!0})]}),children:(0,ta.jsx)(ks,{src:"2.webp",width:e})}),(0,ta.jsx)(Ys,{toolTip:"Type made physically with clumps of duct tapes.",children:(0,ta.jsx)(ks,{src:"3.webp",width:e})})]})},bb=function(){return(0,ta.jsxs)(ta.Fragment,{children:[(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"1.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"2.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"3.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"4.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"5.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"6.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"7.webp"})})]})},_b=function(){return(0,ta.jsxs)(ta.Fragment,{children:[(0,ta.jsxs)(Ys,{toolTip:(0,ta.jsxs)(ta.Fragment,{children:[(0,ta.jsx)("p",{children:"In ASCII fashion, these icons are mapped onto the image based on the brightness of the pixel."}),(0,ta.jsx)(ks,{src:"1.webp",isToolTip:!0})]}),children:[(0,ta.jsx)(ks,{src:"1.webp"}),(0,ta.jsx)(ks,{src:"2.webp"})]}),(0,ta.jsxs)(Ys,{children:[(0,ta.jsx)(ks,{src:"3.webp"}),(0,ta.jsx)(ks,{src:"4.webp"})]}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(Ps,{src:"1.webm"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"5.webp",width:"87.5%"})})]})},wb=function(){return(0,ta.jsxs)(ta.Fragment,{children:[(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"1.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"2.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"3.webp"})}),(0,ta.jsxs)(Ys,{children:[(0,ta.jsx)(ks,{src:"4.webp"}),(0,ta.jsx)(ks,{src:"5.webp"})]}),(0,ta.jsx)(Ys,{toolTip:"The languages designed include (not in order): English, French, Arabic, Chinese, Farsi, German, Hindi, Italian, Japanese, Korean, Portuguese, Punjabi, Russian, Spanish, Tagalog, and Vietnamese.",children:(0,ta.jsx)(ks,{src:"6.webp"})}),(0,ta.jsx)(el,{grid:[4,4],prefix:"stickers"})]})},Eb=function(){return(0,ta.jsxs)(ta.Fragment,{children:[(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"1.webp"})}),(0,ta.jsxs)(Ys,{toolTip:"The book is hand-bound via kettle-stitching. The paper is Legion Revere Book: the print on which rubs off over time\u2014making it an unsuitable for regular printing but an appropriate one for the project.",children:[(0,ta.jsx)(ks,{src:"2.webp"}),(0,ta.jsx)(ks,{src:"3.webp"})]}),(0,ta.jsxs)(Ys,{children:[(0,ta.jsx)(ks,{src:"4.webp"}),(0,ta.jsx)(ks,{src:"5.webp"}),(0,ta.jsx)(ks,{src:"6.webp"})]}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"7.webp"})}),(0,ta.jsxs)(Ys,{children:[(0,ta.jsx)(ks,{src:"8.webp"}),(0,ta.jsx)(ks,{src:"9.webp"})]}),(0,ta.jsxs)(Ys,{children:[(0,ta.jsx)(ks,{src:"10.webp"}),(0,ta.jsx)(ks,{src:"11.webp"})]}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"12.webp"})}),(0,ta.jsxs)(Ys,{toolTip:"Quote paraphrased from Experimental Serial Lain (1998).",children:[(0,ta.jsx)(ks,{src:"13.webp"}),(0,ta.jsx)(ks,{src:"14.webp"})]}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"15.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"16.webp"})})]})},xb=function(){return(0,ta.jsxs)(ta.Fragment,{children:[(0,ta.jsxs)(Ys,{toolTip:"Afterimages created with various parts of the lightbulbs using blue and orange cyanotypes.",children:[(0,ta.jsx)(ks,{src:"1.webp"}),(0,ta.jsx)(ks,{src:"2.webp"})]}),(0,ta.jsxs)(Ys,{children:[(0,ta.jsx)(ks,{src:"3.webp"}),(0,ta.jsx)(ks,{src:"4.webp"}),(0,ta.jsx)(ks,{src:"5.webp"})]}),(0,ta.jsxs)(Ys,{children:[(0,ta.jsx)(ks,{src:"6.webp"}),(0,ta.jsx)(ks,{src:"7.webp"})]}),(0,ta.jsx)(el,{grid:[3,3],prefix:"spray-paint",toolTip:"Spray painted partial negatives of the lightbulbs blending into/overlaying on top of one another.",props:{maxSize:.85}}),(0,ta.jsxs)(Ys,{toolTip:"High contrast, long exposure photography of individual lightbulbs.",children:[(0,ta.jsx)(ks,{src:"8.webp"}),(0,ta.jsx)(ks,{src:"9.webp"})]}),(0,ta.jsxs)(Ys,{children:[(0,ta.jsx)(ks,{src:"10.webp"}),(0,ta.jsx)(ks,{src:"11.webp"})]})]})},Sb=function(){return(0,ta.jsx)(el,{grid:[2,4],prefix:"scans"})},Tb=function(){return(0,ta.jsxs)(ta.Fragment,{children:[(0,ta.jsxs)(Ys,{cols:[2,1],children:[(0,ta.jsx)(ks,{src:"1.webp"}),(0,ta.jsx)(Ps,{src:"1.webm"})]}),(0,ta.jsx)(Ys,{toolTip:(0,ta.jsxs)(ta.Fragment,{children:[(0,ta.jsx)("p",{children:"This apparatus consists of mostly 3D-printed parts. Driven by separate mechanical motors, the four cylinders in the center can rotate independently."}),(0,ta.jsxs)(Ys,{children:[(0,ta.jsx)(ks,{src:"1.webp",isToolTip:!0}),(0,ta.jsx)(ks,{src:"2.webp",isToolTip:!0})]})]}),children:(0,ta.jsx)(ks,{src:"2.webp"})}),(0,ta.jsx)(Ys,{toolTip:"Previously unthought-of material conditions of typography are revealed through the documentation of the tool: aperture, shutter speed, reflection, inter-layer shadows, backlight diffusion, and print type\u202f\u2014\u202freal-life challenges that affect the legibility of type and communication.",children:(0,ta.jsx)(ll,{type:ol.Youtube,src:"tTNSkb7iunw",title:"SPIN Demo"})}),(0,ta.jsxs)(Ys,{cols:[1,2],toolTip:(0,ta.jsxs)(ta.Fragment,{children:[(0,ta.jsx)("p",{children:"Prints (i.e. acetates, stencils) can be inserted into the holders at the base of the cylinders, allowing the inputs of the system to be variable."}),(0,ta.jsx)(ks,{src:"3.webp",isToolTip:!0}),(0,ta.jsx)("p",{children:"Similarly, changing the number of rolls and their rotation cycles make the outputs combinatoric and multiplicative."})]}),children:[(0,ta.jsx)(Ps,{src:"2.webm"}),(0,ta.jsx)(ks,{src:"3.webp"})]}),(0,ta.jsx)(el,{grid:[4,4],prefix:"outputs",toolTip:(0,ta.jsxs)(ta.Fragment,{children:[(0,ta.jsxs)("p",{children:[(0,ta.jsx)("b",{children:"Combinatorics"}),"\u202f\u2014\u202fcombining Chinese radicals cyclically to make existent and non-existent characters."]}),(0,ta.jsxs)("p",{children:[(0,ta.jsx)("b",{children:"Occlusion"}),"\u202f\u2014\u202fphysically obscuring typography under different lighting and optical conditions."]}),(0,ta.jsxs)("p",{children:[(0,ta.jsx)("b",{children:"Halation"}),"\u202f\u2014\u202fusing different backlighting to affect the legibility of type in motion; relevant for highway signages and people with astigmatism."]})]})})]})},Ab={splitNum:20,spring:.4,friction:.45},Mb=Bo.desktop.panto.brush,Rb=Mb.primary,Cb=Mb.secondary,Ib={PRIMARY_BRUSH:d(d({},Ab),{},{fill:"#AFAFAF",sizeReductionFactor:.05,maxSize:Rb.max,minSize:Rb.min}),SECONDARY_BRUSH:d(d({},Ab),{},{fill:li.strokeSecondary,sizeReductionFactor:.4,maxSize:Cb.max,minSize:Cb.max,radius:Cb.radius})},kb=function(){function e(t,r,n){b(this,e),this.setting=void 0,this.p5=void 0,this.drawingContext=void 0,this.x=void 0,this.y=void 0,this.prevX=void 0,this.prevY=void 0,this.modifiedX=void 0,this.modifiedY=void 0,this.size=void 0,this.prevSize=void 0,this.isDrawing=void 0,this.setting=t,this.p5=r,this.drawingContext=n,this.x=0,this.y=0,this.prevX=0,this.prevY=0,this.modifiedX=0,this.modifiedY=0,this.size=0,this.prevSize=0,this.isDrawing=!1}return w(e,[{key:"updateDrawingState",value:function(e,t){if(!this.mouseIsPressed)return this.stopDrawing();this.isDrawing||this.startDrawing(e,t)}},{key:"stopDrawing",value:function(){this.modifiedX=this.modifiedY=0,this.isDrawing=!1}},{key:"startDrawing",value:function(e,t){this.isDrawing=!0,this.prevX=this.x=e,this.prevY=this.y=t}},{key:"draw",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.drawingContext;if(this.updateDrawingState(e,t),this.isDrawing){var i=this.setting,o=i.fill,a=i.splitNum,s=i.spring,l=i.friction,u=i.sizeReductionFactor,c=i.maxSize,d=i.minSize;Qi(n,(function(){n.stroke("".concat(o)),n.fill("".concat(o)),r.prevSize=r.size,r.modifiedX+=(e-r.x)*s,r.modifiedY+=(t-r.y)*s,r.modifiedX*=l,r.modifiedY*=l,r.size=Math.max(c.value-Math.sqrt(Math.pow(r.modifiedX,2)+Math.pow(r.modifiedY,2))*u,d.value);for(var i=0;i<a;++i)r.prevX=r.x,r.prevY=r.y,r.x+=r.modifiedX/a,r.y+=r.modifiedY/a,r.prevSize+=(r.size-r.prevSize)/a,r.doDraw(n)}))}}},{key:"doDraw",value:function(e){this.mouseMoved?(e.strokeWeight(this.prevSize),e.line(this.x,this.y,this.prevX,this.prevY)):(e.noStroke(),e.ellipse(this.x,this.y,this.prevSize))}},{key:"mouseIsPressed",get:function(){return this.p5.mouseIsPressed}},{key:"mouseX",get:function(){return this.p5.mouseX}},{key:"mouseY",get:function(){return this.p5.mouseY}},{key:"mouseMoved",get:function(){return this.x!==this.prevX&&this.y!==this.prevY}}]),e}(),Pb=kb,Ob=function(){function e(t,r,n,i,o){var a=this,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;b(this,e),this.p5=void 0,this.vector=void 0,this.w=void 0,this.rotation=void 0,this.radius=void 0,this.brushPoints=void 0,this.p5=t,this.vector=t.createVector(r,n),this.w=i,this.radius=o/2,this.rotation=s,this.brushPoints=[this.p5.createVector(-this.halfMarkW,0),this.p5.createVector(this.halfMarkW,0)].map((function(e){return new jb(t,e.rotate(a.rotation).add(a.vector),a.radius)}))}return w(e,[{key:"markW",get:function(){return this.w+this.radius+2}},{key:"halfMarkW",get:function(){return this.markW/2}},{key:"x",get:function(){return this.vector.x}},{key:"y",get:function(){return this.vector.y}}]),e}(),jb=function(){function e(t,r,n){b(this,e),this.p5=void 0,this.vector=void 0,this.radius=void 0,this.p5=t,this.vector=r,this.radius=n}return w(e,[{key:"draw",value:function(){this.p5.ellipse(this.x,this.y,2*this.radius)}},{key:"x",get:function(){return this.vector.x}},{key:"y",get:function(){return this.vector.y}}]),e}(),Nb=Ob,Lb=function(e){x(r,e);var t=M(r);function r(e,n,i){var o,a;return b(this,r),(a=t.call(this,e,n,i)).rotation=void 0,a.radius=void 0,a.rotation=Math.PI/4,a.radius=null!==(o=e.radius)&&void 0!==o?o:new hi(4),a}return w(r,[{key:"doDraw",value:function(e){e.rectMode(e.CENTER),e.ellipseMode(e.CENTER);var t=this.x,r=this.y,n=this.prevX,i=this.prevY;if(n!==t||i!==r){var o=[new Nb(e,n,i,this.prevSize,this.radius.value,this.rotation),new Nb(e,t,r,this.prevSize,this.radius.value,this.rotation)];this.fillInShape(e,this.getOrderedBrushPoints(o))}}},{key:"fillInShape",value:function(e,t){var r=this;e.beginShape(),t.forEach((function(n,i){var o,a,s=(a=i,o=v(o=t),[].concat(v(o.splice(a)),v(o))),l=s.map((function(e){return e.vector})),u=r.getStrokePlacement(l),c=l[1].copy().sub(l[0]);c.setHeading(c.heading()+Math.PI/2*u),Qn(2,(function(t){c.setMag(s[t].radius);var r=l[t].copy().add(c);e.vertex(r.x,r.y)})),s[0].draw()})),e.endShape(e.CLOSE)}},{key:"getOrderedBrushPoints",value:function(e){return[e[0].brushPoints[0],e[1].brushPoints[0],e[1].brushPoints[1],e[0].brushPoints[1]]}},{key:"getStrokePlacement",value:function(e){var t=function(t){return t.copy().sub(e[1])},r=t(e[0]),n=t(e[2]);return r.angleBetween(n)>=0?1:-1}}]),r}(Pb),Db=Lb,Fb=function(e){var t,r,n,i,o,a=e.isClearingRef,s=e.placeholderRef,l={anchor:void 0,primary:void 0,secondary:void 0,topRight:void 0,rightMid:void 0,leftBot:void 0,leftMid:void 0},u=[],c=!1,d=!1,f=function(e){var r=t,o=r.w,a=r.h;i=o/1.985,n&&n.canvas.remove(),n=e.createGraphics(o,a),u=[new Pb(Ib.PRIMARY_BRUSH,e,n),new Db(Ib.SECONDARY_BRUSH,e,n)]},h=function(){n.clear(0,0,0,0),a.current=!1},p=function(e){var r,n,o=g(t.sides,4),a=o[0],s=o[1],u=o[2],c=o[3],d=(c-s)/2;null!==(r=l.anchor)&&void 0!==r||(l.anchor=e.createVector());var f=t.toScreenCoors(0,d);l.anchor.x=f[0],l.anchor.y=f[1],null!==(n=l.primary)&&void 0!==n||(l.primary=e.createVector.apply(e,v(t.toScreenCoors(1.9*i,d)))),l.primary.x=ci().clamp(e.mouseX,a,u),l.primary.y=ci().clamp(e.mouseY,s,c);var h=m(e);l.topRight=h[0],l.leftBot=h[1];var p=l.anchor,y=l.primary,b=l.topRight,_=i/2,w=y.copy().sub(b),E=b.copy().sub(p),x=w.copy().setMag(_);l.leftMid=p.copy().add(x),l.rightMid=b.copy().add(x),l.secondary=l.leftMid.copy().add(E.setMag(_))},m=function(e){var t=l.anchor,r=l.primary;if(!t||!r)throw new Error("Incomplete vectors: ".concat(l));var n=function(e,t,r,n){var i=e.x,o=e.y,a=r.x,s=r.y,l=e.dist(r);if(!(Math.abs(t-n)<=l&&l<=t+n))return[];var u=Math.pow(l,2),c=Math.pow(l,4),d=(Math.pow(t,2)-Math.pow(n,2))/(2*u),f=Math.pow(t,2)-Math.pow(n,2),h=Math.sqrt(2*(Math.pow(t,2)+Math.pow(n,2))/u-Math.pow(f,2)/c-1),p=(i+a)/2+d*(a-i),m=h*(s-o)/2,g=(o+s)/2+d*(s-o),y=h*(i-a)/2;return[[p+m,g+y],[p-m,g-y]]}(t,i,r,i);if(!n.length){var o=r.copy().sub(t);l.primary=t.copy().add(o.setMag(2*i));var a=t.copy().add(o.setMag(i));return[a,a.copy()]}var s=n.findIndex((function(r){if(!l.primary)throw new Error("Incomplete vectors: ".concat(l));var n=e.createVector.apply(e,v(r)),i=t.copy().sub(n),o=n.copy().sub(l.primary),a=i.angleBetween(o);return ci().inRange(a,Math.PI)}));return[s,1^s].map((function(t){return e.createVector.apply(e,v(n[t]))}))},y=function(e,r,i){Qi(e,(function(){e.stroke(0);var o=l.primary,a=l.secondary;if(!o||!a)throw new Error("Incomplete vectors: ".concat(l));r.current=d,i?u.forEach((function(e,r){return e.draw.apply(e,v(t.toRectCoors(r?a:o)))})):u.forEach((function(e){return e.stopDrawing()}));var s=t.toScreenCoors(0,0);e.image.apply(e,[n].concat(v(s))),c&&b(e)}))},b=function(e){var t;if(t=l,!ci().every(t,Boolean))throw new Error("Incomplete vectors: ".concat(l));var r=l.anchor,n=l.primary,i=l.topRight,o=l.leftBot,a=l.leftMid,s=l.rightMid;e.stroke(li.strokePanto),e.strokeWeight(Bo.desktop.panto.lineWeight.value),Qi(e,(function(){e.line.apply(e,v(Xi(r)).concat(v(Xi(o)))),e.line.apply(e,v(Xi(a)).concat(v(Xi(s)))),e.line.apply(e,v(Xi(i)).concat(v(Xi(n)))),e.line.apply(e,v(Xi(r)).concat(v(Xi(i))))})),e.strokeWeight(bi(.35)),e.fill(255),ti(l,(function(t,r){var n=r.x,i=r.y,o=["primary","secondary"];o.includes(t)?(e.stroke("".concat(u[o.indexOf(t)].setting.fill)),e.fill(255)):(e.stroke(li.strokePanto),e.fill(0)),e.ellipse(n,i,Bo.desktop.panto.pointSize.value)}))};return{setup:function(e){if(!ts(s))throw rs("pantograph placeholder");t=new Ds(s),r=new Ds(s,Bo.desktop.panto.hoverPadding.value),e.background(255),e.ellipseMode(e.CENTER),e.noFill(),f(e)},draw:function(e,n){var i=n.hideCursorRef,s=a.current;s&&h();d=t.mouseIsOver(e.mouseX,e.mouseY);var l=r.mouseIsOver(e.mouseX,e.mouseY);c=!0,l?o=Date.now():(!o||Date.now()-o>=100)&&(c=!1,o=void 0),p(e);var u=e.mouseIsPressed&&c&&!s;y(e,i,u)},windowResized:f,cleanup:function(e){e.hideCursorRef.current=!1,n&&n.canvas.remove()}}},Ub=Vn.div(Zv||(Zv=a(["\n","\n  width: 100%;\n  aspect-ratio: 2 / 1;\n  font-size: ",";\n  font-weight: ",";\n  color: ",";\n\n  > p, button {\n    margin: 1em;\n    height: fit-content;\n  }\n"])),Ho.chain().noSelect().flex("initial","space-between"),Fi.desktop.workPageStroke.caption.css,Ii,li.strokeCaption),Bb=Vn.p(qv||(qv=a(["\n  pointer-events: none;\n"]))),Gb=Vn.button(Yv||(Yv=a(["\n  cursor: pointer;\n  color: ",";\n  border: "," solid currentColor;\n  padding: 0.5em;\n  border-radius: ",";\n\n  &:hover {\n    color: ",";\n    border-color: ",";\n  }\n"])),li.strokeClear,Uo.desktop.workPageStroke.button.border.css,Uo.desktop.workPageStroke.button.borderRadius.css,li.activeElem,li.activeElem),zb=function(){var e=g((0,r.useState)(null),2),t=e[0],n=e[1],i=(0,r.useRef)(null),o=(0,r.useRef)(!1),a=[(0,r.useRef)(null),(0,r.useRef)(null),(0,r.useRef)(null)];xu((function(){return Su({elemRefs:[i].concat(a)})})),xu((function(){return Fb({placeholderRef:i,isClearingRef:o})}));var s=function(e,t){return n(t?e:null)};return(0,ta.jsxs)(ta.Fragment,{children:[(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"1.webp"})}),(0,ta.jsxs)(Ys,{children:[(0,ta.jsx)(Ps,{src:"1.webm"}),(0,ta.jsx)(Ps,{src:"2.webm"})]}),(0,ta.jsxs)(Ys,{toolTip:(0,ta.jsxs)(ta.Fragment,{children:[(0,ta.jsxs)("p",{children:[(0,ta.jsx)("b",{children:"Top:"})," secondary stylus;",(0,ta.jsx)("br",{}),(0,ta.jsx)("b",{children:"Bottom:"})," primary stylus;"]}),(0,ta.jsx)("p",{children:"Due to the simultaneity with which both styluses write, there is no clear logical order: the letterform is derived from the gesture as much as the gesture is derived from the letterform. The consequent mark-making system investigates the relationship between the two."})]}),children:[(0,ta.jsx)(ks,{src:"2.webp"}),(0,ta.jsx)(ks,{src:"3.webp"}),(0,ta.jsx)(ks,{src:"4.webp"})]}),(0,ta.jsx)(Ys,{toolTip:(0,ta.jsxs)("p",{children:["A simulated recreation of the pantograph in-use with a flat-tipped marker. In this configuration, marks made with the primary stylus will be replicated at a size ratio of ",(0,ta.jsx)("b",{children:"2:1"}),". With the physical tool, the placement of the secondary holder can be changed to modify the ",(0,ta.jsx)("b",{children:"scale, proportion, and slant"})," of the output."]}),children:(0,ta.jsxs)(Ub,{ref:i,children:[(0,ta.jsx)(Bb,{children:"DEMO - Drawing Area"}),(0,ta.jsx)(Gb,{onClick:function(){return o.current=!0},children:" CLEAR "})]})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ll,{type:ol.Youtube,src:"Xt4DlydwnO4",aspectRatio:"14 / 9",title:"STROKE Demo"})}),(0,ta.jsx)(Ys,{children:a.map((function(e,r){return(0,ta.jsx)(ks,{ref:e,src:"hover/".concat(r+(t===r?3:0)+1,".webp"),onMouseOver:function(){return s(r,!0)},onMouseOut:function(){return s(r,!1)}},r)}))}),(0,ta.jsx)(el,{grid:[4,3],prefix:"outputs"})]})},Vb=function(){return(0,ta.jsxs)(ta.Fragment,{children:[(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"1.webp"})}),(0,ta.jsxs)(Ys,{cols:[2,3],children:[(0,ta.jsx)(ks,{src:"2.webp"}),(0,ta.jsx)(ks,{src:"3.webp"})]}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"4.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"5.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"6.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"7.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"8.webp"})})]})},Hb=function(){return(0,ta.jsxs)(ta.Fragment,{children:[(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"1.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(Ps,{src:"1.webm"})}),(0,ta.jsx)(el,{grid:[2,3],prefix:"screenshots"})]})},Wb=function(){var e=yi(70);return(0,ta.jsxs)(ta.Fragment,{children:[(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"1.webp"})}),(0,ta.jsxs)(Ys,{children:[(0,ta.jsx)(ks,{src:"2.webp"}),(0,ta.jsx)(ks,{src:"3.webp"})]}),(0,ta.jsxs)(Ys,{children:[(0,ta.jsx)(ks,{src:"4.webp"}),(0,ta.jsx)(ks,{src:"5.webp"})]}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(Ps,{src:"1.webm",width:e})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(Ps,{src:"2.webm",width:e})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(Ps,{src:"3.webm",width:e})}),(0,ta.jsxs)(Ys,{children:[(0,ta.jsx)(ks,{src:"6.webp"}),(0,ta.jsx)(ks,{src:"7.webp"})]}),(0,ta.jsxs)(Ys,{children:[(0,ta.jsx)(ks,{src:"8.webp"}),(0,ta.jsx)(ks,{src:"9.webp"}),(0,ta.jsx)(ks,{src:"10.webp"})]})]})},Zb=function(){return(0,ta.jsxs)(ta.Fragment,{children:[(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"1.webp"})}),(0,ta.jsxs)(Ys,{cols:[5,3],children:[(0,ta.jsx)(ks,{src:"2.webp"}),(0,ta.jsx)(ks,{src:"3.webp"})]}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"4.webp"})}),(0,ta.jsxs)(Ys,{children:[(0,ta.jsx)(ks,{src:"5.webp"}),(0,ta.jsx)(ks,{src:"6.webp"})]}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"7.webp"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(Ps,{src:"1.webm"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"8.webp"})}),(0,ta.jsxs)(Ys,{cols:[2,3],children:[(0,ta.jsx)(ks,{src:"9.webp"}),(0,ta.jsx)(ks,{src:"10.webp"})]}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"11.webp"})})]})},qb=function(){var e,t=function(t){(e=new Dl(t,"\xc4",Tl.VECTOR_STRING_TRANSLATE)).setting.mapFunction=function(t,r){var n=r.sub(e.setting.mouseOrigin),i=2*Math.PI/20,o=Math.floor(n.heading()/i)*i,a="object"===typeof e.setting.maxStretch?e.setting.maxStretch.x:e.setting.maxStretch;return n.setHeading(o).setMag(a).add(t)}};return{setup:function(e){t(e)},draw:function(t){var r=t.width/2,n=t.height/2,i=.35*t.width;e.setTransform({x:r,y:n,scale:new hi(i/45)}),e.setting.maxStretch=i/6.25;var o=Uo.desktop.mainContainer.left.add(Uo.desktop.mainContainer.width.div(2)).value;e.setMouseOrigin([o-t.canvas.getBoundingClientRect().x,+n]),e.write()},windowResized:t}},Yb=function(){var e=g((0,r.useState)(1),2),t=e[0],n=e[1],i=(0,r.useRef)(null);(0,r.useEffect)((function(){var e;return ua(document.body,"mousemove",(function(t){var r,o=t.clientX,a=t.clientY;if(ts(i)){null!==(r=e)&&void 0!==r||(e=new Ds(i));var s=Math.atan2(a-e.cy,o-e.cx);s<=0&&(s=2*Math.PI+s);var l=Math.ceil(s/(2*Math.PI/20));n(l)}}))}),[]);var o=nv(qb).canvasHandlers;return(0,ta.jsxs)(ta.Fragment,{children:[(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"1.webp"})}),(0,ta.jsxs)(Ys,{cols:[4,3],ref:i,children:[(0,ta.jsx)(ks,{src:"translate/".concat(t,".webp")},t),(0,ta.jsx)(wl,d({},o))]}),(0,ta.jsxs)(Ys,{toolTip:(0,ta.jsxs)("p",{children:[(0,ta.jsx)("b",{children:"2D-Transform:"})," Translate;"]}),children:[(0,ta.jsx)(ks,{src:"2.webp"}),(0,ta.jsx)(ks,{src:"3.webp"}),(0,ta.jsx)(ks,{src:"4.webp"})]}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ll,{type:ol.Youtube,src:"vPiSml8Y62k",aspectRatio:"5 / 3",title:"VECTOR [STRING]"})}),(0,ta.jsxs)(Ys,{toolTip:(0,ta.jsxs)("p",{children:[(0,ta.jsx)("b",{children:"2D-Transform:"})," Rotate;"]}),children:[(0,ta.jsx)(ks,{src:"5.webp"}),(0,ta.jsx)(ks,{src:"6.webp"}),(0,ta.jsx)(ks,{src:"7.webp"})]}),(0,ta.jsx)(Ys,{toolTip:(0,ta.jsxs)("p",{children:[(0,ta.jsx)("b",{children:"Varied Forms S"})," \u2014 using slightly different letterforms for the two connected glyphs."]}),children:(0,ta.jsx)(ks,{src:"8.webp"})}),(0,ta.jsxs)(Ys,{children:[(0,ta.jsx)(ks,{src:"9.webp"}),(0,ta.jsx)(ks,{src:"10.webp"})]}),(0,ta.jsxs)(Ys,{children:[(0,ta.jsx)(ks,{src:"11.webp"}),(0,ta.jsx)(ks,{src:"12.webp"})]}),(0,ta.jsx)(Ys,{toolTip:(0,ta.jsxs)("p",{children:[(0,ta.jsx)("b",{children:"Three-Layered G"})," \u2014 using three layers of vellum; the resulting output appears a lot more structural."]}),children:(0,ta.jsx)(ks,{src:"13.webp"})}),(0,ta.jsxs)(Ys,{children:[(0,ta.jsx)(ks,{src:"14.webp"}),(0,ta.jsx)(ks,{src:"15.webp"})]}),(0,ta.jsxs)(Ys,{children:[(0,ta.jsx)(ks,{src:"16.webp"}),(0,ta.jsx)(ks,{src:"17.webp"})]}),(0,ta.jsx)(Ys,{toolTip:"Superimposed image of multiple A with different angles of translation.",children:(0,ta.jsx)(ks,{src:"18.webp"})})]})},Xb=["title","titleId"];function Kb(){return Kb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kb.apply(this,arguments)}function Qb(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function $b(e,t){var n=e.title,i=e.titleId,o=Qb(e,Xb);return r.createElement("svg",Kb({id:"a",xmlns:"http://www.w3.org/2000/svg",width:"4in",height:"5.07in",viewBox:"0 0 288 365.4",ref:t,"aria-labelledby":i},o),n?r.createElement("title",{id:i},n):null,r.createElement("path",{d:"m192.6,63.9c.18,0,.36.01.53.03.15,0,.29.03.43.06h.02c.09.02.19.04.29.06.02.01.04.01.06.02.09.02.19.05.28.08.04.01.08.02.12.04.11.03.22.07.32.12.15.06.31.13.46.21,0,0,.02,0,.03.02.16.08.31.17.45.27.14.09.27.19.4.29.02.01.03.02.05.03.13.12.26.23.38.35l54,54c2.11,2.11,2.11,5.53,0,7.64-1.05,1.05-2.44,1.58-3.82,1.58s-2.76-.53-3.82-1.58l-52.42-52.42h-92.72l-50.84,50.84v119.72l50.84,50.84h138.16c2.98,0,5.4,2.42,5.4,5.4s-2.42,5.4-5.4,5.4H95.4c-.18,0-.36-.01-.53-.03-.15-.01-.29-.03-.43-.06h-.02c-.09-.02-.19-.04-.29-.06-.02-.01-.04-.01-.06-.02-.09-.02-.19-.05-.28-.08-.31-.1-.61-.22-.9-.37-.33-.17-.64-.38-.93-.61-.13-.11-.26-.23-.38-.35l-54-54c-.12-.12-.24-.25-.35-.38-.23-.29-.44-.6-.61-.93-.03-.05-.06-.11-.08-.17-.06-.12-.12-.24-.16-.36-.03-.06-.05-.11-.06-.17-.07-.16-.12-.33-.15-.49,0-.01,0-.03,0-.04-.05-.16-.08-.33-.1-.49-.01-.07-.02-.15-.03-.23-.02-.18-.03-.37-.03-.56v-124.2c0-.19,0-.38.03-.56,0-.08.02-.16.03-.23.02-.16.05-.33.1-.49,0,0,0-.03,0-.04.03-.16.08-.33.15-.49.01-.06.03-.11.06-.17.04-.12.1-.24.16-.36.02-.06.05-.12.08-.17.17-.33.38-.64.61-.93.11-.13.23-.26.35-.38l54-54c.12-.12.25-.24.38-.35.29-.23.6-.44.93-.61.29-.15.59-.27.9-.37.09-.03.19-.06.28-.08.02,0,.04,0,.06-.02.1-.02.2-.04.29-.06h.02c.14-.03.28-.05.43-.06.17-.02.35-.03.53-.03h97.2m0-2h-97.2c-.24,0-.48.01-.71.04-.15.01-.29.03-.43.05h-.03l-.23.05c-.08.02-.16.03-.24.05l-.26.05-.07.03c-.09.02-.17.05-.25.08-.42.13-.81.3-1.19.49-.42.22-.83.49-1.25.82l-.03.02-.02.02c-.17.15-.34.3-.5.46l-54,54c-.16.16-.32.33-.46.5l-.02.02-.02.02c-.32.4-.58.8-.8,1.21-.06.11-.11.22-.16.33-.06.11-.12.25-.18.4-.04.09-.08.19-.11.31,0,.02-.02.05-.03.07l-.22.22v.59c-.04.16-.07.33-.09.51l-.03.23c-.03.28-.05.54-.05.81v124.2c0,.27.01.53.04.78l.04.29c.02.16.05.31.08.46v.57l.22.23s.03.07.04.1c.04.12.08.22.11.31.06.15.12.29.18.4.05.11.1.22.16.33.21.41.48.81.8,1.21l.02.02.02.02c.15.17.3.34.46.5l54,54c.16.16.33.32.5.46l.02.02.03.02c.41.33.84.6,1.26.82.37.19.77.35,1.2.5.06.02.12.04.18.06h.01s.04.02.04.02l.06.03.26.05c.09.02.17.03.25.05l.21.05h.05c.14.02.28.04.43.05.23.03.47.04.71.04h140.4c4.08,0,7.4-3.32,7.4-7.4s-3.32-7.4-7.4-7.4H98.47l-49.67-49.67v-118.06l49.67-49.67h91.06l51.83,51.83c1.4,1.4,3.26,2.17,5.23,2.17s3.84-.77,5.23-2.17,2.17-3.26,2.17-5.23-.77-3.84-2.17-5.23l-54-54c-.1-.1-.21-.2-.32-.3l-.11-.1-.21-.19-.12-.06c-.12-.09-.23-.17-.36-.25-.12-.08-.24-.16-.36-.23l-.03-.03-.2-.1-.07-.04c-.18-.1-.37-.19-.59-.28-.15-.07-.31-.13-.47-.18-.09-.03-.16-.05-.22-.07-.04-.01-.09-.03-.13-.04h-.01s-.04-.02-.04-.02l-.06-.03-.26-.05c-.09-.02-.17-.03-.25-.05l-.21-.05h-.05c-.14-.02-.29-.04-.43-.05-.23-.03-.47-.04-.71-.04h0Z",style:{strokeWidth:0}}))}var Jb=r.forwardRef($b),e_=(n.p,["title","titleId"]);function t_(){return t_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t_.apply(this,arguments)}function r_(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function n_(e,t){var n=e.title,i=e.titleId,o=r_(e,e_);return r.createElement("svg",t_({id:"a",xmlns:"http://www.w3.org/2000/svg",width:"4in",height:"5.07in",viewBox:"0 0 288 365.4",ref:t,"aria-labelledby":i},o),n?r.createElement("title",{id:i},n):null,r.createElement("path",{d:"m192.6,63.9c.88,0,1.74.21,2.51.61.48.26.92.58,1.31.97l54,54c1.01,1.01,1.58,2.39,1.58,3.82v64.8c0,2.98-2.42,5.4-5.4,5.4H46.8v51.76l50.84,50.84h138.16c2.98,0,5.4,2.41,5.4,5.4s-2.42,5.4-5.4,5.4H95.4c-.88,0-1.74-.22-2.51-.62-.48-.25-.92-.57-1.31-.96l-54-54c-1.01-1.02-1.58-2.39-1.58-3.82v-124.2c0-1.43.57-2.81,1.58-3.82l54-54c.39-.39.83-.71,1.31-.96.77-.41,1.63-.62,2.51-.62h97.2M46.8,182.7h194.4v-57.17l-50.84-50.83h-92.72l-50.84,50.83v57.17M192.6,61.9h-97.2c-1.21,0-2.4.3-3.45.85-.65.34-1.26.78-1.78,1.31l-54,54c-1.38,1.38-2.17,3.28-2.17,5.23v124.2c0,1.96.77,3.82,2.16,5.23l54.01,54.01c.53.53,1.13.97,1.8,1.32,1.07.55,2.25.85,3.43.85h140.4c4.08,0,7.4-3.32,7.4-7.4s-3.32-7.4-7.4-7.4H98.47l-49.67-49.67v-48.93h197.8c4.08,0,7.4-3.32,7.4-7.4v-64.8c0-1.95-.79-3.86-2.17-5.23l-54-54c-.51-.51-1.11-.96-1.77-1.31-1.08-.56-2.27-.85-3.46-.85h0Zm-94.13,14.8h91.06l49.67,49.66v54.34H48.8v-54.34l49.67-49.66h0Z",style:{strokeWidth:0}}))}var i_=r.forwardRef(n_),o_=(n.p,["title","titleId"]);function a_(){return a_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a_.apply(this,arguments)}function s_(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function l_(e,t){var n=e.title,i=e.titleId,o=s_(e,o_);return r.createElement("svg",a_({id:"a",xmlns:"http://www.w3.org/2000/svg",width:"4in",height:"5.07in",viewBox:"0 0 288 365.4",ref:t,"aria-labelledby":i},o),n?r.createElement("title",{id:i},n):null,r.createElement("path",{d:"m192.6,63.9c.88,0,1.74.22,2.51.62.48.25.92.57,1.31.96l54,54c1.01,1.01,1.58,2.39,1.58,3.82v124.2c0,.88-.22,1.74-.62,2.51-.25.48-.57.92-.96,1.31l-54,54c-1.01,1.01-2.39,1.58-3.82,1.58h-97.2c-.88,0-1.74-.22-2.51-.62-.48-.25-.92-.57-1.31-.96l-54-54c-1.01-1.01-1.58-2.38-1.58-3.82v-124.2c0-.88.22-1.74.62-2.51.25-.48.57-.92.96-1.31l54-54c1.01-1.01,2.39-1.58,3.82-1.58h97.2m-94.96,232.2h92.72l50.84-50.83v-119.73l-50.84-50.84h-92.72l-50.84,50.84v119.73l50.84,50.83M192.6,61.9h-97.2c-1.94,0-3.85.79-5.23,2.16l-54,54c-.52.52-.97,1.13-1.32,1.79-.56,1.06-.85,2.25-.85,3.45v124.2c0,1.97.77,3.83,2.16,5.23l54,54c.53.53,1.14.98,1.8,1.32,1.06.55,2.24.84,3.44.84h97.2c1.98,0,3.84-.77,5.23-2.17l54-54c.53-.53.97-1.13,1.32-1.8.55-1.05.85-2.24.85-3.44v-124.2c0-1.97-.77-3.83-2.16-5.23l-54-54c-.52-.52-1.13-.97-1.79-1.32-1.06-.56-2.25-.85-3.45-.85h0Zm-94.13,14.8h91.07l49.67,49.67v118.07l-49.67,49.66h-91.07l-49.67-49.66v-118.07l49.67-49.67h0Z",style:{strokeWidth:0}}))}var u_=r.forwardRef(l_),c_=(n.p,["title","titleId"]);function d_(){return d_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d_.apply(this,arguments)}function f_(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function h_(e,t){var n=e.title,i=e.titleId,o=f_(e,c_);return r.createElement("svg",d_({id:"a",xmlns:"http://www.w3.org/2000/svg",width:"4in",height:"5.07in",viewBox:"0 0 288 365.4",ref:t,"aria-labelledby":i},o),n?r.createElement("title",{id:i},n):null,r.createElement("path",{d:"m208.8,63.9c1.43,0,2.81.57,3.82,1.58l54,54c2.11,2.11,2.11,5.53,0,7.64-1.05,1.05-2.44,1.58-3.82,1.58s-2.76-.53-3.82-1.58l-52.42-52.42h-71.13l-50.84,50.84v175.96c0,2.98-2.42,5.4-5.4,5.4s-5.4-2.42-5.4-5.4V125.54l-52.42-52.42c-2.11-2.11-2.11-5.53,0-7.64,1.05-1.05,2.44-1.58,3.82-1.58s2.76.53,3.82,1.58l49.64,49.64.54.54,50.18-50.18c.39-.39.83-.71,1.31-.96.77-.4,1.63-.62,2.51-.62h75.6m0-2h-75.6c-1.2,0-2.39.29-3.44.85-.66.34-1.26.79-1.79,1.31l-48.77,48.77-48.77-48.77c-1.4-1.4-3.26-2.17-5.23-2.17s-3.83.77-5.23,2.16c-2.89,2.89-2.89,7.58,0,10.47l51.83,51.83v175.13c0,4.08,3.32,7.4,7.4,7.4s7.4-3.32,7.4-7.4V126.37l49.66-49.67h69.47l51.83,51.83c1.4,1.4,3.26,2.17,5.23,2.17s3.84-.77,5.23-2.17c2.89-2.89,2.89-7.58,0-10.47l-54-54c-1.4-1.4-3.26-2.17-5.23-2.17h0Z",style:{strokeWidth:0}}))}var p_=r.forwardRef(h_),m_=(n.p,["title","titleId"]);function g_(){return g_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g_.apply(this,arguments)}function y_(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function v_(e,t){var n=e.title,i=e.titleId,o=y_(e,m_);return r.createElement("svg",g_({id:"a",xmlns:"http://www.w3.org/2000/svg",width:"4in",height:"6in",viewBox:"0 0 288 432",ref:t,"aria-labelledby":i},o),n?r.createElement("title",{id:i},n):null,r.createElement("path",{d:"m108.9,49.5c2.98,0,5.4,2.42,5.4,5.4v86.4h129.6c2.98,0,5.4,2.42,5.4,5.4s-2.42,5.4-5.4,5.4H114.3v159.76l50.84,50.84h78.76c2.98,0,5.4,2.42,5.4,5.4s-2.42,5.4-5.4,5.4h-81c-1.43,0-2.81-.57-3.82-1.58l-54-54c-.39-.39-.71-.83-.96-1.31-.4-.77-.62-1.63-.62-2.51v-162h-59.4c-2.98,0-5.4-2.42-5.4-5.4s2.42-5.4,5.4-5.4h59.4V54.9c0-2.98,2.42-5.4,5.4-5.4m0-2c-4.08,0-7.4,3.32-7.4,7.4v84.4h-57.4c-4.08,0-7.4,3.32-7.4,7.4s3.32,7.4,7.4,7.4h57.4v160c0,1.18.29,2.37.85,3.43.35.67.79,1.27,1.32,1.8l54,54c1.38,1.38,3.28,2.17,5.23,2.17h81c4.08,0,7.4-3.32,7.4-7.4s-3.32-7.4-7.4-7.4h-77.93l-49.67-49.67v-156.93h127.6c4.08,0,7.4-3.32,7.4-7.4s-3.32-7.4-7.4-7.4h-127.6V54.9c0-4.08-3.32-7.4-7.4-7.4h0Z",style:{strokeWidth:0}}))}var b_=r.forwardRef(v_),__=(n.p,["title","titleId"]);function w_(){return w_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},w_.apply(this,arguments)}function E_(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function x_(e,t){var n=e.title,i=e.titleId,o=E_(e,__);return r.createElement("svg",w_({id:"a",xmlns:"http://www.w3.org/2000/svg",width:"4in",height:"5.07in",viewBox:"0 0 288 365.4",ref:t,"aria-labelledby":i},o),n?r.createElement("title",{id:i},n):null,r.createElement("path",{d:"m241.2,63.41c2.98,0,5.4,2.42,5.4,5.4v140.4c0,1.43-.57,2.8-1.58,3.82l-97.2,97.2c-1.01,1.01-2.39,1.58-3.82,1.58s-2.8-.57-3.82-1.58l-97.2-97.2c-1.01-1.01-1.58-2.39-1.58-3.82V68.81c0-2.98,2.42-5.4,5.4-5.4s5.4,2.42,5.4,5.4v138.17l91.8,91.8,91.8-91.8V68.81c0-2.98,2.42-5.4,5.4-5.4m0-2c-4.08,0-7.4,3.32-7.4,7.4v137.34l-89.8,89.8-89.8-89.8V68.81c0-4.08-3.32-7.4-7.4-7.4s-7.4,3.32-7.4,7.4v140.4c0,1.97.77,3.83,2.16,5.23l97.2,97.2c1.4,1.4,3.26,2.17,5.23,2.17s3.84-.77,5.23-2.17l97.2-97.2c1.4-1.4,2.17-3.26,2.17-5.23V68.81c0-4.08-3.32-7.4-7.4-7.4h0Z",style:{strokeWidth:0}}))}var S_,T_,A_,M_,R_,C_,I_,k_,P_,O_,j_,N_,L_,D_,F_,U_,B_,G_,z_,V_,H_=r.forwardRef(x_),W_=(n.p,Vn.div(S_||(S_=a(["\n  ","\n\n    svg {\n      cursor: pointer;\n      flex: none;\n      width: 12.5%;\n      height: fit-content;\n\n\n      &,\n      _::-webkit-full-page-media,\n      _:future {\n        height: intrinsic;\n      }\n    }\n"])),Ho.chain().innerMargin("4px","left").flex("flex-end","initial"))),Z_=function(){var e=g((0,r.useState)(0),2),t=e[0],n=e[1],i=(0,r.useRef)(null),o=[H_,i_,Jb,b_,u_,p_];return xu((function(){return Su({elemRefs:[i]})})),(0,ta.jsxs)(ta.Fragment,{children:[(0,ta.jsxs)(Ys,{children:[(0,ta.jsx)(ks,{src:"1.webp"}),(0,ta.jsx)(ks,{src:"2.webp"})]}),(0,ta.jsx)(Ys,{toolTip:(0,ta.jsxs)("p",{children:[(0,ta.jsx)("b",{children:"Open-back A"}),"\u202f\u2014\u202fthis glyph only has one of its ends attached to a wooden letter, making its behavior more akin to that of a flag through swaying motions. As such, physical forces, such as drag and gravity, also play a role in its performance."]}),children:(0,ta.jsx)(Ps,{src:"1.webm"})}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"3.webp"})}),(0,ta.jsx)(W_,{children:o.map((function(e,r){return(0,ta.jsx)(e,{ref:r===t?i:null,onClick:function(){return function(e){return n(e)}(r)}},r)}))}),(0,ta.jsxs)(Ys,{children:[(0,ta.jsx)(Tu,{children:(0,ta.jsx)(el,{grid:[3,3],prefix:"vector"[t]},t)}),(0,ta.jsx)(Ps,{src:"".concat(t+4,".webm")},t)]}),(0,ta.jsx)(Ys,{children:(0,ta.jsx)(ks,{src:"4.webp"})}),(0,ta.jsxs)(Ys,{cols:[1,2],toolTip:(0,ta.jsxs)("p",{children:[(0,ta.jsx)("b",{children:"Varied Forms G/S"}),"\u202f\u2014\u202fusing slightly different letterforms for the two connected glyphs. Not only does varying this parameter add another layer to the system, but it sometimes also emulates the non-parallel nature of handwriting."]}),children:[(0,ta.jsxs)(Tu,{children:[(0,ta.jsx)(ks,{src:"5.webp"}),(0,ta.jsx)(ks,{src:"6.webp"})]}),(0,ta.jsx)(Ps,{src:"2.webm"})]}),(0,ta.jsx)(el,{grid:[3,2],prefix:"g"}),(0,ta.jsxs)(Ys,{cols:[1,2],children:[(0,ta.jsxs)(Tu,{children:[(0,ta.jsx)(ks,{src:"7.webp"}),(0,ta.jsx)(ks,{src:"8.webp"})]}),(0,ta.jsx)(Ps,{src:"3.webm"})]}),(0,ta.jsx)(el,{grid:[3,2],prefix:"s"})]})},q_={"game-studies":_b,"vector-spin-stroke":Zb,"vector-struct":Z_,"vector-string":Yb,spin:Tb,roll:Sb,stroke:zb,"memory-of-memories":Eb,"thrasher-reconstructed":Wb,"systemized-creativity":Vb,acogito:yb,"i-voted":wb,dm2020:bb,"the-poor-image":Hb,architecture:vb,"object-bulb":xb},Y_=function(){return{draw:function(e,t){var r=t.mousePositionRef,n=t.hideCursorRef;ts(r)&&!n.current&&Qi(e,(function(){Ki(e),e.rectMode(e.CENTER),e.rect(e.mouseX,e.mouseY,Bo.desktop.cursor.value,Bo.desktop.cursor.value)}))}}},X_=Vn(qy)(T_||(T_=a(["\n  background-color: rgba(255, 255, 255, 0.75);\n"]))),K_=Vn.div(A_||(A_=a(["\n  ","\n  flex-direction: column;\n\n  width: ",";\n  height: fit-content;\n  padding: 1.35em 1em;\n\n  font-size: ",";\n\n  background-color: ",";\n  border: "," solid currentColor;\n  border-radius: ",";\n  box-shadow: 0 0 "," currentColor;\n"])),Ho.flex("center","center"),Uo.desktop.autoPlay.width.css,Fi.desktop.autoPlay.message.css,li.autoPlayPopUpBg,Uo.desktop.autoPlay.border.css,Uo.desktop.autoPlay.borderRadius.css,Uo.desktop.autoPlay.borderRadius.css),Q_=Vn.h2(M_||(M_=a(["\n  padding-bottom: 1.75em;\n  font-size: 1em;\n"]))),$_=Vn.small(R_||(R_=a(["\n  font-size: ",";\n"])),Fi.desktop.autoPlay.instrucution.css),J_=function(){return(0,ta.jsx)(X_,{children:(0,ta.jsxs)(K_,{children:[(0,ta.jsx)(Q_,{children:"Your browser has blocked autoplay; dismiss this dialog to activate the website"}),(0,ta.jsx)($_,{children:"(Click anywhere to dismiss)"})]})})},ew=["w","h","children"],tw=function(e){var t=e.w,r=e.h,n=e.children,i=Xo(e,ew);return(0,ta.jsx)("svg",d(d({},i),{},{xmlns:"http://www.w3.org/2000/svg",width:t,height:r,viewBox:"0 0 ".concat(t," ").concat(r),children:n}))},rw=Vn.div(C_||(C_=a(["\n  height: fit-content;\n\n  svg {\n    overflow: visible;\n    display: block;\n  }\n"]))),nw=function(e){var t=e.className,n=e.size,i=e.isVertical,o=function(){var e=g(r.useState({width:null,height:null}),2),t=e[0],n=e[1];return r.useLayoutEffect((function(){var e=function(){n({width:window.innerWidth,height:window.innerHeight})};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),t}(),a=(0,r.useMemo)((function(){return{dimension:n.value,strokeWidth:Uo.desktop.sidebar.border.value}}),[o]),s=a.dimension,l=a.strokeWidth,u=[s,0,s],c=[l,l/2,l/2],d=g(i?c:u,3),f=d[0],h=d[1],p=d[2],m=g(i?u:c,3),y=m[0],v=m[1],b=m[2];return(0,ta.jsx)(rw,{className:t,children:(0,ta.jsx)(tw,{w:f,h:y,children:(0,ta.jsx)("line",{x1:h,y1:v,x2:p,y2:b,stroke:li.border,strokeWidth:l,strokeLinecap:"round"})})})},iw=Vn(oa)(I_||(I_=a(["\n  height: 1em;\n  padding: ",";\n  font-family: ",";\n  font-weight: bold;\n  letter-spacing: -0.015em;\n  color: ",";\n\n  ","\n\n  &:first-of-type {\n    padding-left: 0;\n  }\n\n  &:last-of-type {\n    padding-right: 0;\n  }\n"])),Uo.desktop.footer.link.padding.css,Ai,(function(e){return e.$isHighlighted?li.activeElem:li.footer}),Ho.chain().noSelect().recursiveCenterText()),ow=function(e){var t=e.path,r=e.children,n=Ee();return(0,ta.jsx)(iw,{to:t,$isHighlighted:!!n.pathname.match(t),children:r})},aw=Vn.footer(k_||(k_=a(["\n  ","\n  bottom: 0;\n  font-size: ",";\n"])),Ho.highZIndex(4),Fi.desktop.footer.link.css),sw=Vn.div(P_||(P_=a(["\n  ","\n  width: 100%;\n  box-sizing: border-box;\n\n  padding: "," 0;\n  padding-right: ",";\n\n  font-size: ",";\n"])),Ho.flex("center","space-between"),Uo.desktop.footer.padding.top.sub(Uo.desktop.footer.link.padding).css,Uo.desktop.sidebar.padding.right.css,Fi.desktop.footer.link.css),lw=Vn.div(O_||(O_=a(["\n  align-self: center;\n  color: ",";\n  ","\n"])),li.footer,Ho.noSelect()),uw=function(){return(0,ta.jsxs)(aw,{children:[(0,ta.jsx)(nw,{size:Uo.desktop.sidebar.width,isVertical:!1}),(0,ta.jsx)(sw,{children:ri(ya).map((function(e,t){return(0,ta.jsxs)(r.Fragment,{children:[!!t&&(0,ta.jsx)(lw,{children:"\u25cf"}),(0,ta.jsx)(ow,{path:"/".concat(e),children:ya[e]})]},e)}))})]})},cw=function(e){var t,r,n=e.placeholderRef,i=e.isHoveringRef,o=Uo.desktop.homeIcon.padding.left.value/2,a=function(e){t=new Dl(e,"A",Tl.HOME_ICON);var n=r,i=n.center,o=n.x,a=n.y;t.setMouseOrigin(i),t.setTransform({x:o,y:a})};return{setup:function(e){if(!ts(n))throw rs("home icon placeholder");r=new Ds(n,-o),a(e)},draw:function(){var e=t.setting,r=i.current?li.homeSketch:li.homeIcon;e.glyphColor=e.linkColor=e.volumeColor=r,t.write()},windowResized:a}},dw=Vn.div(j_||(j_=a(["\n  ","\n  width: ",";\n  height: ",";\n  position: relative;\n  left: ",";\n  margin-bottom: ",";\n"])),Ho.flex("center","center"),Uo.desktop.homeIcon.width.css,Uo.desktop.homeIcon.height.css,Uo.desktop.homeIcon.padding.left.div(-2).css,Uo.desktop.homeIcon.padding.vert.css),fw=Vn(oa)(N_||(N_=a(["\n  ","\n  z-index: 2;\n  display: block;\n"])),Ho.squared(yi(85))),hw=function(e){var t=e.canvasRef,n=e.canvasStates,i=(0,r.useRef)(null),o=(0,r.useRef)(!1);xu((function(){return cw({placeholderRef:i,isHoveringRef:o})}),{canvasRef:t,canvasStates:n});var a=function(e){return o.current=e};return(0,ta.jsx)(dw,{ref:i,children:(0,ta.jsx)(fw,{to:"/",onMouseOver:function(){return a(!0)},onMouseOut:function(){return a(!1)}})})},pw=Vn.div(L_||(L_=a(["\n  padding-top: ",";\n"])),Uo.desktop.homeIcon.padding.vert.css),mw=function(e){var t=e.canvasRef,r=e.canvasStates;return(0,ta.jsx)("header",{children:(0,ta.jsxs)(pw,{children:[(0,ta.jsx)(hw,{canvasRef:t,canvasStates:r}),(0,ta.jsx)(nw,{size:Uo.desktop.sidebar.width,isVertical:!1})]})})},gw=Vn.div(D_||(D_=a(["\n  flex: auto;\n  padding-right: ",";\n  overflow: scroll;\n  position: relative;\n\n  &>:first-child {\n    margin-top: ",";\n  }\n"])),Uo.desktop.sidebar.padding.right.css,Uo.desktop.sidebar.padding.vert.css),yw=Vn.div(F_||(F_=a([""]))),vw=Vn.div(U_||(U_=a(["\n  ","\n  width: ",";\n  margin-left: ",";\n  z-index: 2;\n\n  &, & > "," {\n    ","\n    height: 100%;\n  }\n\n  > div  {\n    flex-direction: column;\n  }\n"])),Ho.fixed(),Uo.desktop.sidebar.width.css,Uo.desktop.sidebar.padding.left.css,yw,Ho.flex()),bw=Vn.div(B_||(B_=a(["\n  ","\n"])),Ho.flex("initial","space-between")),_w=Vn(nw)(G_||(G_=a(["\n  position: relative;\n  left: ",";\n"])),Uo.desktop.sidebar.border.mult(-.5).css),ww=function(e){var t=e.sidebar,n=e.canvasRef,i=e.canvasStates,o=(0,r.useRef)(null);(0,r.useEffect)((function(){var e=o.current;e&&e.scroll(0,0)}),[t]);var a=Uo.desktop.sidebar.borderHeights;return(0,ta.jsxs)(vw,{children:[(0,ta.jsxs)(yw,{children:[(0,ta.jsx)(mw,{canvasRef:n,canvasStates:i}),(0,ta.jsx)(gw,{ref:o,children:null!==t&&void 0!==t?t:(0,ta.jsx)("div",{})}),(0,ta.jsx)(uw,{})]}),(0,ta.jsxs)(bw,{children:[(0,ta.jsx)(_w,{size:a.header,isVertical:!0}),(0,ta.jsx)(_w,{size:a.main,isVertical:!0}),(0,ta.jsx)(_w,{size:a.footer,isVertical:!0})]})]})},Ew=["canAutoPlay","vidLoadData","preloadManager"],xw=ku,Sw=function(e){var t=e.mediaSettings,n=t.canAutoPlay,i=t.vidLoadData,o=t.preloadManager,a=Xo(t,Ew),s=g((0,r.useState)(),2),l=s[0],u=s[1],c=g((0,r.useState)(),2),f=c[0],h=c[1],p=Ee().pathname,m={mousePositionRef:(0,r.useRef)(null),hideCursorRef:(0,r.useRef)(!1)},y=Cu();return xu(Y_,{canvasRef:y,canvasStates:m}),(0,r.useEffect)((function(){window.scrollTo(0,0),f&&h(void 0)}),[p]),(0,ta.jsxs)(ta.Fragment,{children:[(0,ta.jsx)(xw,{canvasRef:y,canvasStates:m}),f&&(0,ta.jsx)(Ky,{zoomMedia:f,canAutoPlay:n,handleUnzoom:function(){return h(void 0)}}),p.match(/^\/work/i)&&!1===n&&(0,ta.jsx)(J_,{}),(0,ta.jsx)(ww,{sidebar:l,canvasRef:y,canvasStates:m}),(0,ta.jsx)(Be,{context:d({canvasRef:y,canvasStates:m,sidebar:l,setSidebar:u,zoomMedia:f,canAutoPlay:n,preloadManager:o,handleZoomMedia:function(e){return h(e)}},a)}),!ds.canUseDash&&(0,ta.jsx)(Hy,{vidLoadData:i,canAutoPlay:n})]})},Tw=function(e){var t,r,n,i=e.placeholderRef,o=[],a=function(e){var i=g(t.center,2),a=i[0],s=i[1],l=Bo.desktop.main.centerPadding.value,u=(r=new Dl(e,"WORK IN\nPROGRESS",d(d({},Tl.MAIN_UPPER),{},{x:a,y:s}))).bounds.h;r.setTransform({y:s-(u+l)/2});var c=(n=new Dl(e,"DONALD\nZHU",d(d({},Tl.MAIN_LOWER),{},{x:a,y:s}))).bounds.h;n.setTransform({y:s+(c+l)/2}),o=t.center,r.setMouseOrigin(o),n.setMouseOrigin(o)};return{setup:function(e){if(!ts(i))throw rs("main sketch placeholder");t=new Ds(i,-Bo.desktop.main.anchor.offset.value),a(e)},draw:function(e,i){var o=i.mousePositionRef;Qi(e,(function(){var i=e.CENTER,a=e.ROUND,s=e.mouseX,l=e.mouseY,u=Bo.desktop.cursor.value/2;r.write(),n.write();var c=Bo.desktop.main.anchor.size.value,d=t,f=d.x1,h=d.y1,p=function(e,t){return Qn(4,(function(r){return[e[Math.floor(r/2)],t[r%2]]}))},m=p([f,d.x2],[h,d.y2]),g=p([s-u,s+u],[l-u,l+u]);e.noStroke(),e.fill(li.homeSketch),e.ellipseMode(i),m.forEach((function(t){return e.ellipse.apply(e,v(t).concat([c,c]))})),o.current&&(e.drawingContext.setLineDash($n(2,Bo.desktop.line.dash.value)),e.stroke(li.dashLine),e.strokeCap(a),e.strokeWeight(Bo.desktop.line.weight.value),m.forEach((function(t,r){return e.line.apply(e,v(t).concat(v(g[r])))})))}))},windowResized:a}},Aw=Uo.desktop.sidebar.width.add(Uo.desktop.sidebar.padding.left),Mw=Vn.div(z_||(z_=a(["\n  ","\n  width: ",";\n  height: 100%;\n"])),Ho.fixed({left:Aw.css}),hi.subFromFullWidth(Aw).css),Rw=function(){var e=(0,r.useRef)(null),t=xu((function(){return Tw({placeholderRef:e})}));return iv(t,(function(e){return e.defaultPreload()})),(0,ta.jsxs)(ta.Fragment,{children:[(0,ta.jsx)(Be,{context:Ae()}),(0,ta.jsx)(Mw,{ref:e})]})},Cw=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Ae().setSidebar,i=Ee();(0,r.useEffect)((function(){return n(e),function(){return n(void 0)}}),[i].concat(v(t)))},Iw=JSON.parse('{"jtg7v":"https://www.dropbox.com/scl/fi/2olz0k2kx4sqhcn02g1tv/Biography.pdf?rlkey=0rsipw1frqrc0a9lovwe04336&dl=0","mbu3h":"https://www.dropbox.com/scl/fi/7flh4296gn6yx4u2ky2at/Bentway.pdf?rlkey=wo00qmbubxe995c1pizuae90i&dl=0","m02f0":"https://www.dropbox.com/scl/fi/3m71wjh8v7n67t7z26mbb/Other-Means.pdf?rlkey=wobwxzbxjjh6u0b0msj3eysg1&dl=0","7kt5f":"https://www.dropbox.com/scl/fi/bjdzzpbo6jc9ombgdiskw/Purple-Sales.pdf?rlkey=5o3hmgl6hyps4iyrsxuwvy10d&dl=0","yo4kg":"https://www.dropbox.com/scl/fi/ww6ko5imtnbzevg2npflf/Dental-Corp.pdf?rlkey=ixud5c1nqp4syz3mjgt14epq5&dl=0","9frcl":"https://www.dropbox.com/scl/fi/nu1dbsras7y9yyar5rr4w/Vocabulary.pdf?rlkey=1s8lp6z0i5eqgrq9iwonwu3dm&dl=0","4p6xy":"https://www.dropbox.com/scl/fi/sw1agkyeb49md232yn974/Readymag.pdf?rlkey=nbzx01m17js9nijdx6lrqhp3n&dl=0","0wfx0":"https://www.dropbox.com/scl/fi/0w3x57c1jhdjw904l1yab/Taxi.pdf?rlkey=jftrua1clrjfypefx9p2rb8uf&dl=0","py7x8":"https://www.dropbox.com/scl/fi/ulmk7zve18qvaxpdq8w1z/2x4.pdf?rlkey=g9l0dnsllvoprfps68q2qa8ri&dl=0","dgcrq":"https://www.dropbox.com/scl/fi/txy6srd2a0gfcwxtp6y7p/8th-light.pdf?rlkey=4lobz1oprqmvfetewj3edlst1&dl=0","rg3ka":"https://www.dropbox.com/scl/fi/xn1yuukbevgtgxhepzj4q/Q30.pdf?rlkey=56hw5qnxjkie7spxt0nfh7axc&dl=0","dypdk":"https://www.dropbox.com/scl/fi/nqc5qoq5zyhh0jhu6dmwk/Daily-Dialogue.pdf?rlkey=p9nr1x7eb0y1pfh5zwkmgar0c&dl=0","yr2cu":"https://www.dropbox.com/scl/fi/o839ymq7qn50ofxqvqrfi/Practice-Better.pdf?rlkey=bqpk9ncmmffqk13mmcbdr68ek&dl=0","yhrkb":"https://www.dropbox.com/scl/fi/k6q1vb79hiyh68j43mcux/Knix.pdf?rlkey=p3a0wb1ujqp70454sp9a1vg2x&dl=0","1qbga":"https://www.dropbox.com/scl/fi/xtg7w2n4oarv532yccl21/Survey-Monkey.pdf?rlkey=gkztm8sepmmbc5dldmjl0eiv3&dl=0"}'),kw=function(){var e=ea(),t=e.pid,r=e.portfolioData,n=r?"".concat(r.toLocaleUpperCase(),", WELCOME!"):"DONALD ZHU is a graphic designer based in Toronto, Canada.",i=t?Iw[t]:null,o=i?(0,ta.jsxs)("p",{children:["Please ",(0,ta.jsx)(oa,{to:i,children:"click here"})," for a curated PDF portfolio."]}):(0,ta.jsx)(ta.Fragment,{children:"Thanks for your time."});return(0,ta.jsxs)(Xs,{children:[(0,ta.jsx)(aa,{children:(0,ta.jsxs)("b",{children:[n,i?o:null]})}),(0,ta.jsx)(aa,{children:r?(0,ta.jsxs)(ta.Fragment,{children:["Donald Zhu is a designer based in Toronto. He finished at OCAD U as the ",(0,ta.jsx)(oa,{to:"https://eportfolio.ocadu.ca/exhibitor/details/b75b45af-1ace-4d75-bdd0-bb9afa12cea8",target:"_blank",children:"medal winner"})," of 2023. His work focuses on ",(0,ta.jsx)("i",{children:"typography, interaction, and code"}),". In his free time, he likes to work on typefaces and web projects."]}):(0,ta.jsxs)(ta.Fragment,{children:["He finished his degree at OCAD University in 2023. His work primarily focuses on",(0,ta.jsx)("i",{children:" typography, interaction, and code"}),". In his free time, he likes to work on custom typefaces and side web projects."]})})]})},Pw=function(){Cw((0,ta.jsx)(kw,{}))},Ow=["title","titleId"];function jw(){return jw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jw.apply(this,arguments)}function Nw(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Lw(e,t){var n=e.title,i=e.titleId,o=Nw(e,Ow);return r.createElement("svg",jw({fill:"currentcolor",width:"800px",height:"800px",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},o),n?r.createElement("title",{id:i},n):null,V_||(V_=r.createElement("path",{d:"M468 128H160c-17.7 0-32 14.3-32 32v308c0 4.4 3.6 8 8 8h332c4.4 0 8-3.6 8-8V136c0-4.4-3.6-8-8-8zm-56 284H192V192h220v220zm-138-74h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm194 210H136c-4.4 0-8 3.6-8 8v308c0 17.7 14.3 32 32 32h308c4.4 0 8-3.6 8-8V556c0-4.4-3.6-8-8-8zm-56 284H192V612h220v220zm-138-74h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm590-630H556c-4.4 0-8 3.6-8 8v332c0 4.4 3.6 8 8 8h332c4.4 0 8-3.6 8-8V160c0-17.7-14.3-32-32-32zm-32 284H612V192h220v220zm-138-74h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm194 210h-48c-4.4 0-8 3.6-8 8v134h-78V556c0-4.4-3.6-8-8-8H556c-4.4 0-8 3.6-8 8v332c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V644h78v102c0 4.4 3.6 8 8 8h190c4.4 0 8-3.6 8-8V556c0-4.4-3.6-8-8-8zM746 832h-48c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm142 0h-48c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"})))}var Dw,Fw,Uw,Bw,Gw,zw=r.forwardRef(Lw),Vw=(n.p,Vn.span(Dw||(Dw=a(["\n  ","\n  font-size: ",";\n  margin-left: 0.35em;\n  letter-spacing: 0.015em;\n  font-weight: ",";\n  text-transform: uppercase;\n"])),Ho.fontVar({MONO:1}),Fi.desktop.contact.copy.css,Ii)),Hw=function(e){var t=e.content,n=g((0,r.useState)(!1),2),i=n[0],o=n[1];return(0,ta.jsx)(Vw,{children:(0,ta.jsxs)("button",{onClick:function(){o(!0),navigator.clipboard.writeText(t)},children:["[",i?"copied!":"copy","]"]})})},Ww=Vn.li(Fw||(Fw=a(["\n  ","\n"])),Ho.flex("center","initial")),Zw=Vn(oa)(Uw||(Uw=a(["\n  width: fit-content;\n  ","\n"])),Ho.underline(vi(.0765))),qw=Vn(zw)(Bw||(Bw=a(["\n  ","\n  display: inline-block;\n  margin-left: 0.25em;\n  color: ",";\n"])),Ho.squared(vi(1)),(function(e){return e.$isHighlighted?li.activeElem:li.defaultText})),Yw=function(e){var t=e.data,r=e.handleHover,n=e.isQrShown,i=Kv.find((function(e){return"email"===e.type}));if(i){var o=i.link.replace("mailto:","");return(0,ta.jsxs)(Ww,{children:[(0,ta.jsx)(Zw,{to:t.link,children:(0,ta.jsx)(aa,{children:t.text})}),"email"===t.type&&(0,ta.jsx)(Hw,{content:o}),(0,ta.jsx)(qw,{$isHighlighted:n,onMouseOver:function(e){return r(e.currentTarget,t)}})]})}},Xw=function(e){var t=e.shownQrData,r=e.qrRef,n=e.handleHover,i=(null!==t&&void 0!==t?t:{}).SvgComponent;return(0,ta.jsxs)(Kw,{children:[(0,ta.jsxs)(aa,{children:[(0,ta.jsx)("b",{children:"Feel free to contact for inquiry -"})," Toronto, Canada [In person/Remote]"]}),(0,ta.jsx)("ul",{children:Kv.map((function(e,r){return(0,ta.jsx)(Yw,{data:e,isQrShown:(null===t||void 0===t?void 0:t.type)===e.type,handleHover:n},r)}))}),t&&i&&(0,ta.jsx)(i,{ref:r})]})},Kw=Vn(Xs)(Gw||(Gw=a(["\n  font-size: ",";\n\n  > svg {\n    ",";\n    position: relative;\n    top: ",";\n    color: ",";\n  }\n\n  &>:last-child {\n    padding:0;\n  }\n"])),Fi.desktop.text.mono.css,Ho.squared(Uo.desktop.contact.qr.size.css),Uo.desktop.contact.qr.top.css,li.toolTipColor),Qw=function(){var e=g((0,r.useState)(),2),t=e[0],n=e[1],i=(0,r.useRef)(null),o=(0,r.useRef)(null);xu((function(){return{draw:function(e){if(ts(i)&&ts(o)){var t=new Ds(i,Bo.desktop.contactQr.toolTipPadding.value),r=new Ds(o,Bo.desktop.contactQr.popUpPadding.value);Qi(e,(function(){t.rectAround(e),r.rectAround(e),Ki(e),e.line.apply(e,v(t.botLeft).concat(v(r.topLeft))),e.line.apply(e,v(t.botRight).concat(v(r.topRight)))}))}}}}));Cw((0,ta.jsx)(Xw,{shownQrData:t,qrRef:o,handleHover:function(e,t){n(t),i.current=e}}),[t])},$w=function(){return(0,ta.jsxs)(Xs,{children:[(0,ta.jsx)(aa,{children:(0,ta.jsx)("b",{children:"My process prioritizes an inter-disciplinary, bottom-up approach."})}),(0,ta.jsxs)(la,{children:["Contrary to the common perception of the \u201ccreative\u201d designer, meaningful works are often not the result of spontaneous, top-down executions. Instead, my work is the cumulated outputs of vigorous, investigative makings that seek to deconstruct and reconstruct communication in the provided context. For that reason, my practice is centered around ",(0,ta.jsx)("i",{children:"design systems"})," and ",(0,ta.jsx)("i",{children:"tool-making."})]}),(0,ta.jsxs)(la,{children:["A system, in short, is a set of things that form the mechanisms and networks within each design investigation. They can be visual (scale, contrast, movement) or conceptual (hierarchy, juxtaposition, tone). ",(0,ta.jsx)("i",{children:"Verbalizing these parameters allows them to be discussed, reflected upon, intentionally decided on, and exhaustively iterated."})," By doing so, its inherent structures can be broken and appropriated, through which the inputs could be transformed endlessly in unforeseen ways through the making process. As such, the systematic outputs are the self-informed products that emerged from within the given concern of communication."]}),(0,ta.jsxs)(la,{children:["Simultaneously, tools and tool-making play an inextricable role in my design process ",(0,ta.jsx)(oa,{to:"work/vector-spin-stroke",children:"(my capstone project on tools)"}),". Given each tool\u2019s particular performances and mechanisms, they stand between the designer and their outputs, setting the conditions within each investigation. In my case, to approach a situation from the ground up often involves making my own tools. Whether it be digital (coded, generative, algorithmic) or ",(0,ta.jsx)(oa,{to:"work/stroke",children:"analog"})," (tactile, haptic, tangible), they offer their own ways of assessing a given problem. In other words, tools are ",(0,ta.jsx)("i",{children:"potential openings to design challenges\u2014through which new modes of thinking and making could emerge."})]})]})},Jw=function(){Cw((0,ta.jsx)($w,{}))};function eE(){return eE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eE.apply(this,arguments)}var tE=n(164);function rE(e){var t=Object.create(null);return function(r){return void 0===t[r]&&(t[r]=e(r)),t[r]}}var nE=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,iE=rE((function(e){return nE.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));var oE=function(){function t(e){var t=this;this._insertTag=function(e){var r;r=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,r),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var r=t.prototype;return r.hydrate=function(e){e.forEach(this._insertTag)},r.insert=function(t){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(r);try{n.insertRule(t,n.cssRules.length)}catch(e){0}}else r.appendChild(document.createTextNode(t));this.ctr++},r.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},t}(),aE=Math.abs,sE=String.fromCharCode,lE=Object.assign;function uE(e){return e.trim()}function cE(e,t,r){return e.replace(t,r)}function dE(e,t){return e.indexOf(t)}function fE(e,t){return 0|e.charCodeAt(t)}function hE(e,t,r){return e.slice(t,r)}function pE(e){return e.length}function mE(e){return e.length}function gE(e,t){return t.push(e),e}var yE=1,vE=1,bE=0,_E=0,wE=0,EE="";function xE(e,t,r,n,i,o,a){return{value:e,root:t,parent:r,type:n,props:i,children:o,line:yE,column:vE,length:a,return:""}}function SE(e,t){return lE(xE("",null,null,"",null,null,0),e,{length:-e.length},t)}function TE(){return wE=_E<bE?fE(EE,_E++):0,vE++,10===wE&&(vE=1,yE++),wE}function AE(){return fE(EE,_E)}function ME(){return _E}function RE(e,t){return hE(EE,e,t)}function CE(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function IE(e){return yE=vE=1,bE=pE(EE=e),_E=0,[]}function kE(e){return EE="",e}function PE(e){return uE(RE(_E-1,NE(91===e?e+2:40===e?e+1:e)))}function OE(e){for(;(wE=AE())&&wE<33;)TE();return CE(e)>2||CE(wE)>3?"":" "}function jE(e,t){for(;--t&&TE()&&!(wE<48||wE>102||wE>57&&wE<65||wE>70&&wE<97););return RE(e,ME()+(t<6&&32==AE()&&32==TE()))}function NE(e){for(;TE();)switch(wE){case e:return _E;case 34:case 39:34!==e&&39!==e&&NE(wE);break;case 40:41===e&&NE(e);break;case 92:TE()}return _E}function LE(e,t){for(;TE()&&e+wE!==57&&(e+wE!==84||47!==AE()););return"/*"+RE(t,_E-1)+"*"+sE(47===e?e:TE())}function DE(e){for(;!CE(AE());)TE();return RE(e,_E)}var FE="-ms-",UE="-moz-",BE="-webkit-",GE="comm",zE="rule",VE="decl",HE="@keyframes";function WE(e,t){for(var r="",n=mE(e),i=0;i<n;i++)r+=t(e[i],i,e,t)||"";return r}function ZE(e,t,r,n){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case VE:return e.return=e.return||e.value;case GE:return"";case HE:return e.return=e.value+"{"+WE(e.children,n)+"}";case zE:e.value=e.props.join(",")}return pE(r=WE(e.children,n))?e.return=e.value+"{"+r+"}":""}function qE(e){return kE(YE("",null,null,null,[""],e=IE(e),0,[0],e))}function YE(e,t,r,n,i,o,a,s,l){for(var u=0,c=0,d=a,f=0,h=0,p=0,m=1,g=1,y=1,v=0,b="",_=i,w=o,E=n,x=b;g;)switch(p=v,v=TE()){case 40:if(108!=p&&58==fE(x,d-1)){-1!=dE(x+=cE(PE(v),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:x+=PE(v);break;case 9:case 10:case 13:case 32:x+=OE(p);break;case 92:x+=jE(ME()-1,7);continue;case 47:switch(AE()){case 42:case 47:gE(KE(LE(TE(),ME()),t,r),l);break;default:x+="/"}break;case 123*m:s[u++]=pE(x)*y;case 125*m:case 59:case 0:switch(v){case 0:case 125:g=0;case 59+c:-1==y&&(x=cE(x,/\f/g,"")),h>0&&pE(x)-d&&gE(h>32?QE(x+";",n,r,d-1):QE(cE(x," ","")+";",n,r,d-2),l);break;case 59:x+=";";default:if(gE(E=XE(x,t,r,u,c,i,s,b,_=[],w=[],d),o),123===v)if(0===c)YE(x,t,E,E,_,o,d,s,w);else switch(99===f&&110===fE(x,3)?100:f){case 100:case 108:case 109:case 115:YE(e,E,E,n&&gE(XE(e,E,E,0,0,i,s,b,i,_=[],d),w),i,w,d,s,n?_:w);break;default:YE(x,E,E,E,[""],w,0,s,w)}}u=c=h=0,m=y=1,b=x="",d=a;break;case 58:d=1+pE(x),h=p;default:if(m<1)if(123==v)--m;else if(125==v&&0==m++&&125==(wE=_E>0?fE(EE,--_E):0,vE--,10===wE&&(vE=1,yE--),wE))continue;switch(x+=sE(v),v*m){case 38:y=c>0?1:(x+="\f",-1);break;case 44:s[u++]=(pE(x)-1)*y,y=1;break;case 64:45===AE()&&(x+=PE(TE())),f=AE(),c=d=pE(b=x+=DE(ME())),v++;break;case 45:45===p&&2==pE(x)&&(m=0)}}return o}function XE(e,t,r,n,i,o,a,s,l,u,c){for(var d=i-1,f=0===i?o:[""],h=mE(f),p=0,m=0,g=0;p<n;++p)for(var y=0,v=hE(e,d+1,d=aE(m=a[p])),b=e;y<h;++y)(b=uE(m>0?f[y]+" "+v:cE(v,/&\f/g,f[y])))&&(l[g++]=b);return xE(e,t,r,0===i?zE:s,l,u,c)}function KE(e,t,r){return xE(e,t,r,GE,sE(wE),hE(e,2,-2),0)}function QE(e,t,r,n){return xE(e,t,r,VE,hE(e,0,n),hE(e,n+1,-1),n)}var $E=function(e,t,r){for(var n=0,i=0;n=i,i=AE(),38===n&&12===i&&(t[r]=1),!CE(i);)TE();return RE(e,_E)},JE=function(e,t){return kE(function(e,t){var r=-1,n=44;do{switch(CE(n)){case 0:38===n&&12===AE()&&(t[r]=1),e[r]+=$E(_E-1,t,r);break;case 2:e[r]+=PE(n);break;case 4:if(44===n){e[++r]=58===AE()?"&\f":"",t[r]=e[r].length;break}default:e[r]+=sE(n)}}while(n=TE());return e}(IE(e),t))},ex=new WeakMap,tx=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,r=e.parent,n=e.column===r.column&&e.line===r.line;"rule"!==r.type;)if(!(r=r.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||ex.get(r))&&!n){ex.set(e,!0);for(var i=[],o=JE(t,i),a=r.props,s=0,l=0;s<o.length;s++)for(var u=0;u<a.length;u++,l++)e.props[l]=i[s]?o[s].replace(/&\f/g,a[u]):a[u]+" "+o[s]}}},rx=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function nx(e,t){switch(function(e,t){return 45^fE(e,0)?(((t<<2^fE(e,0))<<2^fE(e,1))<<2^fE(e,2))<<2^fE(e,3):0}(e,t)){case 5103:return BE+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return BE+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return BE+e+UE+e+FE+e+e;case 6828:case 4268:return BE+e+FE+e+e;case 6165:return BE+e+FE+"flex-"+e+e;case 5187:return BE+e+cE(e,/(\w+).+(:[^]+)/,BE+"box-$1$2"+FE+"flex-$1$2")+e;case 5443:return BE+e+FE+"flex-item-"+cE(e,/flex-|-self/,"")+e;case 4675:return BE+e+FE+"flex-line-pack"+cE(e,/align-content|flex-|-self/,"")+e;case 5548:return BE+e+FE+cE(e,"shrink","negative")+e;case 5292:return BE+e+FE+cE(e,"basis","preferred-size")+e;case 6060:return BE+"box-"+cE(e,"-grow","")+BE+e+FE+cE(e,"grow","positive")+e;case 4554:return BE+cE(e,/([^-])(transform)/g,"$1"+BE+"$2")+e;case 6187:return cE(cE(cE(e,/(zoom-|grab)/,BE+"$1"),/(image-set)/,BE+"$1"),e,"")+e;case 5495:case 3959:return cE(e,/(image-set\([^]*)/,BE+"$1$`$1");case 4968:return cE(cE(e,/(.+:)(flex-)?(.*)/,BE+"box-pack:$3"+FE+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+BE+e+e;case 4095:case 3583:case 4068:case 2532:return cE(e,/(.+)-inline(.+)/,BE+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(pE(e)-1-t>6)switch(fE(e,t+1)){case 109:if(45!==fE(e,t+4))break;case 102:return cE(e,/(.+:)(.+)-([^]+)/,"$1"+BE+"$2-$3$1"+UE+(108==fE(e,t+3)?"$3":"$2-$3"))+e;case 115:return~dE(e,"stretch")?nx(cE(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==fE(e,t+1))break;case 6444:switch(fE(e,pE(e)-3-(~dE(e,"!important")&&10))){case 107:return cE(e,":",":"+BE)+e;case 101:return cE(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+BE+(45===fE(e,14)?"inline-":"")+"box$3$1"+BE+"$2$3$1"+FE+"$2box$3")+e}break;case 5936:switch(fE(e,t+11)){case 114:return BE+e+FE+cE(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return BE+e+FE+cE(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return BE+e+FE+cE(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return BE+e+FE+e+e}return e}var ix=[function(e,t,r,n){if(e.length>-1&&!e.return)switch(e.type){case VE:e.return=nx(e.value,e.length);break;case HE:return WE([SE(e,{value:cE(e.value,"@","@"+BE)})],n);case zE:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return WE([SE(e,{props:[cE(t,/:(read-\w+)/,":-moz-$1")]})],n);case"::placeholder":return WE([SE(e,{props:[cE(t,/:(plac\w+)/,":"+BE+"input-$1")]}),SE(e,{props:[cE(t,/:(plac\w+)/,":-moz-$1")]}),SE(e,{props:[cE(t,/:(plac\w+)/,FE+"input-$1")]})],n)}return""}))}}],ox=function(e){var t=e.key;if("css"===t){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var n=e.stylisPlugins||ix;var i,o,a={},s=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),r=1;r<t.length;r++)a[t[r]]=!0;s.push(e)}));var l,u,c=[ZE,(u=function(e){l.insert(e)},function(e){e.root||(e=e.return)&&u(e)})],d=function(e){var t=mE(e);return function(r,n,i,o){for(var a="",s=0;s<t;s++)a+=e[s](r,n,i,o)||"";return a}}([tx,rx].concat(n,c));o=function(e,t,r,n){l=r,WE(qE(e?e+"{"+t.styles+"}":t.styles),d),n&&(f.inserted[t.name]=!0)};var f={key:t,sheet:new oE({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:o};return f.sheet.hydrate(s),f};var ax=/[A-Z]|^ms/g,sx=/_EMO_([^_]+?)_([^]*?)_EMO_/g,lx=function(e){return 45===e.charCodeAt(1)},ux=function(e){return null!=e&&"boolean"!==typeof e},cx=rE((function(e){return lx(e)?e:e.replace(ax,"-$&").toLowerCase()})),dx=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(sx,(function(e,t,r){return hx={name:t,styles:r,next:hx},t}))}return 1===ur[e]||lx(e)||"number"!==typeof t||0===t?t:t+"px"};function fx(e,t,r){if(null==r)return"";if(void 0!==r.__emotion_styles)return r;switch(typeof r){case"boolean":return"";case"object":if(1===r.anim)return hx={name:r.name,styles:r.styles,next:hx},r.name;if(void 0!==r.styles){var n=r.next;if(void 0!==n)for(;void 0!==n;)hx={name:n.name,styles:n.styles,next:hx},n=n.next;return r.styles+";"}return function(e,t,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=fx(e,t,r[i])+";";else for(var o in r){var a=r[o];if("object"!==typeof a)null!=t&&void 0!==t[a]?n+=o+"{"+t[a]+"}":ux(a)&&(n+=cx(o)+":"+dx(o,a)+";");else if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=fx(e,t,a);switch(o){case"animation":case"animationName":n+=cx(o)+":"+s+";";break;default:n+=o+"{"+s+"}"}}else for(var l=0;l<a.length;l++)ux(a[l])&&(n+=cx(o)+":"+dx(o,a[l])+";")}return n}(e,t,r);case"function":if(void 0!==e){var i=hx,o=r(e);return hx=i,fx(e,t,o)}}if(null==t)return r;var a=t[r];return void 0!==a?a:r}var hx,px=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var mx=!!i.useInsertionEffect&&i.useInsertionEffect,gx=mx||function(e){return e()},yx=(mx||r.useLayoutEffect,r.createContext("undefined"!==typeof HTMLElement?ox({key:"css"}):null));yx.Provider;var vx=function(e){return(0,r.forwardRef)((function(t,n){var i=(0,r.useContext)(yx);return e(t,i,n)}))};var bx=r.createContext({});var _x=function(e,t,r){var n=e.key+"-"+t.name;!1===r&&void 0===e.registered[n]&&(e.registered[n]=t.styles)},wx=iE,Ex=function(e){return"theme"!==e},xx=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?wx:Ex},Sx=function(e,t,r){var n;if(t){var i=t.shouldForwardProp;n=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof n&&r&&(n=e.__emotion_forwardProp),n},Tx=function(e){var t=e.cache,r=e.serialized,n=e.isStringTag;return _x(t,r,n),gx((function(){return function(e,t,r){_x(e,t,r);var n=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+n:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}(t,r,n)})),null},Ax=function e(t,n){var i,o,a=t.__emotion_real===t,s=a&&t.__emotion_base||t;void 0!==n&&(i=n.label,o=n.target);var l=Sx(t,n,a),u=l||xx(s),c=!u("as");return function(){var d=arguments,f=a&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==i&&f.push("label:"+i+";"),null==d[0]||void 0===d[0].raw)f.push.apply(f,d);else{0,f.push(d[0][0]);for(var h=d.length,p=1;p<h;p++)f.push(d[p],d[0][p])}var m=vx((function(e,t,n){var i=c&&e.as||s,a="",d=[],h=e;if(null==e.theme){for(var p in h={},e)h[p]=e[p];h.theme=r.useContext(bx)}"string"===typeof e.className?a=function(e,t,r){var n="";return r.split(" ").forEach((function(r){void 0!==e[r]?t.push(e[r]+";"):n+=r+" "})),n}(t.registered,d,e.className):null!=e.className&&(a=e.className+" ");var m=function(e,t,r){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var n=!0,i="";hx=void 0;var o=e[0];null==o||void 0===o.raw?(n=!1,i+=fx(r,t,o)):i+=o[0];for(var a=1;a<e.length;a++)i+=fx(r,t,e[a]),n&&(i+=o[a]);px.lastIndex=0;for(var s,l="";null!==(s=px.exec(i));)l+="-"+s[1];var u=function(e){for(var t,r=0,n=0,i=e.length;i>=4;++n,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24))+(59797*(t>>>16)<<16),r=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&r)+(59797*(r>>>16)<<16);switch(i){case 3:r^=(255&e.charCodeAt(n+2))<<16;case 2:r^=(255&e.charCodeAt(n+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(n)))+(59797*(r>>>16)<<16)}return(((r=1540483477*(65535&(r^=r>>>13))+(59797*(r>>>16)<<16))^r>>>15)>>>0).toString(36)}(i)+l;return{name:u,styles:i,next:hx}}(f.concat(d),t.registered,h);a+=t.key+"-"+m.name,void 0!==o&&(a+=" "+o);var g=c&&void 0===l?xx(i):u,y={};for(var v in e)c&&"as"===v||g(v)&&(y[v]=e[v]);return y.className=a,y.ref=n,r.createElement(r.Fragment,null,r.createElement(Tx,{cache:t,serialized:m,isStringTag:"string"===typeof i}),r.createElement(i,y))}));return m.displayName=void 0!==i?i:"Styled("+("string"===typeof s?s:s.displayName||s.name||"Component")+")",m.defaultProps=t.defaultProps,m.__emotion_real=m,m.__emotion_base=s,m.__emotion_styles=f,m.__emotion_forwardProp=l,Object.defineProperty(m,"toString",{value:function(){return"."+o}}),m.withComponent=function(t,r){return e(t,eE({},n,r,{shouldForwardProp:Sx(m,r,!0)})).apply(void 0,f)},m}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){Ax[e]=Ax(e)}));function Mx(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function Rx(e){if(!Mx(e))return e;var t={};return Object.keys(e).forEach((function(r){t[r]=Rx(e[r])})),t}function Cx(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},n=r.clone?eE({},e):e;return Mx(e)&&Mx(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(Mx(t[i])&&i in e&&Mx(e[i])?n[i]=Cx(e[i],t[i],r):r.clone?n[i]=Mx(t[i])?Rx(t[i]):t[i]:n[i]=t[i])})),n}var Ix=["values","unit","step"],kx=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return eE({},e,u({},t.key,t.val))}),{})};var Px={borderRadius:4},Ox={xs:0,sm:600,md:900,lg:1200,xl:1536},jx={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(Ox[e],"px)")}};function Nx(e,t,r){var n=e.theme||{};if(Array.isArray(t)){var i=n.breakpoints||jx;return t.reduce((function(e,n,o){return e[i.up(i.keys[o])]=r(t[o]),e}),{})}if("object"===typeof t){var o=n.breakpoints||jx;return Object.keys(t).reduce((function(e,n){if(-1!==Object.keys(o.values||Ox).indexOf(n)){e[o.up(n)]=r(t[n],n)}else{var i=n;e[i]=t[i]}return e}),{})}return r(t)}function Lx(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(null==(e=t.keys)?void 0:e.reduce((function(e,r){return e[t.up(r)]={},e}),{}))||{}}function Dx(e,t){return e.reduce((function(e,t){var r=e[t];return(!r||0===Object.keys(r).length)&&delete e[t],e}),t)}function Fx(e){var t,r=e.values,n=e.breakpoints,i=e.base||function(e,t){if("object"!==typeof e)return{};var r={},n=Object.keys(t);return Array.isArray(e)?n.forEach((function(t,n){n<e.length&&(r[t]=!0)})):n.forEach((function(t){null!=e[t]&&(r[t]=!0)})),r}(r,n),o=Object.keys(i);return 0===o.length?r:o.reduce((function(e,n,i){return Array.isArray(r)?(e[n]=null!=r[i]?r[i]:r[t],t=i):"object"===typeof r?(e[n]=null!=r[n]?r[n]:r[t],t=n):e[n]=r,e}),{})}function Ux(e){for(var t="https://mui.com/production-error/?code="+e,r=1;r<arguments.length;r+=1)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function Bx(e){if("string"!==typeof e)throw new Error(Ux(7));return e.charAt(0).toUpperCase()+e.slice(1)}function Gx(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&r){var n="vars.".concat(t).split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e);if(null!=n)return n}return t.split(".").reduce((function(e,t){return e&&null!=e[t]?e[t]:null}),e)}function zx(e,t,r){var n,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r;return n="function"===typeof e?e(r):Array.isArray(e)?e[r]||i:Gx(e,r)||i,t&&(n=t(n,i,e)),n}var Vx=function(e){var t=e.prop,r=e.cssProperty,n=void 0===r?e.prop:r,i=e.themeKey,o=e.transform,a=function(e){if(null==e[t])return null;var r=e[t],a=Gx(e.theme,i)||{};return Nx(e,r,(function(e){var r=zx(a,o,e);return e===r&&"string"===typeof e&&(r=zx(a,o,"".concat(t).concat("default"===e?"":Bx(e)),e)),!1===n?r:u({},n,r)}))};return a.propTypes={},a.filterProps=[t],a};var Hx=function(e,t){return t?Cx(e,t,{clone:!1}):e};var Wx={m:"margin",p:"padding"},Zx={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},qx={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Yx=function(e){var t={};return function(r){return void 0===t[r]&&(t[r]=e(r)),t[r]}}((function(e){if(e.length>2){if(!qx[e])return[e];e=qx[e]}var t=g(e.split(""),2),r=t[0],n=t[1],i=Wx[r],o=Zx[n]||"";return Array.isArray(o)?o.map((function(e){return i+e})):[i+o]})),Xx=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Kx=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],Qx=[].concat(Xx,Kx);function $x(e,t,r,n){var i,o=null!=(i=Gx(e,t,!1))?i:r;return"number"===typeof o?function(e){return"string"===typeof e?e:o*e}:Array.isArray(o)?function(e){return"string"===typeof e?e:o[e]}:"function"===typeof o?o:function(){}}function Jx(e){return $x(e,"spacing",8)}function eS(e,t){if("string"===typeof t||null==t)return t;var r=e(Math.abs(t));return t>=0?r:"number"===typeof r?-r:"-".concat(r)}function tS(e,t,r,n){if(-1===t.indexOf(r))return null;var i=function(e,t){return function(r){return e.reduce((function(e,n){return e[n]=eS(t,r),e}),{})}}(Yx(r),n);return Nx(e,e[r],i)}function rS(e,t){var r=Jx(e.theme);return Object.keys(e).map((function(n){return tS(e,t,n,r)})).reduce(Hx,{})}function nS(e){return rS(e,Xx)}function iS(e){return rS(e,Kx)}function oS(e){return rS(e,Qx)}nS.propTypes={},nS.filterProps=Xx,iS.propTypes={},iS.filterProps=Kx,oS.propTypes={},oS.filterProps=Qx;var aS=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.reduce((function(e,t){return t.filterProps.forEach((function(r){e[r]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,r){return n[r]?Hx(t,n[r](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i};function sS(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var lS=Vx({prop:"border",themeKey:"borders",transform:sS}),uS=Vx({prop:"borderTop",themeKey:"borders",transform:sS}),cS=Vx({prop:"borderRight",themeKey:"borders",transform:sS}),dS=Vx({prop:"borderBottom",themeKey:"borders",transform:sS}),fS=Vx({prop:"borderLeft",themeKey:"borders",transform:sS}),hS=Vx({prop:"borderColor",themeKey:"palette"}),pS=Vx({prop:"borderTopColor",themeKey:"palette"}),mS=Vx({prop:"borderRightColor",themeKey:"palette"}),gS=Vx({prop:"borderBottomColor",themeKey:"palette"}),yS=Vx({prop:"borderLeftColor",themeKey:"palette"}),vS=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=$x(e.theme,"shape.borderRadius",4);return Nx(e,e.borderRadius,(function(e){return{borderRadius:eS(t,e)}}))}return null};vS.propTypes={},vS.filterProps=["borderRadius"];aS(lS,uS,cS,dS,fS,hS,pS,mS,gS,yS,vS);var bS=function(e){if(void 0!==e.gap&&null!==e.gap){var t=$x(e.theme,"spacing",8);return Nx(e,e.gap,(function(e){return{gap:eS(t,e)}}))}return null};bS.propTypes={},bS.filterProps=["gap"];var _S=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=$x(e.theme,"spacing",8);return Nx(e,e.columnGap,(function(e){return{columnGap:eS(t,e)}}))}return null};_S.propTypes={},_S.filterProps=["columnGap"];var wS=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=$x(e.theme,"spacing",8);return Nx(e,e.rowGap,(function(e){return{rowGap:eS(t,e)}}))}return null};wS.propTypes={},wS.filterProps=["rowGap"];aS(bS,_S,wS,Vx({prop:"gridColumn"}),Vx({prop:"gridRow"}),Vx({prop:"gridAutoFlow"}),Vx({prop:"gridAutoColumns"}),Vx({prop:"gridAutoRows"}),Vx({prop:"gridTemplateColumns"}),Vx({prop:"gridTemplateRows"}),Vx({prop:"gridTemplateAreas"}),Vx({prop:"gridArea"}));function ES(e,t){return"grey"===t?t:e}aS(Vx({prop:"color",themeKey:"palette",transform:ES}),Vx({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:ES}),Vx({prop:"backgroundColor",themeKey:"palette",transform:ES}));function xS(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var SS=Vx({prop:"width",transform:xS}),TS=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return Nx(e,e.maxWidth,(function(t){var r,n,i=(null==(r=e.theme)||null==(r=r.breakpoints)||null==(r=r.values)?void 0:r[t])||Ox[t];return i?"px"!==(null==(n=e.theme)||null==(n=n.breakpoints)?void 0:n.unit)?{maxWidth:"".concat(i).concat(e.theme.breakpoints.unit)}:{maxWidth:i}:{maxWidth:xS(t)}}))}return null};TS.filterProps=["maxWidth"];var AS=Vx({prop:"minWidth",transform:xS}),MS=Vx({prop:"height",transform:xS}),RS=Vx({prop:"maxHeight",transform:xS}),CS=Vx({prop:"minHeight",transform:xS}),IS=(Vx({prop:"size",cssProperty:"width",transform:xS}),Vx({prop:"size",cssProperty:"height",transform:xS}),aS(SS,TS,AS,MS,RS,CS,Vx({prop:"boxSizing"})),{border:{themeKey:"borders",transform:sS},borderTop:{themeKey:"borders",transform:sS},borderRight:{themeKey:"borders",transform:sS},borderBottom:{themeKey:"borders",transform:sS},borderLeft:{themeKey:"borders",transform:sS},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:vS},color:{themeKey:"palette",transform:ES},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:ES},backgroundColor:{themeKey:"palette",transform:ES},p:{style:iS},pt:{style:iS},pr:{style:iS},pb:{style:iS},pl:{style:iS},px:{style:iS},py:{style:iS},padding:{style:iS},paddingTop:{style:iS},paddingRight:{style:iS},paddingBottom:{style:iS},paddingLeft:{style:iS},paddingX:{style:iS},paddingY:{style:iS},paddingInline:{style:iS},paddingInlineStart:{style:iS},paddingInlineEnd:{style:iS},paddingBlock:{style:iS},paddingBlockStart:{style:iS},paddingBlockEnd:{style:iS},m:{style:nS},mt:{style:nS},mr:{style:nS},mb:{style:nS},ml:{style:nS},mx:{style:nS},my:{style:nS},margin:{style:nS},marginTop:{style:nS},marginRight:{style:nS},marginBottom:{style:nS},marginLeft:{style:nS},marginX:{style:nS},marginY:{style:nS},marginInline:{style:nS},marginInlineStart:{style:nS},marginInlineEnd:{style:nS},marginBlock:{style:nS},marginBlockStart:{style:nS},marginBlockEnd:{style:nS},displayPrint:{cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:bS},rowGap:{style:wS},columnGap:{style:_S},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:xS},maxWidth:{style:TS},minWidth:{transform:xS},height:{transform:xS},maxHeight:{transform:xS},minHeight:{transform:xS},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}});var kS=function(){function e(e,t,r,n){var i,o=(u(i={},e,t),u(i,"theme",r),i),a=n[e];if(!a)return u({},e,t);var s=a.cssProperty,l=void 0===s?e:s,c=a.themeKey,d=a.transform,f=a.style;if(null==t)return null;if("typography"===c&&"inherit"===t)return u({},e,t);var h=Gx(r,c)||{};if(f)return f(o);return Nx(o,t,(function(t){var r=zx(h,d,t);return t===r&&"string"===typeof t&&(r=zx(h,d,"".concat(e).concat("default"===t?"":Bx(t)),t)),!1===l?r:u({},l,r)}))}return function t(r){var n,i=r||{},o=i.sx,a=i.theme,s=void 0===a?{}:a;if(!o)return null;var l=null!=(n=s.unstable_sxConfig)?n:IS;function c(r){var n=r;if("function"===typeof r)n=r(s);else if("object"!==typeof r)return r;if(!n)return null;var i=Lx(s.breakpoints),o=Object.keys(i),a=i;return Object.keys(n).forEach((function(r){var i,o,c=(i=n[r],o=s,"function"===typeof i?i(o):i);if(null!==c&&void 0!==c)if("object"===typeof c)if(l[r])a=Hx(a,e(r,c,s,l));else{var d=Nx({theme:s},c,(function(e){return u({},r,e)}));!function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(n);return t.every((function(e){return i.size===Object.keys(e).length}))}(d,c)?a=Hx(a,d):a[r]=t({sx:c,theme:s})}else a=Hx(a,e(r,c,s,l))})),Dx(o,a)}return Array.isArray(o)?o.map(c):c(o)}}();kS.filterProps=["sx"];var PS=kS,OS=["breakpoints","palette","spacing","shape"];var jS=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,r=void 0===t?{}:t,n=e.palette,i=void 0===n?{}:n,o=e.spacing,a=e.shape,s=void 0===a?{}:a,l=Yo(e,OS),u=function(e){var t=e.values,r=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,n=e.unit,i=void 0===n?"px":n,o=e.step,a=void 0===o?5:o,s=Yo(e,Ix),l=kx(r),u=Object.keys(l);function c(e){var t="number"===typeof r[e]?r[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function d(e){var t="number"===typeof r[e]?r[e]:e;return"@media (max-width:".concat(t-a/100).concat(i,")")}function f(e,t){var n=u.indexOf(t);return"@media (min-width:".concat("number"===typeof r[e]?r[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==n&&"number"===typeof r[u[n]]?r[u[n]]:t)-a/100).concat(i,")")}return eE({keys:u,values:l,up:c,down:d,between:f,only:function(e){return u.indexOf(e)+1<u.length?f(e,u[u.indexOf(e)+1]):c(e)},not:function(e){var t=u.indexOf(e);return 0===t?c(u[1]):t===u.length-1?d(u[t]):f(e,u[u.indexOf(e)+1]).replace("@media","@media not all and")},unit:i},s)}(r),c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=Jx({spacing:e}),r=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(0===r.length?[1]:r).map((function(e){var r=t(e);return"number"===typeof r?"".concat(r,"px"):r})).join(" ")};return r.mui=!0,r}(o),d=Cx({breakpoints:u,direction:"ltr",components:{},palette:eE({mode:"light"},i),spacing:c,shape:eE({},Px,s)},l),f=arguments.length,h=new Array(f>1?f-1:0),p=1;p<f;p++)h[p-1]=arguments[p];return(d=h.reduce((function(e,t){return Cx(e,t)}),d)).unstable_sxConfig=eE({},IS,null==l?void 0:l.unstable_sxConfig),d.unstable_sx=function(e){return PS({sx:e,theme:this})},d},NS=["variant"];function LS(e){return 0===e.length}function DS(e){var t=e.variant,r=Yo(e,NS),n=t||"";return Object.keys(r).sort().forEach((function(t){n+="color"===t?LS(n)?e[t]:Bx(e[t]):"".concat(LS(n)?t:Bx(t)).concat(Bx(e[t].toString()))})),n}var FS=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function US(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var BS=jS();function GS(e){var t,r=e.defaultTheme,n=e.theme,i=e.themeId;return t=n,0===Object.keys(t).length?r:n[i]||n}function zS(e,t){var r;return eE({toolbar:(r={minHeight:56},u(r,e.up("xs"),{"@media (orientation: landscape)":{minHeight:48}}),u(r,e.up("sm"),{minHeight:64}),r)},t)}function VS(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),r)}function HS(e){if(e.type)return e;if("#"===e.charAt(0))return HS(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),r=e.match(t);return r&&1===r[0].length&&(r=r.map((function(e){return e+e}))),r?"rgb".concat(4===r.length?"a":"","(").concat(r.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),r=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(r))throw new Error(Ux(9,e));var n,i=e.substring(t+1,e.length-1);if("color"===r){if(n=(i=i.split(" ")).shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(n))throw new Error(Ux(10,n))}else i=i.split(",");return{type:r,values:i=i.map((function(e){return parseFloat(e)})),colorSpace:n}}function WS(e){var t=e.type,r=e.colorSpace,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),n=-1!==t.indexOf("color")?"".concat(r," ").concat(n.join(" ")):"".concat(n.join(", ")),"".concat(t,"(").concat(n,")")}function ZS(e){var t="hsl"===(e=HS(e)).type||"hsla"===e.type?HS(function(e){var t=(e=HS(e)).values,r=t[0],n=t[1]/100,i=t[2]/100,o=n*Math.min(i,1-i),a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+r/30)%12;return i-o*Math.max(Math.min(t-3,9-t,1),-1)},s="rgb",l=[Math.round(255*a(0)),Math.round(255*a(8)),Math.round(255*a(4))];return"hsla"===e.type&&(s+="a",l.push(t[3])),WS({type:s,values:l})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function qS(e,t){if(e=HS(e),t=VS(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]*=1-t;return WS(e)}function YS(e,t){if(e=HS(e),t=VS(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var r=0;r<3;r+=1)e.values[r]+=(255-e.values[r])*t;else if(-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return WS(e)}var XS={black:"#000",white:"#fff"},KS={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},QS={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},$S={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},JS={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},eT={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},tT={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},rT={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},nT=["mode","contrastThreshold","tonalOffset"],iT={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:XS.white,default:XS.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},oT={text:{primary:XS.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:XS.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function aT(e,t,r,n){var i=n.light||n,o=n.dark||1.5*n;e[t]||(e.hasOwnProperty(r)?e[t]=e[r]:"light"===t?e.light=YS(e.main,i):"dark"===t&&(e.dark=qS(e.main,o)))}function sT(e){var t=e.mode,r=void 0===t?"light":t,n=e.contrastThreshold,i=void 0===n?3:n,o=e.tonalOffset,a=void 0===o?.2:o,s=Yo(e,nT),l=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:eT[200],light:eT[50],dark:eT[400]}:{main:eT[700],light:eT[400],dark:eT[800]}}(r),u=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:QS[200],light:QS[50],dark:QS[400]}:{main:QS[500],light:QS[300],dark:QS[700]}}(r),c=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:$S[500],light:$S[300],dark:$S[700]}:{main:$S[700],light:$S[400],dark:$S[800]}}(r),d=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:tT[400],light:tT[300],dark:tT[700]}:{main:tT[700],light:tT[500],dark:tT[900]}}(r),f=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:rT[400],light:rT[300],dark:rT[700]}:{main:rT[800],light:rT[500],dark:rT[900]}}(r),h=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:JS[400],light:JS[300],dark:JS[700]}:{main:"#ed6c02",light:JS[500],dark:JS[900]}}(r);function p(e){var t=function(e,t){var r=ZS(e),n=ZS(t);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}(e,oT.text.primary)>=i?oT.text.primary:iT.text.primary;return t}var m=function(e){var t=e.color,r=e.name,n=e.mainShade,i=void 0===n?500:n,o=e.lightShade,s=void 0===o?300:o,l=e.darkShade,u=void 0===l?700:l;if(!(t=eE({},t)).main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(Ux(11,r?" (".concat(r,")"):"",i));if("string"!==typeof t.main)throw new Error(Ux(12,r?" (".concat(r,")"):"",JSON.stringify(t.main)));return aT(t,"light",s,a),aT(t,"dark",u,a),t.contrastText||(t.contrastText=p(t.main)),t},g={dark:oT,light:iT};return Cx(eE({common:eE({},XS),mode:r,primary:m({color:l,name:"primary"}),secondary:m({color:u,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:m({color:c,name:"error"}),warning:m({color:h,name:"warning"}),info:m({color:d,name:"info"}),success:m({color:f,name:"success"}),grey:KS,contrastThreshold:i,getContrastText:p,augmentColor:m,tonalOffset:a},g[r]),s)}var lT=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var uT={textTransform:"uppercase"},cT='"Roboto", "Helvetica", "Arial", sans-serif';function dT(e,t){var r="function"===typeof t?t(e):t,n=r.fontFamily,i=void 0===n?cT:n,o=r.fontSize,a=void 0===o?14:o,s=r.fontWeightLight,l=void 0===s?300:s,u=r.fontWeightRegular,c=void 0===u?400:u,d=r.fontWeightMedium,f=void 0===d?500:d,h=r.fontWeightBold,p=void 0===h?700:h,m=r.htmlFontSize,g=void 0===m?16:m,y=r.allVariants,v=r.pxToRem,b=Yo(r,lT);var _=a/14,w=v||function(e){return"".concat(e/g*_,"rem")},E=function(e,t,r,n,o){return eE({fontFamily:i,fontWeight:e,fontSize:w(t),lineHeight:r},i===cT?{letterSpacing:"".concat((a=n/t,Math.round(1e5*a)/1e5),"em")}:{},o,y);var a},x={h1:E(l,96,1.167,-1.5),h2:E(l,60,1.2,-.5),h3:E(c,48,1.167,0),h4:E(c,34,1.235,.25),h5:E(c,24,1.334,0),h6:E(f,20,1.6,.15),subtitle1:E(c,16,1.75,.15),subtitle2:E(f,14,1.57,.1),body1:E(c,16,1.5,.15),body2:E(c,14,1.43,.15),button:E(f,14,1.75,.4,uT),caption:E(c,12,1.66,.4),overline:E(c,12,2.66,1,uT),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Cx(eE({htmlFontSize:g,pxToRem:w,fontFamily:i,fontSize:a,fontWeightLight:l,fontWeightRegular:c,fontWeightMedium:f,fontWeightBold:p},x),b,{clone:!1})}function fT(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var hT=["none",fT(0,2,1,-1,0,1,1,0,0,1,3,0),fT(0,3,1,-2,0,2,2,0,0,1,5,0),fT(0,3,3,-2,0,3,4,0,0,1,8,0),fT(0,2,4,-1,0,4,5,0,0,1,10,0),fT(0,3,5,-1,0,5,8,0,0,1,14,0),fT(0,3,5,-1,0,6,10,0,0,1,18,0),fT(0,4,5,-2,0,7,10,1,0,2,16,1),fT(0,5,5,-3,0,8,10,1,0,3,14,2),fT(0,5,6,-3,0,9,12,1,0,3,16,2),fT(0,6,6,-3,0,10,14,1,0,4,18,3),fT(0,6,7,-4,0,11,15,1,0,4,20,3),fT(0,7,8,-4,0,12,17,2,0,5,22,4),fT(0,7,8,-4,0,13,19,2,0,5,24,4),fT(0,7,9,-4,0,14,21,2,0,5,26,4),fT(0,8,9,-5,0,15,22,2,0,6,28,5),fT(0,8,10,-5,0,16,24,2,0,6,30,5),fT(0,8,11,-5,0,17,26,2,0,6,32,5),fT(0,9,11,-5,0,18,28,2,0,7,34,6),fT(0,9,12,-6,0,19,29,2,0,7,36,6),fT(0,10,13,-6,0,20,31,3,0,8,38,7),fT(0,10,13,-6,0,21,33,3,0,8,40,7),fT(0,10,14,-6,0,22,35,3,0,8,42,7),fT(0,11,14,-7,0,23,36,3,0,9,44,8),fT(0,11,15,-7,0,24,38,3,0,9,46,8)],pT=["duration","easing","delay"],mT={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},gT={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function yT(e){return"".concat(Math.round(e),"ms")}function vT(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function bT(e){var t=eE({},mT,e.easing),r=eE({},gT,e.duration);return eE({getAutoHeightDuration:vT,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.duration,o=void 0===i?r.standard:i,a=n.easing,s=void 0===a?t.easeInOut:a,l=n.delay,u=void 0===l?0:l;Yo(n,pT);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof o?o:yT(o)," ").concat(s," ").concat("string"===typeof u?u:yT(u))})).join(",")}},e,{easing:t,duration:r})}var _T={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},wT=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function ET(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,r=void 0===t?{}:t,n=e.palette,i=void 0===n?{}:n,o=e.transitions,a=void 0===o?{}:o,s=e.typography,l=void 0===s?{}:s,u=Yo(e,wT);if(e.vars)throw new Error(Ux(18));var c=sT(i),d=jS(e),f=Cx(d,{mixins:zS(d.breakpoints,r),palette:c,shadows:hT.slice(),typography:dT(c,l),transitions:bT(a),zIndex:eE({},_T)});f=Cx(f,u);for(var h=arguments.length,p=new Array(h>1?h-1:0),m=1;m<h;m++)p[m-1]=arguments[m];return(f=p.reduce((function(e,t){return Cx(e,t)}),f)).unstable_sxConfig=eE({},IS,null==u?void 0:u.unstable_sxConfig),f.unstable_sx=function(e){return PS({sx:e,theme:this})},f}var xT=ET(),ST="$$material",TT=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.themeId,r=e.defaultTheme,n=void 0===r?BS:r,i=e.rootShouldForwardProp,o=void 0===i?US:i,a=e.slotShouldForwardProp,s=void 0===a?US:a,l=function(e){return PS(eE({},e,{theme:GS(eE({},e,{defaultTheme:n,themeId:t}))}))};return l.__mui_systemSx=!0,function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}(e,(function(e){return e.filter((function(e){return!(null!=e&&e.__mui_systemSx)}))}));var i,a,u=r.name,c=r.slot,d=r.skipVariantsResolver,f=r.skipSx,h=r.overridesResolver,p=void 0===h?(i=(a=c)?a.charAt(0).toLowerCase()+a.slice(1):a)?function(e,t){return t[i]}:null:h,m=Yo(r,FS),y=void 0!==d?d:c&&"Root"!==c&&"root"!==c||!1,b=f||!1;var _=US;"Root"===c||"root"===c?_=o:c?_=s:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(_=void 0);var w=function(e,t){return Ax(e,t)}(e,eE({shouldForwardProp:_,label:undefined},m)),E=function(r){for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];var s=o?o.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(r){return e(eE({},r,{theme:GS(eE({},r,{defaultTheme:n,themeId:t}))}))}:e})):[],c=r;u&&p&&s.push((function(e){var r=GS(eE({},e,{defaultTheme:n,themeId:t})),i=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null}(u,r);if(i){var o={};return Object.entries(i).forEach((function(t){var n=g(t,2),i=n[0],a=n[1];o[i]="function"===typeof a?a(eE({},e,{theme:r})):a})),p(e,o)}return null})),u&&!y&&s.push((function(e){var r=GS(eE({},e,{defaultTheme:n,themeId:t}));return function(e,t,r,n){var i,o=e.ownerState,a=void 0===o?{}:o,s=[],l=null==r||null==(i=r.components)||null==(i=i[n])?void 0:i.variants;return l&&l.forEach((function(r){var n=!0;Object.keys(r.props).forEach((function(t){a[t]!==r.props[t]&&e[t]!==r.props[t]&&(n=!1)})),n&&s.push(t[DS(r.props)])})),s}(e,function(e,t){var r=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(r=t.components[e].variants);var n={};return r.forEach((function(e){var t=DS(e.props);n[t]=e.style})),n}(u,r),r,u)})),b||s.push(l);var d=s.length-o.length;if(Array.isArray(r)&&d>0){var f=new Array(d).fill("");(c=[].concat(v(r),v(f))).raw=[].concat(v(r.raw),v(f))}else"function"===typeof r&&r.__emotion_real!==r&&(c=function(e){return r(eE({},e,{theme:GS(eE({},e,{defaultTheme:n,themeId:t}))}))});var h=w.apply(void 0,[c].concat(v(s)));return e.muiName&&(h.muiName=e.muiName),h};return w.withConfig&&(E.withConfig=w.withConfig),E}}({themeId:ST,defaultTheme:xT,rootShouldForwardProp:function(e){return US(e)&&"classes"!==e}}),AT=TT;function MT(e,t){var r=eE({},t);return Object.keys(e).forEach((function(n){if(n.toString().match(/^(components|slots)$/))r[n]=eE({},e[n],r[n]);else if(n.toString().match(/^(componentsProps|slotProps)$/)){var i=e[n]||{},o=t[n];r[n]={},o&&Object.keys(o)?i&&Object.keys(i)?(r[n]=eE({},o),Object.keys(i).forEach((function(e){r[n][e]=MT(i[e],o[e])}))):r[n]=o:r[n]=i}else void 0===r[n]&&(r[n]=e[n])})),r}function RT(e){var t=e.theme,r=e.name,n=e.props;return t&&t.components&&t.components[r]&&t.components[r].defaultProps?MT(t.components[r].defaultProps,n):n}var CT=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=r.useContext(bx);return n&&(e=n,0!==Object.keys(e).length)?n:t},IT=jS();var kT=function(){return CT(arguments.length>0&&void 0!==arguments[0]?arguments[0]:IT)};function PT(e){return function(e){var t=e.props,r=e.name,n=e.defaultTheme,i=e.themeId,o=kT(n);return i&&(o=o[i]||o),RT({theme:o,name:r,props:t})}({props:e.props,name:e.name,defaultTheme:xT,themeId:ST})}var OT="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;function jT(e){var t,r,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=jT(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}var NT=function(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=jT(e))&&(n&&(n+=" "),n+=t);return n},LT=function(e){return e},DT=function(){var e=LT;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=LT}}}(),FT={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function UT(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",n=FT[t];return n?"".concat(r,"-").concat(n):"".concat(DT.generate(e),"-").concat(t)}function BT(e){return UT("MuiMasonry",e)}!function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",n={};t.forEach((function(t){n[t]=UT(e,t,r)}))}("MuiMasonry",["root"]);var GT,zT,VT,HT,WT,ZT,qT,YT,XT,KT,QT,$T,JT,eA=["children","className","component","columns","spacing","defaultColumns","defaultHeight","defaultSpacing"],tA=function(e){return Number(e.replace("px",""))},rA={flexBasis:"100%",width:0,margin:0,padding:0},nA=function(e){return function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n={};return Object.keys(e).forEach((function(i){n[i]=e[i].reduce((function(e,n){if(n){var i=t(n);""!==i&&e.push(i),r&&r[n]&&e.push(r[n])}return e}),[]).join(" ")})),n}({root:["root"]},BT,e.classes)},iA=AT("div",{name:"MuiMasonry",slot:"Root",overridesResolver:function(e,t){return[t.root]}})((function(e){var t=e.ownerState,r=e.theme,n={width:"100%",display:"flex",flexFlow:"column wrap",alignContent:"flex-start",boxSizing:"border-box","& > *":{boxSizing:"border-box"}},i={};if(t.isSSR){for(var o={},a=tA(r.spacing(t.defaultSpacing)),s=1;s<=t.defaultColumns;s+=1)o["&:nth-of-type(".concat(t.defaultColumns,"n+").concat(s%t.defaultColumns,")")]={order:s};return i.height=t.defaultHeight,i.margin=-a/2,i["& > *"]=eE({},n["& > *"],o,{margin:a/2,width:"calc(".concat((100/t.defaultColumns).toFixed(2),"% - ").concat(a,"px)")}),eE({},n,i)}var l=Fx({values:t.spacing,breakpoints:r.breakpoints.values}),u=Jx(r);n=Cx(n,Nx({theme:r},l,(function(e){var r;if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e){var n=Number(e);r=eS(u,n)}else r=e;return eE({margin:"calc(0px - (".concat(r," / 2))"),"& > *":{margin:"calc(".concat(r," / 2)")}},t.maxColumnHeight&&{height:"number"===typeof r?Math.ceil(t.maxColumnHeight+tA(r)):"calc(".concat(t.maxColumnHeight,"px + ").concat(r,")")})})));var c=Fx({values:t.columns,breakpoints:r.breakpoints.values});return n=Cx(n,Nx({theme:r},c,(function(e){var t=Number(e),r="".concat((100/t).toFixed(2),"%"),n="string"===typeof l&&!Number.isNaN(Number(l))||"number"===typeof l?eS(u,Number(l)):"0px";return{"& > *":{width:"calc(".concat(r," - ").concat(n,")")}}}))),"object"===typeof l&&(n=Cx(n,Nx({theme:r},l,(function(e,t){if(t){var r=Number(e),n=Object.keys(c).pop(),i=eS(u,r),o="object"===typeof c?c[t]||c[n]:c,a="".concat((100/o).toFixed(2),"%");return{"& > *":{width:"calc(".concat(a," - ").concat(i,")")}}}return null})))),n})),oA=r.forwardRef((function(e,t){var n=PT({props:e,name:"MuiMasonry"}),i=n.children,o=n.className,a=n.component,s=void 0===a?"div":a,l=n.columns,u=void 0===l?4:l,c=n.spacing,d=void 0===c?1:c,f=n.defaultColumns,h=n.defaultHeight,p=n.defaultSpacing,m=Yo(n,eA),y=r.useRef(),b=g(r.useState(),2),_=b[0],w=b[1],E=!_&&h&&void 0!==f&&void 0!==p,x=g(r.useState(E?f-1:0),2),S=x[0],T=x[1],A=eE({},n,{spacing:d,columns:u,maxColumnHeight:_,defaultColumns:f,defaultHeight:h,defaultSpacing:p,isSSR:E}),M=nA(A),R=function(e){if(y.current&&e&&0!==e.length){var t=y.current,r=y.current.firstChild,n=t.clientWidth,i=r.clientWidth;if(0!==n&&0!==i){var o=window.getComputedStyle(r),a=tA(o.marginLeft),s=tA(o.marginRight),l=Math.round(n/(i+a+s)),u=new Array(l).fill(0),c=!1;t.childNodes.forEach((function(e){if(e.nodeType===Node.ELEMENT_NODE&&"line-break"!==e.dataset.class&&!c){var t=window.getComputedStyle(e),r=tA(t.marginTop),n=tA(t.marginBottom),i=tA(t.height)?Math.ceil(tA(t.height))+r+n:0;if(0!==i){for(var o=0;o<e.childNodes.length;o+=1){var a=e.childNodes[o];if("IMG"===a.tagName&&0===a.clientHeight){c=!0;break}}if(!c){var s=u.indexOf(Math.min.apply(Math,v(u)));u[s]+=i;var l=s+1;e.style.order=l}}else c=!0}})),c||tE.flushSync((function(){w(Math.max.apply(Math,v(u))),T(l>0?l-1:0)}))}}};OT((function(){if("undefined"!==typeof ResizeObserver){var e,t=new ResizeObserver((function(){e=requestAnimationFrame(R)}));return y.current&&y.current.childNodes.forEach((function(e){t.observe(e)})),function(){e&&window.cancelAnimationFrame(e),t&&t.disconnect()}}}),[u,d,i]);var C=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.useMemo((function(){return t.every((function(e){return null==e}))?null:function(e){t.forEach((function(t){!function(e,t){"function"===typeof e?e(t):e&&(e.current=t)}(t,e)}))}}),t)}(t,y),I=new Array(S).fill("").map((function(e,t){return(0,ta.jsx)("span",{"data-class":"line-break",style:eE({},rA,{order:t+1})},t)}));return(0,ta.jsxs)(iA,eE({as:s,className:NT(M.root,o),ref:C,ownerState:A},m,{children:[i,I]}))})),aA=oA,sA=function(e){var t,r,n=e.sidebarRef,i=e.rosterRef;return{draw:function(e){t=Ds.createUpdated(t,n,Bo.desktop.workIndex.listPadding.value),r=Ds.createUpdated(r,i,Bo.desktop.workIndex.thumbnailPadding.value),Qi(e,(function(){t&&r&&(t.rectAround(e),r.rectAround(e),Ki(e),e.line.apply(e,v(t.topRight).concat(v(r.topLeft))),e.line.apply(e,v(t.botRight).concat(v(r.botLeft))))}))}}},lA=Vn.div(GT||(GT=a(["\n  width: ",";\n  height: fit-content;\n\n  position: relative;\n  left: ",";\n\n  overflow: visible;\n  z-index: 2;\n\n  > div {\n    margin: ",";\n    width: calc(100% - "," * 2);\n  }\n"])),Uo.desktop.mainContainer.width.css,Uo.desktop.mainContainer.left.css,Uo.desktop.mainContainer.margin.css,Uo.desktop.mainContainer.margin.css),uA=Vn(oa)(zT||(zT=a(["\n  ","\n  display: inline;\n  line-height: ",";\n  letter-spacing: -0.005em;\n"])),Ho.noSelect(),Pi.text),cA=vi(1.5),dA=Vn.li(VT||(VT=a(["\n  font-size: ",";\n  color: ",";\n  position: relative;\n  left: ",";\n  text-indent: -",";\n"])),Fi.desktop.workIndex.mono.css,(function(e){return e.$isHighlighted?li.activeElem:li.workIndex}),cA,cA),fA=Vn.span(HT||(HT=a(["\n  margin: 0 0.4em;\n"]))),hA=Vn.h3(WT||(WT=a(["\n  font-size: ",";\n  display: inline;\n"])),Fi.desktop.workIndex.sans.css),pA=function(e){var t=e.data,r=e.isHighlighted,n=e.highlightedRef,i=e.handleHover,o=t.title,a=t.abbr,s=t.tags,l=t.id,u=Ee();return(0,ta.jsx)(dA,{$isHighlighted:r,children:(0,ta.jsxs)(uA,{to:"".concat(u.pathname,"/").concat(l),ref:r?n:null,onMouseOver:function(){return i(o)},children:[(0,ta.jsx)(hA,{children:null!==a&&void 0!==a?a:o}),(0,ta.jsx)(fA,{children:"\u25cf"}),(0,ta.jsx)("p",{children:s.join("\u2009+\u2009")})]})})},mA=Vn(Xs)(ZT||(ZT=a(["\n  ","\n  position: relative;\n"])),Ho.innerMargin(Uo.desktop.workIndex.innerMargin.css)),gA=function(e){var t=e.highlighted,r=e.sidebarRef,n=e.handleHover;return(0,ta.jsx)(ta.Fragment,{children:(0,ta.jsx)(mA,{as:"ul",children:ai(Zn.Desktop).map((function(e){return e.listed&&(0,ta.jsx)(pA,{data:e,isHighlighted:t===e.title,highlightedRef:r,handleHover:n},e.title)}))})})},yA=Vn(oa)(qT||(qT=a(["\n  display: block;\n  img, video {\n    width: 100%;\n  }\n"]))),vA=function(e){var t=e.data,r=e.isHighlighted,n=e.highlightedRef,i=e.handleHover,o=t.title,a=t.id,s=t.animatedThumbnail,l=Ae().preloadManager,u=l.findThumbnail(a);if(!u)throw ns("Thumbnail");return(0,ta.jsx)(yA,{to:a,ref:r?n:null,onMouseOver:function(){return i(o)},children:(0,ta.jsx)(Ss,d(d({},s?{canAutoPlay:!1!==l.imgPreloaded}:{}),{},{stackData:u,type:s?wa.Video:wa.Image}))})},bA=Vn(lA)(YT||(YT=a(["\n  a {\n    width: ",";\n    margin: ",";\n  }\n"])),(function(e){var t=e.$columns;return"calc(100% / ".concat(t," - ").concat(Uo.desktop.workIndex.thumbnail.gap.css," * 2)")}),Uo.desktop.workIndex.thumbnail.gap.css),_A=function(){var e=g((0,r.useState)(),2),t=e[0],n=e[1],i=(0,r.useRef)(null),o=(0,r.useRef)(null),a=function(e){return n(e)},s=xu((function(){return sA({sidebarRef:i,rosterRef:o})}));iv(s,(function(e){return e.defaultPreload()})),Cw((0,ta.jsx)(gA,{highlighted:t,sidebarRef:i,handleHover:a}),[t]);var l=ha(Bi.xl)?3:2;return(0,ta.jsx)(bA,{$columns:l,children:(0,ta.jsx)(r.Suspense,{children:(0,ta.jsx)(aA,{columns:l,children:ai(Zn.Desktop).map((function(e){return e.listed&&(0,ta.jsx)(vA,{data:e,isHighlighted:t===e.title,highlightedRef:o,handleHover:a},e.title)}))})})})},wA=function(e){var t,r,n=e.toolTipRef,i=e.popUpRef;return{draw:function(e){t=Ds.createUpdated(t,n,Bo.desktop.toolTip.padding.value),r=Ds.createUpdated(r,i),Qi(e,(function(){if(t&&r){t.rectAround(e),r.rectAround(e);var n=g(ii(t,r),4),i=n[0],o=n[1],a=n[2],s=n[3];Ki(e),e.line.apply(e,v(i).concat(v(o))),e.line.apply(e,v(a).concat(v(s)))}}))}}},EA=lb,xA=function(e){var t=e.title,r=e.id,n=e.date,i=e.tags,o=e.medium;return(0,ta.jsxs)("div",{children:[(0,ta.jsx)(TA,{children:t}),(0,ta.jsxs)(AA,{children:[(0,ta.jsx)("p",{children:n}),(0,ta.jsx)("p",{children:qn(i.join("/").toLocaleLowerCase())}),(0,ta.jsx)("p",{children:qn(o.join(", ").toLocaleLowerCase())})]}),(0,ta.jsx)(Xs,{children:ca(EA[r])})]})},SA=Vn.div(XT||(XT=a(["\n  ","\n"])),Ho.innerMargin(Uo.desktop.workPage.media.gap.css)),TA=Vn.h1(KT||(KT=a(["\n  margin-bottom: 1em;\n"]))),AA=Vn.div(QT||(QT=a(["\n  font-size: ",";\n  line-height: ",";\n  margin-bottom: ",";\n  font-weight: ",";\n\n  :first-child{\n    ",";\n  }\n"])),Fi.desktop.workPage.details.css,Pi.text,Uo.desktop.text.innerMargin.css,Ci,Ho.fontVar({MONO:1})),MA=function(e){var t=e.data,n=e.Content,i=t.id,o=(0,r.useRef)(null),a=(0,r.useRef)(null),s=xu((function(){return wA({toolTipRef:o,popUpRef:a})}));return iv(s,(function(e){console.log(performance.now()/1e3),e.pagePreload(i)}),[t]),Cw((0,ta.jsx)(xA,d({},t))),(0,ta.jsx)(Oa.Provider,{value:{toolTipRef:o,popUpRef:a,pageId:i},children:(0,ta.jsx)(lA,{children:(0,ta.jsx)(SA,{children:(0,ta.jsx)(n,{})})})})},RA=function(e){var t=e.mediaSettings;return(0,ta.jsx)(Ve,{children:(0,ta.jsxs)(Ge,{path:"/",element:(0,ta.jsx)(Sw,{mediaSettings:t}),children:[(0,ta.jsxs)(Ge,{path:"",element:(0,ta.jsx)(Rw,{}),children:[(0,ta.jsx)(Ge,{index:!0,element:(0,ta.jsx)(Pw,{})}),(0,ta.jsx)(Ge,{path:ga.Contact,element:(0,ta.jsx)(Qw,{})}),(0,ta.jsx)(Ge,{path:ga.Process,element:(0,ta.jsx)(Jw,{})})]}),(0,ta.jsxs)(Ge,{path:ga.Work,children:[(0,ta.jsx)(Ge,{path:"",element:(0,ta.jsx)(_A,{})}),Hn.map((function(e){return e.enabled&&(0,ta.jsx)(Ge,{path:e.id,element:(0,ta.jsx)(MA,{data:e,Content:q_[e.id]})},e.id)}))]}),(0,ta.jsx)(Ge,{path:"*",element:(0,ta.jsx)(Ue,{to:"/",replace:!0})})]})})},CA=n(416),IA=n.n(CA),kA=JSON.parse('{"thumbnails":[["acogito.webm",[1000,1000]],["architecture.webp",[1200,1500]],["dm2020.webp",[1000,833]],["game-studies.webm",[2880,1964]],["i-voted.webp",[1200,800]],["memory-of-memories.webp",[1200,789]],["object-bulb.webp",[1974,2302]],["roll.webp",[1200,1412]],["spin.webp",[1200,1200]],["stroke.webp",[1200,1000]],["systemized-creativity.webp",[1200,944]],["the-poor-image.webp",[1000,833]],["thrasher-reconstructed.webp",[1000,1000]],["vector-string.webm",[1276,900]],["vector-struct.webm",[900,900]]],"work":{"acogito":[["1.webp",[2400,1712]],["2.webp",[1600,1800]],["3.webp",[2400,1800]],["4.webp",[4310,5267]],["5.webp",[1600,1200]],["6.webp",[1600,1200]],["7.webp",[1600,1200]],["8.webp",[1600,1200]],["9.webp",[1403,1052]],["10.webp",[1250,1750]],["11.webp",[2500,1750]],["12.webp",[2250,1800]],["13.webp",[2207,1766]],["14.webp",[2250,1800]],["15.webp",[6000,3496]],["16.webp",[2000,2000]],["17.webp",[2000,2000]],["18.webp",[2000,2000]],["19.webp",[2000,2000]],["20.webp",[2499,2000]],["21.webp",[3562,1800]],["22.webp",[10000,2750]],["23.webp",[10000,2750]],["24.webp",[10000,2750]],["25.webp",[10000,2750]],["26.webp",[10000,2750]],["toolTips/1.gif",[800,800]],["transparencies/1.webp",[2670,1800]],["transparencies/2.webp",[2700,1800]],["transparencies/3.webp",[2478,1800]],["transparencies/4.webp",[2700,1800]],["transparencies/5.webp",[2521,1800]],["transparencies/6.webp",[2700,1800]],["transparencies/7.webp",[2453,1800]],["transparencies/8.webp",[2700,1800]],["transparencies/9.webp",[2618,1800]]],"architecture":[["1.webp",[1600,2473]],["2.webp",[1600,2473]],["3.webp",[1600,2473]],["toolTips/1.webp",[1007,896]],["toolTips/2.webp",[1000,888]],["toolTips/3.webp",[4679,2535]],["toolTips/4.webp",[4837,2619]]],"dm2020":[["1.webp",[2560,1600]],["2.webp",[2560,1600]],["3.webp",[2560,1600]],["4.webp",[2560,1600]],["5.webp",[2560,1600]],["6.webp",[2560,1600]],["7.webp",[2560,1600]]],"i-voted":[["1.webp",[3413,1600]],["2.webp",[2667,1066]],["3.webp",[2667,1066]],["4.webp",[5000,3000]],["5.webp",[8333,5000]],["6.webp",[7167,3558]],["stickers/1.webp",[2550,1201]],["stickers/2.webp",[2551,1201]],["stickers/3.webp",[2550,1200]],["stickers/4.webp",[2550,1201]],["stickers/5.webp",[2551,1201]],["stickers/6.webp",[2551,1200]],["stickers/7.webp",[2550,1200]],["stickers/8.webp",[2551,1200]],["stickers/9.webp",[2550,1201]],["stickers/10.webp",[2551,1201]],["stickers/11.webp",[2551,1201]],["stickers/12.webp",[2550,1201]],["stickers/13.webp",[2550,1201]],["stickers/14.webp",[2551,1201]],["stickers/15.webp",[2551,1201]],["stickers/16.webp",[2550,1201]]],"memory-of-memories":[["1.webp",[2571,1800]],["2.webp",[2572,2000]],["3.webp",[2572,2000]],["4.webp",[2571,1800]],["5.webp",[2571,1800]],["6.webp",[2571,1800]],["7.webp",[2571,1800]],["8.webp",[2571,1800]],["9.webp",[2571,1800]],["10.webp",[2571,1800]],["11.webp",[2571,1800]],["12.webp",[2571,1800]],["13.webp",[2572,1800]],["14.webp",[2572,1800]],["15.webp",[2525,1768]],["16.webp",[2525,1768]]],"object-bulb":[["1.webp",[1800,2160]],["2.webp",[1800,2160]],["3.webp",[1600,2400]],["4.webp",[1608,2413]],["5.webp",[1600,2399]],["6.webp",[1600,2400]],["7.webp",[1600,2400]],["8.webp",[1800,1800]],["9.webp",[1800,1800]],["10.webp",[3497,3497]],["11.webp",[1800,1800]],["spray-paint/1.webp",[1600,1600]],["spray-paint/2.webp",[1600,1600]],["spray-paint/3.webp",[1600,1600]],["spray-paint/4.webp",[1600,1920]],["spray-paint/5.webp",[1600,1920]],["spray-paint/6.webp",[1800,2161]],["spray-paint/7.webp",[1600,2132]],["spray-paint/8.webp",[1600,2133]],["spray-paint/9.webp",[1600,2133]]],"roll":[["scans/1.webp",[2000,2000]],["scans/2.webp",[2000,2000]],["scans/3.webp",[2000,2000]],["scans/4.webp",[2000,2000]],["scans/5.webp",[2000,2000]],["scans/6.webp",[2000,2000]],["scans/7.webp",[2000,2000]],["scans/8.webp",[2000,2000]]],"spin":[["1.webp",[1800,1800]],["2.webp",[2158,1769]],["3.webp",[1680,1800]],["1.webm",[540,1080]],["2.webm",[924,1980]],["toolTips/1.webp",[1800,1800]],["toolTips/2.webp",[4508,4509]],["toolTips/3.webp",[2700,2000]],["outputs/1.webp",[1556,2000]],["outputs/2.webp",[1556,2000]],["outputs/3.webp",[1556,2000]],["outputs/4.webp",[1556,2000]],["outputs/5.webp",[1556,2000]],["outputs/6.webp",[1556,2000]],["outputs/7.webp",[1556,2000]],["outputs/8.webp",[1556,2000]],["outputs/9.webp",[1556,2000]],["outputs/10.webp",[1556,2000]],["outputs/11.webp",[1556,2000]],["outputs/12.webp",[1556,2000]],["outputs/13.webp",[1556,2000]],["outputs/14.webp",[1556,2000]],["outputs/15.webp",[1556,2000]],["outputs/16.webp",[1556,2000]]],"stroke":[["1.webp",[2330,1274]],["2.webp",[2400,2200]],["3.webp",[2400,2200]],["4.webp",[2400,2200]],["1.webm",[1400,900]],["2.webm",[1400,900]],["outputs/1.webp",[2000,1875]],["outputs/2.webp",[2000,1875]],["outputs/3.webp",[2000,1875]],["outputs/4.webp",[2000,1875]],["outputs/5.webp",[2000,1875]],["outputs/6.webp",[2000,1875]],["outputs/7.webp",[2000,1875]],["outputs/8.webp",[2000,1875]],["outputs/9.webp",[2000,1875]],["outputs/10.webp",[2000,1875]],["outputs/11.webp",[2000,1875]],["outputs/12.webp",[2000,1875]],["hover/1.webp",[2000,2000]],["hover/2.webp",[2000,2000]],["hover/3.webp",[2000,2000]],["hover/4.webp",[2000,2000]],["hover/5.webp",[2000,2000]],["hover/6.webp",[2000,2000]]],"systemized-creativity":[["1.webp",[2300,1800]],["2.webp",[1534,1800]],["3.webp",[2300,1800]],["4.webp",[2300,1800]],["5.webp",[2300,1800]],["6.webp",[2300,1800]],["7.webp",[2300,1800]],["8.webp",[3100,1800]]],"the-poor-image":[["1.webp",[3341,1600]],["1.webm",[2114,1000]],["screenshots/1.webp",[2250,1800]],["screenshots/2.webp",[2250,1800]],["screenshots/3.webp",[2250,1800]],["screenshots/4.webp",[2250,1800]],["screenshots/5.webp",[2250,1800]],["screenshots/6.webp",[2250,1800]]],"thrasher-reconstructed":[["1.webp",[1800,1800]],["2.webp",[1800,1800]],["3.webp",[1800,1800]],["4.webp",[1800,1800]],["5.webp",[1800,1800]],["6.webp",[1800,1800]],["7.webp",[1800,1800]],["8.webp",[1800,1800]],["9.webp",[1800,1800]],["10.webp",[1800,1800]],["1.webm",[1800,1800]],["2.webm",[1800,1800]],["3.webm",[1800,1800]]],"vector-spin-stroke":[["1.webp",[2700,2000]],["2.webp",[2400,2000]],["3.webp",[1600,2000]],["4.webp",[4000,1800]],["5.webp",[3000,2000]],["6.webp",[2455,1636]],["7.webp",[3000,1000]],["8.webp",[3100,1800]],["9.webp",[2000,2400]],["10.webp",[3000,2400]],["11.webp",[3587,2000]],["1.webm",[3000,2000]]],"vector-string":[["1.webp",[3600,1800]],["2.webp",[1800,1800]],["3.webp",[1800,1800]],["4.webp",[1800,1800]],["5.webp",[1800,1800]],["6.webp",[1800,1800]],["7.webp",[1800,1800]],["8.webp",[2842,1706]],["9.webp",[2400,1800]],["10.webp",[2400,1800]],["11.webp",[2400,1800]],["12.webp",[2400,1800]],["13.webp",[2842,1706]],["14.webp",[2400,1800]],["15.webp",[2400,1800]],["16.webp",[2400,1800]],["17.webp",[2400,1800]],["18.webp",[2800,1600]],["translate/1.webp",[2382,1588]],["translate/2.webp",[2382,1588]],["translate/3.webp",[2382,1588]],["translate/4.webp",[2382,1588]],["translate/5.webp",[2382,1588]],["translate/6.webp",[2382,1588]],["translate/7.webp",[2382,1588]],["translate/8.webp",[2382,1588]],["translate/9.webp",[2382,1588]],["translate/10.webp",[2382,1588]],["translate/11.webp",[2382,1588]],["translate/12.webp",[2382,1588]],["translate/13.webp",[2382,1588]],["translate/14.webp",[2382,1588]],["translate/15.webp",[2382,1588]],["translate/16.webp",[2382,1588]],["translate/17.webp",[2382,1588]],["translate/18.webp",[2382,1588]],["translate/19.webp",[2382,1588]],["translate/20.webp",[2382,1588]]],"vector-struct":[["1.webp",[2102,2102]],["2.webp",[2000,2000]],["3.webp",[3206,2000]],["4.webp",[2968,2000]],["5.webp",[1801,1800]],["6.webp",[1801,1800]],["7.webp",[1801,1801]],["8.webp",[1801,1801]],["1.webm",[1200,900]],["2.webm",[1200,1200]],["3.webm",[1200,1200]],["4.webm",[1200,1200]],["5.webm",[1200,1200]],["6.webm",[1200,1200]],["7.webm",[1200,1200]],["8.webm",[1200,1200]],["9.webm",[1200,1200]],["v/1.webp",[1500,1500]],["v/2.webp",[1500,1500]],["v/3.webp",[1500,1500]],["v/4.webp",[1500,1500]],["v/5.webp",[1500,1500]],["v/6.webp",[1500,1500]],["v/7.webp",[1500,1500]],["v/8.webp",[1500,1500]],["v/9.webp",[1500,1500]],["e/1.webp",[1500,1500]],["e/2.webp",[1500,1500]],["e/3.webp",[1500,1500]],["e/4.webp",[1500,1500]],["e/5.webp",[1500,1500]],["e/6.webp",[1500,1500]],["e/7.webp",[1500,1500]],["e/8.webp",[1500,1500]],["e/9.webp",[1500,1500]],["c/1.webp",[1500,1500]],["c/2.webp",[1500,1500]],["c/3.webp",[1500,1500]],["c/4.webp",[1500,1500]],["c/5.webp",[1500,1500]],["c/6.webp",[1500,1500]],["c/7.webp",[1500,1500]],["c/8.webp",[1500,1500]],["c/9.webp",[1500,1500]],["t/1.webp",[1500,1500]],["t/2.webp",[1500,1500]],["t/3.webp",[1500,1500]],["t/4.webp",[1500,1500]],["t/5.webp",[1500,1500]],["t/6.webp",[1500,1500]],["t/7.webp",[1500,1500]],["t/8.webp",[1500,1500]],["t/9.webp",[1500,1500]],["o/1.webp",[1500,1500]],["o/2.webp",[1500,1500]],["o/3.webp",[1500,1500]],["o/4.webp",[1500,1500]],["o/5.webp",[1500,1500]],["o/6.webp",[1500,1500]],["o/7.webp",[1500,1500]],["o/8.webp",[1500,1500]],["o/9.webp",[1500,1500]],["r/1.webp",[1500,1500]],["r/2.webp",[1500,1500]],["r/3.webp",[1500,1500]],["r/4.webp",[1500,1500]],["r/5.webp",[1500,1500]],["r/6.webp",[1500,1500]],["r/7.webp",[1500,1500]],["r/8.webp",[1500,1500]],["r/9.webp",[1500,1500]],["g/1.webp",[1500,1500]],["g/2.webp",[1500,1500]],["g/3.webp",[1500,1500]],["g/4.webp",[1500,1500]],["g/5.webp",[1500,1500]],["g/6.webp",[1500,1500]],["s/1.webp",[1500,1500]],["s/2.webp",[1500,1500]],["s/3.webp",[1500,1500]],["s/4.webp",[1500,1500]],["s/5.webp",[1500,1500]],["s/6.webp",[1500,1500]]],"game-studies":[["1.webm",[2880,1964]],["1.webp",[3600,2400]],["2.webp",[3600,2400]],["3.webp",[3600,2400]],["4.webp",[3600,2400]],["5.webp",[3150,4950]],["toolTips/1.webp",[1050,600]]]}}'),PA=JSON.parse('{"thumbnails":[["acogito.mp4",[1200,1000]],["architecture.webp",[1000,880]],["dm2020.webp",[2400,1800]],["game-studies.mp4",[2880,1964]],["i-voted.webp",[1200,800]],["memory-of-memories.webp",[1200,789]],["object-bulb.webp",[2880,2309]],["roll.webp",[1472,994]],["spin.webp",[1215,656]],["stroke.webp",[1139,764]],["systemized-creativity.webp",[1188,891]],["the-poor-image.webp",[1000,681]],["thrasher-reconstructed.webp",[1000,716]],["vector-string.mp4",[1800,1200]],["vector-struct.mp4",[1500,900]]],"work":{"acogito":[["1.webp",[2250,1800]],["2.webp",[1600,1800]],["3.webp",[2400,1800]],["4.webp",[4310,5267]],["5.webp",[1250,1750]],["6.webp",[2500,1750]],["7.webp",[2207,1766]],["8.webp",[2250,1800]],["9.webp",[5568,4455]],["10.webp",[6000,3496]],["11.webp",[2000,2000]],["12.webp",[2000,2000]],["13.webp",[2000,2000]],["14.webp",[2000,2000]],["15.webp",[2499,2000]],["16.webp",[2670,1800]],["17.webp",[2700,1800]],["18.webp",[2478,1800]],["19.webp",[2700,1800]],["20.webp",[2521,1800]],["21.webp",[2700,1800]],["22.webp",[2453,1800]],["23.webp",[2700,1800]],["24.webp",[3562,1800]],["1.mp4",[1600,1200]],["2.mp4",[1400,1200]]],"architecture":[["1.webp",[1600,2473]],["2.webp",[1600,2473]],["3.webp",[1600,2473]]],"dm2020":[["1.webp",[2560,1600]],["2.webp",[2560,1600]],["3.webp",[2560,1600]],["4.webp",[2560,1600]],["5.webp",[2560,1600]],["6.webp",[2560,1600]],["7.webp",[2560,1600]]],"i-voted":[["1.webp",[2300,1600]],["2.webp",[1792,716]],["3.webp",[1792,716]],["4.webp",[5000,3000]],["5.webp",[8333,5000]],["6.webp",[1792,890]],["stickers/1.webp",[2550,1201]],["stickers/2.webp",[2551,1201]],["stickers/3.webp",[2550,1200]],["stickers/4.webp",[2550,1201]],["stickers/5.webp",[2551,1201]],["stickers/6.webp",[2551,1200]],["stickers/7.webp",[2551,1201]],["stickers/8.webp",[2551,1201]],["stickers/9.webp",[2550,1201]],["stickers/10.webp",[2550,1201]],["stickers/11.webp",[2551,1201]],["stickers/12.webp",[2550,1201]],["stickers/13.webp",[2551,1201]],["stickers/14.webp",[2550,1200]],["stickers/15.webp",[2551,1200]],["stickers/16.webp",[2550,1201]]],"memory-of-memories":[["1.webp",[2571,1800]],["2.webp",[2572,2000]],["3.webp",[2572,2000]],["4.webp",[2571,1800]],["5.webp",[2571,1800]],["6.webp",[2571,1800]],["7.webp",[2571,1800]],["8.webp",[2571,1800]],["9.webp",[2571,1800]],["10.webp",[2571,1800]],["11.webp",[2571,1800]],["12.webp",[2571,1800]],["13.webp",[2572,1800]],["14.webp",[2572,1800]],["15.webp",[2525,1768]],["16.webp",[2525,1768]]],"object-bulb":[["1.webp",[1800,2160]],["2.webp",[1800,2160]],["3.webp",[1608,2413]],["4.webp",[1600,2400]],["5.webp",[1600,2400]],["6.webp",[1600,2400]],["7.webp",[1800,1800]],["8.webp",[1800,1800]],["9.webp",[3497,3497]],["10.webp",[1800,1800]],["spray-paint/1.webp",[1600,1600]],["spray-paint/2.webp",[1600,1600]],["spray-paint/3.webp",[1600,1920]],["spray-paint/4.webp",[1800,2161]],["spray-paint/5.webp",[1600,1600]],["spray-paint/6.webp",[1600,2133]]],"roll":[["1.webp",[2000,1450]],["2.webp",[2000,1450]],["3.webp",[2000,1450]],["4.webp",[2000,1450]],["5.webp",[2000,1450]],["6.webp",[2000,1450]],["7.webp",[2000,1450]],["8.webp",[2000,1450]]],"spin":[["1.webp",[1800,1800]],["2.webp",[1800,1800]],["3.webp",[1680,1800]],["1.mp4",[900,1080]],["2.mp4",[924,1980]],["outputs/1.webp",[1556,2000]],["outputs/2.webp",[1556,2000]],["outputs/3.webp",[1556,2000]],["outputs/4.webp",[1556,2000]],["outputs/5.webp",[1556,2000]],["outputs/6.webp",[1556,2000]],["outputs/7.webp",[1556,2000]],["outputs/8.webp",[1556,2000]],["outputs/9.webp",[1556,2000]],["outputs/10.webp",[1556,2000]],["outputs/11.webp",[1556,2000]],["outputs/12.webp",[1556,2000]]],"stroke":[["1.webp",[2330,1274]],["2.webp",[2400,2000]],["3.webp",[2400,2200]],["1.mp4",[1400,900]],["2.mp4",[2000,1200]],["outputs/1.webp",[2000,1875]],["outputs/2.webp",[2000,1875]],["outputs/3.webp",[2000,1875]],["outputs/4.webp",[2000,1875]],["outputs/5.webp",[2000,1875]],["outputs/6.webp",[2000,1875]],["outputs/7.webp",[2000,1875]],["outputs/8.webp",[2000,1875]],["outputs/9.webp",[2000,1875]],["outputs/10.webp",[2000,1875]]],"systemized-creativity":[["1.webp",[2300,1800]],["2.webp",[2300,1800]],["3.webp",[2300,1800]],["4.webp",[2300,1800]],["5.webp",[2300,1800]],["6.webp",[3100,1800]]],"the-poor-image":[["1.mp4",[1400,1000]],["1.webp",[2399,1600]],["2.webp",[2250,1800]],["3.webp",[2250,1800]],["4.webp",[2250,1800]],["5.webp",[2250,1800]],["6.webp",[2250,1800]],["7.webp",[2250,1800]]],"thrasher-reconstructed":[["1.mp4",[1800,1800]],["1.webp",[1800,1800]],["10.webp",[1800,1800]],["2.mp4",[1800,1800]],["2.webp",[1800,1800]],["3.mp4",[1800,1800]],["3.webp",[1800,1800]],["4.webp",[1800,1800]],["5.webp",[1800,1800]],["6.webp",[1800,1800]],["7.webp",[1800,1800]],["8.webp",[1800,1800]],["9.webp",[1800,1800]]],"vector-spin-stroke":[["1.webp",[2400,2000]],["2.webp",[2400,2000]],["3.webp",[3000,1000]],["4.webp",[3800,1800]],["5.webp",[3000,2000]],["6.webp",[2455,1636]],["7.webp",[3100,1800]],["8.webp",[2000,2400]],["9.webp",[3000,2400]],["10.webp",[3587,2000]],["1.mp4",[3000,2000]]],"vector-string":[["1.webp",[2700,1800]],["2.webp",[1800,1800]],["3.webp",[1800,1800]],["4.webp",[1800,1800]],["5.webp",[1800,1800]],["6.webp",[1800,1800]],["7.webp",[1800,1800]],["8.webp",[2842,1706]],["9.webp",[2200,1800]],["10.webp",[2200,1800]],["11.webp",[2200,1800]],["12.webp",[2200,1800]],["13.webp",[2842,1706]],["14.webp",[2200,1800]],["15.webp",[2200,1800]],["16.webp",[2200,1800]],["17.webp",[2200,1800]],["18.webp",[1650,1650]],["translate/1.webp",[2382,1588]],["translate/2.webp",[2382,1588]],["translate/3.webp",[2382,1588]],["translate/4.webp",[2382,1588]],["translate/5.webp",[2382,1588]],["translate/6.webp",[2382,1588]],["translate/7.webp",[2382,1588]],["translate/8.webp",[2382,1588]],["translate/9.webp",[2382,1588]],["translate/10.webp",[2382,1588]],["translate/11.webp",[2382,1588]],["translate/12.webp",[2382,1588]],["translate/13.webp",[2382,1588]],["translate/14.webp",[2382,1588]],["translate/15.webp",[2382,1588]],["translate/16.webp",[2382,1588]],["translate/17.webp",[2382,1588]],["translate/18.webp",[2382,1588]],["translate/19.webp",[2382,1588]],["translate/20.webp",[2382,1588]]],"vector-struct":[["1.webp",[2102,2102]],["2.webp",[2800,2000]],["3.webp",[2968,2000]],["4.webp",[1801,1801]],["5.webp",[1801,1801]],["6.webp",[1801,1801]],["7.webp",[1801,1801]],["1.mp4",[1200,900]],["2.mp4",[1200,1200]],["3.mp4",[1200,1200]],["4.mp4",[1200,1200]],["5.mp4",[1200,1200]],["6.mp4",[1200,1200]],["7.mp4",[1200,1200]],["8.mp4",[1200,1200]],["9.mp4",[1200,1200]],["v/1.webp",[1500,1500]],["v/2.webp",[1500,1500]],["v/3.webp",[1500,1500]],["v/4.webp",[1500,1500]],["v/5.webp",[1500,1500]],["v/6.webp",[1500,1500]],["e/1.webp",[1500,1500]],["e/2.webp",[1500,1500]],["e/3.webp",[1500,1500]],["e/4.webp",[1500,1500]],["e/5.webp",[1500,1500]],["e/6.webp",[1500,1500]],["c/1.webp",[1500,1500]],["c/2.webp",[1500,1500]],["c/3.webp",[1500,1500]],["c/4.webp",[1500,1500]],["c/5.webp",[1500,1500]],["c/6.webp",[1500,1500]],["t/1.webp",[1500,1500]],["t/2.webp",[1500,1500]],["t/3.webp",[1500,1500]],["t/4.webp",[1500,1500]],["t/5.webp",[1500,1500]],["t/6.webp",[1500,1500]],["o/1.webp",[1500,1500]],["o/2.webp",[1500,1500]],["o/3.webp",[1500,1500]],["o/4.webp",[1500,1500]],["o/5.webp",[1500,1500]],["o/6.webp",[1500,1500]],["r/1.webp",[1500,1500]],["r/2.webp",[1500,1500]],["r/3.webp",[1500,1500]],["r/4.webp",[1500,1500]],["r/5.webp",[1500,1500]],["r/6.webp",[1500,1500]],["g/1.webp",[1500,1500]],["g/2.webp",[1500,1500]],["g/3.webp",[1500,1500]],["g/4.webp",[1500,1500]],["g/5.webp",[1500,1500]],["g/6.webp",[1500,1500]],["s/1.webp",[1500,1500]],["s/2.webp",[1500,1500]],["s/3.webp",[1500,1500]],["s/4.webp",[1500,1500]],["s/5.webp",[1500,1500]],["s/6.webp",[1500,1500]]],"game-studies":[["1.mp4",[2880,1964]],["1.webp",[1050,600]],["2.webp",[3600,2400]],["3.webp",[3600,2400]],["4.webp",[3600,2400]],["5.webp",[3600,2400]],["6.webp",[3150,4950]]]}}'),OA=function(e){return e.Production="production",e.Development="development",e}({}),jA=w((function e(t,r){b(this,e),this.src=void 0,this.fileType=void 0,this.isLoaded=void 0,this.src=t,this.fileType=r,this.isLoaded=!1})),NA=function(e){x(r,e);var t=M(r);function r(e){var n;return b(this,r),(n=t.call(this,e,wa.Image)).img=void 0,n.img=new Image,n}return w(r,[{key:"preload",value:function(){var e=this;if(this.isLoaded)return Promise.resolve();var t=new Promise((function(t,r){e.img.onload=function(){return t(e.isLoaded=!0)},e.img.onerror=function(){return r(e)}}));return this.img.src=this.src,t}}]),r}(jA),LA=function(e){x(r,e);var t=M(r);function r(e,n,i){var o;return b(this,r),(o=t.call(this,e,wa.Video)).config=void 0,o.loadNativeVid=void 0,o.threshold=void 0,o.loadCount=void 0,o.config=n,o.loadNativeVid=i,o.loadCount=0,o.threshold=n.isMobile?.125:.25,o}return w(r,[{key:"preload",value:function(){var e=this;return this.loadCount>=2||!this.config.canAutoPlay?Promise.resolve():this.loadNativeVid(this.src,this.threshold).then((function(){e.loadCount++,e.threshold=e.config.isMobile?.25:.5,e.isLoaded=!0}))}}]),r}(jA),DA=function(){function e(t){var r=this;b(this,e),this.listeners=void 0,this.canPlayWebm=void 0,this.filePath=void 0,this.fileName=void 0,this.fileType=void 0,this.device=void 0,this.breakpts=void 0,this.nativeDimension=void 0,this.stack=void 0,this.posters=void 0,this.fallbackPath=void 0,this.dashPath=void 0,this.dashLoaded=void 0;var n=t.fileName,i=t.filePath,o=t.fileType,a=t.device,s=t.breakpts,l=t.config,c=t.nativeDimension,f=t.loadNativeVid;this.fileName=n,this.filePath=i,this.fileType=o,this.device=a,this.nativeDimension=c,this.breakpts=s,this.posters=this.isImg?void 0:new e(d(d({},t),{},{fileName:Yn("posters",Ca(n)),fileType:wa.Image})),this.fallbackPath=Yn(this.filePath,Wi(this.device),this.fileName),this.dashPath=this.isImg?void 0:Yn(this.filePath,"dash",this.vidName,"dash.mpd"),this.canPlayWebm=l.canPlayWebm,this.dashLoaded=!1;var h,p,m=this.isImg?NA:LA;this.stack=(h=this.breakpts,p=function(e){return new m(r.getPath(e),l,f)},h.reduce((function(e,t,r){return d(d({},e),{},u({},t,p(t,e,r)))}),{})),this.listeners=[]}return w(e,[{key:"getPath",value:function(e){return Yn(this.filePath,e,Xn(!this.isImg,this.canPlayWebm?xa.Webm:xa.Mp4),this.fileName)}},{key:"vidName",get:function(){return this.isImg?null:this.fileName.replace(/\.(mp4|webm)$/,"")}},{key:"isImg",get:function(){return this.fileType===wa.Image}},{key:"preload",value:function(e){var t,r=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return Promise.resolve();if(!this.isImg&&ds.canUseDash&&!n)return"max"===e?Promise.resolve():this.preloadDash();var i=n?null===(t=this.posters)||void 0===t?void 0:t.stack:this.stack;return i?i[e].preload().then((function(){return r.onFinished()})).catch((function(e){throw console.log(r),e})):Promise.resolve()}},{key:"preloadDash",value:function(){var e=this;return this.dashLoaded?Promise.resolve():new Promise((function(t){var r=os().MediaPlayer().create(),n="bufferLevelUpdated";r.updateSettings({streaming:{cacheInitSegments:!0,buffer:{bufferTimeAtTopQuality:4,bufferTimeAtTopQualityLongForm:4,longFormContentDurationThreshold:300}}});var i=function(){var e=r.getDashMetrics().getCurrentBufferLevel("video");(e>=4||Math.abs(e-r.duration())<=.5)&&o()},o=function(){r.off(n,i),setTimeout(r.destroy,0),e.dashLoaded=!0,e.onFinished(),t()};r.on(n,i),r.initialize(document.createElement("video"),e.dashPath,!1),r.preload()}))}},{key:"onFinished",value:function(){this.listeners.forEach((function(e){return e()}))}},{key:"addLoadListener",value:function(){for(var e,t=this,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.listeners).push.apply(e,n),function(){return t.removeLoadListener.apply(t,n)}}},{key:"removeLoadListener",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];ci().pull.apply(ci(),[this.listeners].concat(t))}},{key:"loadedSizes",get:function(){var e=this;return ri(this.stack).filter((function(t){return e.stack[t].isLoaded}))}}]),e}(),FA=function(){function e(t){b(this,e),this.queueCount=void 0,this.mainQueue=void 0,this.mainQueueFunctions=void 0,this.subqueues=void 0,this.interval=void 0,this.enabled=void 0,this.isComplete=void 0,this.mediaStacks=void 0;var r=null!==t&&void 0!==t?t:{},n=r.enabled,i=r.queueInterval,o=r.queueCount;this.interval=null!==i&&void 0!==i?i:void 0,this.queueCount=null!==o&&void 0!==o?o:1,this.mainQueue=new ss(this.interval),this.mainQueueFunctions=void 0,this.subqueues=[],this.enabled=null===n||void 0===n||n,this.isComplete=!1,this.mediaStacks=[]}return w(e,[{key:"preload",value:function(e,t,r,n){var i;if(!e)return Promise.resolve(!1);null!==(i=n)&&void 0!==i||(n=function(e,t){return e.stack.fileName.localeCompare(t.stack.fileName)});var o=this.mediaStacks.filter((function(e){return(!t||e.stack.fileType===wa.Video)&&r(e)})).sort(n);return o.length?this.addToSubqueue(o.map((function(r){return function(){return r.stack.preload(e,t)}}))):Promise.resolve(!1)}},{key:"createMainQueue",value:function(e){var t=this;if(!this.enabled||this.isComplete)return Promise.resolve(!1);this.mainQueueFunctions=e;var r=this.mainQueue.create(e);return r.then((function(){return t.onFinish()})).catch(ci().noop),r}},{key:"addToSubqueue",value:function(e){var t=this;if(!e)return Promise.resolve(!1);var r=new ss(this.interval,this.queueCount);return this.subqueues.push(r),r.create(e).then((function(){return ci().pull(t.subqueues,r)})).catch(ci().noop)}},{key:"abort",value:function(){this.enabled&&(this.mainQueue.abort(),this.subqueues.forEach((function(e){return e.abort()})),this.subqueues=[])}},{key:"restart",value:function(){this.mainQueueFunctions&&(this.abort(),this.isComplete=!1,this.createMainQueue(this.mainQueueFunctions))}},{key:"onFinish",value:function(){this.isComplete=!0}}]),e}(),UA=FA,BA=(u($T={},va.Fallback,"yellow"),u($T,va.Preview,"cyan"),u($T,va.Full,"orange"),u($T,va.Max,"red"),$T),GA=function(e){return e.Thumbnail="thumbnail",e.WorkPage="workPage",e}(GA||{}),zA=function(e){return e.Default="defaultPreload",e.Page="pagePreload",e}(zA||{}),VA=function(){function e(t,r){b(this,e),this.loadNativeVid=void 0,this.breakpts=void 0,this.preloadQueuer=void 0,this.currentPreloadName=void 0,this.currentStartTime=void 0,this.logTime=void 0,this.config=void 0,this.loadLocal=void 0,this.loadFromEnv=void 0,this.imgPreloaded=void 0,this.verbosity=void 0,this.config=t,this.loadNativeVid=r,this.loadLocal=!1,this.loadFromEnv=OA.Development,this.imgPreloaded=!1,this.verbosity=Sa.Quiet,this.currentStartTime=Date.now(),this.logTime=!0,this.preloadQueuer=new UA({queueInterval:0,queueCount:3}),this.breakpts=[].concat(v(ri(di)),[ba.MobileFallback,ba.DesktopFallback,va.Max]),this.currentPreloadName=void 0,this.verbosity=Sa.Quiet,this.logTime=!1,this.loadLocal=!1,this.loadFromEnv=OA.Production,this.createThumbnailStacks(Zn.Desktop),this.createWorkPagesStacks(Zn.Desktop),this.createThumbnailStacks(Zn.Mobile),this.createWorkPagesStacks(Zn.Mobile),this.verbosity>=Sa.Normal&&(console.log("%cBreakpoint: %c".concat(Wi(this.device).toLocaleUpperCase()),"color: white;",'color: ""'),console.log("%cDevice: %c".concat(this.device),"color: white;",'color: ""'),console.log(this))}return w(e,[{key:"createThumbnailStacks",value:function(e){var t=this;(e===Zn.Desktop?kA:PA).thumbnails.map((function(r){var n,i=g(r,2),o=i[0],a=i[1],s=o.replace(/\.[^/.]+$/,""),l=null!==(n=Hn.find((function(e){return e.id===s})))&&void 0!==n?n:{},u=l.animatedThumbnail,c=l.listed,d=l.enabled;c&&d&&t.preloadQueuer.mediaStacks.push({stack:new DA({fileName:o,filePath:Yn(t.assetPath,e,"thumbnails"),fileType:u?wa.Video:wa.Image,device:e,breakpts:t.breakpts,config:t.config,nativeDimension:a,loadNativeVid:t.loadNativeVid}),device:e,category:GA.Thumbnail,mediaType:u?_a.Images:_a.Videos})}))}},{key:"createWorkPagesStacks",value:function(e){var t=this,r=(e===Zn.Desktop?kA:PA).work;ti(r,(function(r,n){n.forEach((function(n){var i=g(n,2),o=i[0],a=i[1];return t.preloadQueuer.mediaStacks.push({stack:new DA({fileName:o,filePath:Yn(t.assetPath,e,"work",r),fileType:Ra(o)?wa.Image:wa.Video,device:e,breakpts:t.breakpts,config:t.config,nativeDimension:a,loadNativeVid:t.loadNativeVid}),device:e,category:GA.WorkPage,mediaType:o.match(/^toolTips\//)?_a.ToolTips:Ra(o)?_a.Images:_a.Videos,pageId:r})}))}))}},{key:"defaultPreload",value:function(){var e=this;this.currentPreloadName=zA.Default,this.logPreload(),this.preloadQueuer.createMainQueue([this.preloadThumbnails(),this.preloadAllPages(va.Fallback),this.preloadAllPages(va.Preview),this.preloadAllPages(va.Full),this.config.isMobile?void 0:this.preloadAllPages(va.Max)]).then((function(){if(e.currentPreloadName=void 0,ds.canUseDash)return e.logFinished(!0);e.logFinished(!1),e.preloadRemainingVid()})).catch((function(){return e.logAborted()}))}},{key:"pagePreload",value:function(e){var t=this;this.currentPreloadName=zA.Page,this.logPreload();var r="current page (".concat(e,")");this.preloadQueuer.createMainQueue([this.preloadPage(va.Fallback,e),{run:this.preloadPage(va.Preview,e),callback:function(){return t.imgPreloaded=!0}},{run:this.preloadPage(va.Full,e),callback:this.logGroup(r,va.Full)},this.preloadThumbnails(),this.config.isMobile?void 0:{run:this.preloadPage(va.Max,e),callback:this.logGroup(r,va.Max)},this.preloadAllPages(va.Fallback,e),this.preloadAllPages(va.Preview,e),this.preloadAllPages(va.Full,e),this.config.isMobile?void 0:this.preloadAllPages(va.Max,e)]).then((function(){if(t.currentPreloadName=void 0,ds.canUseDash)return t.logFinished(!0);t.logFinished(!1),t.preloadRemainingVid()})).catch((function(){return t.logAborted()}))}},{key:"restart",value:function(){this.preloadQueuer.restart(),this.cleanup()}},{key:"abort",value:function(){this.preloadQueuer.abort(),this.cleanup(),this.currentPreloadName=void 0}},{key:"cleanup",value:function(){this.preloadQueuer.isComplete||(this.imgPreloaded=!1)}},{key:"preloadAllPages",value:function(e,t,r){var n=this;if(!e)return function(){return Promise.resolve(!1)};return{run:function(){return n.preloadQueuer.addToSubqueue(n.getPreloadTypes(e,r).map((function(r){return function(r){return{run:function(){return n.preloadQueuer.addToSubqueue(oi(ci().pull(n.sortedPageIds,t)).map((function(t){return n.preloadPageType(e,r,t)})))},callback:n.log(2,r,e,"*")}}(r)})))},callback:this.logGroup(t?"all other pages":"all pages",e)}}},{key:"preloadPage",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e?function(){return r.preloadQueuer.addToSubqueue(r.getPreloadTypes(e,n).map((function(n){return r.preloadPageType(e,n,t)})))}:function(){return Promise.resolve(!1)}}},{key:"preloadPageType",value:function(e,t,r){var n=this;return{run:function(){return n.preloadQueuer.preload(n.getMediaSizes(e),t===_a.Poster,(function(e){var i=e.category,o=e.pageId,a=e.mediaType,s=e.device;return i===GA.WorkPage&&o===r&&(a===t||t===_a.Poster)&&s===n.device}))},callback:this.log(3,t,e,r)}}},{key:"getPreloadTypes",value:function(e){var t=[];return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||(t.push(_a.Images),e!==va.Max&&t.push(_a.Poster),this.config.isMobile||t.push(_a.ToolTips)),this.isVidSize(e)&&t.push(_a.Videos),t}},{key:"preloadRemainingVid",value:function(){var e=this;return this.config.canAutoPlay?this.preloadQueuer.addToSubqueue([{run:function(){return e.preloadQueuer.addToSubqueue([e.preloadAllPages(va.Full,null,!0),e.preloadAllPages(va.Max,null,!0)])},callback:function(){return e.logFinished(!0)}}]):function(){return Promise.resolve(!1)}}},{key:"preloadThumbnails",value:function(){var e=this,t=function(t,r){return t===GA.Thumbnail&&r===e.device},r=function(r,n){return{run:function(){return e.preloadQueuer.preload(e.getMediaSizes(r),!1,(function(e){var r=e.stack,i=e.category,o=e.device;return r.fileType===n&&t(i,o)}))},callback:e.log(3,"thumbnail ".concat(n),r)}},n=function(r){return{run:function(){return e.preloadQueuer.preload(e.getMediaSizes(r),!0,(function(e){var r=e.category,n=e.device;return t(r,n)}))},callback:e.log(3,"thumbnail posters",r)}};return{run:function(){return e.preloadQueuer.addToSubqueue([r(va.Fallback,wa.Image),n(va.Fallback),r(va.Full,wa.Image),{run:function(){return e.preloadQueuer.addToSubqueue([n(va.Full)])},callback:function(){e.currentPreloadName===zA.Default&&(e.imgPreloaded=!0)}},r(va.Full,wa.Video)])},callback:this.logGroup("all thumbnails")}}},{key:"isVidSize",value:function(e){return e!==va.Fallback&&e!==va.Preview}},{key:"sortedPageIds",get:function(){var e=this;return Hn.sort((function(t,r){var n,i;return(null!==(n=t.order[e.device])&&void 0!==n?n:0)-(null!==(i=r.order[e.device])&&void 0!==i?i:0)})).map((function(e){return e.id}))}},{key:"device",get:function(){return this.config.isMobile?Zn.Mobile:Zn.Desktop}},{key:"assetPath",get:function(){return Xn(!this.loadLocal,"https://raw.githubusercontent.com/donaldzhu/portfolio-static-files-development/main/")+"assets"}},{key:"getMediaSizes",value:function(e){var t;return(u(t={},va.Fallback,this.config.isMobile?ba.MobileFallback:ba.DesktopFallback),u(t,va.Preview,function(e){var t=Wi(e);return t===Wn.L?Wn.S:t===Wn.Xxl?Wn.L:void 0}(this.device)),u(t,va.Full,Wi(this.device)),u(t,va.Max,va.Max),t)[e]}},{key:"log",value:function(e,t,r,n,i){var o,a,s=["".concat(IA()(t),":")],l=["color: white;"];n&&("*"===n?(o="ALL PAGES",a="text-transform: italic; color: ".concat(BA[r],";")):(o=n,a=""),s.unshift("[ ".concat(o," ] ")),l.unshift(a));return e<=this.verbosity?this.decorateLog(s,l,r,{isFullVid:i}):ci().noop}},{key:"logGroup",value:function(e,t){return this.verbosity>=1?this.decorateLog([" ".concat(e.toLocaleUpperCase()," ")],["background: ".concat(t?BA[t]:"white","; color: black; font-weight: bold;")],t,{shouldLogTime:!0}):ci().noop}},{key:"logPreload",value:function(){this.verbosity>=1&&console.log("Preloading: %c".concat(this.currentPreloadName),"color: white; font-style: italic;")}},{key:"logFinished",value:function(e){var t=this.config.canAutoPlay,r=e?"VIDEOS FULLY":"MEDIA";this.verbosity<1||(e&&!t||console.log("%c ALL ".concat(r," PRELOADED! "),"background: lime; color: black; font-weight: bold;"),!e&&t&&console.log("%cSTART FULLY PRELOADING VIDEOS...","color: gray; font-style: italic;"))}},{key:"logAborted",value:function(){this.verbosity>=1&&console.log("%cAborted %c".concat(this.currentPreloadName,"%c."),"color: gray; font-style: italic;","color: white; font-style: italic;","color: gray; font-style: italic;")}},{key:"decorateLog",value:function(e,t,r,n){var i,o=this,a=null!==n&&void 0!==n?n:{},s=a.isFullVid,l=a.shouldLogTime,u=[" ".concat(r).concat(r===va.Full?" (".concat(Wi(this.device).toLocaleUpperCase(),")"):"")," - ".concat(Xn(s,"full vid "),"preloaded!")],c=["color: ".concat(r?BA[r]:"",";"),"color: gray; font-style: italic;"];return r||(u.shift(),c.shift()),e.push.apply(e,u),(i=t).push.apply(i,c),s&&(t=t.map((function(e){return e+"font-style: italic;"}))),this.currentStartTime=Date.now(),function(r){var n;l&&o.logTime&&(e.push(" ".concat((Date.now()-o.currentStartTime)/1e3,"s")),t.push("color: white; font-style: normal;")),!1!==r&&(n=console).log.apply(n,[e.map((function(e){return"%c".concat(e)})).join("")].concat(v(t)))}}},{key:"findStack",value:function(e){return this.preloadQueuer.mediaStacks.find(e)}},{key:"findThumbnail",value:function(e){var t=this;return this.findStack((function(r){var n;return(null!==(n=r.stack.fileName.match(/^.*(?=\.)/))&&void 0!==n?n:[])[0]===e&&r.device===t.device&&r.category===GA.Thumbnail}))}},{key:"findWorkMedia",value:function(e,t){var r=this;return this.findStack((function(n){return n.stack.fileName===t&&n.pageId===e&&n.device===r.device}))}}]),e}(),HA=VA,WA=function(e){var t=g((0,r.useState)({}),2),n=t[0],i=t[1],o=function(e,t){if(n[e])return Promise.resolve();var r={};return r.promise=new Promise((function(n){return r.onProgress=function(r){var o=r.currentTarget;0!==o.buffered.length&&(o.buffered.end(0)/o.duration>=t&&(n(),i((function(t){return ci().omit(t,[e])}))))}})),i((function(t){return d(d({},t),{},u({},e,r))})),r.promise},a=(0,r.useMemo)((function(){return new HA(e,o)}),[]);return(0,r.useEffect)((function(){Object.assign(a.config,e),a.restart()}),[e.canAutoPlay,e.isMobile]),{vidLoadData:n,preloadManager:a}},ZA=Vn.main(JT||(JT=a(["\n  ","\n\n  height: fit-content;\n  min-height: 100dvh;\n\n  font-family: ",";\n  font-feature-settings: 'case';\n\n  color: ",";\n\n  > div {\n    flex: none;\n  }\n\n  header, footer, img, div {\n    user-select: none;\n    -webkit-user-select: none;\n  }\n\n  * {\n    &::selection {\n      color: ",";\n      background-color: ",";\n    }\n  }\n\n  b,\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6 {\n    font-family: ",";\n  }\n\n  h1 {\n    font-size: ",";\n  }\n\n  @media "," {\n    width: ",";\n    a:hover {\n      color: ",";\n    }\n  }\n\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6,\n  blockquote,\n  dd,\n  dt,\n  figcaption,\n  li,\n  p {\n    user-select: text;\n    -webkit-user-select: text;\n  }\n"])),Ho.flex(),Ti,li.defaultText,li.defaultTextSelectColor,li.defaultTextSelectBg,Ai,Fi.desktop.title.css,zi,Uo.desktop.app.width.css,li.activeElem),qA=function(){var e=ma(),t=fa(),r=d(d({},t),WA(d(d({},t),{},{isMobile:e})));return(0,ta.jsx)(ZA,{children:(0,ta.jsx)($e,{children:(0,ta.jsx)(Ve,{children:(0,ta.jsx)(Ge,{path:"*",element:e?(0,ta.jsx)(gb,{mediaSettings:r}):(0,ta.jsx)(RA,{mediaSettings:r})})})})})},YA=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var r=t.getCLS,n=t.getFID,i=t.getFCP,o=t.getLCP,a=t.getTTFB;r(e),n(e),i(e),o(e),a(e)}))};o.createRoot(document.getElementById("root")).render((0,ta.jsx)(r.StrictMode,{children:(0,ta.jsx)(qA,{})})),YA()}()}();
//# sourceMappingURL=main.8d52983b.js.map